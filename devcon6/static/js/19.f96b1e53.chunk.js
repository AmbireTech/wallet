(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[19],{1546:function(e,t,s){e.exports={transferButton:"Transfer_transferButton__1rMpZ",wrapper:"Transfer_wrapper__1zpDw",amountLabel:"Transfer_amountLabel__2FfXd",recipientField:"Transfer_recipientField__38BwH",recipientInput:"Transfer_recipientInput__1fRT1",dropdown:"Transfer_dropdown__1iOox",udomainsLogo:"Transfer_udomainsLogo__2kvpB",udomainsLogoActive:"Transfer_udomainsLogoActive__1yiB2",ensLogo:"Transfer_ensLogo__3Mty8",ensLogoActive:"Transfer_ensLogoActive__3lBQM",panel:"Transfer_panel__3xc_N",form:"Transfer_form__vDDvB",separator:"Transfer_separator__2LFW-",gasTankMsg:"Transfer_gasTankMsg__1e4vi",gasTankConvertMsg:"Transfer_gasTankConvertMsg__2WccI",addresses:"Transfer_addresses__1GQc2",content:"Transfer_content__2TjdS","address-list":"Transfer_address-list__10GjG",binanceAddressWarning:"Transfer_binanceAddressWarning__2UP0i"}},1547:function(e,t,s){e.exports={"addresses-button":"Addresses_addresses-button__3nLP7",wrapper:"Addresses_wrapper__2fkD9",separator:"Addresses_separator__1OSZH",item:"Addresses_item__2G0-3",details:"Addresses_details__3NAv3",address:"Addresses_address__1RlKw",button:"Addresses_button__235kc"}},1548:function(e,t,s){},1627:function(e,t,s){"use strict";s.r(t);var a=s(11),n=s(2),r=s.n(n),o=s(12),c=s(9),i=s(1546),u=s.n(i),d=s(529),l=s(47),b=s(33),m=s(3),f=s(55),p=s(21),j=s(45),v=s(86),h=s(623),g=s(216),O=s(100),y=s(1547),x=s.n(y),_=s(286),w=s(7),k=(s(1548),s(36)),A=s(217),T=s(4),N=function(e){var t=e.title,s=e.inputs,a=e.selectedNetwork,n=e.onClose,i=Object(k.f)().hideModal,u=Object(m.useState)(!0),d=Object(c.a)(u,2),b=d[0],f=d[1],p=Object(m.useState)(""),j=Object(c.a)(p,2),h=j[0],O=j[1],y=Object(m.useState)(""),x=Object(c.a)(y,2),_=x[0],N=x[1],C=Object(m.useRef)(null),S=Object(m.useMemo)((function(){return s.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{ref:Object(m.createRef)()})}))}),[s]),L=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(t,null,a.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){C.current&&clearTimeout(C.current);var e=function(){var e=Object(o.a)(r.a.mark((function e(){var t,s,a,n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.find((function(e){return"address"===e.inputType})),s=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(a=null,n=null,!t){e.next=15;break}return e.next=9,L(s);case 9:return a=e.sent,e.next=12,Object(A.b)(s);case 12:n=e.sent,C.current=null,a?O(a):n&&N(n);case 15:o=S.map((function(e){var t=e.ref,s=e.validate,r="address"===e.inputType,o=r&&a?a:r&&n?n:t.current.value;return s?s(o):!!o})).every((function(e){return!0===e})),f(!o);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C.current=setTimeout(Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},F=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(v.e,{clear:!0,small:!0,icon:Object(T.jsx)(l.h,{}),onClick:i,children:"Cancel"}),Object(T.jsx)(v.e,{small:!0,icon:Object(T.jsx)(l.f,{}),disabled:b,onClick:function(){var e=S.map((function(e){return e.ref.current.value}));h?e.push({type:"ud"}):_?e.push({type:"ens"}):e.push({type:"pub"}),n&&n(e),i()},children:"Confirm"})]});return Object(T.jsx)(v.n,{id:"input-modal",title:t,buttons:F,children:S.map((function(e){var t=e.id,s=e.label,a=e.placeholder,n=e.ref,r=e.type;return Object(T.jsxs)("div",{children:[Object(T.jsx)(v.x,{label:s,placeholder:a,onInput:M,ref:n,className:"address-input"}),"address"===r&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(v.z,{label:h?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(T.jsx)("span",{id:"udomains-logo",className:h?"ud-logo-active ":""})}),Object(T.jsx)(v.z,{label:_?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(T.jsx)("div",{id:"ens-logo",className:_?"ens-logo-active ":""})})]})]},t+s)}))})},C=function(e){var t=e.addresses,s=e.addAddress,a=e.removeAddress,n=e.onSelectAddress,r=e.selectedNetwork,o=Object(k.f)().showModal,i=[{inputType:"name",label:"Name",placeholder:"Address title"},{inputType:"address",label:"Address / Unstoppable domains\u24c7 / ENS\u24c7",placeholder:"Address / Unstoppable Domains / ENS",validate:function(e){return Object(O.b)(e)}}],u=Object(T.jsx)(N,{title:"Add New Address",selectedNetwork:r,inputs:i,onClose:function(e){var t=Object(c.a)(e,3),a=t[0],n=t[1],r=t[2];return s(a,n,r)}});return Object(T.jsxs)(v.q,{title:"Address Book",className:x.a.wrapper,children:[Object(T.jsx)(_.a,{noAccounts:!0,addresses:t,removeAddress:a,onSelectAddress:n}),Object(T.jsx)("div",{className:x.a.separator}),Object(T.jsx)(v.e,{onClick:function(){return o(u)},className:x.a["addresses-button"],children:"Add Address"})]})},S=s(57),L=s(502),M=s(515),F=s(146),U=s(761),I=s(64),D=s.n(I),R=new p.Interface(s(512)),B=["Binance","Huobi","KuCoin","Gate.io","FTX"];t.default=Object(b.withRouter)((function(e){var t,s=e.history,n=e.portfolio,i=e.selectedAcc,p=e.selectedNetwork,y=e.addRequest,x=e.addressBook,_=e.relayerURL,w=x.addresses,N=x.addAddress,I=x.removeAddress,E=x.isKnownAddress,G=Object(U.a)({relayerURL:_,selectedAcc:i,network:p,portfolio:n,useRelayerData:k.j}).feeAssetsRes,z=G&&G.length&&G.filter((function(e){return e.network===p.id&&!e.disableGasTankDeposit})),W=Object(b.useParams)().tokenAddressOrSymbol,Y=Object(j.a)().addToast,J=Object(b.useLocation)().state,P=Object(m.useState)(J||null),V=Object(c.a)(P,1)[0],H=Object(O.b)(W)?W:(null===(t=n.tokens.find((function(e){return e.symbol===W})))||void 0===t?void 0:t.address)||null,K=Object(m.useState)(H),X=Object(c.a)(K,2),q=X[0],Q=X[1],Z=Object(m.useState)(0),$=Object(c.a)(Z,2),ee=$[0],te=$[1],se=Object(m.useState)(""),ae=Object(c.a)(se,2),ne=ae[0],re=ae[1],oe=Object(m.useState)(V?F.a.feeCollector:""),ce=Object(c.a)(oe,2),ie=ce[0],ue=ce[1],de=Object(m.useState)(""),le=Object(c.a)(de,2),be=le[0],me=le[1],fe=Object(m.useState)(""),pe=Object(c.a)(fe,2),je=pe[0],ve=pe[1],he=Object(m.useState)(!0),ge=Object(c.a)(he,2),Oe=ge[0],ye=ge[1],xe=Object(m.useState)(!1),_e=Object(c.a)(xe,2),we=_e[0],ke=_e[1],Ae=Object(m.useState)(!1),Te=Object(c.a)(Ae,2),Ne=Te[0],Ce=Te[1],Se=Object(m.useState)(""),Le=Object(c.a)(Se,2),Me=Le[0],Fe=Le[1],Ue=Object(m.useState)({success:{amount:!1,address:!1},messages:{amount:"",address:""}}),Ie=Object(c.a)(Ue,2),De=Ie[0],Re=Ie[1],Be=Object(m.useState)(""),Ee=Object(c.a)(Be,2),Ge=Ee[0],ze=Ee[1],We=Object(m.useRef)(null),Ye=((null===V||void 0===V?void 0:V.isTopUp)?n.tokens.filter((function(e){return z&&(null===z||void 0===z?void 0:z.some((function(t){return t.address.toLowerCase()===e.address.toLowerCase()})))})):n.tokens).map((function(e){var t=e.label,s=e.symbol,a=e.address,n=e.img,r=e.tokenImageUrl,o=e.network;return{label:t||s,value:a,icon:n||r,fallbackIcon:Object(L.a)(o,a)}})),Je=n.tokens.find((function(e){return e.address===q})),Pe=Object(m.useMemo)((function(){if(!Je)return{maxAmount:"0",maxAmountFormatted:"0.00"};var e=Je.balanceRaw,t=Je.decimals,s=Je.balance;return{maxAmount:f.ethers.utils.formatUnits(e,t),maxAmountFormatted:Object(M.a)(s,!0,t)}}),[Je]),Ve=Pe.maxAmount,He=Pe.maxAmountFormatted,Ke=Object(m.useMemo)((function(){return!V&&0===Number(H)&&S.a.map((function(e){return e.id})).filter((function(e){return"ethereum"!==e})).includes(p.id)}),[V,H,p.id]),Xe=function(e){if(e){var t=Je.decimals,s=f.ethers.utils.parseUnits(e,t).toHexString();re(s)}te(e)};Object(m.useEffect)((function(){if(ze(""),null===V||void 0===V?void 0:V.isTopUp){var e=z&&z.find((function(e){var t,s;return(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null===Je||void 0===Je||null===(s=Je.address)||void 0===s?void 0:s.toLowerCase())}));if(null===e||void 0===e?void 0:e.baseToken){var t=z&&z.find((function(t){return t.address.toLowerCase()===e.baseToken.toLowerCase()}));ze("Token ".concat(e.symbol.toUpperCase()," will be converted to ").concat(t.symbol.toUpperCase()," without additional fees."))}}}),[z,null===V||void 0===V?void 0:V.isTopUp,Je]),Object(m.useEffect)((function(){te(0),re(""),Ce(!1)}),[q,p.id]),Object(m.useEffect)((function(){Je&&s.replace({pathname:"/wallet/transfer/".concat(0!==Number(q)?q:Je.symbol)})}),[q,s,Je]),Object(m.useEffect)((function(){var e=Object(h.d)(ee,Je);if(ie.startsWith("0x")&&-1===ie.indexOf(".")){""!==be&&me(""),""!==je&&ve("");var t=Object(h.c)(ie,i,we,E);Re({success:{amount:e.success,address:t.success},messages:{amount:e.message?e.message:"",address:t.message?t.message:""}}),ye(!t.success||!e.success||Ke&&!Ne)}else{We.current&&clearTimeout(We.current);var s=function(){var t=Object(o.a)(r.a.mark((function t(){var s,a,n,o,c,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.a)(ie,Je?Je.symbol:null,p.unstoppableDomainsChain);case 2:return s=t.sent,a=Object(A.a)(Je?Je.symbol:null),t.next=6,Object(A.b)(ie,a);case 6:n=t.sent,We.current=null,o=!!s,u="",u=(c=!!n)?n:o?s:ie,d=Object(h.c)(u,i,we,E,o,c),me(s),ve(n),Re({success:{amount:e.success,address:d.success},messages:{amount:e.message?e.message:"",address:d.message?d.message:""}}),ye(!d.success||!e.success||Ke&&!Ne);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();We.current=setTimeout(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().catch(console.error));case 1:case"end":return e.stop()}}),e)}))),300)}return function(){return clearTimeout(We.current)}}),[ie,ee,i,Je,we,Ke,Ne,E,Y,p,N,be,Oe,je]);var qe=Object(T.jsxs)("div",{className:u.a.amountLabel,children:["Available Amount: ",Object(T.jsxs)("span",{children:[He," ",null===Je||void 0===Je?void 0:Je.symbol]})]});return Object(T.jsxs)("div",{className:u.a.wrapper,style:{justifyContent:V?"center":""},children:[Object(T.jsx)(v.q,{title:"Send",className:u.a.panel,children:n.isCurrNetworkBalanceLoading?Object(T.jsx)(v.m,{}):Ye.length?Object(T.jsxs)("div",{className:u.a.form,children:[Object(T.jsx)(v.u,{searchable:!0,defaultValue:q,items:Ye.sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1})),onChange:function(e){var t=e.value;return Q(t)}}),Ge?Object(T.jsxs)("p",{className:u.a.gasTankConvertMsg,children:[Object(T.jsx)(l.U,{})," ",Ge]}):Object(T.jsx)(T.Fragment,{}),Object(T.jsx)(v.p,{label:qe,value:ee,precision:null===Je||void 0===Je?void 0:Je.decimals,onInput:Xe,button:"MAX",onButtonClick:function(){return Xe(Ve)}}),De.messages.amount&&Object(T.jsxs)("div",{className:"validation-error",children:[Object(T.jsx)(d.k,{size:12}),"\xa0",De.messages.amount]}),V?Object(T.jsxs)("p",{className:u.a.gasTankMsg,children:[Object(T.jsx)(l.U,{})," ",null===V||void 0===V?void 0:V.gasTankMsg]}):Object(T.jsxs)("div",{className:u.a.recipientField,children:[Object(T.jsx)(v.x,{placeholder:"Recipient",info:"Please double-check the recipient address, blockchain transactions are not reversible.",value:ie,onInput:ue,className:u.a.recipientInput,inputContainerClass:u.a.textInputContainer}),Object(T.jsx)(v.z,{label:je?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(T.jsx)("div",{className:D()(u.a.ensLogo,Object(a.a)({},u.a.ensLogoActive,je))})}),Object(T.jsx)(v.z,{label:be?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(T.jsx)("div",{className:D()(u.a.udomainsLogo,Object(a.a)({},u.a.udomainsLogoActive,be))})}),Object(T.jsx)(v.a,{addresses:w.filter((function(e){return e.address!==i})),addAddress:N,removeAddress:I,newAddress:Me,onClose:function(){return Fe(null)},onSelectAddress:function(e){return ue(e)},selectedNetwork:p,className:u.a.dropdown})]}),De.messages.address&&Object(T.jsxs)("div",{className:"validation-error",children:[Object(T.jsx)(d.k,{size:12}),"\xa0",De.messages.address]}),Object(T.jsx)("div",{className:u.a.separator}),Object(T.jsx)(v.b,{address:ie,onAddNewAddress:function(){return Fe(ie)},onChange:function(e){return ke(e)},isKnownAddress:E,uDAddress:be,ensAddress:je}),Ke?Object(T.jsx)(v.g,{className:u.a.binanceAddressWarning,label:Object(T.jsxs)("span",{id:"binance-address-warning-label",children:["I confirm this address is not a ",B.join(" / ")," address: ",Object(T.jsx)("br",{}),"These platforms do not support $",null===Je||void 0===Je?void 0:Je.symbol," deposits from smart wallets",Object(T.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415473743506-Statement-on-MATIC-BNB-deposits-to-Binance",target:"_blank",rel:"noreferrer",children:Object(T.jsx)(l.p,{size:20})})]}),checked:Ne,onChange:function(e){var t=e.target;return Ce(t.checked)}}):null,Object(T.jsx)(v.e,{primaryGradient:!0,disabled:Oe,onClick:function(){var e=be||(je||ie);if(ne)try{var t={to:Je.address,value:"0",data:R.encodeFunctionData("transfer",[e,ne])};0===Number(Je.address)&&(t.to=e,t.value=ne,t.data="0x");var s={id:"transfer_".concat(Date.now()),type:"eth_sendTransaction",chainId:p.chainId,account:i,txn:t,meta:null};be?s.meta={addressLabel:{addressLabel:ie,address:be}}:je&&(s.meta={addressLabel:{addressLabel:ie,address:je}}),y(s),te(0)}catch(a){console.error(a),Y("Error: ".concat(a.message||a),{error:!0})}},className:"transfer-button",children:"Send"})]}):Object(T.jsx)(v.o,{})}),!V&&Object(T.jsx)(C,{selectedAsset:Je,selectedNetwork:p,addresses:w,addAddress:N,removeAddress:I,onSelectAddress:function(e){return ue(e)}})]})}))},502:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},n="https://storage.googleapis.com/zapper-fi-assets/tokens";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=t.toLowerCase(),r=e.toLowerCase();return a[s]||"".concat(n,"/").concat(r,"/").concat(s,".png")}},512:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},515:function(e,t,s){"use strict";function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var a=Math.min(2,s||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(a,s),minimumFractionDigits:a})}catch(n){return console.error(n),e}}s.d(t,"a",(function(){return a}))},623:function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return u}));var a=s(21),n=s(100),r=s(146),o=function(e){return e&&e.length?e&&Object(n.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},c=function(e,t){var s=o(e);return s.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:s},i=function(e,t,s,a,c,i){var u=o(e);return u.success?e&&e===r.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(n.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||a(e)||s||c||i?!e||a(e)||s||!c&&!i?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(c?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:u},u=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var s=e.slice(0,e.indexOf(".")+t.decimals+1),n=Object(a.parseUnits)(s,t.decimals);if(n&&t.balanceRaw&&n.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(r){console.error(r)}return{success:!0}},d=function(e,t,s,a,n,r,o,c,u){var d,l=i(e,t,s,a,c,u);return l.success?n&&t&&(null===(d=n.owner)||void 0===d?void 0:d.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:r&&o&&r.id!==o?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:l}},761:function(e,t,s){"use strict";var a=s(7),n=s(21),r=s(3);function o(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var c=s(213),i=s(512),u=s(29),d=s(146),l=["txId","txns","submittedAt","gasTankFee","identity"],b=new n.Interface(i),m=b.getSighash(b.getFunction("transfer").format()),f=d.a.feeCollector;function p(e){return e[0]===f||!(!e[2].startsWith(m)||function(e){try{var t=b.decodeFunctionData("transfer",e);return Object(a.a)({value:u.a.from(t._value)},t)}catch(s){return console.error(s),{}}}(e[2])._to!==f)}var j=s(221);t.a=function(e){var t=e.relayerURL,s=e.selectedAcc,i=e.network,d=e.portfolio,v=e.useRelayerData,h=Object(j.a)().cacheBreak,g=d.tokens,O=t?"".concat(t,"/gas-tank/").concat(s,"/getBalance?cacheBreak=").concat(h):null,y=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(h):null,x=t?"".concat(t,"/identity/").concat(s,"/").concat(null===i||void 0===i?void 0:i.id,"/transactions"):null,_=v({url:O}),w=_.data,k=_.isLoading,A=v({url:y}).data,T=v({url:x}).data,N=Object(r.useMemo)((function(){return w&&w.length&&w.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0)}),[w]),C=Object(r.useMemo)((function(){return T&&T.txns.length&&T.txns.filter((function(e){return!!e.gasTankFee}))}),[T]),S=Object(r.useMemo)((function(){return A&&A.length&&A.filter((function(e){return e.network===(null===i||void 0===i?void 0:i.id)}))}),[A,null===i||void 0===i?void 0:i.id]),L=T&&T.txns.length&&T.txns,M=Object(r.useMemo)((function(){return L&&L.length&&function(e){var t=[];return e.forEach((function(e){var s=e.txId,n=e.txns,r=e.submittedAt,o=e.gasTankFee,i=e.identity,d=Object(c.a)(e,l),j=n.filter((function(e,t){return p(e)&&(o||t<n.length-1)})).map((function(e){return e[0]===f?Object(a.a)({submittedAt:r,address:"0x0000000000000000000000000000000000000000",value:u.a.from(e[1]),identity:i,txId:s},d):e[2].startsWith(m)&&b.decodeFunctionData("transfer",e[2])._to===f?Object(a.a)({submittedAt:r,address:e[0],value:u.a.from(b.decodeFunctionData("transfer",e[2])._value),identity:i,txId:s},d):null}));j.length&&t.push(j[0])})),t}(L)}),[L]),F=Object(r.useMemo)((function(){return null===S||void 0===S?void 0:S.map((function(e){var t=null===g||void 0===g?void 0:g.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));return t?Object(a.a)(Object(a.a)({},t),{},{tokenImageUrl:e.icon,decimals:e.decimals,symbol:e.symbol,balance:t.balance,disableGasTankDeposit:!!e.disableGasTankDeposit,balanceUSD:parseFloat(t.balance)*parseFloat(S.find((function(e){return e.address.toLowerCase()===t.address.toLowerCase()})).price||0)}):Object(a.a)(Object(a.a)({},e),{},{tokenImageUrl:e.icon,balance:0,balanceUSD:0,decimals:0,address:e.address.toLowerCase(),symbol:e.symbol.toUpperCase()})}))}),[S,g]),U=Object(r.useMemo)((function(){return C&&C.length&&C.map((function(e){var t=A?A.find((function(t){return t.symbol===e.feeToken})):null,s=t?o(t):null;return{saved:s?e.feeInUSDPerGas*s:0,cashback:e.gasTankFee&&e.gasTankFee.cashback?Object(n.formatUnits)(e.gasTankFee.cashback.toString(),null===t||void 0===t?void 0:t.decimals).toString()*(null===t||void 0===t?void 0:t.price):0}}))}),[A,C]);return{balancesRes:w,gasTankBalances:N,isLoading:k,gasTankTxns:C,feeAssetsRes:A,gasTankFilledTxns:M,totalSavedResult:U,availableFeeAssets:F}}}}]);
//# sourceMappingURL=19.f96b1e53.chunk.js.map