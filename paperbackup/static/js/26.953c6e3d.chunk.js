(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[26],{1634:function(e,t,n){},1635:function(e,t,n){},1636:function(e,t,n){},1658:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(3),c=n.n(a),s=n(12),o=n(7),u=n(9),i=(n(1634),n(513)),l=n(2),d=n(62),b=n(20),j=n(85),f=n(94),m="https://backend.movr.network/v1",h=function(){var e=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat(m,"/supported/chains"));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",t.result);case 6:case"end":return e.stop()}}),e)}))),[]),t=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat(m,"/supported/from-token-list?fromChainId=").concat(t,"&toChainId=").concat(n));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",r.result.map((function(e){return e.token})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),n=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat(m,"/supported/to-token-list?fromChainId=").concat(t,"&toChainId=").concat(n));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",r.result.map((function(e){return e.token})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),r=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,r,a,s,o){var u,i,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.length>6&&void 0!==l[6]?l[6]:"cheapestRoute",e.next=3,Object(f.c)("".concat(m,"/quote?fromAsset=").concat(t,"&fromChainId=").concat(n,"&toAsset=").concat(r,"&toChainId=").concat(a,"&amount=").concat(s,"&excludeBridges=").concat(o,"&sort=").concat(u));case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",i.result);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s){return e.apply(this,arguments)}}(),[]),a=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,r,a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat(m,"/approval/check-allowance?chainID=").concat(t,"&owner=").concat(n,"&allowanceTarget=").concat(r,"&tokenAddress=").concat(a));case 2:if(s=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",s.result);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),[]),o=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,r,a,s){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat(m,"/approval/build-tx?chainID=").concat(t,"&owner=").concat(n,"&allowanceTarget=").concat(r,"&tokenAddress=").concat(a,"&amount=").concat(s));case 2:if(o=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",o.result);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),[]),u=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,r,a,s,o,u,i){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat(m,"/send/build-tx?recipient=").concat(t,"&fromAsset=").concat(n,"&fromChainId=").concat(r,"&toAsset=").concat(a,"&toChainId=").concat(s,"&amount=").concat(o,"&output=").concat(u,"&fromAddress=").concat(t,"&routePath=").concat(i));case 2:if(l=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",l.result);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,s,o,u){return e.apply(this,arguments)}}(),[]),i=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("".concat("https://watcherapi.fund.movr.network/api/v1","/transaction-status?transactionHash=").concat(t,"&fromChainId=").concat(n,"&toChainId=").concat(r));case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",a.result);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[]);return{fetchChains:e,fetchToTokens:n,fetchFromTokens:t,fetchQuotes:r,checkApprovalAllowance:a,approvalBuildTx:o,sendBuildTx:u,checkTxStatus:i}},O=n(58),p=n(46),v=n(37),x=(n(1635),n(52)),k=n(4),w=function(e,t){return e/Math.pow(10,t.decimals)},g=function(e,t){var n=e.address===t.toAsset.address?t.toAsset:t.fromAsset;return w(e.amount,n)},N=function(e){return O.a.find((function(t){return t.chainId===e}))},I=function(e){var t=e.addRequest,n=e.selectedAccount,r=e.fromTokensItems,a=e.quotes,i=e.onQuotesConfirmed,d=e.onCancel,b=Object(p.a)().addToast,f=h(),m=f.approvalBuildTx,O=f.sendBuildTx,v=a.toAsset,I=r.find((function(e){return e.value===a.fromAsset.address})),y=N(a.fromAsset.chainId),C=N(v.chainId),T=Object(l.useState)(null),A=Object(u.a)(T,2),S=A[0],E=A[1],R=Object(l.useState)(!1),M=Object(u.a)(R,2),D=M[0],q=M[1],B=a.routes.map((function(e){var t=e.fees,n=e.middlewareRoute,r=e.bridgeRoute;return Object(o.a)(Object(o.a)({},e),{},{middlewareFee:n?g(t.middlewareFee,n):0,bridgeFee:r?g(t.bridgeFee,r):0})})),F=B.map((function(e){var t=e.routePath,n=e.middlewareFee,r=e.bridgeFee,a=e.middlewareRoute,c=e.bridgeRoute;return{label:Object(k.jsxs)("div",{className:"route",children:[Object(k.jsxs)("div",{className:"info",children:[a?Object(k.jsxs)("div",{className:"middleware",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(a.middlewareInfo.icon,")")}}),Object(k.jsx)("div",{className:"name",children:a.middlewareInfo.displayName})]}):null,Object(k.jsxs)("div",{className:"bridge",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(c.bridgeInfo.icon,")")}}),Object(k.jsx)("div",{className:"name",children:c.bridgeInfo.displayName})]})]}),Object(k.jsxs)("div",{className:"summary",children:[Object(k.jsxs)("div",{className:"amounts",children:[a?Object(k.jsxs)("div",{className:"amount",children:[w(a.inputAmount,a.fromAsset)," ",a.fromAsset.symbol]}):null,Object(k.jsxs)("div",{className:"amount",children:[w(c.outputAmount,c.toAsset)," ",c.toAsset.symbol]})]}),Object(k.jsxs)("div",{className:"fees",children:[a?Object(k.jsx)("div",{className:"fee",children:n?Object(k.jsxs)(k.Fragment,{children:["Fee: ",n," ",a.fromAsset.symbol]}):null}):null,Object(k.jsx)("div",{className:"fee",children:r?Object(k.jsxs)(k.Fragment,{children:["Fee: ",r," ",c.toAsset.symbol]}):null})]})]})]}),value:t}})),P=function(e,r,a,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0x00";t({id:e,chainId:r,account:n,type:"eth_sendTransaction",txn:{to:a,data:c,value:s}})},L=function(){var e=Object(s.a)(c.a.mark((function e(){var t,r,a,s,o,u,l,j,f,h,p,v,x,k,w,g,N;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(!0),e.prev=1,t=B.find((function(e){return e.routePath===S})),r=t.allowanceTarget,a=t.isApprovalRequired,s=t.middlewareRoute,o=t.bridgeRoute,u=t.routePath,j=null,s?(l=s.fromAsset,j=s.inputAmount):(l=o.fromAsset,j=o.inputAmount),f=o.toAsset,h=o.outputAmount,p=o.bridgeInfo,!a){e.next=13;break}return e.next=9,m(l.chainId,n,r,l.address,j);case 9:v=e.sent,x=v.to,k=v.data,P("transfer_approval_crosschain_".concat(Date.now()),l.chainId,x,k);case 13:return e.next=15,O(n,l.address,l.chainId,f.address,f.chainId,j,h,u);case 15:w=e.sent,g=w.tx,P("transfer_send_crosschain_".concat(Date.now()),l.chainId,g.to,g.data,g.value.hex),N=new Date(((null===p||void 0===p?void 0:p.serviceTime)||0)+((null===s||void 0===s?void 0:s.serviceTime)||0)).getMinutes(),i({txData:g.data,serviceTimeMinutes:N,to:{chainId:f.chainId,asset:f,amount:h}}),q(!1),d(),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0),b(e.t0.message||e.t0,{error:!0}),q(!1);case 29:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{id:"quotes",children:[Object(k.jsxs)("div",{id:"summary",children:[Object(k.jsxs)("div",{className:"path",children:[Object(k.jsxs)("div",{className:"network",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(y.icon,")")}}),Object(k.jsx)("div",{className:"name",children:y.name})]}),Object(k.jsxs)("div",{className:"token",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(I.icon,")")}}),Object(k.jsx)("div",{className:"name",children:I.label})]})]}),Object(k.jsx)(x.v,{}),Object(k.jsxs)("div",{className:"path",children:[Object(k.jsxs)("div",{className:"network",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(C.icon,")")}}),Object(k.jsx)("div",{className:"name",children:C.name})]}),Object(k.jsxs)("div",{className:"token",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(v.icon,")")}}),Object(k.jsxs)("div",{className:"name",children:[v.name," (",v.symbol,")"]})]})]})]}),D?Object(k.jsx)(j.n,{}):Object(k.jsxs)("div",{id:"routes",children:[Object(k.jsx)("div",{className:"title",children:"Routes"}),F.length?Object(k.jsx)(j.u,{radios:F,onChange:function(e){return E(e)}}):Object(k.jsxs)("div",{id:"no-routes-placeholder",children:["There is no routes available for this configuration at the moment.",Object(k.jsx)("br",{}),"Try increasing the amount or switching token."]})]}),Object(k.jsx)("div",{className:"separator"}),Object(k.jsxs)("div",{id:"buttons",children:[Object(k.jsx)(j.e,{small:!0,clear:!0,icon:B.length?Object(k.jsx)(x.x,{}):Object(k.jsx)(x.u,{}),disabled:D,onClick:d,className:"buttonComponent",children:B.length?"Cancel":"Go Back"}),B.length?Object(k.jsx)(j.e,{small:!0,icon:Object(k.jsx)(x.w,{}),disabled:!S||D,onClick:L,className:"buttonComponent",children:"Confirm"}):null]})]})},y=(n(1636),n(180)),C=n(11),T=n(151),A=n(508),S=function(e,t){var n=Object(T.a)(t);return e[n]||T.e[n]||["Unknown",0]},E=function(e,t){var n=O.a.find((function(e){return e.chainId===t}));return n?Object(A.a)(n.id,Object(T.a)(e)):null},R=function(e,t,n,r,a,c){var s=S(e,r),o=S(e,a),u=E(r,t),i=E(a,t);return{from:{chainId:t,asset:{address:r,symbol:s[0],decimals:s[1],icon:u},amount:c.toString()},to:{chainId:n.toNumber(),asset:{address:a,symbol:o[0],decimals:o[1],icon:i},amount:null}}},M=function(e){var t,n=e.tokens,r=e.abis,a=new b.Interface(r.MovrAnyswap),c=new b.Interface(r.MovrRouter);return t={},Object(C.a)(t,a.getSighash("outboundTransferTo"),(function(e,t,r){var c=a.parseTransaction({data:t,value:e}).args[0],s=c.middlewareInputToken,o=c.amount,u=c.tokenToBridge,i=c.toChainId;return R(n,r.chainId,i,s,u,o)})),Object(C.a)(t,c.getSighash("outboundTransferTo"),(function(e,t,r){var a=c.parseTransaction({data:t,value:e}).args[0],s=a.middlewareRequest,o=a.amount,u=a.bridgeRequest,i=a.toChainId,l=s.inputToken,d=u.inputToken;return R(n,r.chainId,i,l,d,o)})),t},D=n(150),q=function(e){var t=e.relayerURL,n=e.network,r=e.account,a=e.quotesConfirmed,i=Object(D.a)().constants.humanizerInfo,d=Object(p.a)().addToast,b=h().checkTxStatus,f=Object(l.useState)([]),m=Object(u.a)(f,2),w=m[0],g=m[1],N=Object(l.useState)(!1),I=Object(u.a)(N,2),C=I[0],T=I[1],A=Object(l.useState)((function(){return Date.now()})),S=Object(u.a)(A,2),E=S[0],R=S[1],q=Object(l.useRef)(n.id),B=function(e){return O.a.find((function(t){return t.chainId===e}))},F=function(e,t){return e/Math.pow(10,t.decimals)};Object(l.useEffect)((function(){Date.now()-E>5e3&&R(Date.now());var e=setTimeout((function(){return R(Date.now())}),1e4);return function(){return clearTimeout(e)}}),[E]);var P=t?"".concat(t,"/identity/").concat(r,"/").concat(n.id,"/transactions?cacheBreak=").concat(E):null,L=Object(v.j)({url:P}),U=L.data,_=L.errMsg,Q=L.isLoading,V=Object(l.useMemo)((function(){return n.id!==q.current?[]:(U&&U.txns?U.txns:[]).map((function(e){var t=e.txId,r=e.txns.map((function(e){var t=Object(u.a)(e,3),r=t[1],a=t[2],c=a.slice(0,10),s=M(i)[c];return s?Object(o.a)({txData:a},s(r,a,n)):null})).filter((function(e){return e}));return r.length?Object(o.a)({hash:t},r[0]):null})).filter((function(e){return e}))}),[U,n,i]);return Object(l.useEffect)((function(){function e(){return e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(V.map(function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,s,u,i,l,j,f,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hash,r=t.txData,s=t.from,u=t.to,i=a.find((function(e){return e.txData===r})),l=i&&i.serviceTimeMinutes||null,j=B(s.chainId),f=B(u.chainId),e.prev=5,e.next=8,b(n,s.chainId,u.chainId);case 8:return m=e.sent,e.abrupt("return",Object(o.a)(Object(o.a)({},m),{},{from:s,to:i?i.to||null:u,serviceTimeMinutes:l,fromNetwork:j,toNetwork:f,isPending:!("COMPLETED"===m.sourceTxStatus&&"COMPLETED"===m.destinationTxStatus)}));case 12:return e.prev=12,e.t0=e.catch(5),console.error(e.t0),d("Cross-Chain History: Unable to fetch transfer status.",{error:!0}),e.abrupt("return",{sourceTx:n,from:s,to:u,serviceTimeMinutes:l,fromNetwork:j,toNetwork:f,statusError:!0});case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()));case 2:if(t=e.sent,n.id===q.current){e.next=5;break}return e.abrupt("return");case 5:g(t);case 6:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[V,a,n,b,d]),Object(l.useEffect)((function(){_&&(console.error(_),d("Cross-Chain History: ".concat(_),{error:!0}))}),[_,d]),Object(l.useEffect)((function(){T(Q&&!w.length)}),[Q,w]),Object(l.useEffect)((function(){q.current=n.id,g([]),R(Date.now())}),[n]),Object(k.jsx)(j.s,{id:"history",className:"panel",title:"History",children:C?Object(k.jsx)(j.n,{}):w.length?w.map((function(e){var t,n,r,a,c=e.sourceTx,s=e.fromNetwork,o=e.toNetwork,u=e.from,i=e.to,l=e.serviceTimeMinutes,d=e.isPending,b=e.statusError;return Object(k.jsxs)("div",{className:"tx-status",children:[Object(k.jsxs)("div",{className:"summary",children:[Object(k.jsxs)("div",{className:"path",children:[Object(k.jsxs)("div",{className:"network",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(s.icon,")")}}),Object(k.jsx)("div",{className:"name",children:s.name})]}),Object(k.jsxs)("div",{className:"amount",children:[u.amount?F(u.amount,u.asset):"",Object(k.jsxs)("div",{className:"asset",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(null===u||void 0===u||null===(t=u.asset)||void 0===t?void 0:t.icon,")")}}),Object(k.jsx)("div",{className:"name",children:null===u||void 0===u||null===(n=u.asset)||void 0===n?void 0:n.symbol})]})]})]}),Object(k.jsx)(x.v,{}),Object(k.jsxs)("div",{className:"path",children:[Object(k.jsxs)("div",{className:"network",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(o.icon,")")}}),Object(k.jsx)("div",{className:"name",children:o.name})]}),Object(k.jsxs)("div",{className:"amount",children:[i.amount?F(i.amount,i.asset):"",Object(k.jsxs)("div",{className:"asset",children:[Object(k.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(null===i||void 0===i||null===(r=i.asset)||void 0===r?void 0:r.icon,")")}}),Object(k.jsx)("div",{className:"name",children:null===i||void 0===i||null===(a=i.asset)||void 0===a?void 0:a.symbol})]})]})]})]}),Object(k.jsxs)("div",{className:"details",children:[Object(k.jsxs)("a",{href:"".concat(s.explorerUrl,"/tx/").concat(c),target:"_blank",rel:"noreferrer",children:["View on Block Explorer ",Object(k.jsx)(y.c,{})]}),b?Object(k.jsxs)("div",{className:"status error",children:[Object(k.jsx)(x.x,{}),"Could not fetch status"]}):d?Object(k.jsxs)("div",{className:"status pending",children:[Object(k.jsx)(j.n,{}),"Pending",Object(k.jsxs)("span",{children:["(Usually takes ",l||20," minutes)"]})]}):Object(k.jsxs)("div",{className:"status confirmed",children:[Object(k.jsx)(x.w,{}),"Confirmed"]})]})]},c)})):Object(k.jsx)("div",{children:"No pending transfer/swap on this network."})})};t.default=function(e){var t=e.addRequest,n=e.selectedAccount,a=e.portfolio,f=e.network,m=e.relayerURL,x=Object(p.a)().addToast,w=h(),g=w.fetchChains,N=w.fetchFromTokens,y=w.fetchQuotes,C=w.fetchToTokens,T=Object(l.useState)(!1),A=Object(u.a)(T,2),S=A[0],E=A[1],R=Object(l.useState)(!0),M=Object(u.a)(R,2),D=M[0],B=M[1],F=Object(l.useState)(!1),P=Object(u.a)(F,2),L=P[0],U=P[1],_=Object(l.useState)(!1),Q=Object(u.a)(_,2),V=Q[0],H=Q[1],G=Object(l.useState)(!1),J=Object(u.a)(G,2),z=J[0],X=J[1],Y=Object(l.useState)([]),K=Object(u.a)(Y,2),W=K[0],Z=K[1],$=Object(l.useState)(null),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=Object(l.useState)(0),ae=Object(u.a)(re,2),ce=ae[0],se=ae[1],oe=Object(l.useState)([]),ue=Object(u.a)(oe,2),ie=ue[0],le=ue[1],de=Object(l.useState)(null),be=Object(u.a)(de,2),je=be[0],fe=be[1],me=Object(l.useState)([]),he=Object(u.a)(me,2),Oe=he[0],pe=he[1],ve=Object(l.useState)(null),xe=Object(u.a)(ve,2),ke=xe[0],we=xe[1],ge=Object(l.useState)(null),Ne=Object(u.a)(ge,2),Ie=Ne[0],ye=Ne[1],Ce=Object(l.useRef)([]),Te=Object(v.e)({key:"quotesConfirmed",defaultValue:[]}),Ae=Object(u.a)(Te,2),Se=Ae[0],Ee=Ae[1],Re=Object(l.useMemo)((function(){return f.chainId}),[f.chainId]),Me=!(te&&ke&&Re&&je&&ce>0),De=!a.balance.total.full,qe=Object(l.useCallback)((function(e){return a.tokens.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:0===Number(e.address)?"0x".concat("e".repeat(40)):e.address})})).find((function(t){return t.address===e}))}),[a.tokens]),Be=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:if(t=e.sent,n=t.find((function(e){return e.chainId===Re})),E(!n),n){e.next=8;break}return e.abrupt("return");case 8:return r=t.filter((function(e){var t=e.chainId;return t!==Re&&O.a.map((function(e){return e.chainId})).includes(t)})).map((function(e){var t=e.icon,n=e.chainId;return{icon:t,label:e.name,value:n}})),le(r),fe(r[0].value),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),console.error(e.t0),x("Error while loading chains: ".concat(e.t0.message||e.t0),{error:!0}),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])}))),[Re,g,x]),Fe=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t,n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re&&je){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,N(Re,je);case 5:return t=e.sent,n=t.filter((function(e){return e.name})),a=Object(r.a)(new Set(t.filter((function(e){var t=e.address;return Ce.current.map((function(e){return e.address})).map((function(e){return 0===Number(e)?"0x".concat("e".repeat(40)):e})).includes(t)})).map((function(e){return e.address})))),s=a.map((function(e){return n.find((function(t){return t.address===e}))})).filter((function(e){return e})).map((function(e){var t=e.icon,n=e.name,r=e.symbol,a=e.address;return{icon:t,label:"".concat(n," (").concat(r,")"),value:a,symbol:r}})),Z(s),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),x("Error while loading from tokens: ".concat(e.t0.message||e.t0),{error:!0}),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])}))),[Re,je,N,x]),Pe=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t,n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Re&&je){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,C(Re,je);case 5:return t=e.sent,n=t.filter((function(e){return e.name})),a=Object(r.a)(new Set(t.map((function(e){return e.address})))),s=a.map((function(e){return n.find((function(t){return t.address===e}))})).filter((function(e){return e})).map((function(e){var t=e.icon,n=e.name,r=e.symbol,a=e.address;return{icon:t,label:"".concat(n," (").concat(r,")"),value:a,symbol:r}})).sort((function(e,t){return e.label.localeCompare(t.label)})),pe(s),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),x("Error while loading to tokens: ".concat(e.t0.message||e.t0),{error:!0}),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])}))),[Re,je,C,x]),Le=Object(l.useMemo)((function(){try{var e=qe(te);if(!e)return 0;var t=e.balanceRaw,n=e.decimals;return d.ethers.utils.formatUnits(t,n)}catch(r){console.error(r),x("Error while formating amount: ".concat(r.message||r),{error:!0})}}),[qe,te,x]),Ue=function(){var e=Object(s.a)(c.a.mark((function e(){var t,n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(!0),e.prev=1,t=qe(te)){e.next=5;break}return e.abrupt("return");case 5:return n=t.decimals,r=Object(b.parseUnits)(ce,n).toString(),e.next=9,y(te,Re,ke,je,r,["hyphen","celer"]);case 9:a=e.sent,ye(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),x("Error while loading quotes: ".concat(e.t0.message||e.t0),{error:!0});case 17:X(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){return se(0)}),[te]),Object(l.useEffect)((function(){var e=W.find((function(e){return e.value===te}));if(e){var t=Oe.find((function(t){return t.symbol===e.symbol}));t&&we(t.value)}}),[W,Oe,te]);var _e=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,n();case 3:r=e.sent,t(!r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){je&&_e(H,Pe)}),[je,Pe]),Object(l.useEffect)((function(){je&&_e(U,Fe)}),[je,Fe]),Object(l.useEffect)((function(){if(Re&&!a.isCurrNetworkBalanceLoading)return ye(null),_e(B,Be),function(){le([])}}),[Re,a.isCurrNetworkBalanceLoading,Be]),Object(l.useEffect)((function(){return Ce.current=a.tokens}),[a.tokens]);var Qe=Object(k.jsxs)("div",{className:"amount-label",children:["Available Amount: ",Object(k.jsx)("span",{children:Le})]});return Object(k.jsxs)("div",{id:"cross-chain",children:[Object(k.jsx)(j.s,{className:"panel",title:"Cross-chain transfers/swaps",children:S?Object(k.jsx)("div",{className:"placeholder",children:"Not supported on this Network"}):D||a.isCurrNetworkBalanceLoading?Object(k.jsx)(j.n,{}):De?Object(k.jsx)(j.p,{}):L||V||W.length?z?Object(k.jsx)(j.n,{}):Ie?Object(k.jsx)(I,{addRequest:t,selectedAccount:n,fromTokensItems:W,quotes:Ie,onQuotesConfirmed:function(e){var t=[].concat(Object(r.a)(Se),[e]);Ee(t)},onCancel:function(){return ye(null)}}):Object(k.jsxs)("div",{className:"form",children:[Object(k.jsx)("label",{children:"From"}),Object(k.jsxs)("div",{className:"inputs",children:[L?Object(k.jsx)(j.n,{}):null,Object(k.jsx)(j.w,{searchable:!0,defaultValue:te,items:W,onChange:function(e){var t=e.value;return ne(t)}}),Object(k.jsx)(j.q,{min:"0",label:Qe,value:ce,onInput:function(e){return se(e)},button:"MAX",onButtonClick:function(){return se(Le)}})]}),Object(k.jsx)("div",{className:"separator",children:Object(k.jsx)(i.a,{})}),Object(k.jsx)("label",{children:"To"}),Object(k.jsxs)("div",{className:"inputs",children:[V?Object(k.jsx)(j.n,{}):null,Object(k.jsx)(j.w,{searchable:!0,defaultValue:je,items:ie,onChange:function(e){var t=e.value;return fe(t)}}),Object(k.jsx)(j.w,{searchable:!0,defaultValue:ke,items:Oe,onChange:function(e){var t=e.value;return we(t)}})]}),Object(k.jsx)(j.e,{primaryGradient:!0,className:"buttonComponent",disabled:Me,onClick:Ue,children:"Get Quotes"})]}):Object(k.jsx)("div",{className:"placeholder",children:"You don't have any available tokens to swap"})}),Object(k.jsx)(q,{network:f,account:n,quotesConfirmed:Se,relayerURL:m})]})}}}]);
//# sourceMappingURL=26.953c6e3d.chunk.js.map