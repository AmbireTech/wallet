(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[20],{1561:function(e,t,a){e.exports={transferButton:"Send_transferButton__11xeZ",wrapper:"Send_wrapper__22j17",confirmations:"Send_confirmations__3pBT1",validationError:"Send_validationError__f9914",content:"Send_content__2WlaZ",amountLabel:"Send_amountLabel__Oa2V0",separator:"Send_separator__27pbS",gasTankMsg:"Send_gasTankMsg__1bNA-",gasTankConvertMsg:"Send_gasTankConvertMsg__2hTnp",recipientField:"Send_recipientField__1ejHB",recipientInput:"Send_recipientInput__3iQR1",dropdown:"Send_dropdown__1D7Lq",udomainsLogo:"Send_udomainsLogo__359bF",udomainsLogoActive:"Send_udomainsLogoActive__3_M1J",ensLogo:"Send_ensLogo__9dZju",ensLogoActive:"Send_ensLogoActive__2loey",binanceAddressWarning:"Send_binanceAddressWarning__X8yPH",checkBoxLabel:"Send_checkBoxLabel__2m7tQ"}},1562:function(e,t,a){e.exports={wrapper:"Sell_wrapper__1yYqN",provider:"Sell_provider__2chW1",logo:"Sell_logo__z0Q48",details:"Sell_details__2bFOP",type:"Sell_type__1jzeb",fees:"Sell_fees__2D6NA",limits:"Sell_limits__mjYuK",currencies:"Sell_currencies__1F86P",disabled:"Sell_disabled__1zZ4u",networkWarning:"Sell_networkWarning__15hzn"}},1563:function(e,t,a){e.exports={addressesButton:"Addresses_addressesButton__2gw1d",wrapper:"Addresses_wrapper__2fkD9",addressList:"Addresses_addressList__1oXX6",title:"Addresses_title__dwjZC",separator:"Addresses_separator__1OSZH",item:"Addresses_item__2G0-3",details:"Addresses_details__3NAv3",address:"Addresses_address__1RlKw",button:"Addresses_button__235kc"}},1564:function(e,t,a){e.exports={panel:"Transfer_panel__3xc_N",wrapper:"Transfer_wrapper__1zpDw"}},1565:function(e,t,a){e.exports={tabs:"Tabs_tabs__1TQob",button:"Tabs_button__2_ceT",active:"Tabs_active__1xX0X"}},1657:function(e,t,a){"use strict";a.r(t);var s=a(7),n=a(9),r=a(34),o=a(2),c=a(147),i=a(100),d=a(11),l=a(15),u=a(3),b=a.n(u),m=a(12),f=a(513),p=a(52),j=a(62),v=a(20),h=a(46),O=a(85),g=a(619),_=a(218),w=a(58),x=a(508),A=a(521),k=a(219),y=a(767),S=a(37),T=a(27),C=a.n(T),L=a(1561),N=a.n(L),U=a(4),D=new v.Interface(a(525)),R=["Binance","Huobi","KuCoin","Gate.io","FTX"],B=function(e){var t=e.history,a=e.portfolio,s=e.selectedAcc,r=e.selectedNetwork,c=e.addRequest,i=e.addressBook,u=e.relayerURL,v=e.address,T=e.setAddress,L=e.gasTankDetails,B=e.asset,E=e.setAsset,F=e.tokenAddress,M=e.selectedAsset,I=i.addresses,P=i.addAddress,G=i.removeAddress,K=i.isKnownAddress,W=Object(y.a)({relayerURL:u,selectedAcc:s,network:r,portfolio:a,useRelayerData:S.j}).feeAssetsRes,z=W&&W.length&&W.filter((function(e){return e.network===r.id&&!e.disableGasTankDeposit})),H=Object(h.a)().addToast,X=Object(o.useState)(0),V=Object(n.a)(X,2),Y=V[0],q=V[1],Z=Object(o.useState)(""),Q=Object(n.a)(Z,2),J=Q[0],$=Q[1],ee=Object(o.useState)(""),te=Object(n.a)(ee,2),ae=te[0],se=te[1],ne=Object(o.useState)(""),re=Object(n.a)(ne,2),oe=re[0],ce=re[1],ie=Object(o.useState)(!0),de=Object(n.a)(ie,2),le=de[0],ue=de[1],be=Object(o.useState)(!1),me=Object(n.a)(be,2),fe=me[0],pe=me[1],je=Object(o.useState)(!1),ve=Object(n.a)(je,2),he=ve[0],Oe=ve[1],ge=Object(o.useState)(""),_e=Object(n.a)(ge,2),we=_e[0],xe=_e[1],Ae=Object(o.useState)({success:{amount:!1,address:!1},messages:{amount:"",address:""}}),ke=Object(n.a)(Ae,2),ye=ke[0],Se=ke[1],Te=Object(o.useState)(""),Ce=Object(n.a)(Te,2),Le=Ce[0],Ne=Ce[1],Ue=Object(o.useRef)(null),De=((null===L||void 0===L?void 0:L.isTopUp)?a.tokens.filter((function(e){return z&&(null===z||void 0===z?void 0:z.some((function(t){return t.address.toLowerCase()===e.address.toLowerCase()})))})):a.tokens).map((function(e){var t=e.label,a=e.symbol,s=e.address,n=e.img,r=e.tokenImageUrl,o=e.network;return{label:t||a,value:s,icon:n||r,fallbackIcon:Object(x.a)(o,s)}})),Re=Object(o.useMemo)((function(){if(!M)return{maxAmount:"0",maxAmountFormatted:"0.00"};var e=M.balanceRaw,t=M.decimals,a=M.balance;return{maxAmount:j.ethers.utils.formatUnits(e,t),maxAmountFormatted:Object(A.a)(a,!0,t)}}),[M]),Be=Re.maxAmount,Ee=Re.maxAmountFormatted,Fe=Object(o.useMemo)((function(){return!L&&0===Number(F)&&w.a.map((function(e){return e.id})).filter((function(e){return"ethereum"!==e})).includes(r.id)}),[L,F,r.id]),Me=function(e){if(e){var t=M.decimals,a=j.ethers.utils.parseUnits(e,t).toHexString();$(a)}q(e)};Object(o.useEffect)((function(){if(Ne(""),null===L||void 0===L?void 0:L.isTopUp){var e=z&&z.find((function(e){var t,a;return(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null===M||void 0===M||null===(a=M.address)||void 0===a?void 0:a.toLowerCase())}));if(null===e||void 0===e?void 0:e.baseToken){var t=z&&z.find((function(t){return t.address.toLowerCase()===e.baseToken.toLowerCase()}));Ne("Token ".concat(e.symbol.toUpperCase()," will be converted to ").concat(t.symbol.toUpperCase()," without additional fees."))}}}),[z,null===L||void 0===L?void 0:L.isTopUp,M]),Object(o.useEffect)((function(){q(0),$(""),Oe(!1)}),[B,r.id]),Object(o.useEffect)((function(){M&&t.replace({pathname:"/wallet/transfer/".concat(0!==Number(B)?B:M.symbol)})}),[B,t,M]),Object(o.useEffect)((function(){var e=Object(g.d)(Y,M);if(v.startsWith("0x")&&-1===v.indexOf(".")){""!==ae&&se(""),""!==oe&&ce("");var t=Object(g.c)(v,s,fe,K);Se({success:{amount:e.success,address:t.success},messages:{amount:e.message?e.message:"",address:t.message?t.message:""}}),ue(!t.success||!e.success||Fe&&!he)}else{Ue.current&&clearTimeout(Ue.current);var a=function(){var t=Object(m.a)(b.a.mark((function t(){var a,n,o,c,i,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.a)(v,M?M.symbol:null,r.unstoppableDomainsChain);case 2:return a=t.sent,n=Object(k.a)(M?M.symbol:null),t.next=6,Object(k.b)(v,n);case 6:o=t.sent,Ue.current=null,c=!!a,d="",d=(i=!!o)?o:c?a:v,l=Object(g.c)(d,s,fe,K,c,i),se(a),ce(o),Se({success:{amount:e.success,address:l.success},messages:{amount:e.message?e.message:"",address:l.message?l.message:""}}),ue(!l.success||!e.success||Fe&&!he);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Ue.current=setTimeout(Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a().catch(console.error));case 1:case"end":return e.stop()}}),e)}))),300)}return function(){return clearTimeout(Ue.current)}}),[v,Y,s,M,fe,Fe,he,K,H,r,P,ae,le,oe]);var Ie=Object(U.jsxs)("div",{className:N.a.amountLabel,children:["Available Amount: ",Object(U.jsxs)("span",{children:[Ee," ",null===M||void 0===M?void 0:M.symbol]})]}),Pe=[].concat(Object(l.a)(De.filter((function(e){return"wallet"===e.label.toLowerCase()}))),Object(l.a)(De.filter((function(e){return"wallet"!==e.label.toLowerCase()})).sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1}))));return a.isCurrNetworkBalanceLoading?Object(U.jsx)(O.n,{}):Pe.length?Object(U.jsxs)("div",{className:N.a.wrapper,children:[Object(U.jsxs)("div",{className:N.a.content,children:[Object(U.jsx)(O.w,{searchable:!0,defaultValue:B,items:Pe,onChange:function(e){var t=e.value;return E(t)}}),Le?Object(U.jsxs)("p",{className:N.a.gasTankConvertMsg,children:[Object(U.jsx)(p.N,{})," ",Le]}):Object(U.jsx)(U.Fragment,{}),Object(U.jsx)(O.q,{label:Ie,value:Y,precision:null===M||void 0===M?void 0:M.decimals,onInput:Me,button:"MAX",onButtonClick:function(){return Me(Be)}}),ye.messages.amount&&Object(U.jsxs)("div",{className:N.a.validationError,children:[Object(U.jsx)(f.o,{size:12}),"\xa0",ye.messages.amount]}),L?Object(U.jsxs)("p",{className:N.a.gasTankMsg,children:[Object(U.jsx)(p.N,{})," ",null===L||void 0===L?void 0:L.gasTankMsg]}):Object(U.jsxs)("div",{className:N.a.recipientField,children:[Object(U.jsx)(O.z,{placeholder:"Recipient",info:"Please double-check the recipient address, blockchain transactions are not reversible.",value:v,onInput:T,className:N.a.recipientInput,inputContainerClass:N.a.textInputContainer}),Object(U.jsx)(O.B,{label:oe?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(U.jsx)("div",{className:C()(N.a.ensLogo,Object(d.a)({},N.a.ensLogoActive,oe))})}),Object(U.jsx)(O.B,{label:ae?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(U.jsx)("div",{className:C()(N.a.udomainsLogo,Object(d.a)({},N.a.udomainsLogoActive,ae))})}),Object(U.jsx)(O.a,{addresses:I.filter((function(e){return e.address!==s})),addAddress:P,removeAddress:G,newAddress:we,onClose:function(){return xe(null)},onSelectAddress:function(e){return T(e)},selectedNetwork:r,className:N.a.dropdown})]}),Object(U.jsxs)("div",{className:N.a.confirmations,children:[ye.messages.address&&Object(U.jsxs)("div",{className:N.a.validationError,children:[Object(U.jsx)(f.o,{size:12}),"\xa0",ye.messages.address]}),Object(U.jsx)(O.b,{address:v,onAddNewAddress:function(){return xe(v)},onChange:function(e){return pe(e)},isKnownAddress:K,uDAddress:ae,ensAddress:oe}),Fe?Object(U.jsx)("div",{className:N.a.binanceAddressWarning,children:Object(U.jsx)(O.g,{label:Object(U.jsxs)("span",{children:["I confirm this address is not a ",R.join(" / ")," address: ",Object(U.jsx)("br",{}),"These platforms do not support $",null===M||void 0===M?void 0:M.symbol," deposits from smart wallets",Object(U.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415473743506-Statement-on-MATIC-BNB-deposits-to-Binance",target:"_blank",rel:"noreferrer",children:Object(U.jsx)(p.n,{size:20})})]}),labelClassName:N.a.checkBoxLabel,checked:he,onChange:function(e){var t=e.target;return Oe(t.checked)}})}):null]})]}),Object(U.jsx)(O.e,{primaryGradient:!0,disabled:le,onClick:function(){var e=ae||(oe||v);if(J)try{var t={to:M.address,value:"0",data:D.encodeFunctionData("transfer",[e,J])};0===Number(M.address)&&(t.to=e,t.value=J,t.data="0x");var a={id:"transfer_".concat(Date.now()),type:"eth_sendTransaction",chainId:r.chainId,account:s,txn:t,meta:null};ae?a.meta={addressLabel:{addressLabel:v,address:ae}}:oe&&(a.meta={addressLabel:{addressLabel:v,address:oe}}),c(a),q(0)}catch(n){console.error(n),H("Error: ".concat(n.message||n),{error:!0})}},className:N.a.transferButton,children:"Send"})]}):Object(U.jsx)(O.p,{})},E=a(760),F=a(761),M=a(1562),I=a.n(M),P=function(e){var t=e.walletAddress,a=e.networkDetails,s=e.relayerURL,n=e.portfolio,r=Object(E.a)({walletAddress:t,selectedNetwork:a.id,relayerURL:s,portfolio:n}),o=r.openGuardarian,c=r.isLoading;return Object(U.jsx)("div",{className:I.a.wrapper,children:Object(U.jsxs)("div",{className:C()(I.a.provider,Object(d.a)({},I.a.disabled,!function(e){return e.includes(a.id)}(["ethereum","polygon","binance-smart-chain","fantom"]))),onClick:function(){return o("sell")},children:[Object(U.jsx)("div",{className:I.a.logo,children:Object(U.jsx)("img",{src:F.a,alt:"guardarian-logo"})}),c.includes("Guardarian")?Object(U.jsx)("div",{children:Object(U.jsx)(O.n,{})}):Object(U.jsxs)("div",{className:I.a.details,children:[Object(U.jsx)("div",{className:I.a.type,children:"Buy with Bank Transfer, Credit/Debit Card, Sell Crypto"}),Object(U.jsx)("div",{className:I.a.fees,children:"Fees: from 2%"}),Object(U.jsx)("div",{className:I.a.limits,children:"Limits: up to 15k EUR/monthly on and off ramp"}),Object(U.jsx)("div",{className:I.a.currencies,children:"Currencies: GBP, EUR, USD and many more"})]})]})})},G=a(1563),K=a.n(G),W=a(295),z=a(588),H=function(e){var t=e.addresses,a=e.addAddress,s=e.removeAddress,r=e.onSelectAddress,o=e.selectedNetwork,c=Object(S.f)().showModal,d=[{inputType:"name",label:"Name",placeholder:"Address title"},{inputType:"address",label:"Address / Unstoppable domains\u24c7 / ENS\u24c7",placeholder:"Address / Unstoppable Domains / ENS",validate:function(e){return Object(i.b)(e)}}],l=Object(U.jsx)(z.a,{title:"Add New Address",selectedNetwork:o,inputs:d,onClose:function(e){var t=Object(n.a)(e,3),s=t[0],r=t[1],o=t[2];return a(s,r,o)}});return Object(U.jsxs)(O.s,{title:"Address Book",titleClassName:K.a.title,className:K.a.wrapper,children:[Object(U.jsx)(W.a,{noAccounts:!0,addresses:t,removeAddress:s,onSelectAddress:r,className:K.a.addressList}),Object(U.jsx)(O.e,{onClick:function(){return c(l)},className:K.a.addressesButton,children:"Add Address"})]})},X=a(1564),V=a.n(X),Y=a(234),q=a(1565),Z=a.n(q),Q=function(e){var t=e.firstTabLabel,a=e.secondTabLabel,s=e.firstTab,r=e.secondTab,c=e.panelClassName,i=Object(o.useState)(1),l=Object(n.a)(i,2),u=l[0],b=l[1];return Object(U.jsxs)(Y.a,{className:C()(c),children:[Object(U.jsxs)("div",{className:Z.a.tabs,children:[Object(U.jsx)("button",{onClick:function(){return b(1)},className:C()(Z.a.button,Object(d.a)({},Z.a.active,1===u)),children:t}),Object(U.jsx)("button",{onClick:function(){return b(2)},className:C()(Z.a.button,Object(d.a)({},Z.a.active,2===u)),children:a})]}),1===u?s:r]})};t.default=Object(r.withRouter)((function(e){var t,a=e.portfolio,d=e.selectedNetwork,l=e.addressBook,u=e.selectedAcc,b=e.relayerURL,m=l.addresses,f=l.addAddress,p=l.removeAddress,j=w.a.find((function(e){return e.id===d.id})),v=Object(r.useLocation)().state,h=Object(r.useParams)().tokenAddressOrSymbol,O=Object(i.b)(h)?h:(null===(t=a.tokens.find((function(e){return e.symbol===h})))||void 0===t?void 0:t.address)||null,g=Object(o.useState)(O),_=Object(n.a)(g,2),x=_[0],A=_[1],k=Object(o.useState)(v||null),y=Object(n.a)(k,1)[0],S=Object(o.useState)(y?c.a.feeCollector:""),T=Object(n.a)(S,2),C=T[0],L=T[1],N=null===a||void 0===a?void 0:a.tokens.find((function(e){return e.address===x}));return Object(U.jsxs)("div",{className:V.a.wrapper,style:{justifyContent:y?"center":""},children:[Object(U.jsx)(Q,{firstTabLabel:"Send",secondTabLabel:"Sell Crypto",firstTab:Object(U.jsx)(B,Object(s.a)(Object(s.a)({},e),{},{address:C,setAddress:L,gasTankDetails:y,asset:x,setAsset:A,tokenAddress:O,selectedAsset:N})),secondTab:Object(U.jsx)(P,{walletAddress:u,networkDetails:j,relayerURL:b,portfolio:a}),panelClassName:V.a.panel}),!y&&Object(U.jsx)(H,{selectedAsset:N,selectedNetwork:d,addresses:m,addAddress:f,removeAddress:p,onSelectAddress:function(e){return L(e)}})]})}))},619:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return d}));var s=a(20),n=a(100),r=a(147),o=function(e){return e&&e.length?e&&Object(n.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},c=function(e,t){var a=o(e);return a.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:a},i=function(e,t,a,s,c,i){var d=o(e);return d.success?e&&e===r.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(n.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||s(e)||a||c||i?!e||s(e)||a||!c&&!i?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(c?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:d},d=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var a=e.slice(0,e.indexOf(".")+t.decimals+1),n=Object(s.parseUnits)(a,t.decimals);if(n&&t.balanceRaw&&n.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(r){console.error(r)}return{success:!0}},l=function(e,t,a,s,n,r,o,c,d){var l,u=i(e,t,a,s,c,d);return u.success?n&&t&&(null===(l=n.owner)||void 0===l?void 0:l.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:r&&o&&r.id!==o?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:u}},760:function(e,t,a){"use strict";var s=a(3),n=a.n(s),r=a(7),o=a(15),c=a(12),i=a(9),d=a(922),l=a(923),u=a.n(l),b=a(615),m=a(94),f=a(2),p=a(46),j=a(37),v=a(560),h=a(34),O=a(182),g=a.n(O),_=a(111),w=a(4);t.a=function(e){var t=e.walletAddress,a=e.selectedNetwork,s=e.relayerURL,l=e.portfolio,O=Object(h.useHistory)(),x=Object(f.useState)([]),A=Object(i.a)(x,2),k=A[0],y=A[1],S=Object(p.a)().addToast,T=Object(j.f)().showModal,C=function(){var e=Object(c.a)(n.a.mark((function e(){var s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(e){return["PayTrie"].concat(Object(o.a)(e))})),s={ethereum:"USDC",polygon:"USDC-P","binance-smart-chain":"USDT-B"},(c=g.a.parse(_.b,!0)).search=null,c.query=Object(r.a)(Object(r.a)({},c.query),{},{addr:t,rightSideLabel:s[a]}),Object(b.a)({url:g.a.format(c),title:"Paytrie Deposit",w:450,h:700}),y((function(e){return e.filter((function(e){return"PayTrie"!==e}))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(n.a.mark((function e(){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y((function(e){return["Kriptomat"].concat(Object(o.a)(e))})),e.next=3,Object(m.c)("".concat(s,"/kriptomat/").concat(t,"/").concat(a));case 3:(r=e.sent).success&&r.data&&r.data.url?Object(b.a)({url:g.a.format(r.data.url),title:"Kriptomat Deposit",w:515,h:600}):S("Error: ".concat(r.data?r.data:"unexpected error"),{error:!0}),y((function(e){return e.filter((function(e){return"Kriptomat"!==e}))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(n.a.mark((function e(){var a,r,c,i=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:"buy",r=i.length>1?i[1]:void 0,y((function(e){return["MoonPay"].concat(Object(o.a)(e))})),e.next=5,Object(m.c)("".concat(s,"/moonpay/").concat(t,"/").concat(a,"/").concat(r?r.symbol:null));case 5:(c=e.sent).success&&c.data&&c.data.url?Object(b.a)({url:g.a.format(c.data.url),title:"MoonPay Deposit",w:515,h:600}):S("Error: ".concat(c.data?c.data:"unexpected error"),{error:!0}),y((function(e){return e.filter((function(e){return"MoonPay"!==e}))}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(e){return["Swappin"].concat(Object(o.a)(e))})),"https://app.swappin.gifts/ref/ambire",O.push("/wallet/dapps?dappUrl=".concat("https://app.swappin.gifts/ref/ambire")),y((function(e){return e.filter((function(e){return"Swappin"!==e}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{openRampNetwork:function(){new d.a({hostAppName:"Ambire",hostLogoUrl:"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire%20Horizontal%20Light%20Background.svg",variant:"auto",swapAsset:{ethereum:"ERC20_*,ETH_*",polygon:"MATIC_ERC20_*,MATIC_*",avalanche:"AVAX_*","binance-smart-chain":"BSC_*,BSC_ERC20_*",gnosis:"XDAI_*"}[a],userAddress:t,hostApiKey:_.c}).show()},openPayTrie:C,openTransak:function(){var e=new u.a({apiKey:_.f,environment:_.g,networks:{avalanche:"avaxcchain","binance-smart-chain":"bsc",moonbeam:"mainnet"}[a]||a,defaultCryptoCurrency:{ethereum:"USDC",polygon:"USDC",arbitrum:"ETH",avalanche:"AVAX","binance-smart-chain":"BNB",moonriver:"MOVR",moonbeam:"GLMR",optimism:"USDC"}[a],disableWalletAddressForm:!0,walletAddress:t,themeColor:"282b33",email:"",redirectURL:"",hostURL:window.location.origin,widgetHeight:"calc(100% - 60px)",widgetWidth:"100%"});e.init(),e.on(e.ALL_EVENTS,(function(e){console.log(e)})),e.on(e.EVENTS.TRANSAK_ORDER_SUCCESSFUL,(function(t){console.log(t),e.close()}))},openKriptomat:L,openGuardarian:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"buy",n=arguments.length>1?arguments[1]:void 0;y((function(e){return["Guardarian"].concat(Object(o.a)(e))})),T(Object(w.jsx)(v.a,{relayerURL:s,walletAddress:t,selectedNetwork:a,portfolio:l,initMode:e,selectedAsset:n})),y((function(e){return e.filter((function(e){return"Guardarian"!==e}))}))},openMoonpay:N,openSwappin:U,isLoading:k}}},761:function(e,t,a){"use strict";t.a=a.p+"static/media/guardarian.770dcdb9.svg"},767:function(e,t,a){"use strict";var s=a(7),n=a(20),r=a(2);function o(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var c=a(220),i=a(525),d=a(30),l=a(147),u=["txId","txns","submittedAt","gasTankFee","identity"],b=new n.Interface(i),m=b.getSighash(b.getFunction("transfer").format()),f=l.a.feeCollector;function p(e){return e[0]===f||!(!e[2].startsWith(m)||function(e){try{var t=b.decodeFunctionData("transfer",e);return Object(s.a)({value:d.a.from(t._value)},t)}catch(a){return console.error(a),{}}}(e[2])._to!==f)}var j=a(226);t.a=function(e){var t=e.relayerURL,a=e.selectedAcc,i=e.network,l=e.portfolio,v=e.useRelayerData,h=Object(j.a)().cacheBreak,O=l.tokens,g=t?"".concat(t,"/gas-tank/").concat(a,"/getBalance?cacheBreak=").concat(h):null,_=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(h):null,w=t?"".concat(t,"/identity/").concat(a,"/").concat(null===i||void 0===i?void 0:i.id,"/transactions"):null,x=v({url:g}),A=x.data,k=x.isLoading,y=v({url:_}).data,S=v({url:w}).data,T=Object(r.useMemo)((function(){return A&&A.length&&A.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0)}),[A]),C=Object(r.useMemo)((function(){return S&&S.txns.length&&S.txns.filter((function(e){return!!e.gasTankFee}))}),[S]),L=Object(r.useMemo)((function(){return y&&y.length&&y.filter((function(e){return e.network===(null===i||void 0===i?void 0:i.id)}))}),[y,null===i||void 0===i?void 0:i.id]),N=S&&S.txns.length&&S.txns,U=Object(r.useMemo)((function(){return N&&N.length&&function(e){var t=[];return e.forEach((function(e){var a=e.txId,n=e.txns,r=e.submittedAt,o=e.gasTankFee,i=e.identity,l=Object(c.a)(e,u),j=n.filter((function(e,t){return p(e)&&(o||t<n.length-1)})).map((function(e){return e[0]===f?Object(s.a)({submittedAt:r,address:"0x0000000000000000000000000000000000000000",value:d.a.from(e[1]),identity:i,txId:a},l):e[2].startsWith(m)&&b.decodeFunctionData("transfer",e[2])._to===f?Object(s.a)({submittedAt:r,address:e[0],value:d.a.from(b.decodeFunctionData("transfer",e[2])._value),identity:i,txId:a},l):null}));j.length&&t.push(j[0])})),t}(N)}),[N]),D=Object(r.useMemo)((function(){return null===L||void 0===L?void 0:L.map((function(e){var t=null===O||void 0===O?void 0:O.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));return t?Object(s.a)(Object(s.a)({},t),{},{tokenImageUrl:e.icon,decimals:e.decimals,symbol:e.symbol,balance:t.balance,disableGasTankDeposit:!!e.disableGasTankDeposit,balanceUSD:parseFloat(t.balance)*parseFloat(L.find((function(e){return e.address.toLowerCase()===t.address.toLowerCase()})).price||0)}):Object(s.a)(Object(s.a)({},e),{},{tokenImageUrl:e.icon,balance:0,balanceUSD:0,decimals:0,address:e.address.toLowerCase(),symbol:e.symbol.toUpperCase()})}))}),[L,O]),R=Object(r.useMemo)((function(){return C&&C.length&&C.map((function(e){var t=y?y.find((function(t){return t.symbol===e.feeToken})):null,a=t?o(t):null;return{saved:a?e.feeInUSDPerGas*a:0,cashback:e.gasTankFee&&e.gasTankFee.cashback?Object(n.formatUnits)(e.gasTankFee.cashback.toString(),null===t||void 0===t?void 0:t.decimals).toString()*(null===t||void 0===t?void 0:t.price):0}}))}),[y,C]);return{balancesRes:A,gasTankBalances:T,isLoading:k,gasTankTxns:C,feeAssetsRes:y,gasTankFilledTxns:U,totalSavedResult:R,availableFeeAssets:D}}}}]);
//# sourceMappingURL=20.11addf53.chunk.js.map