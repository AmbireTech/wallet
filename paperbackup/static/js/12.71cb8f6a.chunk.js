(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[12],{1333:function(e,t,n){(function(t){var r=n(358),a=n(769),c=n(88).keccak256;function s(e){if(e.length<1)throw new Error("evmPush: no data");if(e.length>32)throw new Error("evmPush: data too long");var n=e.length+95,r=t.alloc(1);return r.writeUInt8(n,0),t.concat([r,e])}function i(e,n,r,i,o){var l=a.rawEncode([n,i],[r,e]),u=c(l);return t.concat([s("string"===typeof o?t.from(o.slice(2),"hex"):o),s(t.from(u,"hex")),t.from("55","hex")])}e.exports={evmPush:s,sstoreCode:i,getProxyDeployBytecode:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{privSlot:0},c=a.privSlot,o=void 0===c?0:c;if(n.length>3)throw new Error("getProxyDeployBytecode: max 3 privLevels");var l=t.concat(n.map((function(e){var n=r(e,2),a=n[0],c=n[1];return!0!==c?i(o,"address",a,"bytes32",c):i(o,"address",a,"bool",t.from("01","hex"))}))),u=t.from("3d602d80","hex"),d=l.length+u.length+6;if(d>256)throw new Error("getProxyDeployBytecode: internal: offset>256");var b=t.concat([l,u,s(t.from([d]))]),f=t.from(e.slice(2).replace(/^(00)+/,""),"hex");if(f>20)throw new Error("invalid address");return"0x".concat(b.toString("hex"),"3d3981f3363d3d373d3d3d363d").concat(s(f).toString("hex"),"5af43d82803e903d91602b57fd5bf3")},getStorageSlotsFromArtifact:function(e){var t=e.ast.nodes.find((function(e){var t=e.name;return"ContractDefinition"===e.nodeType&&"Identity"===t}));assert.ok(t,"Identity contract definition not found");var n=t.nodes.filter((function(e){return"VariableDeclaration"===e.nodeType&&!e.constant&&e.stateVariable})).findIndex((function(e){return"privileges"===e.name}));return assert.notEqual(n,-1,"privSlot was not found"),{privSlot:n}}}}).call(this,n(25).Buffer)},1537:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.984V2h-.09c-.313 0-.616.062-.909.185a2.33 2.33 0 0 0-.775.53 2.23 2.23 0 0 0-.493.753v.001a3.542 3.542 0 0 0-.198.83v.002a6.08 6.08 0 0 0-.024.863c.012.29.018.58.018.869 0 .203-.04.393-.117.572v.001a1.504 1.504 0 0 1-.765.787 1.376 1.376 0 0 1-.558.115H2v.984h.09c.195 0 .38.04.556.121l.001.001c.178.078.329.184.455.318l.002.002c.13.13.233.285.307.465l.001.002c.078.18.117.368.117.566 0 .29-.006.58-.018.869-.012.296-.004.585.024.87v.001c.033.283.099.558.197.824v.001c.106.273.271.524.494.753.223.23.482.407.775.53.293.123.596.185.91.185H6v-.984h-.09c-.2 0-.387-.038-.563-.115a1.613 1.613 0 0 1-.457-.32 1.659 1.659 0 0 1-.309-.467c-.074-.18-.11-.37-.11-.573 0-.228.003-.453.011-.672.008-.228.008-.45 0-.665a4.639 4.639 0 0 0-.055-.64 2.682 2.682 0 0 0-.168-.609A2.284 2.284 0 0 0 3.522 8a2.284 2.284 0 0 0 .738-.955c.08-.192.135-.393.168-.602.033-.21.051-.423.055-.64.008-.22.008-.442 0-.666-.008-.224-.012-.45-.012-.678a1.47 1.47 0 0 1 .877-1.354 1.33 1.33 0 0 1 .563-.121H6zm4 10.032V14h.09c.313 0 .616-.062.909-.185.293-.123.552-.3.775-.53.223-.23.388-.48.493-.753v-.001c.1-.266.165-.543.198-.83v-.002c.028-.28.036-.567.024-.863-.012-.29-.018-.58-.018-.869 0-.203.04-.393.117-.572v-.001a1.502 1.502 0 0 1 .765-.787 1.38 1.38 0 0 1 .558-.115H14v-.984h-.09c-.196 0-.381-.04-.557-.121l-.001-.001a1.376 1.376 0 0 1-.455-.318l-.002-.002a1.415 1.415 0 0 1-.307-.465v-.002a1.405 1.405 0 0 1-.118-.566c0-.29.006-.58.018-.869a6.174 6.174 0 0 0-.024-.87v-.001a3.537 3.537 0 0 0-.197-.824v-.001a2.23 2.23 0 0 0-.494-.753 2.331 2.331 0 0 0-.775-.53 2.325 2.325 0 0 0-.91-.185H10v.984h.09c.2 0 .387.038.562.115.174.082.326.188.457.32.127.134.23.29.309.467.074.18.11.37.11.573 0 .228-.003.452-.011.672-.008.228-.008.45 0 .665.004.222.022.435.055.64.033.214.089.416.168.609a2.285 2.285 0 0 0 .738.955 2.285 2.285 0 0 0-.738.955 2.689 2.689 0 0 0-.168.602c-.033.21-.051.423-.055.64a9.15 9.15 0 0 0 0 .666c.008.224.012.45.012.678a1.471 1.471 0 0 1-.877 1.354 1.33 1.33 0 0 1-.563.121H10z"}}]})(e)}},1632:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return P}));var r=n(8),a=n(2),c=n.n(a),s=n(11),i=n(7),o=(n(967),n(3)),l=n(69),u=n(732),d=n(727),b=n.n(d),f=n(671),j=n(675),p=n(703),m=n(21),h=n(101),v=n(231),O=n(1333),x=n(84),g=n(151),y=n(44),w=n(631),k=n(34),N=n(77),C=n(632),A=n(153),S=n(1537),T=n(152),L=n(814),I=n(678),E=n(684),D=n(4);function P(t){var n=t.relayerURL,a=t.onAddAccount,d=t.utmTracking,P=t.pluginData,F=t.accounts,M=Object(o.useState)(null),_=Object(i.a)(M,2),W=_[0],B=_[1],R=Object(o.useState)(""),U=Object(i.a)(R,2),V=U[0],H=U[1],K=Object(o.useState)(""),z=Object(i.a)(K,2),q=z[0],G=z[1],Y=Object(o.useState)(!1),J=Object(i.a)(Y,2),$=J[0],X=J[1],Z=Object(y.a)().addToast,Q=Object(k.f)().showModal,ee=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],X(n),e.prev=2,e.next=5,t();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0),G("Unexpected error: ".concat(e.t0.message||e.t0));case 11:X(!1);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(""),e.prev=1,e.next=4,t();case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),X(!1),G("Unexpected error: ".concat(e.t0.message||e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var t=Object(s.a)(c.a.mark((function t(s){var i,o,l,u,b,f,j,p,y,w,k,N,C,A,S,T,L,I,E;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return H(""),t.next=3,new Promise((function(e){return setTimeout(e,0)}));case 3:return i=Object(m.id)(s.email+":"+Date.now()+":"+Math.random()+":"+("object"===typeof performance&&performance.now())),o=h.Wallet.createRandom({extraEntropy:i}),l=h.Wallet.createRandom({extraEntropy:i}).mnemonic.phrase.split(" ").slice(0,6).join(" ")+" "+s.email,t.next=8,Object(x.d)("".concat(n,"/second-key"),{secondKeySecret:l});case 8:if((u=t.sent).address){t.next=11;break}throw new Error("second-key returned no address, error: ".concat(u.message||u));case 11:return b=g.a.salt,f=g.a.baseIdentityAddr,j=g.a.identityFactoryAddr,p=g.a.quickAccManager,y=g.a.quickAccTimelock,w=[y,o.address,u.address],k={quickAccManager:p,timelock:w[0],one:w[1],two:w[2]},N=new m.AbiCoder,C=Object(m.keccak256)(N.encode(["tuple(uint, address, address)"],[w])),A=[[p,C]],S=Object(O.getProxyDeployBytecode)(f,A,{privSlot:0}),T=Object(m.getAddress)("0x"+Object(v.generateAddress2)(e.from(j.slice(2),"hex"),e.from(b.slice(2),"hex"),e.from(S.slice(2),"hex")).toString("hex")),t.t0=JSON,t.next=22,o.encrypt(s.passphrase,g.a.encryptionOpts);case 22:return t.t1=t.sent,L=t.t0.stringify.call(t.t0,t.t1),I=d.getLatestUtmData(),t.next=27,Object(x.d)("".concat(n,"/identity/").concat(T),Object(r.a)({email:s.email,primaryKeyBackup:s.backupOptout?void 0:L,secondKeySecret:l,salt:b,identityFactoryAddr:j,baseIdentityAddr:f,privileges:A,quickAccSigner:k},I.length&&{utm:I}));case 27:if((E=t.sent).success&&d.resetUtm(),"EMAIL_ALREADY_USED"!==E.message){t.next=32;break}return H("An account with this email already exists"),t.abrupt("return");case 32:if(E.success){t.next=36;break}return console.log(E),H("Unexpected sign up error: ".concat(E.message||"unknown")),t.abrupt("return");case 36:a({id:T,email:s.email,primaryKeyBackup:L,salt:b,identityFactoryAddr:j,baseIdentityAddr:f,bytecode:S,signer:k,cloudBackupOptout:!!s.backupOptout,backupOptout:!!s.backupOptout,emailConfRequired:!0},{select:!0,isNew:!0});case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=Object(o.useCallback)(function(){var t=Object(s.a)(c.a.mark((function t(a,s){var i,o,l,u,b,f,j,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[[Object(m.getAddress)(a),Object(m.hexZeroPad)("0x01",32)]],o=g.a.salt,l=g.a.baseIdentityAddr,u=g.a.identityFactoryAddr,b=Object(O.getProxyDeployBytecode)(l,i,{privSlot:0}),f=Object(m.getAddress)("0x"+Object(v.generateAddress2)(e.from(u.slice(2),"hex"),e.from(o.slice(2),"hex"),e.from(b.slice(2),"hex")).toString("hex")),j=d.getLatestUtmData(),!n){t.next=12;break}return t.next=8,Object(x.d)("".concat(n,"/identity/").concat(f),Object(r.a)({salt:o,identityFactoryAddr:u,baseIdentityAddr:l,privileges:i,signerType:s},j.length&&{utm:j}));case 8:if((p=t.sent).success&&d.resetUtm(),p.success||p.message&&p.message.includes("already exists")){t.next=12;break}throw p;case 12:return t.abrupt("return",{id:f,salt:o,identityFactoryAddr:u,baseIdentityAddr:l,bytecode:b,signer:{address:Object(m.getAddress)(a)}});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[n,d]);function ae(){return ce.apply(this,arguments)}function ce(){return(ce=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window.ethereum){e.next=2;break}throw new Error("MetaMask not available");case 2:return t=window.ethereum,e.next=5,t.request({method:"eth_requestAccounts"});case 5:if((n=e.sent).length){e.next=8;break}throw new Error("No accounts connected");case 8:if(1!==n.length){e.next=10;break}return e.abrupt("return",Oe(n[0],{type:"Web3"}));case 10:B({addresses:n,signerName:"Web3"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,r){var a,s,i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)("".concat(n,"/identity/").concat(t)).then((function(e){return e.json()}));case 2:if(a=e.sent,s=a.salt,i=a.identityFactoryAddr,o=a.baseIdentityAddr,l=a.bytecode,s&&i&&o&&l){e.next=9;break}throw new Error("Incomplete data from relayer for ".concat(t));case 9:return e.abrupt("return",{id:t,salt:s,identityFactoryAddr:i,baseIdentityAddr:o,bytecode:l,signer:{address:r}});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),ie=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,Promise.all(t.map(function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)("".concat(n,"/identity/any/by-owner/").concat(t,"?includeFormerlyOwned=true"));case 2:return a=e.sent,e.t0=Object,e.next=6,a.json();case 6:e.t1=e.sent,e.t0.entries.call(e.t0,e.t1).forEach((function(e){var n=Object(i.a)(e,2),a=n[0];n[1];return r[a]=Object(m.getAddress)(t)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.next=5,Promise.all(Object.entries(r).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return se(n,r)})));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[se,n]),oe=function(e){var t=e.addresses,n=e.deviceId,r=e.commKey,a=e.isPaired;B({addresses:t,signerName:"Lattice",signerExtra:{type:"Lattice",deviceId:n,commKey:r,isPaired:a}})};function le(){return ue.apply(this,arguments)}function ue(){return(ue=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(Object(D.jsx)(E.a,{addresses:oe}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return be.apply(this,arguments)}function be(){return(be=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.TrezorSubprovider({trezorConnectClientApi:b.a}),e.next=3,t.getAccountsAsync(50);case 3:n=e.sent,B({addresses:n,signerName:"Trezor",signerExtra:{type:"trezor",info:JSON.parse(JSON.stringify(t._initialDerivedKeyInfo))}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return je.apply(this,arguments)}function je(){return(je=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(A.a)()){e.next=5;break}return e.next=3,pe();case 3:e.next=7;break;case 5:return e.next=7,he();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return me.apply(this,arguments)}function me(){return(me=Object(s.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.LedgerSubprovider({networkId:0,ledgerEthereumClientFactoryAsync:p.ledgerEthereumBrowserClientFactoryAsync,baseDerivationPath:C.a}),e.next=3,t.getAccountsAsync(50);case 3:return n=e.sent,e.next=6,t._initialDerivedKeyInfoAsync().then((function(e){return{type:"ledger",info:JSON.parse(JSON.stringify(e))}}));case 6:r=e.sent,B({addresses:n,signerName:"Ledger",signerExtra:r});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return ve.apply(this,arguments)}function ve(){return(ve=Object(s.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,Object(C.b)();case 4:n=e.sent,r={type:"ledger",transportProtocol:"webHID"},1===n.length?Oe(n[0],r):B({addresses:n,signerName:"Ledger",signerExtra:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t=e.t0.statusCode&&"InvalidChannel"===e.t0.id?"Invalid channel":e.t0.statusCode&&25873===e.t0.statusCode?"Please make sure your ledger is connected and the ethereum app is open":e.t0.message;case 13:t&&G("Ledger error: ".concat(t.message||t));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var Oe=Object(o.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,s){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(e,t){return a(Object(r.a)(Object(r.a)({},e),{},{signerExtra:s}),t)},n){e.next=8;break}return e.t0=i,e.next=5,re(t,s.type);case 5:return e.t1=e.sent,e.t2={select:!0},e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 8:return e.next=10,ie([t]);case 10:if((o=e.sent).length){e.next=20;break}return e.t3=i,e.next=15,re(t,s.type);case 15:e.t4=e.sent,e.t5={select:!0,isNew:!0},(0,e.t3)(e.t4,e.t5),e.next=22;break;case 20:Z("Found ".concat(o.length," existing accounts with signer ").concat(t),{timeout:15e3}),o.forEach((function(e,t){return i(e,{select:0===t})}));case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[Z,re,ie,a,n]),xe=Object(o.useCallback)((function(e){te((function(){return Oe(e.address,W.signerExtra)})),B(null)}),[Oe,W]),ge=Object(o.useCallback)((function(){return B(null)}),[]);Object(o.useEffect)((function(){W&&Q(Object(D.jsx)(w.a,{signersToChoose:W.addresses,onSignerAddressClicked:xe,description:"Signer address is the ".concat(W.signerName," address you will use to sign transactions on Ambire Wallet.\n                    \u0410 new account will be created using this signer if you don\u2019t have one."),isCloseBtnShown:!0,onCloseBtnClicked:ge}))}),[xe,Q,W,ge]);var ye=Object(o.useCallback)((function(e,t){var n=new FileReader;if(t.length&&Z("".concat(t[0].file.path," - ").concat((t[0].file.size/1024).toFixed(2)," KB. ").concat(t[0].errors[0].message),{error:!0}),e.length){var r=e[0];n.readAsText(r,"UTF-8"),n.onload=function(e){var t=e.target.result,n=JSON.parse(t),r=Object(I.b)(n);r.success?a(n,{select:!0}):Z(r.message,{error:!0})}}}),[Z,a]),we=Object(L.a)({onDrop:ye,noClick:!0,noKeyboard:!0,accept:"application/json",maxFiles:1,validator:I.a}),ke=we.getInputProps,Ne=we.open,Ce=function(){Q(Object(D.jsx)(E.c,{accounts:F,onAddAccount:a,relayerURL:n,newAccount:!0}))},Ae=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("button",{onClick:function(){return ee(de,"hwwallet")},children:[Object(D.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/trezor.png)"}}),"Trezor"]}),Object(D.jsxs)("button",{onClick:function(){return ee(fe,"hwwallet")},children:[Object(D.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/ledger.png)"}}),"Ledger"]}),Object(D.jsxs)("button",{onClick:function(){return ee(le,"hwwallet")},children:[Object(D.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/grid-plus.png)"}}),"Grid+ Lattice1"]}),Object(D.jsxs)("button",{onClick:function(){return te(ae)},children:[Object(D.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/metamask.png)"}}),"Metamask / Browser"]}),Object(D.jsxs)("button",{onClick:function(){return te(Ne)},children:[Object(D.jsx)("div",{className:"icon",children:Object(D.jsx)(S.a,{size:25})}),"Import from JSON"]}),Object(D.jsxs)("button",{onClick:function(){return te(Ce)},children:[Object(D.jsx)("div",{className:"icon",children:Object(D.jsx)(T.n,{size:25})}),"Import from Paper Backup"]}),Object(D.jsx)("input",Object(r.a)({},ke()))]});return n?Object(D.jsxs)("div",{className:"loginSignupWrapper",children:[Object(D.jsx)("div",Object(r.a)({id:"logo"},P?{style:{backgroundImage:"url(".concat(P.iconUrl,")")}}:{})),P&&Object(D.jsxs)("div",{id:"plugin-info",children:[Object(D.jsx)("div",{className:"name",children:P.name}),Object(D.jsx)("div",{children:P.description})]}),Object(D.jsxs)("section",{id:"addAccount",children:[Object(D.jsxs)("div",{id:"loginEmail",children:[Object(D.jsx)("h3",{children:"Create a new account"}),Object(D.jsx)(u.a,{inProgress:"email"===$,onAccRequest:function(e){return ee((function(){return ne(e)}),"email")},action:"SIGNUP"}),V?Object(D.jsx)("p",{className:"error",children:V}):Object(D.jsx)(D.Fragment,{})]}),Object(D.jsxs)("div",{id:"loginSeparator",children:[Object(D.jsx)("div",{className:"verticalLine"}),Object(D.jsx)("span",{children:"or"}),Object(D.jsx)("div",{className:"verticalLine"})]}),Object(D.jsxs)("div",{id:"loginOthers",children:[Object(D.jsx)("h3",{children:"Add an account"}),"hwwallet"!==$?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(l.b,{to:"/email-login",children:Object(D.jsxs)("button",{children:[Object(D.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/envelope.png)"}}),"Email login"]})}),Ae,q?Object(D.jsx)("p",{className:"error",children:q}):Object(D.jsx)(D.Fragment,{})]}):Object(D.jsx)("div",{className:"accountLoader",children:Object(D.jsx)(N.m,{})})]})]})]}):Object(D.jsxs)("div",{className:"loginSignupWrapper",children:[Object(D.jsx)("div",{id:"logo"}),Object(D.jsx)("section",{id:"addAccount",children:Object(D.jsxs)("div",{id:"loginOthers",children:[Object(D.jsx)("h3",{children:"Add an account"}),Ae,Object(D.jsx)("h3",{children:"NOTE: You can enable email/password login by connecting to a relayer."}),q?Object(D.jsx)("p",{className:"error",style:{maxWidth:"800px"},children:q}):Object(D.jsx)(D.Fragment,{})]})})]})}b.a.manifest({email:"contactus@ambire.com",appUrl:"https://wallet.ambire.com"})}.call(this,n(25).Buffer)},596:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},a="https://storage.googleapis.com/zapper-fi-assets/tokens";function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase(),c=e.toLowerCase();return r[n]||"".concat(a,"/").concat(c,"/").concat(n,".png")}},604:function(e,t,n){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var r=Math.min(2,n||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(r,n),minimumFractionDigits:r})}catch(a){return console.error(a),e}}n.d(t,"a",(function(){return r}))},617:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return O}));var r=n(8),a=n(2),c=n.n(a),s=n(11),i=n(633),o=n(55),l=n(619),u=n(609),d=2147483648,b={startPath:[2147483692,2147483708,d,0,0],n:10},f=function(e){var t={name:"Ambire Wallet",crypto:u,privKey:e};return new i.Client(t)},j=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.connect(n,(function(t,n){t?r("Lattice connect: ".concat(t," Or check if the DeviceID is correct.")):e({isPaired:!!n,errConnect:!1})}))})).catch((function(e){return console.error(e),{isPaired:!1,errConnect:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.pair(n,(function(t,n){t?r("Lattice connect: ".concat(t)):e({hasActiveWallet:n,errPair:!1})}))})).catch((function(e){return console.error(e),{hasActiveWallet:!1,errPair:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.getAddresses(b,(function(t,r){if(t)n("Lattice get addresses: ".concat(t));else{if(!r)throw new Error("Lattice could not get the addresses.");e({res:r,errGetAddresses:!1})}}))})).catch((function(e){return console.error(e),{res:null,errGetAddresses:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={protocol:"signPersonal",payload:o.ethers.utils.hexlify(n),signerPath:[2147483692,2147483708,d,0,0]},a={currency:"ETH_MSG",data:r},e.next=4,new Promise((function(e,n){t.sign(a,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+r.sig.r+r.sig.s+r.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={currency:"ETH_MSG",data:{signerPath:[2147483692,2147483708,d,0,0],protocol:"eip712",payload:n}},e.next=3,new Promise((function(e,n){t.sign(r,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+r.sig.r+r.sig.s+r.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){var s,i,o,u,b,f,j,p,m,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.to,i=n.data,o=n.gas,u=n.gasPrice,b=n.nonce,f=n.value,j=void 0===f?0:f,delete(p=Object(r.a)(Object(r.a)({},n),{},{gasLimit:n.gasLimit||n.gas,chainId:a})).from,delete p.gas,m={nonce:b,gasLimit:o||n.gasLimit,gasPrice:u,to:s,value:j,data:i||"",signerPath:[2147483692,2147483708,d,0,0],chainId:a,useEIP155:!0},h={currency:"ETH",data:m},e.next=8,new Promise((function(e,n){t.sign(h,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");delete p.v;var a=Object(l.a)(p,{r:"0x"+r.sig.r,s:"0x"+r.sig.s,v:r.sig.v[0].toString(16)});e({serializedSigned:a,errSignTxn:!1})}}))})).catch((function(e){return console.error(e),{serializedSigned:null,errSignTxn:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},631:function(e,t,n){"use strict";var r=n(7),a=(n(772),n(3)),c=n(34),s=n(77),i=n(616),o=n(37),l=n(4);t.a=function(e){var t,n=e.signersToChoose,u=e.onSignerAddressClicked,d=e.selectedNetwork,b=void 0===d?{explorerUrl:"https://etherscan.io"}:d,f=e.description,j=void 0===f?"":f,p=e.isCloseBtnShown,m=void 0===p||p,h=e.onCloseBtnClicked,v=Object(c.f)().hideModal,O=Object(a.useState)(0),x=Object(r.a)(O,2),g=x[0],y=x[1],w=[];t=5,w=n.reduce((function(e,n,r){var a=Math.floor(r/t);return(e[a]||(e[a]=[])).push(n),e}),[]);var k=function(e){return e.slice(0,5)+"..."+e.slice(e.length-4,e.length)},N=0===g,C=g===w.length-1;return Object(l.jsxs)(s.n,{id:"select-signer-modal",title:"Select a signer account",isCloseBtnShown:m,onClose:h,children:[Object(l.jsx)("div",{className:"intro",children:j}),Object(l.jsxs)("div",{className:"loginSignupWrapper chooseSigners",children:[Object(l.jsx)("ul",{id:"signersToChoose",children:n?w[g].map((function(e,t){return Object(l.jsxs)("li",{className:t%2?"":" odd-rows-bg",onClick:function(){return function(e,t){u({address:e,index:t}),v()}(e,5*g+t)},children:[Object(l.jsx)("span",{className:"index-row",children:5*g+t+1}),Object(l.jsx)("span",{children:k(e)}),Object(l.jsx)("a",{href:b.explorerUrl+"/address/"+e,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:Object(l.jsx)(i.c,{size:25})})]},e)})):null}),Object(l.jsxs)("div",{className:"pages",children:[g+1,"/",w.length]}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)(s.e,{disabled:N,icon:Object(l.jsx)(o.w,{}),small:!0,clear:!0,type:"button",onClick:function(){0!==g&&y((function(e){return e-1}))},children:"Previous page"}),Object(l.jsx)(s.e,{disabled:C,iconAfter:Object(l.jsx)(o.x,{}),small:!0,clear:!0,type:"button",onClick:function(){g!==w.length-1&&y((function(e){return e+1}))},children:"Next page"})]})]})]})}},632:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return C}));var r=n(8),a=n(2),c=n.n(a),s=n(11),i=n(710),o=n(717),l=n(619),u=n(231),d=n(611),b=null,f="44'/60'/0'/0";function j(){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.list();case 2:if(!(b=e.sent).length){e.next=11;break}if(!b[0].opened){e.next=8;break}return e.abrupt("return",new i.a(b[0]));case 8:return e.abrupt("return",i.a.open(b[0]));case 9:e.next=22;break;case 11:return e.prev=11,e.next=14,i.a.request();case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(11),!e.t0.message.includes("reading 'open'")){e.next=21;break}throw new Error("ledger WebHID request denied");case 21:throw new Error("Could not request WebHID ledger: "+e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return t=e.sent,e.next=5,v(t);case 5:return n=e.sent,t.close(),e.abrupt("return",n.map((function(e){return e.address})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(c.a.mark((function t(n){var r,a,s,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="m/".concat(f),t.next=3,x(n,r).then((function(e){return e})).catch((function(e){throw 25871===e.statusCode||27404===e.statusCode?Error("Please make sure your ledger is unlocked and running the Ethereum app. "+e.message):Error("Could not get address from ledger : "+e)}));case 3:return a=t.sent,(s=new d).publicKey=e.from(a.publicKey,"hex"),s.chainCode=e.from(a.chainCode,"hex"),i=T(s),o={hdKey:s,address:i,derivationPath:r,baseDerivationPath:f},t.abrupt("return",S(o,1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(e,t){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(c.a.mark((function e(t,n){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new o.a(t),s=new Promise((function(e,t){r=setTimeout((function(){return t(new Error("Device took too long to respond..."))}),1e4)})),e.abrupt("return",Promise.race([a.getAddress(n,!1,!0),s]).then((function(e){return clearTimeout(r),e})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(c.a.mark((function e(t,n){var a,s,i,u,d,b,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return a=e.sent,s=t.from,delete(i=Object(r.a)(Object(r.a)({},t),{},{gasLimit:t.gasLimit||t.gas,chainId:n})).from,delete i.gas,u=Object(l.a)(i),e.next=10,v(a);case 10:if(d=e.sent,d[0].address.toLowerCase()!==s.toLowerCase()){e.next=30;break}return e.prev=13,e.next=16,new o.a(a).signTransaction(d[0].derivationPath,u.substr(2));case 16:f=e.sent,e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(13),new Error("Could not sign transaction "+e.t0);case 22:if(p=parseInt(f.v,16),Math.floor((p-35)/2)===n){e.next=26;break}throw new Error("Invalid returned V 0x"+f.v);case 26:delete i.v,b=Object(l.a)(i,{r:"0x"+f.r,s:"0x"+f.s,v:p}),e.next=31;break;case 30:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 31:return a.close(),e.abrupt("return",b);case 33:case"end":return e.stop()}}),e,null,[[13,19]])})))).apply(this,arguments)}function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(c.a.mark((function e(t,n){var r,a,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return r=e.sent,e.next=5,v(r);case 5:if(a=e.sent,(s=a[0]).address.toLowerCase()!==n.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new o.a(r).signPersonalMessage(s.derivationPath,t.substr(2));case 11:l=e.sent,i="0x"+l.r+l.s+l.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return r.close(),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function C(e,t,n){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(c.a.mark((function e(t,n,r){var a,s,i,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return a=e.sent,e.next=5,v(a);case 5:if(s=e.sent,(i=s[0]).address.toLowerCase()!==r.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new o.a(a).signEIP712HashedMessage(i.derivationPath,t,n);case 11:u=e.sent,l="0x"+u.r+u.s+u.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return a.close(),e.abrupt("return",l);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function S(e,t){for(var n=[],r=0;r<t;r++){var a="m/".concat(e.baseDerivationPath,"/").concat(r),c="m/".concat(r),s=e.hdKey.derive(c),i={address:T(s),hdKey:s,baseDerivationPath:e.baseDerivationPath,derivationPath:a};n.push(i)}return n}function T(e){var t=e.publicKey,n=u.publicToAddress(t,!0).toString("hex");return u.addHexPrefix(n).toLowerCase()}}).call(this,n(25).Buffer)},635:function(e,t,n){"use strict";n(799);var r=n(37),a=n(34),c=n(77),s=n(4);t.a=function(e){var t=e.title,n=void 0===t?"Details":t,i=e.description,o=void 0===i?"":i,l=Object(a.f)().hideModal,u=Object(s.jsx)(c.e,{clear:!0,small:!0,icon:Object(s.jsx)(r.i,{}),onClick:l,children:"Close"});return Object(s.jsx)(c.n,{id:"wallet-more-details-modal",title:n,buttons:u,children:Object(s.jsx)("p",{children:o})})}},653:function(e,t,n){"use strict";var r=n(8),a=n(2),c=n.n(a),s=n(11),i=n(7),o=(n(782),n(3)),l=n(37),u=n(34),d=n(44),b=n(718),f=n(77),j=n(153),p=n(84),m=n(228),h=n(152),v=n(684),O=n(151),x=n(4),g=function(e){return"You blocked the ".concat(e," permission. Check your browser permissions tab.")};t.a=function(e){var t=e.relayerIdentityURL,n=e.account,a=e.onAddAccount,y=e.isCloseBtnShown,w=e.isBackupOptout,k=e.setRedisplayPermissionsModal,N=e.showThankYouPage,C=Object(u.f)(),A=C.hideModal,S=C.showModal,T=Object(u.g)(),L=T.isNoticationsGranted,I=T.isClipboardGranted,E=T.modalHidden,D=T.setModalHidden,P=Object(d.a)().addToast,F=Object(o.useState)(!1),M=Object(i.a)(F,2),_=M[0],W=M[1],B=Object(o.useState)(!1),R=Object(i.a)(B,2),U=R[0],V=R[1],H=Object(o.useState)(w),K=Object(i.a)(H,2),z=K[0],q=K[1],G=Object(o.useState)(6e4),Y=Object(i.a)(G,2),J=Y[0],$=Y[1];k(!1);var X=Math.ceil(O.a.quickAccTimelock/86400),Z=!Object(j.a)()&&!I||!L,Q=n.emailConfRequired&&!_,ee=Q||!E&&Z,te=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.c)(t+"/resend-verification-email");case 3:if(e.sent.success){e.next=6;break}throw new Error("Relayer did not return success.");case 6:P("Verification email sent!"),V(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),P("Could not resend verification email."+e.t0.message||!1,{error:!0}),V(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ne=Object(o.useCallback)(Object(s.a)(c.a.mark((function e(){var s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.c)(t);case 3:(s=e.sent)&&(i=s.meta.emailConfirmed,W(o=!!i),o&&n.emailConfRequired&&a(Object(r.a)(Object(r.a)({},n),{},{emailConfRequired:!1}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),P("Could not check email confirmation.",{error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,n,a,P]),re=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("notifications");case 2:e.sent||P(g("Notifications"),{error:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("clipboard-read");case 2:e.sent||P(g("Clipboard"),{error:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!_&&ne();var e=setInterval((function(){return!_&&ne()}),3e3);return function(){return clearInterval(e)}}),[_,ne]);var ce=function(){A(),N&&se()},se=function(){return window.open("https://www.ambire.com/thankyou","_blank")},ie=z?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.e,{clear:!0,small:!0,icon:Object(x.jsx)(l.i,{}),disabled:Q,onClick:ce,children:"Ignore"}),Object(x.jsx)(f.e,{small:!0,icon:Object(x.jsx)(l.g,{}),disabled:ee,onClick:ce,children:"Done"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.e,{clear:!0,small:!0,icon:Object(x.jsx)(l.i,{}),disabled:!0,onClick:ce,children:"Ignore"}),Object(x.jsx)(f.e,{small:!0,icon:Object(x.jsx)(l.g,{}),disabled:!0,onClick:ce,children:"Done"})]});return Object(o.useEffect)((function(){var e=setInterval((function(){return $((function(e){return e>0?e-1e3:0}))}),1e3);return function(){return clearTimeout(e)}}),[]),Object(x.jsxs)(f.n,{id:"permissions-modal",title:"We need a few things \ud83d\ude4f",buttons:ie,isCloseBtnShown:y,onClose:function(){N&&se()},children:[n.email?Object(x.jsxs)("div",{className:"permission",children:[Object(x.jsxs)("div",{className:"details",children:[Object(x.jsx)("div",{className:"name",children:"Email Verification"}),Object(x.jsxs)("div",{className:"description",children:[Object(x.jsx)("b",{children:"Confirming your email is mandatory so that we can make sure your account can be recovered in case access is lost."}),"\xa0We already sent an email, please check your inbox."]})]}),Object(x.jsxs)("div",{className:"status",children:[_?Object(x.jsx)("span",{className:"check-icon",children:Object(x.jsx)(l.H,{})}):Object(x.jsxs)("label",{children:["Waiting for",Object(x.jsx)("br",{}),"your confirmation"]}),_||U?null:Object(x.jsx)(f.y,{label:"Will be available in ".concat(J/1e3," seconds"),disabled:0===J,children:Object(x.jsx)(f.e,{mini:!0,clear:!0,icon:Object(x.jsx)(m.g,{}),disabled:0!==J,onClick:te,children:"Resend"})})]})]}):null,Object(x.jsxs)("div",{className:"permission",children:[Object(x.jsxs)("div",{className:"details",children:[Object(x.jsx)("div",{className:"name",children:"Notifications Permission"}),Object(x.jsxs)("div",{className:"description",children:["Needed to draw your attention to Ambire Wallet when there is a transaction signing request.",Object(x.jsx)("br",{}),"You can also click the notifications to go directly to the Ambire tab.",Object(x.jsx)("br",{}),"We do not send any other notifications."]})]}),Object(x.jsx)(f.x,{checked:L,onChange:function(){return re()}})]}),Object(x.jsxs)("div",{className:"permission ".concat(Object(j.a)()?"disabled":""),children:[Object(x.jsxs)("div",{className:"details",children:[Object(x.jsxs)("div",{className:"name",children:["Clipboard Permission ",Object(j.a)()?Object(x.jsx)("span",{className:"unavailable",children:"(Unavailable in Firefox)"}):null]}),Object(x.jsx)("div",{className:"description",children:"Needed so that dApps can be connected automatically just by copying their WalletConnect URL."}),Object(j.a)()?Object(x.jsx)("div",{className:"unavailable",children:"Without this, you can still use Ambire, but you will have to paste URLs manually"}):null]}),Object(x.jsx)(f.x,{checked:I,onChange:function(){return ae()}})]}),!w&&Object(x.jsxs)("div",{className:"permission",children:[Object(x.jsxs)("div",{className:"details",children:[Object(x.jsx)("div",{className:"name",children:"Download a backup"}),Object(x.jsxs)("div",{className:"description",children:["In case you forget your password or lose your backup, ",Object(x.jsx)("br",{}),"you will have to wait ",X," days and pay the recovery fee to restore access to your account."]})]}),Object(x.jsx)("div",{className:"status",children:z?Object(x.jsx)("span",{className:"check-icon",children:Object(x.jsx)(l.H,{})}):Object(x.jsxs)("div",{className:"export-buttons",children:[Object(x.jsx)(f.e,{small:!0,onClick:function(){q(!0);var e=Object(r.a)({},n);console.log("copiedAcc",e),"undefined"!==typeof e.emailConfRequired&&delete e.emailConfRequired,"undefined"!==typeof e.backupOptout&&delete e.backupOptout,"undefined"!==typeof e.cloudBackupOptout&&delete e.cloudBackupOptout,function(e){var t=e.data,n=e.fileName,r=e.fileType,a=new Blob([t],{type:r}),c=document.createElement("a");c.download=n,c.href=window.URL.createObjectURL(a);var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});c.dispatchEvent(s),c.remove()}({data:JSON.stringify(e),fileName:"".concat(e.id,".json"),fileType:"text/json"}),a(Object(r.a)(Object(r.a)({},n),{},{backupOptout:!1}))},icon:Object(x.jsx)(h.k,{}),children:"JSON Export"}),Object(x.jsx)(f.e,{small:!0,onClick:function(){S(Object(x.jsx)(v.b,{selectedAccount:n,accounts:[n],onAddAccount:a,modalCloseHandler:function(){k(!0)}}))},icon:Object(x.jsx)(h.m,{}),children:"Paper Export"})]})})]}),Q?Object(x.jsx)(x.Fragment,{}):Object(x.jsx)(f.g,{label:"I understand, do not show this again.",checked:E,onChange:function(e){var t=e.target;return D(t.checked)}}),w?null:Object(x.jsx)("p",{className:"download-backup",children:"You have to download a backup of you profile before you can continue"})]})}},654:function(e,t,n){"use strict";var r=n(8),a=n(7),c=(n(783),n(3)),s=n(37),i=n(34),o=n(77),l=n(4);t.a=function(e){var t=e.title,n=e.inputs,u=e.onClose,d=Object(i.f)().hideModal,b=Object(c.useState)(!0),f=Object(a.a)(b,2),j=f[0],p=f[1],m=n.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{ref:Object(c.createRef)()})})),h=function(){var e=m.map((function(e){var t=e.ref,n=e.validate;return t.current.value&&(!n||n(t.current.value))})).every((function(e){return!0===e}));p(!e)},v=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.e,{clear:!0,small:!0,icon:Object(l.jsx)(s.i,{}),onClick:d,children:"Cancel"}),Object(l.jsx)(o.e,{small:!0,icon:Object(l.jsx)(s.g,{}),disabled:j,onClick:function(){var e=m.map((function(e){return e.ref.current.value}));u&&u(e),d()},children:"Confirm"})]});return Object(l.jsx)(o.n,{id:"input-modal",title:t,buttons:v,children:m.map((function(e){var t=e.id,n=e.label,r=e.placeholder,a=e.ref;return Object(l.jsx)(o.w,{label:n,placeholder:r,onInput:h,ref:a},t||n)}))})}},655:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(8),s=n(11),i=n(7),o=(n(784),n(101)),l=n(21),u=n(3),d=n(77),b=n(37),f=n(34),j=n(44),p=n(151),m=n(84),h=n(679),v=n(4);t.a=function(e){var t=e.account,n=e.selectedNetwork,r=e.relayerURL,O=e.onAddAccount,x=e.showSendTxns,g=Object(f.f)().hideModal,y=Object(j.a)().addToast,w=Object(u.useState)(!1),k=Object(i.a)(w,2),N=k[0],C=k[1],A=Object(u.useState)(null),S=Object(i.a)(A,2),T=S[0],L=S[1],I=Object(u.useState)(""),E=Object(i.a)(I,2),D=E[0],P=E[1],F=Object(u.useState)(""),M=Object(i.a)(F,2),_=M[0],W=M[1],B=Object(u.useState)(""),R=Object(i.a)(B,2),U=R[0],V=R[1],H=Object(u.useState)(!0),K=Object(i.a)(H,2),z=K[0],q=K[1],G=Object(u.useState)(!1),Y=Object(i.a)(G,2),J=Y[0],$=Y[1],X=Object(u.useState)(!1),Z=Object(i.a)(X,2),Q=Z[0],ee=Z[1],te=Object(u.useMemo)((function(){return[{label:"Change the password on this device and Ambire Cloud. Best if you just want to routinely change the password.",value:"change",disabled:!t.primaryKeyBackup},{label:"Reset the key and password: takes 3 days. Chose this if you've forgotten the old password.",value:"reset"}]}),[t.primaryKeyBackup]),ne=Object(u.useMemo)((function(){return[[{label:Object(v.jsxs)(v.Fragment,{children:["I understand the following: the new password will be required for subsequent logins, but places where you're already logged in will work with the old password until you re-login.",Object(v.jsx)(d.y,{label:"This is because, for security reasons, the encrypted key is retrieved only when logging in, so we have no way of forcing every device to update it. If you want to disable access for other devices, consider the next option.",children:Object(v.jsx)(b.L,{})})]}),ref:Object(u.createRef)()}],[{label:Object(v.jsxs)(v.Fragment,{children:["I understand I am only changing the password on the ",n.name," network.",Object(v.jsx)(d.y,{label:"You will be able to trigger the change for other networks by switching the network",children:Object(v.jsx)(b.L,{})})]}),ref:Object(u.createRef)()},{label:"I understand I need to wait for 3 days for the change to be finalized.",ref:Object(u.createRef)()}]]}),[n.name]),re=function(){var e=Object(s.a)(a.a.mark((function e(){var n,s,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:return e.prev=3,e.next=6,o.Wallet.fromEncryptedJson(JSON.parse(t.primaryKeyBackup),D);case 6:return n=e.sent,e.t0=JSON,e.next=10,n.encrypt(_,p.a.encryptionOpts);case 10:return e.t1=e.sent,s=e.t0.stringify.call(e.t0,e.t1),e.next=14,n.signMessage(JSON.stringify({primaryKeyBackup:s}));case 14:return i=e.sent,e.next=17,Object(m.d)("".concat(r,"/identity/").concat(t.id,"/modify"),{primaryKeyBackup:s,sig:i});case 17:if(!(l=e.sent).success){e.next=25;break}O(Object(c.a)(Object(c.a)({},t),{},{primaryKeyBackup:s})),y("You password was successfully updated"),C(!1),g(),e.next=26;break;case 25:throw new Error("Unable to update account: ".concat(l.message||"unknown error"));case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(3),console.error(e.t2),y("Changing password error: "+(e.t2.message||e.t2),{error:!0});case 32:C(!1);case 33:case"end":return e.stop()}}),e,null,[[3,28]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(s.a)(a.a.mark((function e(){var r,s,i,u,d,b,f,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:return e.prev=3,r=Object(l.id)(t.email+":"+Date.now()+":"+Math.random()+":"+("object"===typeof performance&&performance.now())),s=o.Wallet.createRandom({extraEntropy:r}),i=p.a.quickAccManager,u=p.a.quickAccTimelock,d=p.a.encryptionOpts,b={quickAccManager:i,timelock:u,one:s.address,two:t.signer.two,preRecovery:t.signer},e.t0=JSON,e.next=11,s.encrypt(_,d);case 11:e.t1=e.sent,f=e.t0.stringify.call(e.t0,e.t1),j=Object(h.a)(t.id,n.id,b.preRecovery,{signer:b,primaryKeyBackup:f}),g(),x(j,!0),O(Object(c.a)(Object(c.a)({},t),{},{primaryKeyBackup:f,signer:b,preRecoveryPrimaryKeyBackup:t.primaryKeyBackup}),{select:!0}),e.next=23;break;case 19:e.prev=19,e.t2=e.catch(3),console.error(e.t2),y("Reset password error: "+(e.t2.message||e.t2),{error:!0});case 23:C(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),ce=Object(u.useCallback)((function(){var e=_===U,t=!1,n=!1,r=!1;"change"===T&&(t=D.length&&_.length&&U.length,n=D.length>=8&&_.length>=8&&U.length>=8,r=ne[0].every((function(e){var t=e.ref;return t.current&&t.current.checked}))),"reset"===T&&(t=_.length&&U.length,n=_.length>=8&&U.length>=8,r=ne[1].every((function(e){var t=e.ref;return t.current&&t.current.checked}))),q(!n||!e||!r),t?(ee(!n),$(!e)):(ee(!1),$(!1))}),[ne,T,D,_,U]);Object(u.useEffect)((function(){return ce()}),[N,ce,D,_,U]);var se=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.e,{icon:Object(v.jsx)(b.I,{}),clear:!0,onClick:function(){return g()},children:"Cancel"}),Object(v.jsx)(d.e,{icon:Object(v.jsx)(b.H,{}),disabled:z,onClick:function(){return"change"===T?re():ae()},children:"Confirm"})]});return Object(v.jsxs)(d.n,{id:"reset-password-modal",title:"Reset Password",buttons:se,children:[N?Object(v.jsx)("div",{id:"loading-overlay",children:Object(v.jsx)(d.m,{})}):null,Object(v.jsx)(d.r,{radios:te,onChange:function(e){L(e),P(""),W(""),V(""),$(!1),ee(!1)}}),"change"===T?Object(v.jsxs)("form",{children:[Object(v.jsx)(d.q,{autocomplete:"current-password",placeholder:"Old Password",onInput:function(e){return P(e)}}),Object(v.jsx)(d.q,{peakPassword:!0,autocomplete:"new-password",placeholder:"New Password",onInput:function(e){return W(e)}}),Object(v.jsx)(d.q,{autocomplete:"new-password",placeholder:"Confirm New Password",onInput:function(e){return V(e)}}),ne[0].map((function(e,t){var n=e.label,r=e.ref;return Object(v.jsx)(d.g,{ref:r,label:n,onChange:function(){return ce()}},"checkbox-".concat(t))}))]}):null,"reset"===T?Object(v.jsxs)("form",{children:[Object(v.jsx)(d.q,{peakPassword:!0,autocomplete:"new-password",placeholder:"New Password",onInput:function(e){return W(e)}}),Object(v.jsx)(d.q,{autocomplete:"new-password",placeholder:"Confirm New Password",onInput:function(e){return V(e)}}),ne[1].map((function(e,t){var n=e.label,r=e.ref;return Object(v.jsx)(d.g,{ref:r,label:n,onChange:function(){return ce()}},"checkbox-".concat(t))}))]}):null,Object(v.jsxs)("div",{id:"warnings",children:[J?Object(v.jsx)("div",{className:"warning",children:"Passwords must match"}):null,Q?Object(v.jsx)("div",{className:"warning",children:"Password length must be greater than 8 characters"}):null]})]})}},657:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(11),s=n(7),i=(n(788),n(95)),o=n(21),l=n(607),u=n(91),d=n(77),b=n(3),f=n(44),j=n(37),p=n(34),m=n(87),h=n(596),v=n(4),O=new o.Interface(l);t.a=function(e){var t=e.network,n=e.account,r=e.portfolio,l=Object(f.a)().addToast,x=Object(p.f)().hideModal,g=r.extraTokens,y=r.onAddExtraToken,w=r.onRemoveExtraToken,k=Object(b.useState)(!1),N=Object(s.a)(k,2),C=N[0],A=N[1],S=Object(b.useState)(null),T=Object(s.a)(S,2),L=T[0],I=T[1],E=Object(b.useState)(!1),D=Object(s.a)(E,2),P=D[0],F=D[1],M=!L||!(L.symbol&&L.decimals),_=function(){var e=Object(c.a)(a.a.mark((function e(r){var c,d,b,f,j,p,v,x,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(null),Object(u.b)(r)){e.next=3;break}return e.abrupt("return");case 3:return A(!0),F(!1),e.prev=5,c=Object(m.a)(t.id),d=new i.Contract(r,O,c),e.next=10,Promise.all([d.balanceOf(n),d.name(),d.symbol(),d.decimals()]);case 10:b=e.sent,f=Object(s.a)(b,4),j=f[0],p=f[1],v=f[2],x=f[3],g=Object(o.formatUnits)(j,x),I({account:n,address:r.toLowerCase(),network:t.id,balance:g,balanceRaw:j.toString(),tokenImageUrl:Object(h.a)(t.id,r),name:p,symbol:v,decimals:x}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),console.error(e.t0),l("Failed to load token info",{error:!0}),F(!0);case 25:A(!1);case 26:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}(),W=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(d.e,{clear:!0,icon:Object(v.jsx)(j.I,{}),onClick:function(){return x()},children:"Close"}),Object(v.jsx)(d.e,{icon:Object(v.jsx)(j.C,{}),disabled:M,onClick:function(){y(L),x()},children:"Add"})]}),B="binance-smart-chain"===t.id?"a BEP20":"ethereum"===t.id?"an ERC20":"a valid";return Object(v.jsxs)(d.n,{id:"add-token-modal",title:"Add Token",buttons:W,children:[Object(v.jsx)(d.w,{label:"Token Address",placeholder:"0x...",onInput:function(e){return _(e)}}),P?Object(v.jsxs)("div",{className:"validation-error",children:["The address you entered does not appear to correspond to ",B," token on ",t.name,"."]}):null,C?Object(v.jsx)(d.m,{}):!P&&L?Object(v.jsxs)("div",{className:"token-details",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(L.icon,")")}}),Object(v.jsxs)("div",{className:"name",children:[L.name," ",Object(v.jsxs)("span",{children:["(",L.symbol,") ",L.network.toUpperCase()]})]})]}),Object(v.jsxs)("div",{className:"balance",children:["Balance: ",Object(v.jsx)("span",{children:L.balance})," ",Object(v.jsx)("b",{children:L.symbol})]})]}):null,Object(v.jsx)("div",{className:"extra-tokens-list",children:g.map((function(e){var t=e.address,n=e.name,r=e.symbol,a=e.tokenImageUrl,c=e.network;return Object(v.jsxs)("div",{className:"extra-token",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(a,")")}}),Object(v.jsxs)("div",{className:"name",children:[n," ",Object(v.jsxs)("span",{children:["(",r,") ",c.toUpperCase()]})]})]}),Object(v.jsx)("div",{className:"actions",children:Object(v.jsx)(d.e,{mini:!0,clear:!0,onClick:function(){return function(e){w(e),x()}(t)},children:Object(v.jsx)(j.T,{})})})]},t)}))})]})}},658:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(11),s=n(7),i=(n(789),n(77)),o=n(3),l=n(44),u=n(617),d=n(609),b=n.n(d),f=n(4),j=b.a.randomBytes(32).toString("hex");t.a=function(e){var t=e.addresses,n=Object(l.a)().addToast,r=Object(o.useState)(!1),d=Object(s.a)(r,2),b=d[0],p=d[1],m=Object(o.useState)(""),h=Object(s.a)(m,2),v=h[0],O=h[1],x=Object(o.useState)(!1),g=Object(s.a)(x,2),y=g[0],w=g[1],k=Object(o.useState)(null),N=Object(s.a)(k,2),C=N[0],A=N[1],S=Object(o.useRef)(null);Object(o.useEffect)((function(){y&&S.current.focus()}),[y]);var T=Object(u.c)(j),L=function(){var e=Object(c.a)(a.a.mark((function e(){var r,c,s,i,o,l,d,b,f,m,h,O,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p((function(e){return!e})),e.next=3,Object(u.a)(T,v);case 3:if(r=e.sent,c=r.isPaired,!(s=r.errConnect)){e.next=10;break}return p((function(e){return!e})),n("Lattice: ".concat(s," Or check if the Device ID is correct."),{error:!0}),e.abrupt("return");case 10:if(c){e.next=41;break}return w((function(e){return!e})),e.next=14,new Promise((function(e,t){A((function(){return e}))}));case 14:if(""===(i=e.sent)){e.next=39;break}return w((function(e){return!e})),e.next=19,Object(u.d)(T,i);case 19:if(o=e.sent,l=o.hasActiveWallet,!(d=o.errPair)){e.next=26;break}return p((function(e){return!e})),n(d,{error:!0}),e.abrupt("return");case 26:if(l){e.next=29;break}return n("Lattice has no active wallet!"),e.abrupt("return");case 29:return e.next=31,Object(u.b)(T);case 31:if(b=e.sent,f=b.res,!(m=b.errGetAddresses)){e.next=38;break}return p((function(e){return!e})),n(m,{error:!0}),e.abrupt("return");case 38:f&&(t({addresses:f,deviceId:v,commKey:j,isPaired:!0}),p(!1));case 39:e.next=51;break;case 41:return e.next=43,Object(u.b)(T);case 43:if(h=e.sent,O=h.res,!(x=h.errGetAddresses)){e.next=50;break}return p(!1),n("Lattice: ".concat(x),{error:!0}),e.abrupt("return");case 50:O&&(t({addresses:O,deviceId:v,commKey:j,isPaired:!0}),p(!1));case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(i.n,{title:"Connect to Lattice Device",children:Object(f.jsx)("div",{id:"grid-plus",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["The device ID is listed on your Lattice under"," ",Object(f.jsx)("strong",{children:"Settings"}),"."]}),Object(f.jsx)("h4",{children:"Device ID"}),Object(f.jsx)(i.w,{disabled:y,placeholder:"Enter the device ID",onInput:function(e){var t;6===(t=e).length&&O(t)}}),y&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h4",{children:"Secret"}),Object(f.jsx)(i.w,{ref:S,placeholder:"Enter secret",style:{textTransform:"uppercase"},onInput:function(e){return function(e){var t=e.toUpperCase();8===t.length&&C(t)}(e)}})]}),b&&!y?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"It may takes a while."}),Object(f.jsx)("h3",{children:"Please wait..."})]}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)("div",{className:"buttons",children:b?Object(f.jsx)(i.e,{disabled:!0,children:Object(f.jsx)(i.m,{})}):Object(f.jsx)(i.e,{onClick:L,children:"Connect to Wallet"})})]})})})}},662:function(e,t,n){"use strict";var r=n(17),a=n(7),c=n(77),s=n(34),i=n(3),o=n(37),l=(n(796),n(4));t.a=function(e){var t=e.connections,n=e.disconnect,u=e.advancedModeList,d=e.onContinue,b=Object(s.f)().hideModal,f=Object(i.useState)(!1),j=Object(a.a)(f,2),p=j[0],m=j[1],h=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(c.e,{clear:!0,icon:Object(l.jsx)(o.i,{}),onClick:function(){t.map((function(e){var t=e.uri;return n(t)})),b()},children:"Cancel"}),Object(l.jsx)(c.e,{disabled:!p,onClick:function(){d([].concat(Object(r.a)(u),Object(r.a)(t.map((function(e){return e.session.peerMeta.url}))))),b()},children:"Continue"})]});return Object(l.jsxs)(c.n,{id:"unsupported-dapps",title:"Unsupported dApps",buttons:h,isCloseBtnShown:!1,children:[Object(l.jsx)("div",{className:"message",children:"These dApps does not fully support smart wallets and/or WalletConnect:"}),Object(l.jsx)("div",{className:"dapps-list",children:t.map((function(e,t){var n=e.session;return Object(l.jsxs)("a",{className:"dapp",href:n.peerMeta.url,target:"_blank",rel:"noreferrer",children:[Object(l.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(n.peerMeta.icons[0],")")},children:Object(l.jsx)(o.c,{})}),Object(l.jsx)("div",{className:"name",children:n.peerMeta.name})]},"dapp-".concat(t))}))}),Object(l.jsx)(c.i,{}),Object(l.jsxs)("div",{className:"message",children:["For more information on why these dApps do not support Ambire, please read ",Object(l.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415496135698-Which-dApps-are-supported-by-Ambire-Wallet-",target:"_blank",rel:"noreferrer",children:"this article"}),"."]}),Object(l.jsx)("div",{className:"separator"}),Object(l.jsxs)("div",{className:"advanced-mode",children:[Object(l.jsx)("label",{className:"advanced-mode-label",children:"Advanced mode:"}),Object(l.jsx)(c.g,{label:"I know what I'm doing and I accept the risks",checked:p,onChange:function(e){var t=e.target;return m(t.checked)}})]})]})}},663:function(e,t,n){"use strict";var r=n(17),a=(n(797),n(77)),c=n(37),s=n(34),i=n(3),o=n(4),l=function(e){var t=e.token,n=e.button;return Object(o.jsxs)("div",{className:"extra-token",children:[Object(o.jsxs)("div",{className:"info",children:[Object(o.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(t.tokenImageUrl,")")}}),Object(o.jsx)("div",{className:"name",children:Object(o.jsxs)("span",{children:[t.symbol," (",t.network.toUpperCase(),")"]})})]}),n]},t.address)};t.a=function(e){var t=e.portfolio,n=e.account,u=e.network,d=e.userSorting,b=e.sortType,f=e.setIsHideTokenModalOpen,j=Object(s.f)(),p=j.hideModal,m=j.setOnClose,h=t.hiddenTokens,v=t.onAddHiddenToken,O=t.onRemoveHiddenToken,x=t.tokens,g=Object(i.useMemo)((function(){var e=x.concat(h).sort((function(e,t){var r,a,c;if("custom"===b&&(null===(r=d.tokens)||void 0===r||null===(a=r.items)||void 0===a||null===(c=a["".concat(n,"-").concat(u.chainId)])||void 0===c?void 0:c.length))return d.tokens.items["".concat(n,"-").concat(u.chainId)].indexOf(e.address)-d.tokens.items["".concat(n,"-").concat(u.chainId)].indexOf(t.address);var s=t.balanceUSD-e.balanceUSD;return 0===s?e.symbol.localeCompare(t.symbol):s}));return Object(r.a)(new Map(e.map((function(e){return[e.address,e]}))).values())}),[x,h,d,b,n,u.chainId]);return Object(i.useEffect)((function(){m({close:function(){return f(!1)}})}),[m,f]),Object(o.jsxs)(a.n,{id:"hide-token-modal",title:"Hide Token",children:[Object(o.jsx)("div",{className:"extra-tokens-list",children:g.map((function(e){return Object(o.jsx)(l,{token:e,button:e.isHidden?Object(o.jsx)(c.cb,{className:"extra-token-icon",color:"#f98689",onClick:function(){return function(e){return O(e.address)}(e)}}):Object(o.jsx)(c.Z,{className:"extra-token-icon",color:"#36c979",onClick:function(){return function(e){return v(e)}(e)}})},e.address)}))}),Object(o.jsx)("div",{className:"modalBottom",children:Object(o.jsx)(a.e,{clear:!0,icon:Object(o.jsx)(c.I,{}),onClick:function(){f(!1),p()},children:"Close"})})]})}},664:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(11),s=n(8),i=n(7),o=(n(800),n(3)),l=n(37),u=n(34),d=n(77),b=n(233),f=n(234),j=n(4);t.a=function(e){var t=e.title,n=e.inputs,r=e.selectedNetwork,p=e.onClose,m=Object(u.f)().hideModal,h=Object(o.useState)(!0),v=Object(i.a)(h,2),O=v[0],x=v[1],g=Object(o.useState)(""),y=Object(i.a)(g,2),w=y[0],k=y[1],N=Object(o.useState)(""),C=Object(i.a)(N,2),A=C[0],S=C[1],T=Object(o.useRef)(null),L=Object(o.useMemo)((function(){return n.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{ref:Object(o.createRef)()})}))}),[n]),I=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(t,null,r.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){T.current&&clearTimeout(T.current);var e=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.find((function(e){return"address"===e.inputType})),n=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(r=null,c=null,!t){e.next=15;break}return e.next=9,I(n);case 9:return r=e.sent,e.next=12,Object(f.b)(n);case 12:c=e.sent,T.current=null,r?k(r):c&&S(c);case 15:s=L.map((function(e){var t=e.ref,n=e.validate,a="address"===e.inputType,s=a&&r?r:a&&c?c:t.current.value;return n?n(s):!!s})).every((function(e){return!0===e})),x(!s);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();T.current=setTimeout(Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},D=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.e,{clear:!0,small:!0,icon:Object(j.jsx)(l.i,{}),onClick:m,children:"Cancel"}),Object(j.jsx)(d.e,{small:!0,icon:Object(j.jsx)(l.g,{}),disabled:O,onClick:function(){var e=L.map((function(e){return e.ref.current.value}));w?e.push({type:"ud"}):A?e.push({type:"ens"}):e.push({type:"pub"}),p&&p(e),m()},children:"Confirm"})]});return Object(j.jsx)(d.n,{id:"input-modal",title:t,buttons:D,children:L.map((function(e){var t=e.id,n=e.label,r=e.placeholder,a=e.ref,c=e.type;return Object(j.jsxs)("div",{children:[Object(j.jsx)(d.w,{label:n,placeholder:r,onInput:E,ref:a}),"address"===c&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.y,{label:w?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(j.jsx)("span",{id:"udomains-logo",className:w?"ud-logo-active ":""})}),Object(j.jsx)(d.y,{label:A?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(j.jsx)("div",{id:"ens-logo",className:A?"ens-logo-active ":""})})]})]},t+n)}))})}},665:function(e,t,n){"use strict";var r=n(17),a=n(2),c=n.n(a),s=n(11),i=n(7),o=(n(803),n(3)),l=n(77),u=n(34),d=n(44),b=n(37),f=n(84),j=n(60),p=n(157),m=n(964),h=n(680),v=n(4);t.a=function(e){var t,n,a,O,x,g=e.dappsCatalog,y=e.dappUrl,w=void 0===y?"":y,k=Object(d.a)().addToast,N=Object(u.f)().hideModal,C=g.addCustomDapp,A=g.isDappInCatalog,S=Object(o.useState)(""),T=Object(i.a)(S,2),L=T[0],I=T[1],E=Object(o.useState)(""),D=Object(i.a)(E,2),P=D[0],F=D[1],M=Object(o.useState)(""),_=Object(i.a)(M,2),W=_[0],B=_[1],R=Object(o.useState)(null),U=Object(i.a)(R,2),V=U[0],H=U[1],K=Object(o.useState)(""),z=Object(i.a)(K,2),q=z[0],G=z[1],Y=Object(o.useState)(!1),J=Object(i.a)(Y,2),$=J[0],X=J[1],Z=Object(o.useState)(null),Q=Object(i.a)(Z,2),ee=Q[0],te=Q[1],ne=Object(o.useState)(null),re=Object(i.a)(ne,2),ae=re[0],ce=re[1],se=Object(o.useState)(null),ie=Object(i.a)(se,2),oe=ie[0],le=ie[1],ue=Object(o.useState)(null),de=Object(i.a)(ue,2),be=de[0],fe=de[1],je=Object(o.useState)([]),pe=Object(i.a)(je,2),me=pe[0],he=pe[1],ve=Object(o.useState)({}),Oe=Object(i.a)(ve,2),xe=Oe[0],ge=Oe[1],ye=Object(o.useState)(!1),we=Object(i.a)(ye,2),ke=we[0],Ne=we[1],Ce=Object(o.useMemo)((function(){return!xe.success||ke||$}),[xe.success,ke,$]),Ae=Object(o.useCallback)(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(!0),C({id:Object(p.b)(L),name:L,url:P,description:W,iconUrl:oe?"":V,connectionType:q,networks:me}),k("".concat(L," added to Ambire Wallet dApp catalog")),X(!1),N();case 5:case"end":return e.stop()}}),e)}))),[C,k,q,W,N,V,oe,L,me,P]),Se=Object(o.useCallback)(Object(s.a)(c.a.mark((function e(){var t,n,r,a,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",n=Object(p.d)(t),F(n),I(""),B(""),H(""),G(""),ce(""),le(""),fe(""),X(!0),Object(m.b)(n)){e.next=18;break}return te(n?"Invalid Url":null),X(!1),e.abrupt("return");case 18:te(null);case 19:return r=A(n),Ne(r),e.next=23,Object(p.c)(f.a,n);case 23:(a=e.sent)?(I(a.name),B(a.description),H(a.iconUrl),G(a.connectionType),he(a.networks||[]),ce(r?"".concat(n," is already in your wallet catalog"):""),fe((null===a||void 0===a||null===(s=a.networks)||void 0===s?void 0:s.length)?"":"Supported networks not detected! Please select manually.")):ce("Can't find dApp data \u2014 make sure it supports Gnosis Safe apps or WalletConnect"),X(!1);case 26:case"end":return e.stop()}}),e)}))),[A]),Te=Object(o.useCallback)((function(e){G(e)}),[]),Le=Object(o.useMemo)((function(){return[{label:"Gnosis Safe App",value:"gnosis",disabled:!P||ee},{label:"WalletConnect",value:"walletconnect",disabled:!P||ee}]}),[P,ee]);Object(o.useEffect)((function(){w&&Se(w)}),[]);var Ie=Object(o.useMemo)((function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.e,{clear:!0,icon:Object(v.jsx)(b.I,{}),onClick:function(){return N()},children:"Close"}),Object(v.jsx)(l.e,{icon:Object(v.jsx)(b.C,{}),disabled:Ce,onClick:Ae,children:"Add"})]})}),[Ae,Ce,N]);return Object(o.useEffect)((function(){ge(P?Object(m.a)({id:Object(p.b)(L||""),name:L,url:P,description:W,iconUrl:oe?"":V,connectionType:q,networks:me}):{})}),[q,W,V,oe,L,me,P]),Object(v.jsxs)(l.n,{id:"add-custom-dapp-modal",title:Object(v.jsxs)("div",{className:"custom-dapp-title",children:[Object(v.jsx)(l.y,{label:"Click here to see how create dApp for Ambire Wallet catalog",children:Object(v.jsx)("a",{className:"info-btn",href:"https://github.com/AmbireTech/wallet-dapp-catalog#readme",target:"_blank",rel:"noreferrer noopener",children:Object(v.jsx)(b.d,{size:32})})}),Object(v.jsx)("div",{children:"Add custom dApp"})]}),buttons:Ie,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(l.w,{value:P,label:"URL",onInput:function(e){return Se(e)},className:"dapp-input",placeholder:"https://some.dapp.com"}),Object(v.jsx)("div",{className:"input-err",children:ee||(null===xe||void 0===xe||null===(t=xe.errors)||void 0===t?void 0:t.url)||ae})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(l.w,{small:!0,label:"Name",value:L,onInput:function(e){return I(e)},className:"dapp-input"}),Object(v.jsx)("div",{className:"input-err",children:null===xe||void 0===xe||null===(n=xe.errors)||void 0===n?void 0:n.name})]}),Object(v.jsx)("div",{children:Object(v.jsx)(l.w,{small:!0,label:"Description",value:W,onInput:function(e){return B(e)},className:"dapp-input"})}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"icon-input",children:[Object(v.jsx)(l.w,{small:!0,label:"Icon URL",value:V,onInput:function(e){H(e),le("")},className:"dapp-input"}),Object(v.jsx)("div",{className:"icon-wrapper",children:V&&!oe?Object(v.jsx)("img",{width:46,height:46,src:V||h.a,alt:(L||"no")+" logo",onError:function(){le("Invalid icon URL, please update it or default dApp icon will be displayed")}}):oe?Object(v.jsx)(b.q,{size:40}):Object(v.jsx)(b.t,{size:40})})]}),Object(v.jsx)("div",{className:"input-err",children:(null===xe||void 0===xe||null===(a=xe.errors)||void 0===a?void 0:a.iconUrl)||oe})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"connection-radios",children:[Object(v.jsx)("div",{children:"Connection Type"}),Object(v.jsx)(l.r,{radios:Le,value:q,onChange:Te,row:!0})]}),Object(v.jsx)("div",{className:"input-err",children:null===xe||void 0===xe||null===(O=xe.errors)||void 0===O?void 0:O.connectionType})]}),Object(v.jsxs)("div",{className:"networks",children:[Object(v.jsxs)("div",{children:["Supported networks (",me.length," selected)"]}),Object(v.jsx)("div",{className:"networks-container",children:j.a.map((function(e){return Object(v.jsx)(l.y,{label:e.name,children:Object(v.jsx)("span",{className:"network-tag".concat(me.includes(e.id)?" selected":""),style:{backgroundImage:"url(".concat(e.icon,")")},onClick:function(){return t=e.id,void he((function(e){var n=e.indexOf(t),a=Object(r.a)(e);return n>=0?a.splice(n,1):a.push(t),a}));var t}})},e.id)}))}),Object(v.jsx)("div",{className:"input-err",children:be||(null===xe||void 0===xe||null===(x=xe.errors)||void 0===x?void 0:x.networks)})]})]})}},666:function(e,t,n){"use strict";n(804);var r=n(77),a=n(37),c=n(34),s=n(596),i=n(604),o=n(4);t.a=function(e){var t=e.data,n=Object(c.f)().hideModal,l=Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.e,{clear:!0,icon:Object(o.jsx)(a.I,{}),onClick:function(){return n()},children:"Close"})});return Object(o.jsx)(r.n,{id:"gas-tank-balance-by-tokens-modal",title:"GAS TANK BALANCE BY TOKENS",buttons:l,children:Object(o.jsxs)("div",{className:"content",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"logo",children:" "}),Object(o.jsx)("div",{className:"item",children:Object(o.jsx)("span",{children:"Token"})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsx)("span",{children:"Amount"})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsx)("span",{children:"Balance"})})]}),t&&t.sort((function(e,t){return t.balance-e.balance})).map((function(e,t){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{width:"25px",height:"25px",alt:"logo",src:e.icon||Object(s.a)(e.network,e.address)})}),Object(o.jsx)("div",{className:"item",children:Object(o.jsx)("span",{children:e.symbol.toUpperCase()})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsx)("span",{children:Object(i.a)(e.balance,!0,6)})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsxs)("span",{children:["$ ",Object(i.a)(e.balanceInUSD,!0,6)]})})]},t)}))]})})}},668:function(e,t,n){"use strict";var r=n(7),a=(n(785),n(77)),c=n(37),s=n(34),i=n(965),o=n(8),l=n(3),u=n(923),d=n(4),b=function(e){var t=e.rewards,n=Object(l.useMemo)((function(){return u.a.map((function(e){var n=t.multipliers&&t.multipliers.map((function(e){return e.name})).includes(e.id);return Object(o.a)(Object(o.a)({},e),{},{active:n})}))}),[t]);return Object(d.jsx)("div",{className:"badges",children:n.map((function(e){var t=e.id,n=e.name,r=e.icon,c=e.color,s=e.multiplier,i=e.link,o=e.active;return Object(d.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:Object(d.jsx)(a.y,{label:"You ".concat(o?"are receiving":"do not have"," the ").concat(n," x").concat(s," multiplier"),children:Object(d.jsxs)("div",{className:"badge ".concat(o?"active":""),style:{backgroundColor:c,borderColor:c},children:[Object(d.jsx)("div",{className:"icon",children:r}),Object(d.jsxs)("div",{className:"multiplier",children:["x ",s]})]})})},t)}))})},f=n(731);t.a=function(e){var t=e.accountId,n=e.claimableWalletToken,o=e.rewards,u=Object(l.useState)(!1),j=Object(r.a)(u,2),p=j[0],m=j[1],h=Object(s.f)().hideModal,v=Object(i.a)({accountId:t}).stakedAmount,O=n.vestingEntry,x=n.currentClaimStatus,g=n.claimableNow,y=n.disabledReason,w=n.claimDisabledReason,k=n.claimEarlyRewards,N=n.claimVesting,C=n.claimableNowUsd,A=n.mintableVestingUsd,S=n.shouldDisplayMintableVesting,T=o.walletTokenAPYPercentage,L=o.adxTokenAPYPercentage,I=o.xWALLETAPYPercentage,E=Object(d.jsx)(a.e,{clear:!0,icon:Object(d.jsx)(c.I,{}),onClick:function(){return h()},children:"Close"});return Object(d.jsxs)(a.n,{id:"wallet-token-modal",title:"WALLET token distribution",buttons:E,children:[Object(d.jsx)(f.a,{isVisible:p,hideModal:function(){return m(!1)},text:"This procedure will claim only 50% of your outstanding  rewards as $WALLET, and permanently burn the rest.  Are you sure?",onClick:function(){return k(!1)}}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("label",{children:"Early users Incentive: Total"}),Object(d.jsxs)("div",{className:"balance",children:[Object(d.jsx)("div",{className:"amount",children:Object(d.jsx)("span",{className:"primary-accent",children:o["balance-rewards"]})}),Object(d.jsxs)("div",{className:"amount apy",children:[T," ",Object(d.jsx)("span",{children:"APY"})]})]})]}),Object(d.jsx)("div",{className:"actions"})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("label",{children:"ADX Staking Bonus: Total"}),Object(d.jsxs)("div",{className:"balance",children:[Object(d.jsx)("div",{className:"amount",children:Object(d.jsx)("span",{className:"primary-accent",children:o["adx-rewards"]})}),Object(d.jsxs)("div",{className:"amount apy",children:[L," ",Object(d.jsx)("span",{children:"APY"})]})]})]}),Object(d.jsx)("div",{className:"actions"})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("label",{children:"Claimable now: early users + ADX Staking bonus"}),Object(d.jsxs)("div",{className:"balance",children:[Object(d.jsx)("div",{className:"amount",children:Object(d.jsx)("span",{className:"primary-accent",children:x.loading?"...":g})}),Object(d.jsxs)("div",{className:"amount usd",children:[Object(d.jsx)("span",{className:"secondary-accent",children:"$"}),C]})]})]}),Object(d.jsxs)("div",{className:"actions",children:[Object(d.jsx)(a.y,{label:w||y||"This procedure will claim 50% of your outstanding rewards as $WALLET, and permanently burn the other 50%",children:Object(d.jsx)(a.e,{className:"claim-rewards-with-burn",small:!0,clear:!0,onClick:function(){return m(!0)},disabled:!(!w&&!y),children:"Claim with burn"})}),Object(d.jsx)(a.y,{label:w||y||"Claim all of your outstanding rewards as staked $WALLET (xWALLET)",children:Object(d.jsx)(a.e,{className:"claim-rewards-x-wallet",small:!0,clear:!0,onClick:k,disabled:!(!w&&!y),children:"CLAIM IN xWALLET"})})]})]}),S&&Object(d.jsxs)("div",{className:"item",children:[Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("label",{children:"Claimable early supporters vesting"}),Object(d.jsxs)("div",{className:"balance",children:[Object(d.jsx)("div",{className:"amount",children:Object(d.jsx)("span",{className:"primary-accent",children:x.mintableVesting})}),Object(d.jsxs)("div",{className:"amount usd",children:[Object(d.jsx)("span",{className:"secondary-accent",children:"$"}),A]})]})]}),Object(d.jsx)("div",{className:"actions",children:Object(d.jsx)(a.y,{label:y||"Linearly vested over approximately ".concat(Math.ceil((O.end-O.start)/86400)," days"),children:Object(d.jsx)(a.e,{small:!0,clear:!0,onClick:N,disabled:!!y,children:"CLAIM"})})})]}),!!v&&Object(d.jsx)("div",{className:"item",children:Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("label",{children:"Staked WALLET"}),Object(d.jsxs)("div",{className:"balance",children:[Object(d.jsx)("div",{className:"amount",children:Object(d.jsx)("span",{className:"primary-accent",children:v})}),Object(d.jsxs)("div",{className:"amount apy",children:[I," ",Object(d.jsx)("span",{children:"APY"})]})]})]})}),Object(d.jsx)(b,{rewards:o}),Object(d.jsxs)("div",{id:"info",children:["You are receiving $WALLETs for holding funds on your Ambire wallet as an early user. ",Object(d.jsx)("a",{href:"https://blog.ambire.com/announcing-the-wallet-token-a137aeda9747",target:"_blank",rel:"noreferrer",children:"Read More"})]})]})}},669:function(e,t,n){"use strict";n(798);var r=n(37),a=n(34),c=n(77),s=n(17),i=n(2),o=n.n(i),l=n(8),u=n(11),d=n(7),b=n(87),f=n(26),j=n(95),p=n(65),m=n(3),h=n(154),v=f.a.from(0),O="0x0000000000000000000000000000000000000000",x=1e12,g="1000000000000000000",y="enter",w="leave",k="withdraw",N="rageLeave",C="shareTokensTransferIn",A="shareTokensTransferOut",S=Object(b.a)("ethereum"),T=function(e){var t=e.accountId,n=e.addresses,r=e.tokenLabel,a=Object(h.a)().getAdexToStakingTransfersLogs,c=n.stakingTokenAddress,i=Object(m.useState)({}),b=Object(d.a)(i,2),f=b[0],T=b[1],L=Object(m.useState)(!0),I=Object(d.a)(L,2),E=I[0],D=I[1],P=Object(m.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(n,r){var i,b,f,m,h,T,L,I,E,D,P,F,M,_,W,B,R,U,V,H,K,z,q,G,Y,J,$,X,Z,Q,ee,te,ne,re,ae,ce,se,ie,oe,le,ue,de,be,fe,je,pe,me,he,ve,Oe,xe,ge,ye,we,ke,Ne,Ce,Ae,Se,Te,Le,Ie,Ee,De,Pe,Fe,Me,_e,We,Be,Re,Ue,Ve,He,Ke,ze,qe,Ge,Ye;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new j.Contract(n.stakingTokenAddress,n.stakingPoolAbi,S),b=new j.Contract(n.tokenAddress,n.tokenAbi,S),0,f="ADX"===r?15093730:0,e.next=6,Promise.all([i.shareValue(),i.totalSupply(),i.balanceOf(t),i.lockedShares(t),S.getLogs(Object(l.a)({fromBlock:f},b.filters.Transfer(null,c,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.LogLeave(t,null,null,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.LogWithdraw(t,null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.LogRageLeave(t,null,null,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.Transfer(null,t,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.Transfer(t,null,null)))]);case 6:return m=e.sent,h=Object(d.a)(m,10),T=h[0],L=h[1],I=h[2],E=h[3],D=h[4],P=h[5],F=h[6],M=h[7],_=h[8],W=h[9],B=L.isZero()?v:I.mul(x).div(L).toNumber()/x,e.next=21,a();case 21:return R=e.sent,U=("ADX"===r&&R?R.result:[]).concat(D).reduce((function(e,t){return e[t.transactionHash]=t,e}),{}),V=_.map((function(e){var t=i.interface.parseLog(e).args,n=t.from,r=t.amount;return{transactionHash:e.transactionHash,blockNumber:e.blockNumber,shares:r,type:n===O?y:C,from:n}})),H=W.map((function(e){var t=i.interface.parseLog(e).args,n=t.to,r=t.amount;return{transactionHash:e.transactionHash,blockNumber:e.blockNumber,shares:r,type:A,to:n}})).filter((function(e){return e.to!==O})),K=V.reduce((function(e,t){return t.type===y&&(e.shareTokensEnterMintByHash[t.transactionHash]=t),t.type===C&&(e.shareTokensTransfersInByTxHash[t.transactionHash]=t),e}),{shareTokensEnterMintByHash:{},shareTokensTransfersInByTxHash:{}}),z=K.shareTokensEnterMintByHash,q=K.shareTokensTransfersInByTxHash,G=Object.values(q),Y=Object.values(z).map((function(e){var t=U[e.transactionHash];if(t){var n=b.interface.parseLog(t);return{transactionHash:e.transactionHash,type:y,shares:e.shares,walletAmount:"ADX"===r?n.args.value:n.args.amount,from:n.args.from,blockNumber:e.blockNumber}}return null})).filter((function(e){return!!e})),J=F.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,r=t.unlocksAt,a=t.maxTokens,c=t.receivedTokens;return{transactionHash:e.transactionHash,type:k,shares:n,unlocksAt:r,maxTokens:a,receivedTokens:c,blockNumber:e.blockNumber}})),$=M.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,r=t.maxTokens,a=t.receivedTokens;return{transactionHash:e.transactionHash,type:N,shares:n,maxTokens:r,receivedTokens:a,walletAmount:a,blockNumber:e.blockNumber}})),X=new Date/1e3,e.next=33,Promise.all(P.map(function(){var e=Object(u.a)(o.a.mark((function e(n){var r,a,c,s,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.interface.parseLog(n),a=r.args,c=a.shares,s=a.unlocksAt,l=a.maxTokens,u=J.find((function(e){return e.unlocksAt.toString()===s.toString()&&e.shares.toString()===c.toString()&&e.maxTokens.toString()===l.toString()})),!L.isZero()){e.next=7;break}e.t0=v,e.next=10;break;case 7:return e.next=9,i.unbondingCommitmentWorth(t,c,s);case 9:e.t0=e.sent;case 10:return d=e.t0,e.abrupt("return",{transactionHash:n.transactionHash,type:w,shares:c,unlocksAt:s,maxTokens:l,walletValue:d,canWithdraw:s<X&&!u,blockNumber:n.blockNumber,withdrawTx:u});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 33:if(Z=e.sent,Q=Object(s.a)(Z).filter((function(e){return e.unlocksAt>X})),ee=Object(s.a)(Z).filter((function(e){return e.unlocksAt<X&&!e.withdrawTx})),te=Q.reduce((function(e,t){return e.add(t.maxTokens)}),v),ne=Q.reduce((function(e,t){return e.add(t.walletValue)}),v),re=ee.reduce((function(e,t){return e.add(t.maxTokens)}),v),ae=ee.reduce((function(e,t){return e.add(t.walletValue)}),v),ce=null,ee.length?ce=ee[0]:Q.length&&(ce=Q[0]),se=P.sort((function(e,t){return t.blockNumber-e.blockNumber})),ie=Object(d.a)(se,1),oe=ie[0],!ce||!oe){e.next=53;break}return ue=ce.unlocksAt,e.next=47,S.getBlock(oe.blockNumber);case 47:de=e.sent,be=de.timestamp,(le=ue.toString()-(Date.now()-1e3*be))<=0&&(le=0),e.next=54;break;case 53:le=null;case 54:if(!H.length&&!G.length){e.next=72;break}return fe=Math.min(H[0]?H[0].blockNumber:Number.MAX_SAFE_INTEGER,G[0]?G[0].blockNumber:Number.MAX_SAFE_INTEGER),e.next=58,Promise.all([S.getLogs(Object(l.a)({fromBlock:fe},i.filters.LogLeave(null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:fe},i.filters.LogWithdraw(null,null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:fe},i.filters.LogRageLeave(null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:fe},i.filters.Transfer(O,null,null)))]);case 58:je=e.sent,pe=Object(d.a)(je,4),me=pe[0],he=pe[1],ve=pe[2],Oe=pe[3],xe=Oe.map((function(e){var t=U[e.transactionHash];if(t){var n=b.interface.parseLog(t),a="ADX"===r?n.args.value:n.args.amount,c=i.interface.parseLog(e).args.amount;return{blockNumber:e.blockNumber,shareValue:c.isZero()?v:a.mul(g).div(c)}}return null})).filter((function(e){return!!e})),ge=he.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,r=t.maxTokens;return{blockNumber:e.blockNumber,shareValue:r.mul(g).div(n)}})),ye=ve.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares;return{shareValue:t.maxTokens.mul(g).div(n),blockNumber:e.blockNumber}})),we=me.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,r=t.maxTokens;return{blockNumber:e.blockNumber,shareValue:r.mul(g).div(n)}})),ke=xe.concat(ge).concat(we).concat(ye).sort((function(e,t){return e.blockNumber-t.blockNumber})),(Ne=function(e){return e.forEach((function(t,n){var r=(ke.find((function(e){return e.blockNumber>=t.blockNumber}))||{}).shareValue||T;e[n].shareValue=r,e[n].walletAmount=t.shares.mul(r).div(g)}))})(H),Ne(G);case 72:return Ce=H.reduce((function(e,t){return e.add(t.shares)}),v),Ae=H.reduce((function(e,t){return e.add(t.walletAmount)}),v),Se=G.reduce((function(e,t){return e.add(t.shares)}),v),Te=G.reduce((function(e,t){return e.add(t.walletAmount)}),v),Le=Y.reduce((function(e,t){return e.add(t.walletAmount)}),v),Ie=$.reduce((function(e,t){return e.add(t.maxTokens)}),v),Ee=$.reduce((function(e,t){return e.add(t.receivedTokens)}),v),De=J.reduce((function(e,t){return e.add(t.receivedTokens)}),v),(Pe=Object(s.a)(Z).filter((function(e){return!e.withdrawTx})).reduce((function(e,t){return e.add(t.shares)}),v)).eq(E)||console.error("locked shares different than check sum, user balance can be incorrect","lockedShares:",E.toString(),"totalLockedSharesCheck:",Pe.toString()),Fe=I.sub(E).lt(v)?v:I.sub(E),Me=Fe.mul(T).div(g),_e=I.mul(T).div(g),We=I.mul(T).div(g),Be=I.lt(E),Re=Be?E.sub(I):v,Ue=Me,Ve=Le.add(Te),He=De.add(Ae).add(Ie),Ke=_e.add(He).sub(Ve),ze=!!Object(s.a)(Z).filter((function(e){return!e.withdrawTx})).length,qe=Y.concat(Z).concat(J).concat($).concat(G).concat(H).sort((function(e,t){return e.blockNumber-t.blockNumber})),e.next=96,Promise.all(qe.map(function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getBlock(t.blockNumber);case 2:return n=e.sent,r=n.timestamp,e.abrupt("return",Object(l.a)(Object(l.a)({},t),{},{timestamp:1e3*r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 96:return Ge=e.sent,Ye={balanceShares:I,balanceSharesAvailable:Fe,currentBalanceWallet:_e,currentBalanceWalletAvailable:Me,currentBalanceWalletAtCurrentShareValue:Ue,currentBalanceSharesWalletValue:We,hasInsufficentBalanceForUnbondCommitments:Be,insufficientSharesAmoutForCurrentUnbonds:Re,totalRewards:Ke,totalSharesOutTransfersWalletValue:Ae,totalSharesInTransfersWalletValue:Te,stakings:Ge,userLeaves:Z,depositsWalletTotal:Le,withdrawsWalletTotal:De,leavesPendingToUnlockTotalMax:te,leavesReadyToWithdrawTotalMax:re,leavesPendingToUnlockTotalWallet:ne,leavesReadyToWithdrawTotalWallet:ae,hasActiveUnbondCommitments:ze,loaded:!0,userDataLoaded:!0,userShare:B,remainingTime:le,totalSharesOutTransfers:Ce,totalSharesInTransfers:Se,rageLeavesReceivedWalletTotal:Ee,rageLeavesWithdrawnWalletTotal:Ie,totalInTokenValue:Ve,totalOutTokenValue:He},e.abrupt("return",{currentBalanceWalletAtCurrentShareValue:p.utils.formatUnits(Ye.currentBalanceWalletAtCurrentShareValue.toString(),18),balance:p.utils.formatUnits(Ye.currentBalanceWallet.toString(),18),poolShare:Ye.userShare,allTimeRewards:p.utils.formatUnits(Ye.totalRewards.toString(),18),totalDeposit:p.utils.formatUnits(Ye.depositsWalletTotal.toString(),18),totalWithdraws:p.utils.formatUnits(Ye.withdrawsWalletTotal.toString(),18),pendingToUnlock:p.utils.formatUnits(Ye.leavesPendingToUnlockTotalWallet.toString(),18),readyToWithdraw:p.utils.formatUnits(Ye.leavesReadyToWithdrawTotalWallet.toString(),18),totalInTokenValue:p.utils.formatUnits(Ye.totalInTokenValue.toString(),18),totalOutTokenValue:p.utils.formatUnits(Ye.totalOutTokenValue.toString(),18),rageLeavesReceivedWalletTotal:p.utils.formatUnits(Ye.rageLeavesReceivedWalletTotal.toString(),18),rageLeavesWithdrawnWalletTotal:p.utils.formatUnits(Ye.rageLeavesWithdrawnWalletTotal.toString(),18),totalSharesInTransfersWalletValue:p.utils.formatUnits(Ye.totalSharesInTransfersWalletValue.toString(),18),totalSharesOutTransfersWalletValue:p.utils.formatUnits(Ye.totalSharesOutTransfersWalletValue.toString(),18),remainingTime:Ye.remainingTime});case 99:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c,t,a]);return Object(m.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,P(t,n);case 4:r=e.sent,T(r),D(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),D(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}();t&&e(n,r)}),[t,n,P,T,D,r]),{details:f,isLoading:E}||{}},L=n(4);t.a=function(e){var t=e.title,n=void 0===t?"Details":t,s=e.apy,i=e.accountId,o=e.msToDaysHours,l=e.addresses,u=e.tokenLabel,d=Object(a.f)().hideModal,b=T({accountId:i,addresses:l,tokenLabel:u}),f=b.details,j=b.isLoading,p=f.poolShare,m=f.allTimeRewards,h=f.totalDeposit,v=f.totalWithdraws,O=f.pendingToUnlock,x=f.readyToWithdraw,g=f.totalOutTokenValue,y=f.totalInTokenValue,w=f.rageLeavesReceivedWalletTotal,k=f.rageLeavesWithdrawnWalletTotal,N=f.totalSharesInTransfersWalletValue,C=f.totalSharesOutTransfersWalletValue,A=f.remainingTime,S=f.currentBalanceWalletAtCurrentShareValue,I=Object(L.jsx)(c.e,{clear:!0,small:!0,icon:Object(L.jsx)(r.i,{}),onClick:d,children:"Close"});return Object(L.jsx)(c.n,{id:"wallet-more-details-modal",title:n,buttons:I,children:j?Object(L.jsx)("div",{className:"loading-wrapper",children:Object(L.jsx)(c.m,{})}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"wrapper",children:[Object(L.jsx)("div",{children:"Annual Percentage Yield (APY)"}),Object(L.jsx)("div",{children:s})]}),Object(L.jsxs)("div",{className:"wrapper odd-rows-bg",children:[Object(L.jsx)("div",{children:"Current Available Balance"}),Object(L.jsx)("div",{children:Object(L.jsxs)(c.y,{label:"* Warning: The pool share value may include your pending to unlock tokens.",children:[parseFloat(S).toFixed(4)," ",u," (Pool share*: ",(100*p).toFixed(2),"%)"]})})]}),Object(L.jsxs)("div",{className:"wrapper",children:[Object(L.jsx)("div",{children:"All time rewards"}),Object(L.jsxs)("div",{children:[parseFloat(m).toFixed(4)," ",u]})]}),Object(L.jsx)("div",{className:"wrapper odd-rows-bg",children:Object(L.jsxs)(c.y,{label:"Deposits: ".concat(parseFloat(h).toFixed(4)," ").concat(u," \n                                    \nTransfers in: ").concat(parseFloat(N).toFixed(4)," ").concat(u),children:[Object(L.jsx)("div",{children:"Total deposit"}),Object(L.jsxs)("div",{children:[parseFloat(y).toFixed(4)," ",u]})]})}),Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)(c.y,{label:"Withdrawals: ".concat(parseFloat(v).toFixed(4)," ").concat(u,"\n                                \nTransfers out: ").concat(parseFloat(C).toFixed(4)," ").concat(u," \n                                \nRage leaves: \n                                \nReceived ").concat(parseFloat(w).toFixed(4)," ").concat(u," \n                                \nWithdrawn ").concat(parseFloat(k).toFixed(4)," ").concat(u),children:[Object(L.jsx)("div",{children:"Total withdraws"}),Object(L.jsxs)("div",{children:[parseFloat(g).toFixed(4)," ",u]})]})}),Object(L.jsxs)("div",{className:"wrapper odd-rows-bg",children:[Object(L.jsx)("div",{children:"Total pending to unlock"}),Object(L.jsx)("div",{children:A>0?"".concat(o(A)," until ").concat(parseFloat(O).toFixed(4)," ").concat(u," becomes available for withdraw."):"No pending unlocks"})]}),Object(L.jsxs)("div",{className:"wrapper",children:[Object(L.jsx)("div",{children:"Ready to withdraw"}),Object(L.jsx)("div",{children:parseFloat(x)>0?"".concat(parseFloat(x).toFixed(4)," ").concat(u):"No amount for withdrawing"})]})]})})}},670:function(e,t,n){"use strict";var r=n(7),a=(n(805),n(77)),c=n(3),s=n(37),i=n(84),o=n(44),l=[{label:"EUR",value:"EUR",icon:"https://changenow.io/images/sprite/currencies/eur.svg"},{label:"GBP",value:"GBP",icon:"https://changenow.io/images/sprite/currencies/gbp.svg"},{label:"USD",value:"USD",icon:"https://changenow.io/images/sprite/currencies/usd.svg"}],u={ethereum:"ETH","binance-smart-chain":"BSC",polygon:"MATIC",fantom:"FTM",avalanche:"AVAX"},d={ethereum:"ETH","binance-smart-chain":"BNB",polygon:"MATIC",fantom:"FTM",avalanche:"AVAX"},b="0x"+"0".repeat(40),f=function(e){var t=e.relayerURL,n=e.selectedNetwork,a=e.initMode,s=e.tokens,f=e.walletAddress,j="".concat(t,"/guardarian/currencies/fiat"),p="".concat(t,"/guardarian/currencies/crypto"),m=l,h=Object(o.a)().addToast,v=Object(c.useState)(n),O=Object(r.a)(v,2),x=O[0],g=O[1],y=Object(c.useState)(""),w=Object(r.a)(y,2),k=w[0],N=w[1],C=Object(c.useState)(""),A=Object(r.a)(C,2),S=A[0],T=A[1],L=Object(c.useState)(a),I=Object(r.a)(L,2),E=I[0],D=I[1],P=Object(c.useState)("50"),F=Object(r.a)(P,2),M=F[0],_=F[1],W=Object(c.useState)({data:[]}),B=Object(r.a)(W,2),R=B[0],U=B[1],V=Object(c.useState)({data:[]}),H=Object(r.a)(V,2),K=H[0],z=H[1],q=Object(c.useState)(null),G=Object(r.a)(q,2),Y=G[0],J=G[1],$=Object(c.useState)({data:null,isLoading:!1}),X=Object(r.a)($,2),Z=X[0],Q=X[1],ee=Object(c.useMemo)((function(){var e,t;return"buy"===E?{data:(null===R||void 0===R||null===(e=R.data)||void 0===e?void 0:e.filter((function(e){return e.networks.find((function(e){return e.network===u[x]&&e.payment_methods.some((function(e){return e.withdrawal_enabled}))}))})).map((function(e){return{label:e.ticker,value:e.ticker,icon:e.logo_url}})).filter((function(e){return e.value})))||[],isLoading:null===R||void 0===R?void 0:R.isLoading}:"sell"===E?{data:(null===R||void 0===R||null===(t=R.data)||void 0===t?void 0:t.filter((function(e){return e.networks.find((function(e){return e.network===u[x]&&e.payment_methods.some((function(e){return e.deposit_enabled}))&&s.find((function(t){var n,r;return(null===t||void 0===t||null===(n=t.address)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e||null===(r=e.token_contract)||void 0===r?void 0:r.toLowerCase())||(null===t||void 0===t?void 0:t.address)===b&&null===(null===e||void 0===e?void 0:e.token_contract)}))}))})).map((function(e){return{label:e.ticker,value:e.ticker,icon:e.logo_url}})).filter((function(e){return e.value})))||[],isLoading:R.isLoading}:void 0}),[E,R,x,s]),te=Object(c.useMemo)((function(){var e;return"buy"===E?{data:(null===K||void 0===K||null===(e=K.data)||void 0===e?void 0:e.map((function(e){var t;return{label:e.ticker,value:e.ticker,icon:e.logo_url||"https://changenow.io/images/sprite/currencies/".concat(null===e||void 0===e||null===(t=e.ticker)||void 0===t?void 0:t.toLowerCase(),".svg")}})))||[],isLoading:null===K||void 0===K?void 0:K.isLoading}:"sell"===E?{data:m,isLoading:!1}:void 0}),[E,K,m]);Object(c.useEffect)((function(){"buy"===E?(_("50"),N(te.data&&te.data[0]?te.data[0].value:null),T(d[x])):"sell"===E&&(_(""),N(ee.data&&ee.data[0]?ee.data[0].value:null),T(te.data&&te.data[0]?te.data[0].value:null))}),[E,te,ee,x]),Object(c.useEffect)((function(){z({data:null,isLoading:!0}),Object(i.c)(j).then((function(e){return z({data:e,isLoading:!1,error:{},message:""})})).catch((function(e){z({data:null,isLoading:!1,error:e,message:"Error while fetching fiat list"}),h("Error while fetching fiat list",{error:!0})}))}),[j,h]),Object(c.useEffect)((function(){U({data:null,isLoading:!0}),Object(i.c)(p).then((function(e){U({data:e,isLoading:!1,error:{},message:""})})).catch((function(e){U({data:null,isLoading:!1,error:e,message:"Error while fetching crypto list"}),h("Error while fetching crypto list",{error:!0})}))}),[x,p,h]);var ne=Object(c.useCallback)((function(){var e="buy"===E?"".concat(k,"_").concat(S,"-").concat(u[x]):"sell"===E?"".concat(k,"-").concat(u[x],"_").concat(S):null;return e?"".concat(t,"/guardarian/market-info/").concat(e):null}),[E,k,S,x,t]);Object(c.useEffect)((function(){if(!x||!k||!S||!E)return J({data:null,isLoading:!1});J({data:null,isLoading:!0});var e=ne(),t=!1;return Object(i.c)(e).then((function(e){var n=e.data;return!t&&J({data:n,isLoading:!1})})).catch((function(e){return!t&&(J({data:null,isLoading:!1,error:e,message:"Error while fetching market info"}),h("Error while fetching market info",{error:!0}))})),function(){t=!0}}),[x,E,k,S,h,ne]);var re=Object(c.useCallback)((function(){return"buy"===E?"".concat(t,"/guardarian/estimate/").concat(k,"/").concat(x,"/").concat(M,"/").concat(S,"/","true"):"".concat(t,"/guardarian/estimate/").concat(k,"/").concat(x,"/").concat(M,"/").concat(S,"/","false")}),[E,t,k,x,M,S]);return Object(c.useEffect)((function(){if(!x||!k||!S||!E||!M)return Q({data:null,isLoading:!1});Q({data:null,isLoading:!0});var e=re(),t=!1;return Object(i.c)(e).then((function(e){var n=e.data;return!t&&Q({data:n,isLoading:!1})})).catch((function(e){return!t&&(Q({data:null,isLoading:!1,error:e,message:"Error while fetching estimate info"}),h("Error while fetching estimate info",{error:!0}))})),function(){t=!0}}),[x,E,k,S,M,h,re]),{marketInfo:Y,estimateInfo:Z,cryptoList:ee,fiatList:te,network:x,from:k,to:S,mode:E,amount:M,cryptoCurrencies:R,setNetwork:g,setFrom:N,setTo:T,setMode:D,setAmount:_,genTxnUrl:function(){return"buy"===E?"".concat(t,"/guardarian/transaction/").concat(k,"/null/").concat(M,"/").concat(S,"/").concat(n,"/").concat(f):"".concat(t,"/guardarian/transaction/").concat(k,"/").concat(n,"/").concat(M,"/").concat(S,"/null/null")},NETWORK_MAPPING:u,NATIVE_ADDRESS:b,DEFAULT_CRYPTO:d}},j=n(34),p=n(726),m=n(190),h=n.n(m),v=n(4);t.a=function(e){var t,n,l,u,d,b,m,O,x,g,y,w,k,N,C,A,S,T,L,I=e.relayerURL,E=e.walletAddress,D=e.selectedNetwork,P=e.portfolio,F=Object(j.f)().hideModal,M=Object(o.a)().addToast,_=f({relayerURL:I,selectedNetwork:D,initMode:"buy",tokens:P.tokens,walletAddress:E,addToast:M}),W=Object(c.useState)(!1),B=Object(r.a)(W,2),R=B[0],U=B[1],V=Object(c.useCallback)((function(){var e;if(P.tokens&&(null===_||void 0===_||null===(e=_.cryptoCurrencies)||void 0===e?void 0:e.data)&&"sell"===_.mode){var t,n,r,a=null===_||void 0===_||null===(t=_.cryptoCurrencies)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.find((function(e){return e.ticker===_.from}));return null===P||void 0===P||null===(r=P.tokens)||void 0===r?void 0:r.find((function(e){var t;return null===a||void 0===a||null===(t=a.networks)||void 0===t?void 0:t.find((function(t){var n,r;return(null===t||void 0===t||null===(n=t.token_contract)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e||null===(r=e.address)||void 0===r?void 0:r.toLowerCase())||(null===t||void 0===t?void 0:t.network)===_.NETWORK_MAPPING[_.network]&&(null===e||void 0===e?void 0:e.address.toLowerCase())===_.NATIVE_ADDRESS&&null===(null===t||void 0===t?void 0:t.token_contract)}))}))}return{}}),[_,P.tokens]),H=Object(c.useMemo)((function(){var e,t,n,r=null===_||void 0===_||null===(e=_.marketInfo)||void 0===e?void 0:e.data;if((null===_||void 0===_||null===(t=_.marketInfo)||void 0===t?void 0:t.error)||(null===_||void 0===_||null===(n=_.estimateInfo)||void 0===n?void 0:n.error))return"Sorry! We couldn't estimate your order! Please try again later!";if(!r)return"";var a=parseFloat(_.amount),c=parseFloat(r.min),s=parseFloat(r.max);if("buy"===_.mode){if(a<c)return"Minimum amount is ".concat(r.min," ").concat(r.from);if(a>s)return"Maximum amount is ".concat(r.max," ").concat(r.from)}else if("sell"===_.mode){var i=V();if(a<c)return"Minimum amount is ".concat(r.min," ").concat(r.from);if(a>s)return"Maximum amount is ".concat(r.max," ").concat(r.from);if(i&&(null===_||void 0===_?void 0:_.from)&&a>i.balance)return"You do not have enough funds"}return""}),[_,V]),K=function(){_.setMode((function(e){return"buy"===e?"sell":"buy"})),_.setAmount(""),_.setFrom(""),_.setTo("buy"===_.mode?_.DEFAULT_CRYPTO[_.NETWORK_MAPPING[_.network]]:"")};var z=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(a.e,{clear:!0,icon:Object(v.jsx)(s.I,{}),onClick:function(){return F()},children:"Close"}),Object(v.jsx)(a.e,{disabled:""!==H||(null===_||void 0===_||null===(t=_.marketInfo)||void 0===t?void 0:t.isLoading)||(null===_||void 0===_||null===(n=_.estimateInfo)||void 0===n?void 0:n.isLoading)||(null===_||void 0===_||null===(l=_.txn)||void 0===l?void 0:l.isLoading)||""===(null===_||void 0===_?void 0:_.amount)||R,onClick:function(){U(!0),Object(i.c)(_.genTxnUrl()).then((function(e){var t=e.data;U(!1),(null===t||void 0===t?void 0:t.redirect_url)&&Object(p.a)({url:h.a.format(null===t||void 0===t?void 0:t.redirect_url),title:"Guardarian Deposit",w:560,h:710})})).catch((function(e){M("Error while trying to send transaction",{error:!0}),U(!1)}))},children:"buy"===_.mode?"Buy":"Sell"})]});return Object(v.jsxs)(a.n,{id:"guardarian-modal",title:"Guardarian",buttons:z,children:[Object(v.jsxs)("div",{className:"buy-sell-btns-wrapper",children:[Object(v.jsx)("div",{className:"buy"===_.mode?"button active":"button",onClick:K,children:"Buy"}),Object(v.jsx)("div",{className:"sell"===_.mode?"button active":"button",onClick:K,children:"Sell"})]}),Object(v.jsxs)("div",{className:"input-currencies-wrapper",children:[Object(v.jsx)("div",{className:"amount",children:Object(v.jsx)(a.w,{value:_.amount,label:"You send",placeholder:"Input amount",onInput:function(e){_.setAmount(e)}})}),Object(v.jsx)("div",{className:"currency",children:"buy"===_.mode&&!(null===_||void 0===_||null===(u=_.fiatList)||void 0===u?void 0:u.isLoading)||"sell"===(null===_||void 0===_?void 0:_.mode)&&!(null===_||void 0===_||null===(d=_.cryptoList)||void 0===d?void 0:d.isLoading)?Object(v.jsx)(a.t,{searchable:!0,defaultValue:_.from,items:"buy"===_.mode?_.fiatList.data:_.cryptoList.data,onChange:function(e){return function(e){_.setFrom(e)}(e.value)}}):Object(v.jsxs)("div",{className:"loading-wrapper",children:[Object(v.jsx)(a.m,{})," "]})})]}),""!==H&&Object(v.jsx)("p",{style:{color:"red"},children:H}),Object(v.jsxs)("div",{className:"estimation-info-wrapper",children:[Object(v.jsx)("div",{className:"extra-fees",children:Object(v.jsx)(a.y,{label:"All the exchange fees are added into the rate. There are no extra costs.",children:"No extra fees"})}),Object(v.jsx)("div",{className:"estimation-rate",children:Object(v.jsxs)(a.y,{label:"This is expected rate. Guardarian guarantees to pick up the best possible rate on the moment of the exchange",children:["Estimation rate: "," ",!_.estimateInfo.isLoading&&(null===_||void 0===_||null===(b=_.estimateInfo)||void 0===b?void 0:b.data)&&""===H?Object(v.jsxs)(v.Fragment,{children:[1+(null===_||void 0===_||null===(m=_.estimateInfo)||void 0===m||null===(O=m.data)||void 0===O?void 0:O.from_currency)," \u2248 ",null===_||void 0===_||null===(x=_.estimateInfo)||void 0===x||null===(g=x.data)||void 0===g?void 0:g.estimated_exchange_rate," ",null===_||void 0===_||null===(y=_.estimateInfo)||void 0===y||null===(w=y.data)||void 0===w?void 0:w.to_currency]}):Object(v.jsx)(v.Fragment,{})]})})]}),Object(v.jsxs)("div",{className:"input-currencies-wrapper",children:[Object(v.jsx)("div",{className:"amount",children:_.estimateInfo.isLoading?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{children:"You get"}),Object(v.jsxs)("div",{className:"loading-wrapper",children:[Object(v.jsx)(a.m,{})," "]})]}):Object(v.jsx)(a.w,{value:(null===_||void 0===_||null===(k=_.estimateInfo)||void 0===k?void 0:k.data)?null===_||void 0===_||null===(N=_.estimateInfo)||void 0===N||null===(C=N.data)||void 0===C?void 0:C.value:"",disabled:!0,label:"You get"})}),Object(v.jsx)("div",{className:"currency",children:"buy"===(null===_||void 0===_?void 0:_.mode)&&!(null===_||void 0===_||null===(A=_.cryptoList)||void 0===A?void 0:A.isLoading)||"sell"===(null===_||void 0===_?void 0:_.mode)&&!(null===_||void 0===_||null===(S=_.fiatList)||void 0===S?void 0:S.isLoading)?Object(v.jsx)(a.t,{searchable:!0,defaultValue:null===_||void 0===_?void 0:_.to,items:"sell"===(null===_||void 0===_?void 0:_.mode)?null===_||void 0===_||null===(T=_.fiatList)||void 0===T?void 0:T.data:null===_||void 0===_||null===(L=_.cryptoList)||void 0===L?void 0:L.data,onChange:function(e){return function(e){_.setTo(e)}(e.value)}}):Object(v.jsxs)("div",{className:"loading-wrapper",children:[Object(v.jsx)(a.m,{})," "]})})]})]})}},678:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var r=n(21),a=/^([0-9]+\.?[0-9]*)$/,c=["salt","identityFactoryAddr","baseIdentityAddr","bytecode","signer"],s=function(e){if(!e||!u(e))return{success:!1,message:"The imported file does not contain needed account data."};if(!e.id||!i(e.id))return{success:!1,message:"Failed to import JSON file: invalid id"};if(!e.signer||!i(e.signer.address||e.signer.quickAccManager))return{success:!1,message:"JSON file: invalid signer address"};if(e.signer.quickAccManager){if(!e.signer.timelock||!o(e.signer.timelock))return{success:!1,message:"Failed to import JSON file: invalid signer timelock"};if(!e.signer.one||!i(e.signer.one))return{success:!1,message:"Failed to import JSON file: invalid signer one"};if(!e.signer.two||!i(e.signer.two))return{success:!1,message:"Failed to import JSON file: invalid signer two"}}return e.salt&&l(e.salt)?e.identityFactoryAddr&&i(e.identityFactoryAddr)?e.baseIdentityAddr&&i(e.baseIdentityAddr)?{success:!0}:{success:!1,message:"JSON file: invalid base Identity Address"}:{success:!1,message:"JSON file: invalid identity Factory Address"}:{success:!1,message:"JSON file: invalid salt"}},i=function(e){try{return Object(r.getAddress)(e)===e}catch(t){return!1}},o=function(e){return a.test(e)&&6===e.toString().length},l=function(e){return 32===Object(r.hexDataLength)(e)},u=function(e){return c.every((function(t){return Object.keys(e).includes(t)}))},d=function(e){return e.size>3072?{code:"file-size-too-large",message:"The file size is larger than ".concat(3..toFixed(2)," KB.")}:null}},679:function(e,t,n){"use strict";var r=n(719),a=n(21),c=n(151),s=new a.Interface(n(367)),i=c.a.quickAccManager;t.a=function(e,t,n,c){var o=new a.AbiCoder,l=c.signer,u=l.timelock,d=l.one,b=l.two,f=Object(a.keccak256)(o.encode(["tuple(uint, address, address)"],[[u,d,b]]));return new r.Bundle({identity:e,network:t,signer:n,txns:[[e,"0x00",s.encodeFunctionData("setAddrPrivilege",[i,f])]],recoveryMode:c})}},680:function(e,t,n){"use strict";t.a=n.p+"static/media/dapps.cec88e8a.svg"},684:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return A}));n(653),n(654),n(631),n(655),n(668),n(657);var r=n(658),a=(n(662),n(663),n(669),n(635),n(664),n(7)),c=n(34),s=n(77),i=n(3),o=(n(801),n(8)),l=n(4),u=function(e){var t=e.words,n=e.setModalSteps,r=Object(i.useCallback)((function(){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{stepIndex:2})}))}),[n]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"instructions",children:["Please write down the following words in their respective order, on a piece of paper.",Object(l.jsx)("br",{}),"We ",Object(l.jsx)("b",{children:"do not"})," recommend to copy/paste or store those words on you computer."]}),Object(l.jsx)("div",{className:"seedWordsList",children:t.map((function(e,t){return Object(l.jsxs)("div",{className:"seedWordsList-cell",children:[Object(l.jsx)("span",{className:"seedWordsList-index",children:t+1}),Object(l.jsx)("span",{className:"seedWordsList-word",children:e})]})}))}),Object(l.jsx)("div",{className:"buttonHolder",children:Object(l.jsx)(s.e,{full:!0,onClick:r,children:"I wrote down those words"})})]})},d=n(2),b=n.n(d),f=n(11),j=n(101),p=n(37),m=function(e){var t=e.selectedAccount,n=e.accounts,r=e.setModalSteps,c=e.setMnemonic,u=e.setError,d=e.setModalButtons,m=e.hideModal,h=Object(i.useState)(!1),v=Object(a.a)(h,2),O=v[0],x=v[1],g=Object(i.useState)(),y=Object(a.a)(g,2),w=y[0],k=y[1],N=Object(i.useRef)(),C=n.find((function(e){return t.id.toLowerCase()===e.id.toLowerCase()})),A=Object(i.useCallback)(Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=3;break}return u("Enter your passphrase"),e.abrupt("return");case 3:if(u(null),x(!0),!C.primaryKeyBackup){e.next=14;break}return t=JSON.parse(C.primaryKeyBackup),e.next=9,j.Wallet.fromEncryptedJson(t,w).catch((function(e){u("Wallet decryption error: "+e.message)}));case 9:n=e.sent,x(!1),n&&(c(n.mnemonic.phrase.split(" ")),r((function(e){return Object(o.a)(Object(o.a)({},e),{},{stepIndex:1})}))),e.next=14;break;case 14:case"end":return e.stop()}}),e)}))),[w,u,C.primaryKeyBackup,c,r]);return Object(i.useEffect)((function(){C.primaryKeyBackup||d([Object(l.jsx)(s.e,{full:!0,clear:!0,icon:Object(l.jsx)(p.i,{}),className:"primary",onClick:function(){return m()},children:"Close"})]),setTimeout((function(){var e;null===N||void 0===N||null===(e=N.current)||void 0===e||e.focus()}),100)}),[C,m,d]),C.primaryKeyBackup?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"instructions",children:["Enter the passphrase for ",Object(l.jsx)("span",{children:t.email})," to continue"]}),Object(l.jsx)(s.w,{password:!0,onChange:function(e){return k(e)},ref:N,placeholder:"Passphrase"}),Object(l.jsx)("div",{className:"buttonHolder",children:Object(l.jsx)(s.e,{full:!0,disabled:O,onClick:A,children:"Display seed words"})})]}):Object(l.jsx)("div",{children:"Your account does not have any imported keys. Import your keys first."})},h=n(17),v=n(184),O=function(e){var t=e.words,n=e.setModalButtons,r=e.hideModal,c=e.onAddAccount,u=e.selectedAccount,d=e.accounts,b=Object(i.useState)(null),f=Object(a.a)(b,2),j=f[0],m=f[1],O=Object(i.useState)(0),x=Object(a.a)(O,2),g=x[0],y=x[1],w=Object(i.useState)({}),k=Object(a.a)(w,2),N=k[0],C=k[1],A=Object(i.useState)(!1),S=Object(a.a)(A,2),T=S[0],L=S[1],I=function(e){for(var t="0",n=0;n<e.length;n++)t+=e.charCodeAt(n)+"";for(var r=t;r>100;)r=1*r.slice(0,r.length-2)+1*r.slice(r.length-2)+"";return 1*r},E=Object(i.useCallback)((function(){var e=t[g],n=[].concat(Object(h.a)(t.slice(0,g)),Object(h.a)(t.slice(g+1))).sort((function(e,t){return I(e)-I(t)})),r=[].concat(Object(h.a)(n),Object(h.a)(n));return[e].concat(Object(h.a)(r.slice(g,g+3))).sort((function(e,t){return I(e)-I(t)})).map((function(t,n){return{word:t,selected:N.index===n,correct:e===t}}))}),[t,g,N]),D=Object(i.useCallback)((function(e,n){m(null);var r=t[g]===e;C({index:n,correct:r}),setTimeout((function(){t[g]===e?(L(!0),setTimeout((function(){C({}),setTimeout((function(){y(g+1),L(!1)}),150)}),150)):(C({}),m("The word you selected is not the correct word #".concat(g+1)))}),400)}),[t,g,m]);return Object(i.useEffect)((function(){if(g>11){var e=d.find((function(e){return u.id.toLowerCase()===e.id.toLowerCase()}));e?c(Object(o.a)(Object(o.a)({},e),{},{backupOptout:!1})):console.error("could not find account for "+u.id),n([Object(l.jsx)(s.e,{full:!0,icon:Object(l.jsx)(p.i,{}),className:"primary",onClick:function(){return r()},children:"Close"})])}}),[g,n,r,d,u,c]),g>11?Object(l.jsxs)("div",{className:"notification-hollow success text-center mt-4",children:["Verification complete!",Object(l.jsx)("br",{}),"You should now put your paper in a safe place"]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"instructions",children:"To make sure your backup is perfect, please verify your backup by clicking on the correct word"}),Object(l.jsxs)("div",{className:"wordsSelectorContainer",children:[Object(l.jsx)("div",{className:"wordRequestedTitle",children:"Select the word as it appears on your backup"}),Object(l.jsxs)("div",{className:"wordsSelector".concat(T?" nextWordFade":""),children:[Object(l.jsxs)("div",{className:"wordIndex",children:["Word ",Object(l.jsxs)("span",{children:["#",g+1]})]}),Object(l.jsx)("div",{className:"wordChoices".concat(N.correct?" animated":""),children:E().map((function(e,t){return Object(l.jsx)("span",{className:"wordChoice".concat(e.selected?" selected "+(e.correct?"correct":"incorrect"):""),onClick:function(){return D(e.word,t)},children:e.word})}))}),N.correct&&Object(l.jsx)("div",{className:"visualCheckmark",children:Object(l.jsx)(v.b,{})})]}),j&&Object(l.jsx)("div",{className:"error-message",children:j})]})]})},x=function(e){var t=e.selectedAccount,n=e.accounts,r=e.modalCloseHandler,o=e.onAddAccount,d=Object(c.f)(),b=d.hideModal,f=d.setBeforeCloseModalHandler,j=Object(i.useState)(null),p=Object(a.a)(j,2),h=p[0],v=p[1],x=Object(i.useState)({steps:[{name:"Unlock account"},{name:"Write seed words"},{name:"Verify seed words"}],stepIndex:0}),g=Object(a.a)(x,2),y=g[0],w=g[1],k=Object(i.useState)(null),N=Object(a.a)(k,2),C=N[0],A=N[1],S=Object(i.useState)(null),T=Object(a.a)(S,2),L=T[0],I=T[1];return Object(i.useLayoutEffect)((function(){r&&f((function(){return r}))}),[f,r]),Object(l.jsx)(s.n,{id:"paper-backup-modal",title:Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Backup on paper"}),Object(l.jsx)(s.v,{steps:y.steps,currentStep:y.stepIndex,noLabels:!1})]}),buttons:h,children:Object(l.jsxs)("div",{children:[C&&Object(l.jsx)("div",{className:"error-message",children:C}),0===y.stepIndex&&Object(l.jsx)(m,{setModalButtons:v,hideModal:b,setModalSteps:w,selectedAccount:t,accounts:n,setMnemonic:I,setError:A}),1===y.stepIndex&&Object(l.jsx)(u,{setModalSteps:w,words:L}),2===y.stepIndex&&Object(l.jsx)(O,{setModalButtons:v,setModalSteps:w,words:L,setError:A,hideModal:b,onAddAccount:o,accounts:n,selectedAccount:t})]})})},g=n(158),y=n(84),w=function(e){var t=e.accounts,n=e.selectedAccount,r=e.setModalSteps,c=e.foundAddress,u=e.setFoundAddress,d=e.setWallet,p=e.relayerURL,m=e.newAccount,O=e.retrievedIdentity,x=e.setRetrievedIdentity,w=e.hideModal,k=e.setModalButtons,N=Object(i.useState)(null),C=Object(a.a)(N,2),A=C[0],S=C[1],T=Object(i.useState)(null),L=Object(a.a)(T,2),I=L[0],E=L[1],D=Object(i.useState)([]),P=Object(a.a)(D,2),F=P[0],M=P[1],_=Object(i.useState)(null),W=Object(a.a)(_,2),B=W[0],R=W[1],U=Object(i.useState)(null),V=Object(a.a)(U,2),H=V[0],K=V[1],z=Object(i.useState)(null),q=Object(a.a)(z,2),G=q[0],Y=q[1],J=Object(i.useState)(null),$=Object(a.a)(J,2),X=$[0],Z=$[1],Q=Object(i.useRef)(),ee=Object(i.useCallback)((function(){if(u(null),I){if(S(null),0===F.length){var e=I.split(" ");if(12===e.length){var t,n=[],r=Object(g.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(!a.trim().match(/^[A-Za-z]+$/g))return void S("Invalid seed word "+a);n.push(a.trim())}}catch(s){r.e(s)}finally{r.f()}return E(""),void M(n)}}var c=I.trim();c.match(/^[A-Za-z]+$/g)?(null!==H?(K(null),M((function(e){return e[H]=c,Object(h.a)(e)}))):M((function(e){return[].concat(Object(h.a)(e),[c])})),E("")):S("Invalid seed word")}else S("Invalid seed word")}),[u,I,F.length,H]),te=Object(i.useCallback)((function(e){e.trim()!==I&&S(null),E(e.trim())}),[I,S]),ne=Object(i.useCallback)((function(e){null===H&&R(e)}),[H]),re=Object(i.useCallback)((function(){R(null)}),[]),ae=Object(i.useCallback)((function(e){null===H&&(M((function(t){return t.slice(0,e)})),re(),S(null))}),[re,S,H]),ce=Object(i.useCallback)((function(e){S(null),K(e),E(F[e])}),[F,S]),se=Object(i.useCallback)((function(){K(null),ee()}),[ee]),ie=Object(i.useCallback)((function(){d(j.Wallet.fromMnemonic(F.join(" "))),r((function(e){return Object(o.a)(Object(o.a)({},e),{},{stepIndex:1})}))}),[d,r,F]),oe=Object(i.useCallback)((function(){if(k(null),!(F.length<12))try{var e=j.Wallet.fromMnemonic(F.join(" "));u(e.address),x(null)}catch(t){u(null),S("Could not compute address: "+t.message+". Please check and delete the incorrect words")}}),[k,F,u,x]),le=Object(i.useCallback)(Object(f.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:if(12===F.length){e.next=4;break}return e.abrupt("return");case 4:Z(null),e.prev=5,t=j.Wallet.fromMnemonic(F.join(" ")),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(5),S("Failed to compute address:"+e.t0.message),e.abrupt("return");case 13:return e.next=15,t.signMessage("get_identity_from_signer");case 15:n=e.sent,r="".concat(p,"/retrieveIdentityFromSigner/").concat(n),Object(y.c)(r).then((function(e){e.success?1===e.identities.length?x(e.identities[0]):Y(e.identities):x(!1)})).catch((function(e){Z(e.message)}));case 18:case"end":return e.stop()}}),e,null,[[5,9]])}))),[c,F,p,x]),ue=Object(i.useCallback)((function(e){Y(null),x(e)}),[x]);Object(i.useEffect)((function(){if(O){var e=t.find((function(e){return e.id.toLowerCase()===O.id.toLowerCase()&&!!e.primaryKeyBackup}));k(e?[Object(l.jsx)(s.e,{full:!0,clear:!0,onClick:function(){return w()},children:"Close"})]:[Object(l.jsx)(s.e,{full:!0,onClick:ie,children:"Continue"})])}}),[t,w,ie,O,k]),Object(i.useEffect)((function(){oe()}),[oe]),Object(i.useEffect)((function(){le()}),[le]),Object(i.useEffect)((function(){setTimeout((function(){var e;null===Q||void 0===Q||null===(e=Q.current)||void 0===e||e.focus()}),100)}),[]);var de=Object(i.useCallback)((function(){if(null!==O){if(!1===O)return Object(l.jsx)("div",{className:"error-message",children:"Could not retrieve Ambire account from this signer"});if(!m&&O.id.toLowerCase()!==n.id.toLowerCase())return Object(l.jsxs)("div",{className:"error-message",children:["The signer account you imported does not belong to the selected Ambire account ",n.id,".",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"This signer account belongs to the Ambire account ",O.id]});if(m||O.id.toLowerCase()===n.id.toLowerCase()){var e=t.find((function(e){return e.id.toLowerCase()===O.id.toLowerCase()&&!!e.primaryKeyBackup}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Ambire account"}),Object(l.jsx)("div",{className:"address",children:O.id})]}),e&&Object(l.jsx)("div",{className:"notification-hollow info",children:"You have already added this account"})]})}}}),[O,m,n,t]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"instructions",children:["Type in the words in the order they appear on your paper backup.",Object(l.jsx)("br",{}),Object(l.jsxs)("span",{className:"unimportant",children:["Press ",Object(l.jsx)("i",{children:"enter"})," or ",Object(l.jsx)("i",{children:"space"})," after each word to validate it"]})]}),(F.length<12||null!==H)&&Object(l.jsx)("div",{className:"seedWordsForm",children:Object(l.jsx)(s.w,{placeholder:"Word #".concat(null!==H?H+1:F.length+1),value:I,onChange:te,onKeyDown:function(e){"Enter"!==e&&" "!==e||ee()}})}),A&&Object(l.jsx)("div",{className:"error-message",children:A}),!!F.length&&Object(l.jsxs)("div",{className:"importedSeedWordsList".concat(null!==H?" modifyMode":""),onClick:function(){null!==H&&(K(null),oe())},children:[F.map((function(e,t){return Object(l.jsxs)("div",{className:"importedSeedWord".concat(null!==B&&B<=t?" deletable":"").concat(H===t?" modifiable":""),onClick:function(){null===H&&ce(t)},children:[Object(l.jsx)("span",{className:"index",children:t+1}),Object(l.jsx)("span",{className:"word",children:H===t?I:e}),H===t?Object(l.jsx)("span",{className:"modifying",onClick:function(e){e.stopPropagation(),se()},children:Object(l.jsx)(v.b,{})}):Object(l.jsx)("span",{className:"close",onClick:function(e){return ae(t),e.stopPropagation(),!1},onMouseEnter:function(){return ne(t)},onMouseLeave:re,children:Object(l.jsx)(v.i,{})})]},t)})),F.length%3!==0&&Object(h.a)(Array(3-F.length%3)).map((function(e){return Object(l.jsx)("span",{className:"empty"})}))]}),c&&null===H&&Object(l.jsxs)("div",{className:"foundAddressContainer",children:[Object(l.jsx)("b",{children:"Signer Account"}),Object(l.jsx)("div",{className:"address",children:c}),null===O&&null===G&&!X&&Object(l.jsx)(s.m,{}),X&&Object(l.jsxs)("div",{className:"error-message networkFetchError",children:["Network error while getting matching account: ",X,Object(l.jsx)(s.e,{full:!0,small:!0,icon:Object(l.jsx)(v.h,{}),onClick:le,children:"Try again"})]}),G?Object(l.jsxs)("div",{className:"identities-selector",children:[Object(l.jsxs)("p",{className:"notification-hollow info",children:[Object(l.jsx)(v.e,{})," Multiple wallets found for this signer. Please select the wallet to import."]}),Object(l.jsx)("div",{className:"identities-selector-holder",children:G.map((function(e){return Object(l.jsx)("div",{onClick:function(){return ue(e)},children:e.id})}))})]}):de()]})]})},k=n(151),N=n(678),C=function(e){var t=e.wallet,n=e.setError,r=e.onAddAccount,c=e.hideModal,u=e.retrievedIdentity,d=e.setModalButtons,j=Object(i.useState)(""),p=Object(a.a)(j,2),m=p[0],h=p[1],v=Object(i.useState)(""),O=Object(a.a)(v,2),x=O[0],g=O[1],y=Object(i.useRef)(),w=Object(i.useCallback)(Object(f.a)(b.a.mark((function e(){var a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m.length<8)){e.next=3;break}return n("Passphrase should be at least 8 characters"),e.abrupt("return");case 3:if(m===x){e.next=6;break}return n("Passphrases are not matching"),e.abrupt("return");case 6:return e.t0=JSON,e.next=9,t.encrypt(m,k.a.encryptionOpts);case 9:e.t1=e.sent,a=e.t0.stringify.call(e.t0,e.t1),s=Object(o.a)(Object(o.a)({},u),{},{primaryKeyBackup:a,backupOptout:!1,emailConfRequired:!1}),(i=Object(N.b)(s)).success?(r(s,{select:!0}),c()):n(i.message);case 14:case"end":return e.stop()}}),e)}))),[m,x,t,u,n,r,c]);return Object(i.useEffect)((function(){setTimeout((function(){var e;null===y||void 0===y||null===(e=y.current)||void 0===e||e.focus()}),100)}),[]),Object(i.useEffect)((function(){d([Object(l.jsx)(s.e,{full:!0,onClick:w,children:"Update account"})])}),[w,d]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"instructions",children:"Secure your Ambire account with a password"}),Object(l.jsx)(s.w,{password:!0,className:"mb-2",ref:y,onChange:function(e){return h(e)},placeholder:"Password"}),Object(l.jsx)(s.w,{password:!0,onChange:function(e){return g(e)},placeholder:"Repeat password"})]})},A=(n(802),function(e){var t=e.accounts,n=e.onAddAccount,r=e.selectedAccount,o=e.relayerURL,u=e.newAccount,d=Object(i.useState)(null),b=Object(a.a)(d,2),f=b[0],j=b[1],p=Object(i.useState)(null),m=Object(a.a)(p,2),h=m[0],v=m[1],O=Object(i.useState)({steps:[{name:"Import seed words"},{name:"Set password"}],stepIndex:0}),x=Object(a.a)(O,2),g=x[0],y=x[1],k=Object(i.useState)(null),N=Object(a.a)(k,2),A=N[0],S=N[1],T=Object(i.useState)(null),L=Object(a.a)(T,2),I=L[0],E=L[1],D=Object(i.useState)(null),P=Object(a.a)(D,2),F=P[0],M=P[1],_=Object(c.f)().hideModal;return Object(l.jsx)(s.n,{id:"paper-import-modal",title:Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Import backup from paper"}),Object(l.jsx)(s.v,{steps:g.steps,currentStep:g.stepIndex,noLabels:!1})]}),buttons:f,children:Object(l.jsxs)("div",{children:[A&&Object(l.jsx)("div",{className:"error-message",children:A}),0===g.stepIndex&&Object(l.jsx)(w,{accounts:t,foundAddress:h,hideModal:_,newAccount:u,relayerURL:o,retrievedIdentity:F,selectedAccount:r,setFoundAddress:v,setError:S,setModalSteps:y,setWallet:E,setRetrievedIdentity:M,setModalButtons:j}),1===g.stepIndex&&Object(l.jsx)(C,{newAccount:u,selectedAccount:r,wallet:I,setError:S,onAddAccount:n,setRetrievedIdentity:M,retrievedIdentity:F,hideModal:_,setModalButtons:j})]})})});n(665),n(666),n(670)},688:function(e,t){},689:function(e,t){},690:function(e,t){},691:function(e,t){},693:function(e,t){},694:function(e,t){},695:function(e,t){},699:function(e,t){},700:function(e,t){},704:function(e,t){},708:function(e,t){},709:function(e,t){},718:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var r=n(2),a=n.n(r),c=n(11),s=n(153),i=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.prev=1,e.next=4,navigator.permissions.query({name:t,allowWithoutGesture:!1});case 4:if(c=e.sent,"granted"!==(s=c.state)){e.next=8;break}return e.abrupt("return",!0);case 8:if("prompt"!==s){e.next=16;break}if(!n){e.next=15;break}return e.next=12,n;case 12:return e.abrupt("return",i(t));case 15:return e.abrupt("return",!1);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error while trying to query permissions",e.t0);case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!Object(s.a)()&&(e?i("clipboard-read",navigator.clipboard.readText()):i("clipboard-read"))},l=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"clipboard-read"!==t){e.next=5;break}return e.next=4,navigator.clipboard.readText();case 4:return e.abrupt("return",!0);case 5:if("notifications"!==t){e.next=10;break}return e.next=8,Notification.requestPermission();case 8:return n=e.sent,e.abrupt("return","granted"===n||"default"===n);case 10:return e.abrupt("return",!1);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Permission ".concat(t," blocked")),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},726:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=e.url,n=e.title,r=e.w,a=e.h,c=void 0!==window.screenLeft?window.screenLeft:window.screenX,s=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,l=i/window.screen.availWidth,u=(i-r)/2/l+c,d=(o-a)/2/l+s,b=window.open(t,n,"\n\t\ttoolbar=no,scrollbars=no,resizable=no\n\t\twidth=".concat(r/l,", \n\t\theight=").concat(a/l,", \n\t\ttop=").concat(d,", \n\t\tleft=").concat(u,",\n\t\t"));window.focus&&b.focus()}},731:function(e,t,n){"use strict";n(786);var r=n(127),a=n(77),c=n(37),s=n(924),i=n.n(s),o=n(787),l=n.p+"static/media/circle.ee8bb2e5.svg",u=n(4);t.a=function(e){var t=e.isVisible,n=e.hideModal,s=e.text,d=e.onClick,b=document.getElementById("root");return t?Object(r.createPortal)(Object(u.jsx)("div",{id:"unbond-modal",children:Object(u.jsxs)("div",{className:"modal",children:[Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"danger-animation-wrapper",children:[Object(u.jsx)(i.a,{className:"danger-animation",animationData:o,background:"transparent",speed:"1",loop:!0,autoplay:!0}),Object(u.jsx)("img",{src:l,alt:"circle",className:"danger-animation-circle"})]}),Object(u.jsx)("span",{className:"warning-title",children:"Warning"}),Object(u.jsx)("p",{className:"warning-text",children:s})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(a.e,{className:"button",danger:!0,onClick:d,children:"Yes, Claim anyway"}),Object(u.jsx)(a.e,{className:"button",clear:!0,icon:Object(u.jsx)(c.I,{}),onClick:n,children:"Close"})]})]})}),b):null}},732:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(8),a=n(7),c=n(3),s=n(151),i=n(77),o=n(4);function l(e){var t=e.action,n=void 0===t?"LOGIN":t,l=e.onAccRequest,u=e.inProgress,d=Object(c.useRef)(null),b=Object(c.useState)({email:"",passphrase:"",passphraseConfirm:"",action:n}),f=Object(a.a)(b,2),j=f[0],p=f[1],m=function(e){var t=Object(r.a)(Object(r.a)({},j),e);p(t);var n="SIGNUP"===t.action&&t.passphrase!==t.passphraseConfirm;d.current&&d.current.setCustomValidity(n?"Passwords must match":"")},h="SIGNUP"===j.action,v=Math.ceil(s.a.quickAccTimelock/86400),O="In case you forget your password or lose your backup, you will have to wait ".concat(v," days and pay the recovery fee to restore access to your account."),x=j.backupOptout?Object(o.jsx)(i.g,{label:O,required:!0}):Object(o.jsx)(o.Fragment,{}),g=function(e){var t=e.href,n=e.children;return Object(o.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:n})},y=h?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"password",required:!0,minLength:8,placeholder:"Password",value:j.passphrase,onChange:function(e){return m({passphrase:e.target.value})}}),Object(o.jsx)("input",{ref:d,required:!0,minLength:8,type:"password",placeholder:"Confirm password",value:j.passphraseConfirm,onChange:function(e){return m({passphraseConfirm:e.target.value})}}),Object(o.jsx)(i.g,{label:Object(o.jsxs)(o.Fragment,{children:["I agree to the ",Object(o.jsx)(g,{href:"https://www.ambire.com/Ambire%20ToS%20and%20PP%20(26%20November%202021).pdf",children:"Terms of Service and Privacy policy"}),"."]}),required:!0}),Object(o.jsx)(i.g,{label:Object(o.jsxs)(o.Fragment,{children:["Backup on ",Object(o.jsx)(g,{href:"https://help.ambire.com/hc/en-us/articles/4410892186002-What-is-Ambire-Cloud-",children:"Ambire Cloud"}),"."]}),checked:!j.backupOptout,onChange:function(e){return m({backupOptout:!e.target.checked})}}),x]}):Object(o.jsx)(o.Fragment,{});return Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l({action:j.action,accType:"QUICK",email:j.email,passphrase:j.passphrase,backupOptout:j.backupOptout})},children:[Object(o.jsx)("input",{type:"email",required:!0,placeholder:"Email",value:j.email,onChange:function(e){return m({email:e.target.value})}}),h?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)("input",{type:"password",style:{display:"none"}}),y,Object(o.jsx)("input",{type:"submit",disabled:u,value:h?u?"Signing up...":"Sign up":u?"Logging in...":"Log in"})]})}},772:function(e,t,n){},781:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),c=a.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?c===t.replace(/\/.*$/,""):a===t}))}return!0}},782:function(e,t,n){},783:function(e,t,n){},784:function(e,t,n){},785:function(e,t,n){},786:function(e,t,n){},787:function(e){e.exports=JSON.parse('{"v":"5.1.5","fr":30,"ip":0,"op":30,"w":32,"h":32,"nm":"System-states-Sin conexi\xf3n","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"! contornos","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[100,100,100],"e":[130,130,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[130,130,100],"e":[100,100,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.442,0],[0,-0.443],[-0.442,0],[0,0.441]],"o":[[-0.442,0],[0,0.441],[0.442,0],[0,-0.443]],"v":[[0,-0.8],[-0.8,0],[0,0.8],[0.8,0]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,12.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.221,0],[0,0.221],[0,0],[0.221,0],[0,-0.221],[0,0]],"o":[[0.221,0],[0,0],[0,-0.221],[-0.221,0],[0,0],[0,0.221]],"v":[[0,2.544],[0.4,2.144],[0.4,-2.144],[0,-2.544],[-0.4,-2.144],[-0.4,2.144]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,7.194],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 2","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.3176470588235294,0.3176470588235294,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Sombra contornos","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":8.4,"s":[100],"e":[0]},{"t":23.8000009693939}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[100,100,100],"e":[180,180,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[180,180,100],"e":[100,100,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.3176470588235294,0.3176470588235294,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0}],"markers":[]}')},788:function(e,t,n){},789:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},804:function(e,t,n){},805:function(e,t,n){},814:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var r=n(3),a=n.n(r),c=n(49),s=n.n(c),i=n(606),o=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function l(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=o.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var u=[".DS_Store","Thumbs.db"];function d(e){return(null!==e.target&&e.target.files?j(e.target.files):[]).map((function(e){return l(e)}))}function b(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return e.items?(n=j(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(p))]):[3,2];case 1:return[2,f(m(r.sent()))];case 2:return[2,f(j(e.files).map((function(e){return l(e)})))]}}))}))}function f(e){return e.filter((function(e){return-1===u.indexOf(e.name)}))}function j(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function p(e){if("function"!==typeof e.webkitGetAsEntry)return h(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?O(t):h(e)}function m(e){return e.reduce((function(e,t){return Object(i.__spread)(e,Array.isArray(t)?m(t):[t])}),[])}function h(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=l(t);return Promise.resolve(n)}function v(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,e.isDirectory?O(e):x(e)]}))}))}function O(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function a(){var c=this;t.readEntries((function(t){return Object(i.__awaiter)(c,void 0,void 0,(function(){var c,s,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(t.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return c=i.sent(),e(c),[3,4];case 3:return s=i.sent(),n(s),[3,4];case 4:return[3,6];case 5:o=Promise.all(t.map(v)),r.push(o),a(),i.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function x(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=l(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var g=n(781),y=n.n(g);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);s=!0);}catch(o){i=!0,a=o}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N="file-invalid-type",C="file-too-large",A="file-too-small",S="too-many-files",T=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:N,message:"File type must be ".concat(t)}},L=function(e){return{code:C,message:"File is larger than ".concat(e," bytes")}},I=function(e){return{code:A,message:"File is smaller than ".concat(e," bytes")}},E={code:S,message:"Too many files"};function D(e,t){var n="application/x-moz-file"===e.type||y()(e,t);return[n,n?null:T(t)]}function P(e,t,n){if(F(e.size))if(F(t)&&F(n)){if(e.size>n)return[!1,L(n)];if(e.size<t)return[!1,I(t)]}else{if(F(t)&&e.size<t)return[!1,I(t)];if(F(n)&&e.size>n)return[!1,L(n)]}return[!0,null]}function F(e){return void 0!==e&&null!==e}function M(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,c=e.multiple,s=e.maxFiles;return!(!c&&t.length>1||c&&s>=1&&t.length>s)&&t.every((function(e){var t=w(D(e,n),1)[0],c=w(P(e,r,a),1)[0];return t&&c}))}function _(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function W(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function B(e){e.preventDefault()}function R(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function U(e){return-1!==e.indexOf("Edge/")}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return R(e)||U(e)}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.some((function(t){return!_(e)&&t&&t.apply(void 0,[e].concat(r)),_(e)}))}}var K=["children"],z=["open"],q=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],G=["refKey","onChange","onClick"];function Y(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);s=!0);}catch(o){i=!0,a=o}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return c}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ne=Object(r.forwardRef)((function(e,t){var n=e.children,c=ce(te(e,K)),s=c.open,i=te(c,z);return Object(r.useImperativeHandle)(t,(function(){return{open:s}}),[s]),a.a.createElement(r.Fragment,null,n(Q(Q({},i),{},{open:s})))}));ne.displayName="Dropzone";var re={disabled:!1,getFilesFromEvent:function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?b(e.dataTransfer,e.type):d(e))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};ne.defaultProps=re,ne.propTypes={children:s.a.func,accept:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),multiple:s.a.bool,preventDropOnDocument:s.a.bool,noClick:s.a.bool,noKeyboard:s.a.bool,noDrag:s.a.bool,noDragEventsBubbling:s.a.bool,minSize:s.a.number,maxSize:s.a.number,maxFiles:s.a.number,disabled:s.a.bool,getFilesFromEvent:s.a.func,onFileDialogCancel:s.a.func,onDragEnter:s.a.func,onDragLeave:s.a.func,onDragOver:s.a.func,onDrop:s.a.func,onDropAccepted:s.a.func,onDropRejected:s.a.func,validator:s.a.func};var ae={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Q(Q({},re),e),n=t.accept,a=t.disabled,c=t.getFilesFromEvent,s=t.maxSize,i=t.minSize,o=t.multiple,l=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,b=t.onDragOver,f=t.onDrop,j=t.onDropAccepted,p=t.onDropRejected,m=t.onFileDialogCancel,h=t.preventDropOnDocument,v=t.noClick,O=t.noKeyboard,x=t.noDrag,g=t.noDragEventsBubbling,y=t.validator,w=Object(r.useRef)(null),k=Object(r.useRef)(null),N=Object(r.useReducer)(se,ae),C=J(N,2),A=C[0],S=C[1],T=A.isFocused,L=A.isFileDialogActive,I=A.draggedFiles,F=Object(r.useCallback)((function(){k.current&&(S({type:"openDialog"}),k.current.value=null,k.current.click())}),[S]),R=function(){L&&setTimeout((function(){k.current&&(k.current.files.length||(S({type:"closeDialog"}),"function"===typeof m&&m()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}}),[k,L,m]);var U=Object(r.useCallback)((function(e){w.current&&w.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),F()))}),[w,k]),K=Object(r.useCallback)((function(){S({type:"focus"})}),[]),z=Object(r.useCallback)((function(){S({type:"blur"})}),[]),$=Object(r.useCallback)((function(){v||(V()?setTimeout(F,0):F())}),[k,v]),X=Object(r.useRef)([]),Z=function(e){w.current&&w.current.contains(e.target)||(e.preventDefault(),X.current=[])};Object(r.useEffect)((function(){return h&&(document.addEventListener("dragover",B,!1),document.addEventListener("drop",Z,!1)),function(){h&&(document.removeEventListener("dragover",B),document.removeEventListener("drop",Z))}}),[w,h]);var ne=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),X.current=[].concat(Y(X.current),[e.target]),W(e)&&Promise.resolve(c(e)).then((function(t){_(e)&&!g||(S({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e))}))}),[c,u,g]),ce=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e);var t=W(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&b&&b(e),!1}),[b,g]),ie=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e);var t=X.current.filter((function(e){return w.current&&w.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),X.current=t,t.length>0||(S({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),W(e)&&d&&d(e))}),[w,d,g]),oe=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),be(e),X.current=[],W(e)&&Promise.resolve(c(e)).then((function(t){if(!_(e)||g){var r=[],a=[];t.forEach((function(e){var t=J(D(e,n),2),c=t[0],o=t[1],l=J(P(e,i,s),2),u=l[0],d=l[1],b=y?y(e):null;if(c&&u&&!b)r.push(e);else{var f=[o,d];b&&(f=f.concat(b)),a.push({file:e,errors:f.filter((function(e){return e}))})}})),(!o&&r.length>1||o&&l>=1&&r.length>l)&&(r.forEach((function(e){a.push({file:e,errors:[E]})})),r.splice(0)),S({acceptedFiles:r,fileRejections:a,type:"setFiles"}),f&&f(r,a,e),a.length>0&&p&&p(a,e),r.length>0&&j&&j(r,e)}})),S({type:"reset"})}),[o,n,i,s,l,c,f,j,p,g,y]),le=function(e){return a?null:e},ue=function(e){return O?null:le(e)},de=function(e){return x?null:le(e)},be=function(e){g&&e.stopPropagation()},fe=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,c=e.onFocus,s=e.onBlur,i=e.onClick,o=e.onDragEnter,l=e.onDragOver,u=e.onDragLeave,d=e.onDrop,b=te(e,q);return Q(Q(ee({onKeyDown:ue(H(r,U)),onFocus:ue(H(c,K)),onBlur:ue(H(s,z)),onClick:le(H(i,$)),onDragEnter:de(H(o,ne)),onDragOver:de(H(l,ce)),onDragLeave:de(H(u,ie)),onDrop:de(H(d,oe))},n,w),a||O?{}:{tabIndex:0}),b)}}),[w,U,K,z,$,ne,ce,ie,oe,O,x,a]),je=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),pe=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,a=e.onChange,c=e.onClick,s=te(e,G),i=ee({accept:n,multiple:o,type:"file",style:{display:"none"},onChange:le(H(a,oe)),onClick:le(H(c,je)),autoComplete:"off",tabIndex:-1},r,k);return Q(Q({},i),s)}}),[k,n,o,oe,a]),me=I.length,he=me>0&&M({files:I,accept:n,minSize:i,maxSize:s,multiple:o,maxFiles:l}),ve=me>0&&!he;return Q(Q({},A),{},{isDragAccept:he,isDragReject:ve,isFocused:T&&!a,getRootProps:fe,getInputProps:pe,rootRef:w,inputRef:k,open:le(F)})}function se(e,t){switch(t.type){case"focus":return Q(Q({},e),{},{isFocused:!0});case"blur":return Q(Q({},e),{},{isFocused:!1});case"openDialog":return Q(Q({},e),{},{isFileDialogActive:!0});case"closeDialog":return Q(Q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return Q(Q({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Q(Q({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Q({},ae);default:return e}}},967:function(e,t,n){}}]);
//# sourceMappingURL=12.71cb8f6a.chunk.js.map