(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[16],{1566:function(e,t,n){e.exports={wrapper:"Balances_wrapper__2sLCW",greenHighlight:"Balances_greenHighlight__maVl4",purpleHighlight:"Balances_purpleHighlight__2rG4V",otherBalances:"Balances_otherBalances__ZYIVD",bottomOverflow:"Balances_bottomOverflow__38VnT",icon:"Balances_icon__pRVmv",iconSvg:"Balances_iconSvg__Zo2dB",noOtherBalancesWrapper:"Balances_noOtherBalancesWrapper__3fQU7",noOtherBalances:"Balances_noOtherBalances__2jmij"}},1567:function(e,t,n){e.exports={purpleHighlight:"BalanceItem_purpleHighlight__2YZFz",balanceContainer:"BalanceItem_balanceContainer__2UsxP",network:"BalanceItem_network__1bu1c"}},1568:function(e,t,n){e.exports={wrapper:"Protocols_wrapper__1XkX0",category:"Protocols_category__k1Yy-",title:"Protocols_title__1RwU2",sortHolder:"Protocols_sortHolder__3N77T",sortButtons:"Protocols_sortButtons__3Qzo5",wrapperBtns:"Protocols_wrapperBtns__Hrh_j",list:"Protocols_list__35znc",token:"Protocols_token__Ks0gq",body:"Protocols_body__3ixEH",dragHandle:"Protocols_dragHandle__2nYh4",separator:"Protocols_separator__pgQE6",icon:"Protocols_icon__2_cVe",name:"Protocols_name__35KBt",balance:"Protocols_balance__C3VRc",currency:"Protocols_currency__3e0ke",symbol:"Protocols_symbol__NfT-R",dollar:"Protocols_dollar__2i6RV",actions:"Protocols_actions__WBh39",value:"Protocols_value__12pQf",sendButton:"Protocols_sendButton__3q5Bt"}},1569:function(e,t,n){e.exports={wrapper:"ProtocolsPlaceholder_wrapper__1sEGA",placeholderOverlay:"ProtocolsPlaceholder_placeholderOverlay__3IANd",category:"ProtocolsPlaceholder_category__3JU3r",title:"ProtocolsPlaceholder_title__32h5t",sortHolder:"ProtocolsPlaceholder_sortHolder__3QmfW",sortButtons:"ProtocolsPlaceholder_sortButtons__3mKDr",wrapperBtns:"ProtocolsPlaceholder_wrapperBtns__MObeB",list:"ProtocolsPlaceholder_list__34PAv",token:"ProtocolsPlaceholder_token__xDihk",dragHandle:"ProtocolsPlaceholder_dragHandle__2TE4r",separator:"ProtocolsPlaceholder_separator__2gfeR",icon:"ProtocolsPlaceholder_icon__2VHj8",name:"ProtocolsPlaceholder_name___ZgC3",balance:"ProtocolsPlaceholder_balance__-Uf3b",currency:"ProtocolsPlaceholder_currency__2xY1s",symbol:"ProtocolsPlaceholder_symbol__3Eu8-",dollar:"ProtocolsPlaceholder_dollar__2VAeU",actions:"ProtocolsPlaceholder_actions__21EEX",addToken:"ProtocolsPlaceholder_addToken__1hEAl",value:"ProtocolsPlaceholder_value__2vgPT"}},1570:function(e,t,n){e.exports={wrapper:"Collectibles_wrapper__2JlNE",greenHighlight:"Collectibles_greenHighlight__2NuzE",purpleHighlight:"Collectibles_purpleHighlight__1rNwl",paginationControls:"Collectibles_paginationControls__20eCX",paginationCurrent:"Collectibles_paginationCurrent__jMbgR",collectiblesWrapper:"Collectibles_collectiblesWrapper__27igk",collectible:"Collectibles_collectible__1hyJR",artwork:"Collectibles_artwork__2kJ5N",info:"Collectibles_info__oEi21",collection:"Collectibles_collection__3TGG0",collectionIcon:"Collectibles_collectionIcon__30Dr7",collectionName:"Collectibles_collectionName__2Q2JV",details:"Collectibles_details__28ZTT",name:"Collectibles_name__3pXhh",value:"Collectibles_value__2fX1e",collectibles:"Collectibles_collectibles__2fnQ_",panelHeading:"Collectibles_panelHeading__RwKAo",title:"Collectibles_title__2tnJQ"}},1571:function(e,t,n){e.exports={wrapper:"CollectiblesPlaceholder_wrapper__1Buhm",paginationControls:"CollectiblesPlaceholder_paginationControls__261Pt",paginationCurrent:"CollectiblesPlaceholder_paginationCurrent__3PLO1",collectiblesWrapper:"CollectiblesPlaceholder_collectiblesWrapper__37MM5",collectible:"CollectiblesPlaceholder_collectible__2KT0P",artwork:"CollectiblesPlaceholder_artwork__2-02K",info:"CollectiblesPlaceholder_info__2KmoR",collection:"CollectiblesPlaceholder_collection__sRc1D",collectionIcon:"CollectiblesPlaceholder_collectionIcon__bRdo-",collectionName:"CollectiblesPlaceholder_collectionName__2TsuG",details:"CollectiblesPlaceholder_details__3XMQs",name:"CollectiblesPlaceholder_name__30lD6",value:"CollectiblesPlaceholder_value__3YfwE",collectibles:"CollectiblesPlaceholder_collectibles__1BxGd",panelHeading:"CollectiblesPlaceholder_panelHeading__2P9S_",title:"CollectiblesPlaceholder_title__wP_EJ",placeholderText:"CollectiblesPlaceholder_placeholderText__2AV4T",placeholderOverlay:"CollectiblesPlaceholder_placeholderOverlay__wJEP-",collectiblesPlaceholder:"CollectiblesPlaceholder_collectiblesPlaceholder__2m7_x"}},1572:function(e,t,n){e.exports={notice:"Promotions_notice__2HNSv",minimized:"Promotions_minimized__3uLsV","close-btn":"Promotions_close-btn__2TV9R",title:"Promotions_title__34cvl",link:"Promotions_link__3yDFa",timer:"Promotions_timer__3moX1",emoji:"Promotions_emoji__9wxOk"}},1573:function(e,t,n){},1574:function(e,t,n){e.exports={wrapper:"OutdatedBalancesMsg_wrapper__1_-E3",shadow:"OutdatedBalancesMsg_shadow__2pNzn",alertWrapper:"OutdatedBalancesMsg_alertWrapper__22CpX",alert:"OutdatedBalancesMsg_alert__11jj3",body:"OutdatedBalancesMsg_body__1bzXa",title:"OutdatedBalancesMsg_title__162P7",text:"OutdatedBalancesMsg_text__1mwPI",link:"OutdatedBalancesMsg_link__5s-45",close:"OutdatedBalancesMsg_close__1Shnh"}},1575:function(e,t,n){e.exports={wrapper:"Dashboard_wrapper__9cB3R",panel:"Dashboard_panel__3A6_U",panelTitle:"Dashboard_panelTitle__1Hprs",topPanels:"Dashboard_topPanels__14BCf",overview:"Dashboard_overview__2YDvh",footer:"Dashboard_footer__27Wc8",missingTokenNotice:"Dashboard_missingTokenNotice__1Ortw",powered:"Dashboard_powered__3Iria",chart:"Dashboard_chart__1lo9p"}},1653:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ke}));var a,c,r=n(9),s=n(2),o=n(34),i=n(85),l=n(1566),d=n.n(l),u=n(37),b=["title","titleId"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function j(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function f(e,t){var n=e.title,r=e.titleId,o=j(e,b);return s.createElement("svg",m({id:"Gas_tank_icon","data-name":"Gas tank icon",xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},o),n?s.createElement("title",{id:r},n):null,a||(a=s.createElement("rect",{id:"Boundary",width:32,height:32,transform:"translate(0 32) rotate(-90)",fill:"none"})),c||(c=s.createElement("g",{id:"Group_136","data-name":"Group 136",transform:"translate(7.838 6.968)"},s.createElement("path",{id:"Path_3","data-name":"Path 3",d:"M.817,18.064A.817.817,0,0,1,0,17.247v-.524a.817.817,0,0,1,.817-.817H10.849a.817.817,0,0,1,.817.817v.524a.817.817,0,0,1-.817.817Zm.091-3.083V1.135a1.13,1.13,0,0,1,.333-.8A1.13,1.13,0,0,1,2.042,0H9.669a1.133,1.133,0,0,1,1.045.693,1.131,1.131,0,0,1,.089.441c-.023,8.543.052,9.31,0,13.846Zm2.1-11.935V6.269a.546.546,0,0,0,.545.545H8.045a.546.546,0,0,0,.545-.545V3.046A.546.546,0,0,0,8.045,2.5H3.553A.546.546,0,0,0,3.008,3.046Z",fill:"#ae60ff"}),s.createElement("path",{id:"Path_167","data-name":"Path 167",d:"M7.212,10.924h.307a1.7,1.7,0,0,1,1.2.5,1.68,1.68,0,0,1,.5,1.2v1.7A.894.894,0,0,0,11,14.311V10.446h-.966a.4.4,0,0,1-.4-.4V5.994a.406.406,0,0,1,.23-.365l2.486-1.163v-.9l-2.5-1.285a.4.4,0,0,1,.367-.716l2.718,1.4a.4.4,0,0,1,.218.356v6.729a.4.4,0,0,1-.4.4H11.9v3.865a1.776,1.776,0,0,1-.523,1.262,1.789,1.789,0,0,1-2.911-.567,1.8,1.8,0,0,1-.137-.562h0V12.712a.9.9,0,0,0-.894-.894H7.212Z",transform:"translate(3.592 -0.744)",fill:"#ae60ff"}))))}var p=s.forwardRef(f),h=(n.p,n(58)),O=n(1567),v=n.n(O),g=n(4),x=function(e){var t=e.onClick,n=e.icon,a=e.name,c=e.value,r=e.decimalValue;return Object(g.jsxs)("div",{className:v.a.balanceContainer,onClick:t,children:[Object(g.jsxs)("label",{className:v.a.network,children:[n,Object(g.jsx)("div",{className:v.a.name,children:a})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{className:v.a.purpleHighlight,children:"$"}),c,".",r]})]})},y=n(302),_=function(e){var t=e.portfolio,n=e.selectedNetwork,a=e.setNetwork,c=e.hidePrivateValue,l=e.relayerURL,b=e.selectedAccount,m=(e.match,Object(s.useRef)()),j=Object(o.useHistory)(),f=function(e){return h.a.find((function(t){return t.id===e}))},O=t.otherBalances.filter((function(e){var t=e.network,a=e.total;return t!==n.id&&a.full>0})),v=Object.entries(t.balancesByNetworksLoading).find((function(e){return e[0]!==n.id&&e[1]})),_=l?"".concat(l,"/gas-tank/").concat(b,"/getBalance"):null,k=Object(u.j)({url:_}),w=k.data,N=k.isLoading,T=w&&w.length&&w.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0),C=T?Number(T.toString()).toFixed(2).split("."):[0,0],P=Object(r.a)(C,2),S=P[0],A={label:"Gas Tank",total:{full:T||0,decimals:P[1],truncated:S}},M=Object(s.useCallback)((function(){if(!v&&O){var e=m.current;if(!e)return;var t=e.scrollHeight-e.clientHeight;if(!(e.scrollHeight>e.clientHeight)||t<=e.scrollTop)return void e.classList.remove(d.a.bottomOverflow);e.classList.toggle(d.a.bottomOverflow,!0)}}),[O,v]);return Object(s.useEffect)((function(){M()}),[v,O,M]),Object(g.jsx)("div",{className:d.a.wrapper,children:t.isCurrNetworkBalanceLoading&&v?Object(g.jsx)(i.n,{}):Object(g.jsx)("div",{className:d.a.otherBalances,ref:m,onScroll:M,children:O.length>0?Object(g.jsxs)(g.Fragment,{children:[O.filter((function(e){var t=e.network;return f(t)})).map((function(e,t){var n=e.network,r=e.total;return Object(g.jsx)(x,{onClick:function(){return a(n)},name:f(n).name,value:c(r.truncated),decimalValue:c(r.decimals),icon:Object(g.jsx)("div",{className:d.a.icon,style:{backgroundImage:"url(".concat(f(n).icon,")")}})},n)})),A&&A.total.full>0&&!N&&Object(g.jsx)(x,{onClick:function(){return j.push("/wallet/gas-tank")},name:A.label,value:c(A.total.truncated),decimalValue:c(A.total.decimals),icon:Object(g.jsx)("div",{className:d.a.iconSvg,children:Object(g.jsx)(p,{})})})]}):Object(g.jsx)("div",{className:d.a.noOtherBalancesWrapper,children:Object(g.jsxs)("div",{className:d.a.noOtherBalances,children:[Object(g.jsx)(y.a,{}),Object(g.jsx)("label",{children:"You don't have any tokens on the other networks."})]})})})})},k=n(15),w=n(11),N=n(7),T=n(1568),C=n.n(T),P=n(527),S=n(213),A=n(69),M=n(52),E=n(233),B=n(1569),F=n.n(B),I=function(e){var t=e.onClickAddToken,n=e.onClickShowToken,a=Object(u.e)({key:"hiddenTokens"}),c=0;return a&&null!==a[0]&&(c=a[0].length),Object(g.jsxs)("div",{className:F.a.wrapper,children:[Object(g.jsxs)("div",{className:F.a.placeholderOverlay,children:[Object(g.jsx)("label",{children:"Welcome! You don't have any funds on this account."}),Object(g.jsx)(A.c,{to:"/wallet/deposit",children:Object(g.jsx)(i.e,{small:!0,icon:Object(g.jsx)(E.a,{}),children:"Deposit"})}),Object(g.jsxs)("div",{className:F.a.addToken,children:[Object(g.jsx)("label",{children:"You have a token that's not displayed?"}),Object(g.jsx)(i.e,{mini:!0,clear:!0,icon:Object(g.jsx)(M.s,{}),onClick:t,children:"Click here to add it"}),c>0&&Object(g.jsxs)("label",{style:{cursor:"pointer"},onClick:n,children:["There are also ",c," hidden tokens. Click to configure"]})]})]}),Object(g.jsxs)("div",{className:F.a.category,children:[Object(g.jsx)("div",{className:F.a.title,children:"Tokens"}),Object(g.jsx)("div",{className:F.a.list,children:[{icon:"https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/0xade00c28244d5ce17d72e40330b1c318cd12b7c3.png",symbol:"ADX",balance:170027.26,balanceUSD:138880.64},{icon:"https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/0x0000000000000000000000000000000000000000.png",symbol:"ETH",balance:61.77,balanceUSD:283170.08},{icon:"https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599.png",symbol:"WBTC",balance:.03,balanceUSD:2227.24}].map((function(e){var t=e.icon,n=e.symbol,a=e.balance,c=e.balanceUSD;return Object(g.jsxs)("div",{className:F.a.token,children:[Object(g.jsx)("div",{className:F.a.icon,children:Object(g.jsx)("img",{src:t,alt:"Token Icon"})}),Object(g.jsx)("div",{className:F.a.name,children:n}),Object(g.jsx)("div",{className:F.a.separator}),Object(g.jsxs)("div",{className:F.a.balance,children:[Object(g.jsxs)("div",{className:F.a.currency,children:[a," ",Object(g.jsx)("span",{className:F.a.symbol,children:n})]}),Object(g.jsxs)("div",{className:F.a.dollar,children:[Object(g.jsx)("span",{className:F.a.symbol,children:"$"})," ",c]})]})]},n)}))})]})]})},R=n(582),D=n(587),U=n(508),L=n(521),H=function(e){var t,n=e.portfolio,a=e.network,c=e.account,o=e.hidePrivateValue,l=e.userSorting,d=e.setUserSorting,b=Object(u.f)().showModal,m=Object(s.useState)([]),j=Object(r.a)(m,2),f=j[0],p=j[1],h=Object(s.useState)(!1),O=Object(r.a)(h,2),v=O[0],x=O[1],y=n.isCurrNetworkBalanceLoading,_=n.isCurrNetworkProtocolsLoading,T=n.tokens,E=n.protocols,B=(null===(t=l.tokens)||void 0===t?void 0:t.sortType)||"decreasing",F=Object(u.c)(),H=Object(u.d)("address",(function(e){d((function(t){var n;return Object(N.a)(Object(N.a)({},t),{},{tokens:{sortType:"custom",items:Object(N.a)(Object(N.a)({},null===(n=t.tokens)||void 0===n?void 0:n.items),{},Object(w.a)({},"".concat(c,"-").concat(a.chainId),e))}})}))})),W=H.dragStart,V=H.dragEnter,z=H.target,Y=H.handle,G=H.dragTarget,q=H.drop,J=T.sort((function(e,t){var n,r,s;if("custom"===B&&(null===(n=l.tokens)||void 0===n||null===(r=n.items)||void 0===r||null===(s=r["".concat(c,"-").concat(a.chainId)])||void 0===s?void 0:s.length))return l.tokens.items["".concat(c,"-").concat(a.chainId)].indexOf(e.address)-l.tokens.items["".concat(c,"-").concat(a.chainId)].indexOf(t.address);var o=t.balanceUSD-e.balanceUSD;return 0===o?e.symbol.localeCompare(t.symbol):o})),K=E.filter((function(e){return"Tokens"!==e.label})),X=!y&&!T.length&&!_&&!K.length,Z=function(e,t,n,a,c,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,b=arguments.length>10?arguments[10]:void 0,m=f.includes(t)?Object(U.a)(l,r):t;return Object(g.jsxs)("div",{className:C.a.token,draggable:"tokens"===u&&b>1&&"custom"===B&&!F,onDragStart:function(t){Y.current===z.current||Y.current.contains(z.current)?W(t,e):t.preventDefault()},onMouseDown:function(t){return G(t,e)},onDragEnter:function(t){return V(t,e)},onDragEnd:function(){return q(J)},onDragOver:function(e){return e.preventDefault()},children:[b>1&&"custom"===B&&!F&&Object(g.jsx)(M.i,{size:20,className:C.a.dragHandle,onClick:function(t){return W(t,e)},id:"".concat(e,"-handle")}),Object(g.jsxs)("div",{className:C.a.body,children:[Object(g.jsx)("div",{className:C.a.icon,children:f.includes(m)?Object(g.jsx)(P.c,{size:20}):Object(g.jsx)("img",{src:m,draggable:"false",alt:"Token Icon",onError:function(){return p((function(e){return[].concat(Object(k.a)(e),[m])}))}})}),Object(g.jsx)("div",{className:C.a.name,children:n}),Object(g.jsx)("div",{className:C.a.separator}),Object(g.jsxs)("div",{className:C.a.balance,children:[Object(g.jsxs)("div",{className:C.a.currency,children:[Object(g.jsx)("span",{className:C.a.value,children:o(Object(L.a)(a,!0,d))}),Object(g.jsx)("span",{className:C.a.symbol,children:n})]}),Object(g.jsxs)("div",{className:C.a.dollar,children:[Object(g.jsx)("span",{className:C.a.symbol,children:"$"})," ",o(c.toFixed(2))]})]})]}),s?Object(g.jsx)("div",{className:C.a.actions,children:Object(g.jsx)(A.c,{to:"/wallet/transfer/".concat(r),children:Object(g.jsx)(i.e,{small:!0,icon:Object(g.jsx)(S.h,{}),className:C.a.sendButton,children:"Send"})})}):null]},"token-".concat(r,"-").concat(e))},Q=Object(s.useCallback)((function(){return b(Object(g.jsx)(R.a,{network:a,account:c,portfolio:n}))}),[c,a,n,b]),$=Object(s.useCallback)((function(){return x(!0)}),[]);return Object(s.useEffect)((function(){v&&b(Object(g.jsx)(D.a,{portfolio:n,account:c,userSorting:l,sortType:B,network:a,setIsHideTokenModalOpen:x}))}),[n,v,b,c,a,B,l]),Object(g.jsxs)("div",{className:C.a.wrapper,children:[X?Object(g.jsx)(I,{onClickAddToken:Q,onClickShowToken:$}):null,Object(g.jsxs)(g.Fragment,{children:[y?Object(g.jsx)(i.n,{}):!X&&J.length?Object(g.jsxs)("div",{className:C.a.category,children:[Object(g.jsxs)("div",{className:C.a.title,children:[Object(g.jsxs)("div",{className:C.a.sortHolder,children:["Tokens",J.length>1&&!F&&Object(g.jsxs)("div",{className:C.a.sortButtons,children:[Object(g.jsx)(i.B,{label:"Sorted tokens by drag and drop",children:Object(g.jsx)(M.i,{color:"custom"===B?"#80ffdb":"",cursor:"pointer",onClick:function(){return d((function(e){return Object(N.a)(Object(N.a)({},e),{},{tokens:Object(N.a)(Object(N.a)({},e.tokens),{},{sortType:"custom"})})}))}})}),Object(g.jsx)(i.B,{label:"Sorted tokens by DESC balance",children:Object(g.jsx)(M.H,{color:"decreasing"===B?"#80ffdb":"",cursor:"pointer",onClick:function(){return d((function(e){return Object(N.a)(Object(N.a)({},e),{},{tokens:Object(N.a)(Object(N.a)({},e.tokens),{},{sortType:"decreasing"})})}))}})})]})]}),Object(g.jsxs)("div",{className:C.a.wrapperBtns,children:[Object(g.jsx)(i.e,{mini:!0,clear:!0,icon:Object(g.jsx)(M.M,{}),onClick:function(){return $()},children:"Hide Token"}),Object(g.jsx)(i.e,{mini:!0,clear:!0,icon:Object(g.jsx)(M.s,{}),onClick:function(){return Q()},children:"Add Token"})]})]}),Object(g.jsx)("div",{className:C.a.list,children:J.map((function(e,t){var n=e.address,a=e.symbol,c=e.tokenImageUrl,r=e.balance,s=e.balanceUSD,o=e.network,i=e.decimals;return Z(t,c,a,r,s,n,!0,o,i,"tokens",J.length)}))})]},"category-tokens"):null,_?Object(g.jsx)(i.n,{}):K.map((function(e,t){var n=e.label,a=e.assets;return Object(g.jsxs)("div",{className:"category",children:[Object(g.jsx)("div",{className:"title",children:n}),Object(g.jsx)("div",{className:"list",children:a.map((function(e,t){var n=e.category,a=e.symbol,c=e.tokenImageUrl,r=e.balance,s=e.balanceUSD,o=e.address;return Z(t,c,a,r,s,o,"claimable"!==n,"protocols")}))})]},"category-".concat(t))}))]})]})},W=n(1570),V=n.n(W),z=n(1571),Y=n.n(z),G=function(e){var t=e.isPrivateMode,n=e.collectiblesLength;return Object(g.jsxs)("div",{className:Y.a.wrapper,children:[Object(g.jsx)("div",{className:Y.a.placeholderText,children:t&&n?"You can't see collectibles in private mode":"You don't have any collectibles (NFTs) yet"}),Object(g.jsx)("div",{className:Y.a.placeholderOverlay}),Object(g.jsx)("div",{className:Y.a.collectibles,children:Object(g.jsx)("div",{className:Y.a.collectiblesWrapper,children:[{collectionName:"Party Bone",collectionImg:"https://lh3.googleusercontent.com/ZNc-hDBHOxgioSltBcDvh5hBfWEj623dETJj2nrEC0cLbjuULbo4Ign7OnLDX9qf2XaALrkXsZCRylRqPPHqQgzJOabJg4TRq3MDhA=s2500",name:"Party Bone #7865",image:"https://lh3.googleusercontent.com/uznp2aNVNPEhVk4MhLG2Zn-JC2sVaF6PsUcpF_CpyQkgekmv4hh4zbyebsoLFLvkY8PSV6D-TR5OaMp15RhG9zQsYd_AvDCo9SEVF4Q",price:32.16},{collectionName:"Pudgy Penguins",collectionImg:"https://lh3.googleusercontent.com/L9PJp0pOXCscKsTpD1_6zoALxdjG5gIKHLykS_Wk5J_yk590drEqRhM1ElTEZCaWeTjFj2isfxFw2tcFKcbCPlu6-Eu5bUuxsL-x=s2500",name:"Pudgy Penguin #8675",image:"https://lh3.googleusercontent.com/J6gQQRnzsMLAOhYiN9qIhogxr2MKn17zfGf6nQFKr3WCZ34thm6H0w9izvnJysxJclsyr8c3yo0hshOaLU73aS-IgTm-CooJb1cw1S0",price:5675},{collectionName:"Art Blocks Factory",collectionImg:"https://lh3.googleusercontent.com/sr7Y19-bJwsQsxX6n8Pj5tIaNKdUEotNlfhBsYw8McKpIsYARglTORaNlGhDZ2PrH-tO1vU6tFbpamiWwIImbidhVSh4aoIh4d310Og=s2500",name:"Transitions #4267",image:"https://lh3.googleusercontent.com/9MzvH_PSYMvlJE8Cfm5d308ltY5fZx-dooEcQizKgtKZ8g05RvJvd_5LAbqVHIzaoZbM-HOBgNSV8RKvEe_1thkLcQtE4NMMx8Kp5g",price:263.46},{collectionName:"Sad Frogs District",collectionImg:"https://lh3.googleusercontent.com/3U8N73XLrQOQPhJBAMNi7IPR1y3GGJ2zxmyUlit4IHCJURmKFPWClgatjbYfyz9drMk6-XSQTjSFqn7tKL0ZNoRbgvUu8OdLVREA=s2500",name:"1882",image:"https://lh3.googleusercontent.com/3uwrfkdhHSfWm171BOjJHp3768tbLP9TeyTh2BnvgF6S1nIRI489SFq6EGjI9AISRUeyXXufEjB34Wj0bif_vl-y5h6GesEoJaaZcJg",price:1563.59},{collectionName:"GLUEWAVE",collectionImg:"https://lh3.googleusercontent.com/LheZMF6AyTLPpfwABwAGZqoC0gTWrDlYloDdT2VX2u_GZRZnP-ZpDC90huElm3RXE-eU1d1YluQi8G1uVdeDdysUNLZWJte4jXk3zeY=s2500",name:"000105040307070704",image:"https://lh3.googleusercontent.com/eP_F_6aa_BXuKfYq1w2aiS6UW3bp4-gByFoeKLMXYuWAkU6Xiyi7mkm31aoewCZ_eG9RAuhas8jxFwXTxAWuxq1E3ZxYg97cLUUE",price:7107.27}].map((function(e){var t=e.collectionName,n=e.collectionImg,a=e.name,c=e.image,r=e.price;return Object(g.jsxs)("div",{className:Y.a.collectible,children:[Object(g.jsx)("div",{className:Y.a.artwork,style:{backgroundImage:"url(".concat(c,")")}}),Object(g.jsxs)("div",{className:Y.a.info,children:[Object(g.jsxs)("div",{className:Y.a.collection,children:[Object(g.jsx)("div",{className:Y.a.collectionIcon,style:{backgroundImage:"url(".concat(n,")")}}),t]}),Object(g.jsxs)("div",{className:Y.a.details,children:[Object(g.jsx)("div",{className:Y.a.name,children:a}),Object(g.jsxs)("div",{className:Y.a.value,children:[Object(g.jsx)("span",{className:"purple-highlight",children:"$"})," ",r]})]})]})]},a)}))})})]})},q=n(762),J=n(180),K=function(e){var t=e.portfolio,n=e.isPrivateMode,a=Object(q.useParams)(),c=Object(q.useHistory)(),o=Math.ceil(t.collectibles.length/15),l=Object(s.useMemo)((function(){return Math.min(Math.max(Number(a.page),1),o)||1}),[a.page,o]),d=Object(s.useState)(l),u=Object(r.a)(d,2),b=u[0],m=u[1],j=t.collectibles.slice(15*(b-1),15*b),f=Object(g.jsxs)("div",{className:V.a.paginationControls,children:[Object(g.jsx)("div",{className:V.a.paginationTitle,children:"Page"}),Object(g.jsx)(i.e,{clear:!0,mini:!0,onClick:function(){return b>1&&m((function(e){return e-1}))},children:Object(g.jsx)(J.a,{})}),Object(g.jsxs)("div",{className:V.a.paginationCurrent,children:[b," ",Object(g.jsxs)("span",{children:["/ ",o]})]}),Object(g.jsx)(i.e,{clear:!0,mini:!0,onClick:function(){return b<o&&m((function(e){return e+1}))},children:Object(g.jsx)(J.b,{})})]});Object(s.useEffect)((function(){return c.replace("/wallet/dashboard/collectibles/".concat(b))}),[b,c]),Object(s.useEffect)((function(){return m(l)}),[l]);return t.isCurrNetworkProtocolsLoading?Object(g.jsx)(i.n,{}):!t.collectibles.length||n?Object(g.jsx)(G,{isPrivateMode:n,collectiblesLength:t.collectibles.length}):Object(g.jsxs)("div",{className:V.a.wrapper,children:[Object(g.jsx)("div",{className:V.a.collectiblesWrapper,children:j.map((function(e){var t=e.network,n=e.address,a=e.collectionName,c=e.collectionImg;return(e.assets||[]).map((function(e){var r,s=e.tokenId,o=e.assetName,i=e.assetImg,l=e.balanceUSD;return Object(g.jsx)("div",{className:V.a.collectible,children:Object(g.jsxs)(A.c,{to:"/wallet/nft/".concat(t,"/").concat(n,"/").concat(s),children:[Object(g.jsx)("div",{className:V.a.artwork,style:{backgroundImage:"url(".concat((r=i,r?"data:image"===(r=r.startsWith("data:application/json")?r.replace("data:application/json;utf8,",""):r).split("/")[0]?r:r.startsWith("ipfs://")?r.replace(/ipfs:\/\/ipfs\/|ipfs:\/\//g,"https://ipfs.io/ipfs/"):r.split("/")[2].endsWith("mypinata.cloud")?"https://ipfs.io/ipfs/"+r.split("/").slice(4).join("/"):r:""),")")}}),Object(g.jsxs)("div",{className:V.a.info,children:[Object(g.jsxs)("div",{className:V.a.collection,children:[Object(g.jsx)("div",{className:V.a.collectionIcon,style:{backgroundImage:"url(".concat(c,")")}}),Object(g.jsx)("span",{className:V.a.collectionName,children:a})]}),Object(g.jsxs)("div",{className:V.a.details,children:[Object(g.jsx)("div",{className:V.a.name,children:o}),Object(g.jsxs)("div",{className:V.a.value,children:[Object(g.jsx)("span",{className:V.a.purpleHighlight,children:"$"})," ",l.toFixed(2)]})]})]})]})},s)}))}))}),f]})},X=n(220),Z=n(1572),Q=n.n(Z),$=(n(1573),n(924));function ee(e){return e<10?"0".concat(e):"".concat(e)}function te(e){var t=e.endDateTime,n=e.label,a=Object(s.useState)(null),c=Object(r.a)(a,2),o=c[0],i=c[1];return Object(s.useLayoutEffect)((function(){if(t){var e=setInterval((function(){var n=new Date(t).getTime()-(new Date).getTime();i(function(e){return e<0?{days:"00",hours:"00",minutes:"00",seconds:"00"}:{days:ee(Math.floor(e/864e5)),hours:ee(Math.floor(e/36e5%24)),minutes:ee(Math.floor(e/1e3/60%60)),seconds:ee(Math.floor(e/1e3%60))}}(n)),n<0&&(clearInterval(e),e=null)}),1e3);return function(){clearInterval(e),e=null}}i(null)}),[t]),o?Object(g.jsxs)("div",{children:[n&&Object(g.jsx)("span",{children:n}),Object(g.jsxs)("div",{className:"final-countdown",children:[Object(g.jsx)($.b,{className:"timer-icon"}),Object(g.jsxs)("div",{className:"unit-box",children:[Object(g.jsx)("div",{className:"value",children:o.days}),Object(g.jsx)("div",{className:"unit",children:"days"})]}),Object(g.jsx)("div",{className:"value",children:":"}),Object(g.jsxs)("div",{className:"unit-box",children:[Object(g.jsx)("div",{className:"value",children:o.hours}),Object(g.jsx)("div",{className:"unit",children:"hours"})]}),Object(g.jsx)("div",{className:"value",children:":"}),Object(g.jsxs)("div",{className:"unit-box",children:[Object(g.jsx)("div",{className:"value",children:o.minutes}),Object(g.jsx)("div",{className:"unit",children:"minutes"})]}),Object(g.jsx)("div",{className:"value",children:":"}),Object(g.jsxs)("div",{className:"unit-box",children:[Object(g.jsx)("div",{className:"value",children:o.seconds}),Object(g.jsx)("div",{className:"unit",children:"seconds"})]})]})]}):null}var ne=n(221),ae=["emojies","color","background"];function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.period,a=e.text,c=e.title,s=e.resources,o=void 0===s?{}:s,i=e.togglePromo,l=e.minimized;if(!a)return null;var d=new RegExp(/\${{(\w+)}}/,"gi"),u=a.split(d),b=o.emojies,m=o.color,j=o.background,f=Object(X.a)(o,ae),p=Object.entries(f).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],c=n[1],s=(c=void 0===c?{}:c).label,o=c.href,i=Object(g.jsx)("a",{className:"link",href:o,target:"_blank",rel:"noreferrer noopener",children:s},a);return e[a]=i,e}),{}),h=Object.entries(Object(N.a)({},b)).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],c=n[1],s=(c=void 0===c?{}:c).text,o=c.size,i=Object(g.jsx)("span",{className:Q.a.emoji,style:{fontSize:o},children:s},a);return e[a]=i,e}),{});return Object(g.jsxs)("div",{className:"".concat(Q.a.notice," ").concat(l?Q.a.minimized:""),style:Object(N.a)(Object(N.a)({},j?{backgroundColor:j}:{}),m?{color:m}:{}),children:[!l&&Object(g.jsxs)("div",{children:[c&&Object(g.jsx)("div",{className:Q.a.title,children:c}),Object(g.jsx)("div",{children:u.map((function(e){return p[e]||h[e]||e}))}),(null===n||void 0===n?void 0:n.to)&&(null===n||void 0===n?void 0:n.timer)&&Object(g.jsx)("div",{className:Q.a.timer,children:Object(g.jsx)(te,{endDateTime:n.to})})]}),t?l?Object(g.jsx)(M.B,{className:Q.a.closeBtn,onClick:function(){return i(t)}}):Object(g.jsx)("div",{children:Object(g.jsx)(S.g,{className:Q.a.closeBtn,onClick:function(){return i(t)}})}):null]})}function re(e){var t=e.rewardsData.rewards.promo,n=Object(ne.a)({key:"closedPromos",defaultValue:[]}),a=Object(r.a)(n,2),c=a[0],o=a[1],i=Object(s.useCallback)((function(e){var t=Object(k.a)(c),n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),o(t)}),[c,o]);return t?Object(g.jsx)(ce,Object(N.a)(Object(N.a)({},t),{},{togglePromo:i,minimized:c.includes(t.id)})):null}var se=n(766),oe=n(764),ie=n(20);var le,de,ue=n(1574),be=n.n(ue),me=["title","titleId"];function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function pe(e,t){var n=e.title,a=e.titleId,c=fe(e,me);return s.createElement("svg",je({id:"Alert_icon_2","data-name":"Alert icon 2",xmlns:"http://www.w3.org/2000/svg",width:34,height:30.6,viewBox:"0 0 34 30.6",ref:t,"aria-labelledby":a},c),n?s.createElement("title",{id:a},n):null,le||(le=s.createElement("path",{id:"Path_60","data-name":"Path 60",d:"M14.512,7.194a6.185,6.185,0,0,1,10.612,0l10.91,18.838a5.885,5.885,0,0,1-5.306,8.754H8.909A5.885,5.885,0,0,1,3.6,26.032Z",transform:"translate(-2.819 -4.187)",fill:"#ffbc00"})),de||(de=s.createElement("path",{id:"Path_59","data-name":"Path 59",d:"M-3969.3,23.583a1.7,1.7,0,0,1-1.7-1.689,1.7,1.7,0,0,1,1.7-1.689,1.7,1.7,0,0,1,1.7,1.689A1.7,1.7,0,0,1-3969.3,23.583Zm0-6.758a1.7,1.7,0,0,1-1.7-1.689V6.689A1.7,1.7,0,0,1-3969.3,5a1.7,1.7,0,0,1,1.7,1.689v8.447A1.7,1.7,0,0,1-3969.3,16.825Z",transform:"translate(3986.298 3.093)",fill:"#fff"})))}var he=s.forwardRef(pe),Oe=(n.p,function(e){var t=e.selectedAccount,n=e.selectedNetwork;return Object(g.jsxs)("div",{className:be.a.wrapper,children:[Object(g.jsx)("div",{className:be.a.alertWrapper,children:Object(g.jsxs)("div",{className:be.a.alert,children:[Object(g.jsx)(he,{}),Object(g.jsxs)("div",{className:be.a.body,children:[Object(g.jsx)("h4",{className:be.a.title,children:"Dashboard balances could appear incomplete or outdated."}),Object(g.jsxs)("p",{className:be.a.text,children:["We are currently experiencing technical difficulties with our third party services, so what you see on the dashboard may be incomplete or outdated. You can check"," ",Object(g.jsx)("a",{href:n.explorerUrl+"/address/"+t,target:"_blank",rel:"noreferrer",className:be.a.link,children:n.explorerUrl.split("/")[2]})," ","to see your current balances. However, you can use Ambire normally with any connected dApp."]})]})]})}),Object(g.jsx)("div",{className:be.a.shadow})]})}),ve=n(27),ge=n.n(ve),xe=n(1575),ye=n.n(xe),_e=[{value:"tokens"},{value:"collectibles"}];function ke(e){var t=e.portfolio,n=e.selectedNetwork,a=e.selectedAccount,c=e.setNetwork,l=e.privateMode,d=e.rewardsData,b=e.userSorting,m=e.setUserSorting,j=e.accounts,f=e.addRequest,p=e.relayerURL,h=e.useStorage,O=e.match,v=e.showSendTxns,x=Object(o.useHistory)(),y=Object(o.useParams)(),k=y.tabId,w=y.page,T=void 0===w?1:w,C=Object(s.useState)([]),P=Object(r.a)(C,2),S=P[0],A=P[1],M=Object(s.useState)(k||_e[0].value),E=Object(r.a)(M,2),B=E[0],F=E[1],I=j.find((function(e){return e.id.toLowerCase()===a.toLowerCase()})),R=function(e,t,n){var a=Object(s.useState)((function(){return Date.now()})),c=Object(r.a)(a,2),o=c[0],i=c[1],l=Object(s.useState)(null),d=Object(r.a)(l,2),b=d[0],m=d[1],j=Object(s.useState)(null),f=Object(r.a)(j,2),p=f[0],h=f[1],O=Object(s.useState)(null),v=Object(r.a)(O,2),g=v[0],x=v[1],y=Object(s.useState)(null),_=Object(r.a)(y,2),k=_[0],w=_[1];Object(s.useEffect)((function(){Date.now()-o>3e4&&i(Date.now());var e=setTimeout((function(){return i(Date.now())}),3e4);return function(){return clearTimeout(e)}}),[o,t,n]);var T=e?"".concat(e,"/identity/").concat(t.id,"/").concat(n.id,"/privileges?cacheBreak=").concat(o):null,C=Object(u.j)({url:T}),P=C.data,S=C.errMsg,A=C.isLoading;return Object(s.useEffect)((function(){var e=P?P.privileges:{},a=P&&P.recoveryLock,c=e[t.signer.quickAccManager]&&(a&&a.status&&!A||e&&t.signer.quickAccManager&&t.signer.preRecovery&&function(e){var t=new ie.AbiCoder,n=e.timelock,a=e.one,c=e.two;return Object(ie.keccak256)(t.encode(["tuple(uint, address, address)"],[[n,a,c]]))}(t.signer)!==e[t.signer.quickAccManager]);m({hasPendingReset:c,errMsg:S,recoveryLock:a}),A?x(!k&&A):p===(null===t||void 0===t?void 0:t.id)+n.id?(w(!0),x(!1)):(h((null===t||void 0===t?void 0:t.id)+n.id),w(!1))}),[P,S,A,t,p,n.id,k]),Object(N.a)({data:P,isPasswordRecoveryCheckLoading:g},b)}(p,I,n),D=R.hasPendingReset,U=R.recoveryLock,L=R.isPasswordRecoveryCheckLoading,W=!!t.cachedBalancesByNetworks.length&&t.cachedBalancesByNetworks.find((function(e){return e.network===n.id}));return Object(s.useEffect)((function(){if(!B||B===_e[0].value)return x.replace("/wallet/dashboard");x.replace("/wallet/dashboard/".concat(B).concat(B===_e[1].value?"/".concat(T):""))}),[B,x,T]),Object(s.useLayoutEffect)((function(){var e,n,a=t.tokens.map((function(e){var n=e.label,a=e.symbol,c=e.balanceUSD;return{label:n||a,value:Number((c/t.balance.total.full*100).toFixed(2)),balanceUSD:c}})).filter((function(e){return e.value>0}));(null===t||void 0===t||null===(e=t.balance)||void 0===e||null===(n=e.total)||void 0===n?void 0:n.full)&&a?A({empty:!1,data:null===a||void 0===a?void 0:a.sort((function(e,t){return t.value-e.value}))}):A({empty:!0,data:[{label:"You don't have any tokens",balanceUSD:1,value:0}]})}),[t.balance,t.tokens]),Object(s.useEffect)((function(){return t.requestOtherProtocolsRefresh()}),[t]),Object(g.jsxs)("section",{className:ye.a.wrapper,children:[W&&Object(g.jsx)(Oe,{selectedNetwork:n,selectedAccount:a}),Object(g.jsx)(re,{rewardsData:d}),Object(g.jsx)(se.a,{selectedNetwork:n,selectedAccount:a,accounts:j,addRequest:f,closeable:!0,relayerURL:p,portfolio:t,useStorage:h}),D&&!L&&Object(g.jsx)(oe.a,{recoveryLock:U,showSendTxns:v,selectedAccount:I,selectedNetwork:n}),Object(g.jsxs)("div",{className:ye.a.overview,children:[Object(g.jsx)(i.s,{className:ge()(ye.a.chart,ye.a.panel,ye.a.topPanels),children:t.isCurrNetworkBalanceLoading?Object(g.jsx)(i.n,{}):l.hidePrivateContent(Object(g.jsx)(i.f,{selectedNetwork:n,data:S,size:200,className:ye.a.chart,hidePrivateValue:l.hidePrivateValue,portfolio:t}))}),Object(g.jsx)(i.s,{className:ge()(ye.a.balance,ye.a.panel,ye.a.topPanels),titleClassName:ye.a.panelTitle,title:"You also have",children:Object(g.jsx)(_,{portfolio:t,selectedNetwork:n,setNetwork:c,hidePrivateValue:l.hidePrivateValue,relayerURL:p,selectedAccount:a,match:O})})]}),Object(g.jsxs)(i.s,{title:Object(g.jsxs)(g.Fragment,{children:["Assets ",Object(g.jsx)(i.v,{small:!0,defaultValue:B,segments:_e,onChange:F})]}),children:[B===_e[0].value?Object(g.jsx)(H,{portfolio:t,network:n,account:a,hidePrivateValue:l.hidePrivateValue,userSorting:b,setUserSorting:m}):Object(g.jsx)(K,{portfolio:t,isPrivateMode:l.isPrivateMode}),Object(g.jsx)("div",{className:ye.a.footer,children:Object(g.jsxs)("span",{className:ye.a.missingTokenNotice,children:["If you don't see a specific token that you own, please check the ",Object(g.jsx)("a",{href:"".concat(n.explorerUrl,"/address/").concat(a),target:"_blank",rel:"noreferrer",children:"Block Explorer"})]})})]})]})}},181:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},522:function(e,t,n){},762:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var c=n(34),r=a(n(2)),s=n(54);n(87),n(181);var o=a(n(60));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),d(e.prototype.constructor=e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||(c[n]=e[n]);return c}var b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return r.createElement(c.Router,{history:this.history,children:this.props.children})},t}(r.Component),m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return r.createElement(c.Router,{history:this.history,children:this.props.children})},t}(r.Component),j=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},p=function(e){return e},h=r.forwardRef;void 0===h&&(h=p);var O=h((function(e,t){var n=e.innerRef,a=e.navigate,c=e.onClick,s=u(e,["innerRef","navigate","onClick"]),o=s.target,l=i({},s,{onClick:function(t){try{c&&c(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),a())}});return l.ref=p!==h&&t||n,r.createElement("a",l)})),v=h((function(e,t){var n=e.component,a=void 0===n?O:n,l=e.replace,d=e.to,b=e.innerRef,m=u(e,["component","replace","to","innerRef"]);return r.createElement(c.__RouterContext.Consumer,null,(function(e){e||o(!1);var n=e.history,c=f(j(d,e.location),e.location),u=c?n.createHref(c):"",O=i({},m,{href:u,navigate:function(){var t=j(d,e.location),a=s.createPath(e.location)===s.createPath(f(t));(l||a?n.replace:n.push)(t)}});return p!==h?O.ref=t||b:O.innerRef=b,r.createElement(a,O)}))})),g=function(e){return e},x=r.forwardRef;void 0===x&&(x=g);var y=x((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,d=e.activeStyle,b=e.className,m=e.exact,p=e.isActive,h=e.location,O=e.sensitive,y=e.strict,_=e.style,k=e.to,w=e.innerRef,N=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(c.__RouterContext.Consumer,null,(function(e){e||o(!1);var n=h||e.location,s=f(j(k,n),n),u=s.pathname,T=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=T?c.matchPath(n.pathname,{path:T,exact:m,sensitive:O,strict:y}):null,P=!!(p?p(C,n):C),S="function"==typeof b?b(P):b,A="function"==typeof _?_(P):_;P&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,l),A=i({},A,d));var M=i({"aria-current":P&&a||null,className:S,style:A,to:s},N);return g!==x?M.ref=t||w:M.innerRef=w,r.createElement(v,M)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return c.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return c.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return c.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return c.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return c.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return c.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return c.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return c.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return c.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return c.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return c.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return c.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return c.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return c.withRouter}}),t.BrowserRouter=b,t.HashRouter=m,t.Link=v,t.NavLink=y},763:function(e,t,n){},764:function(e,t,n){"use strict";var a=n(3),c=n.n(a),r=n(12),s=n(213),o=n(148),i=n(613),l=n(4);t.a=function(e){var t=e.recoveryLock,n=e.showSendTxns,a=e.selectedAccount,d=e.selectedNetwork,u=t&&"requestedButNotInitiated"!==t.status,b=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:t=Object(i.a)(a.id,d.id,a.signer.preRecovery,{signer:a.signer,primaryKeyBackup:a.primaryKeyBackup}),n(t,!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=t?t.status:"requestedButNotInitiated",j=function(e){return e>86400?"".concat(Math.ceil(e/86400)," days"):"".concat(Math.ceil(e/1440)," hours")},f=u?"ready"===m?"success":"warning":"warning action";return Object(l.jsxs)("div",{className:"notification-banner notification-hollow ".concat(f),onClick:function(){return b()},children:["ready"===m?Object(l.jsx)(o.b,{}):Object(l.jsx)(s.c,{}),"requestedButNotInitiated"===m?Object(l.jsxs)(l.Fragment,{children:["Password reset requested but not initiated for ",d.name,". Click here to initiate it."]}):"initiationTxnPending"===m?Object(l.jsxs)(l.Fragment,{children:["Initiation transaction is currently pending. Once mined, you will need to wait ",j(t.timelock)," for the reset to be done on ",d.name,"."]}):"waitingTimelock"===m?Object(l.jsxs)(l.Fragment,{children:["Password reset on ",d.name," is currently pending. ",j(t.remaining)," remaining."]}):"ready"===m?Object(l.jsxs)(l.Fragment,{children:["Password reset on ",d.name," is now complete! You can start signing transactions with your new password!"]}):"failed"===m?Object(l.jsx)(l.Fragment,{children:"Something went wrong while resetting your password. Please contact support at help.ambire.com"}):null]})}},766:function(e,t,n){"use strict";var a=n(9),c=(n(522),n(111)),r=n(94),s="0x0000000000000000000000000000000000000000",o=n(58);function i(e){var t,n=e.networkId,a=e.account;return(null===(t=o.a.find((function(e){return e.id===n})))||void 0===t?void 0:t.relayerlessOnly)?Promise.resolve([]):a?Object(r.c)("".concat(c.h,"/protocols/tokens/balances?addresses[]=").concat(a,"&network=").concat(n,"&api_key=").concat(c.j,"&newBalances=true&available_on_coingecko=true")).then((function(e){var t=a.toLowerCase();if(!e[t])return[];if(!e[t].products[0])return[];var o=e[t].products[0].assets.map((function(e){return{address:e.tokens[0].address,symbol:e.tokens[0].symbol,decimals:e.tokens[0].decimals}})),i="".concat(c.h,"/protocols/tokens/balances?addresses[]=").concat(a,"&network=").concat(n,"&api_key=").concat(c.j,"&customTokens=").concat(JSON.stringify(o),"&available_on_coingecko=true");return Object(r.c)(i).then((function(e){var n,a;return(null===(n=e[t])||void 0===n||null===(a=n.products[0])||void 0===a?void 0:a.assets).map((function(e){return{name:e.tokens[0].symbol,icon:e.tokens[0].tokenImageUrl,address:e.tokens[0].address.toLowerCase(),native:e.tokens[0].address===s,decimals:e.tokens[0].decimals,availableBalance:e.tokens[0].balanceRaw,balanceUSD:e.tokens[0].balanceUSD,rate:e.tokens[0].balanceUSD/e.tokens[0].balanceRaw}}))})).catch((function(e){throw Error("Could not get customToken assets from velcro")}))})).catch((function(e){throw Error("Could not get assets from velcro")})):Promise.resolve([])}n(763);var l=n(37),d=n(85),u=n(2),b=n(3),m=n.n(b),j=n(12),f=n(7),p=n(15),h=n(590),O=n.n(h),v=n(225),g=n(527),x=n(52),y=n(62),_=n(102),k=n(20),w=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],N=[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}],T=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],C=[{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],P=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],S=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"}],A={1:[{address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",name:"USD Coin",version:"2",domainType:T,permitType:w},{address:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984",name:"Uniswap",domainType:P,permitType:w},{address:"0xde30da39c46104798bb5aa3fe8b9e0e1f348163f",name:"Gitcoin",domainType:P,permitType:w},{address:"0x6b175474e89094c44da98b954eedeac495271d0f",name:"Dai Stablecoin",version:"1",domainType:T,permitType:N},{address:"0x090185f2135308bad17527004364ebcc2d37e5f6",domainType:C,permitType:w},{address:"0x99d8a9c45b2eca8864373a26d1459e3dff1e17f3",domainType:C,permitType:w},{address:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",name:"Aave Token",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"AdEx Loyalty",address:"0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c",version:"1",domainType:T,permitType:w},{name:"Aave Token",address:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",version:"1",domainType:T,permitType:w},{name:"Ambire Wallet Staking Token",address:"0x47cd7e91c3cbaaf266369fe8518345fc4fc12935",version:"1",domainType:T,permitType:w},{name:"ConstitutionDAO",address:"0x7a58c0be72be218b41c608b7fe7c5bb630736c71",version:"1",domainType:T,permitType:w},{name:"Aragon Network Token",address:"0xa117000000f279d81a1d3cc75430faa017fa5a2e",version:"1",domainType:T,permitType:w},{name:"AdEx Staking Token",address:"0xb6456b57f03352be48bf101b46c1752a0813491a",version:"1",domainType:T,permitType:w},{name:"dYdX",address:"0x92d6c1e31e14520e676a687f0a93788b716beff5",version:"1",domainType:T,permitType:w},{name:"Ethereum Name Service",address:"0xc18360217d8f7ab5e7c516566761ea12ce7f9d72",version:"1",domainType:T,permitType:w},{name:"Olympus",address:"0x383518188c0c6d7730d91b2c03a03c837814a899",version:"1",domainType:T,permitType:w},{name:"1INCH Token",address:"0x111111111117dc0aa78b770fa6a738034120c302",version:"1",domainType:T,permitType:w},{name:"IceToken",address:"0xf16e81dce15b08f326220742020379b855b87df9",version:"1",domainType:T,permitType:w},{name:"Fei USD",address:"0x956f47f50a910163d8bf957cf5846d573e7f87ca",version:"1",domainType:T,permitType:w},{name:"LUSD Stablecoin",address:"0x5f98805a4e8be255a32880fdec7f6728c6568ba0",version:"1",domainType:T,permitType:w},{name:"Balancer",address:"0xba100000625a3754423978a60c9317c58a424e3d",version:"1",domainType:T,permitType:w},{name:"Aave interest bearing AAVE",address:"0xffc97d72e13e01096502cb8eb52dee56f74dad7b",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniBATWETH",address:"0xa1b0edf4460cc4d8bfaa18ed871bff15e5b57eb4",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniWBTCWETH",address:"0xc58f53a8adff2fb4eb16ed56635772075e2ee123",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniUSDCWETH",address:"0x391e86e2c002c70dee155eaceb88f7a3c38f5976",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing WETH",address:"0x030ba81f1c18d280636f32af80b9aad02cf0854e",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing DAI",address:"0x028171bca77440897b824ca71d1c56cac55b68a3",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniWBTCUSDC",address:"0x2365a4890ed8965e564b7e2d27c38ba67fec4c6f",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniCRVWETH",address:"0x0ea20e7ffb006d4cfe84df2f72d8c7bd89247db0",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniUNIWETH",address:"0x3d26dcd840fcc8e4b2193ace8a092e4a65832f9f",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing GUSD",address:"0xd37ee7e4f452c6638c96536e68090de8cbcdb583",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniMKRWETH",address:"0x370adc71f67f581158dc56f539df5f399128ddf9",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing CRV",address:"0x8dae6cb04688c62d939ed9b68d32bc62e49970b1",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market USDT",address:"0x17a79792fe6fe5c95dfe95fe3fcee3caf4fe4cb7",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market UniSNXWETH",address:"0x38e491a71291cd43e8de63b7253e482622184894",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing YFI",address:"0x5165d24277cd063f5ac44efd447b27025e888f37",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing SNX",address:"0x35f6b052c598d933d69a4eec4d04c73a191fe6c2",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market USDC",address:"0xd24946147829deaa935be2ad85a3291dbf109c80",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market DAI",address:"0x79be75ffc64dd58e66787e4eae470c8a1fd08ba4",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing USDT",address:"0x3ed3b47dd13ec9a98b44e6204a523e766b225811",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing RAI",address:"0xc9bc48c72154ef3e5425641a3c747242112a46af",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing BAL",address:"0x272f97b7a56a387ae942350bbc7df5700f8a4576",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing BAT",address:"0x05ec93c0365baaeabf7aeffb0972ea7ecdd39cf1",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing USDC",address:"0xbcca60bb61934080951369a648fb03df4f96263c",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave AMM Market BptBALWETH",address:"0xd109b2a304587569c84308c55465cd9ff0317bfb",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing KNC",address:"0x39c6b3e42d6a679d7d776778fe880bc9487c2eda",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing MANA",address:"0xa685a61171bb30d4072b338c80cb7b2c865c873e",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing XSUSHI",address:"0xf256cc7847e919fac9b808cc216cac87ccf2f47a",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing TUSD",address:"0x101cc05f4a51c0319f570d5e146a8c625198e636",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"},{name:"Aave interest bearing ENJ",address:"0xac6df26a590f08dcc95d5a4705ae8abbc88509ef",version:"1",domainType:T,permitType:w,nonceFunction:"_nonces"}],137:[{name:"Governance OHM",address:"0xd8ca34fd379d9ca3c6ee3b3905678320f5b45195",version:"1",domainType:T,permitType:w},{name:"Frax",address:"0x45c32fa6df82ead1e2ef74d17b76547eddfaff89",version:"1",domainType:T,permitType:w},{name:"Aave Matic Market WBTC",address:"0x5c2ed810328349100a66b82b78a1791b101c9d61",version:"1",domainType:T,permitType:w},{name:"Aave Matic Market WETH",address:"0x28424507fefb6f7f8e9d3860f56504e4e5f5f390",version:"1",domainType:T,permitType:w},{name:"Aave Matic Market USDC",address:"0x1a13f4ca1d028320a707d99520abfefca3998b7f",version:"1",domainType:T,permitType:w},{name:"Aave Matic Market AAVE",address:"0x1d2a0e5ec8e5bbdca5cb219e649b565d8e5c3360",version:"1",domainType:T,permitType:w},{name:"Synapse",address:"0xf8f9efc0db77d8881500bb06ff5d6abc3070e695",version:"1",domainType:T,permitType:w},{name:"Aave Matic Market WMATIC",address:"0x8df3aad3a84da6b69a4da8aec3ea40d9091b2ac4",version:"1",domainType:T,permitType:w},{name:"Aave Matic Market USDT",address:"0x60d55f02a771d515e077c9c2403a1ef324885cec",version:"1",domainType:T,permitType:w},{name:"Klima DAO",address:"0x4e78011ce80ee02d2c3e649fb657e45898257815",version:"1",domainType:T,permitType:w},{name:"Quickswap",address:"0xb5c064f955d8e7f38fe0460c556a72987494ee17",domainType:P,permitType:w},{name:"Route",address:"0x16eccfdbb4ee1a85a33f3a9b21175cd7ae753db4",domainType:P,permitType:w},{address:"0x8f3cf7ad23cd3cadbd9735aff958023239c6a063",name:"(PoS) Dai Stablecoin",version:"1",salt:"0x0000000000000000000000000000000000000000000000000000000000000089",domainType:S,permitType:N,nonceFunction:"getNonce"},{address:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",name:"USD Coin (PoS)",version:"1",salt:"0x0000000000000000000000000000000000000000000000000000000000000089",domainType:S,permitType:w}],56:[{name:"1INCH Token",address:"0x111111111117dc0aa78b770fa6a738034120c302",version:"1",domainType:T,permitType:w},{name:"Frax",address:"0x90c97f71e18723b0cf0dfa30ee176ab653e89f40",version:"1",domainType:T,permitType:w},{name:"JADE",address:"0x7ad7242a99f21aa543f9650a56d141c57e4f6081",version:"1",domainType:T,permitType:w},{name:"Templar Token",address:"0x19e6bfc1a6e4b042fb20531244d47e252445df01",version:"1",domainType:T,permitType:w}]},M=new k.Interface(["function nonces(address owner) external view returns (uint256)","function _nonces(address owner) external view returns (uint256)","function getNonce(address owner) external view returns (uint256)","function name() external view returns (string)","function symbol() external view returns (string)","function decimals() external view returns (uint)","function balanceOf(address) external view returns (uint)","function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)","function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s)","function transferFrom(address from, address to, uint256 amount) view returns (bool)","function transfer(address to, uint256 amount) view returns (bool)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint)"]),E=n(97),B=n(662),F=n(4),I=function(e){var t=e.signerAccount,n=e.identityAccount,c=e.network,o=e.setIsSelectionConfirmed,l=e.setStep,b=e.portfolio,h=e.relayerURL,k=e.setModalButtons,w=e.hideModal,N=e.setSelectedTokensWithAllowance,T=e.setGasSpeed,C=e.setStepperSteps,P=e.hidden,S=Object(u.useState)([]),A=Object(a.a)(S,2),I=A[0],R=A[1],D=Object(u.useState)([]),U=Object(a.a)(D,2),L=U[0],H=U[1],W=Object(u.useState)(null),V=Object(a.a)(W,2),z=V[0],Y=V[1],G=Object(u.useState)(!0),q=Object(a.a)(G,2),J=q[0],K=q[1],X=Object(u.useState)([]),Z=Object(a.a)(X,2),Q=Z[0],$=Z[1],ee=Object(u.useState)(null),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],ce=Object(u.useState)(null),re=Object(a.a)(ce,2),se=re[0],oe=re[1],ie=Object(u.useState)("fast"),le=Object(a.a)(ie,2),de=le[0],ue=le[1],be=Object(u.useState)([]),me=Object(a.a)(be,2),je=me[0],fe=me[1],pe=Object(u.useState)(!1),he=Object(a.a)(pe,2),Oe=he[0],ve=he[1],ge=Object(u.useState)(!1),xe=Object(a.a)(ge,2),ye=xe[0],_e=xe[1],ke=Object(u.useState)(""),we=Object(a.a)(ke,2),Ne=we[0],Te=we[1],Ce=Object(u.useState)(""),Pe=Object(a.a)(Ce,2),Se=Pe[0],Ae=Pe[1],Me=Object(u.useRef)(),Ee=Object(u.useRef)({}),Be=Object(u.useCallback)((function(e,t){var n=L.findIndex((function(t){return t.address===e}));if(-1!==n){var a=t(L[n]);H([].concat(Object(p.a)(L.slice(0,n)),[a],Object(p.a)(L.slice(n+1))))}}),[L]),Fe=Object(u.useCallback)((function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=I.sort((function(e,t){return e.name<t.name?-1:1})).findIndex((function(t){return t.address===e}));null===(t=Ee.current[a])||void 0===t||t.focus(),Be(e,(function(t){var a=Object(f.a)(Object(f.a)({},t),{},{selected:!t.selected});if(n){var c,r=null===(c=L.find((function(t){return t.address===e})))||void 0===c?void 0:c.humanAmount;if(n>r){var s,o=null===(s=I.find((function(t){return t.address===e})))||void 0===s?void 0:s.decimals;a.amount=new O.a(n).multipliedBy(Math.pow(10,o)).toFixed(0),a.humanAmount=n}}return a}))}),[I,Be,L]),Ie=Object(u.useCallback)((function(){var e=Object(E.a)(c.id);if(y.ethers.utils.isAddress(Ne)){if(I.find((function(e){return e.address.toLowerCase()===Ne.toLowerCase()})))return Te(""),void ve(!1);var r=new _.Contract(Ne,M,e),s=r.symbol().catch((function(){return Ae("Could not get symbol of token "+Ne)})),o=r.decimals().catch((function(){return Ae("Could not get decimals of token "+Ne)})),i=r.allowance(t,n).catch((function(){return Ae("Could not get allowance for token "+Ne)})),l=r.balanceOf(t).catch((function(){return Ae("Could not get balance for token "+Ne)}));_e(!0),Ae(null),Promise.all([s,o,i,l]).then((function(e){var t=Object(a.a)(e,4),n=t[0],c=t[1],r=t[2],s=t[3];_e(!1),n&&c&&null!==r&&null!==s&&(Te(""),ve(!1),R((function(e){return[].concat(Object(p.a)(e),[{address:Ne,name:n,decimals:c.toNumber(),icon:null,rate:0,native:!1,availableBalance:s.toString(),balanceUSD:0}])})),H((function(e){return[].concat(Object(p.a)(e),[{address:Ne,selectedAmount:0,amount:s.toString(),humanAmount:new O.a(s.toString()).div(Math.pow(10,c.toString())).toFixed(),selected:s.gt(0)}])})),fe((function(e){return[].concat(Object(p.a)(e),[{address:Ne,allowance:0}])})))})).catch((function(e){console.log("err getting custom token data",e),_e(!1)}))}else Ae("invalid custom token address")}),[c,Ne,t,n,Ae,I]),Re=Object(u.useCallback)((function(e){var t;if(!se)return!1;var n=(null===(t=L.find((function(e){return e.address===s&&e.selected})))||void 0===t?void 0:t.amount)||0;return new O.a(se.gasFees[e].signerTransactionsCost).plus(n).lte(z.availableBalance||0)}),[L,se,z]),De=Object(u.useCallback)((function(e){return new O.a(z.availableBalance).minus(se.gasFees[e].signerTransactionsCost)}),[se,z]),Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map((function(e){return Object(f.a)(Object(f.a)(Object(f.a)({},e),t.find((function(t){return t.address===e.address}))),n.find((function(t){return t.address===e.address})))}))},Le=Object(u.useCallback)(Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Ue(I,L,je).filter((function(e){return e.selected}))).length){e.next=3;break}return e.abrupt("return");case 3:N(t.map((function(e){return Object(f.a)({},e)}))),o(!0),t.find((function(e){return e.address===s}))?l(1):l(2),T(de);case 7:case"end":return e.stop()}}),e)}))),[I,L,je,N,o,l,T,de]);Object(u.useEffect)((function(){Oe&&Me.current.focus()}),[Oe]),Object(u.useEffect)((function(){Y(I.find((function(e){return e.native})))}),[I]),Object(u.useEffect)((function(){K(!0),R([]),i({networkId:c.id,account:t}).then((function(e){R(e.map((function(e){return Object(f.a)({},e)}))),H(e.map((function(e){return{address:e.address,selectedAmount:0,amount:e.availableBalance,humanAmount:new O.a(e.availableBalance).div(Math.pow(10,e.decimals)).toFixed(),selected:!1}}))),K(!1)})).catch((function(e){console.error(e)}))}),[t,K,R,c]),Object(u.useEffect)((function(){if(ne){var e=Ue(I,L,je),t=e.filter((function(e){return e.selected&&!e.native})).length,n=e.filter((function(e){return e.selected&&e.native})).length,a=t*(77e3+("arbitrum"===c.id?2e5:0))+25e3*n,r=ne.gasFeeAssets.native/Math.pow(10,18),s={};B.a.forEach((function(e){var t=ne.gasPrice[e]+(ne.gasPrice.maxPriorityFeePerGas?1*ne.gasPrice.maxPriorityFeePerGas[e]:0),n=a*t,c=n*r;s[e]={speed:e,signerTransactionsCost:n,signerTransactionsCostUSD:c,signerTransactionsConsumption:a}})),oe({regularTransfersCount:t,nativeTransfersCount:n,gasFees:s})}}),[I,L,b,ne,de,je,c]),Object(u.useEffect)((function(){Object(r.c)("".concat(h,"/gasPrice/").concat(c.id)).then((function(e){ae(e.data)})).catch((function(e){console.log("fetch error",e)}))}),[h,c]),Object(u.useEffect)((function(){var e=I.map((function(e){var a=Object(E.a)(c.id),r=new _.Contract(e.address,M,a);return e.native?{address:e.address,allowance:0}:r.allowance(t,n).then((function(t){return{address:e.address,allowance:t.toString()}})).catch((function(e){console.log("err getting allowance",e)}))}));Promise.all(e).then((function(e){fe(e)}))}),[n,c,I,t]),Object(u.useEffect)((function(){P||k(Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(d.e,{clear:!0,small:!0,icon:Object(F.jsx)(x.f,{}),onClick:w,children:"Close"}),L.filter((function(e){return e.selected})).length>0&&Re(de)?Object(F.jsxs)(d.e,{small:!0,icon:Object(F.jsx)(x.D,{}),className:"primary",onClick:function(){return Le()},children:["Move ",L.filter((function(e){return e.selected})).length," assets"]}):Object(F.jsx)(d.e,{small:!0,icon:Object(F.jsx)(x.D,{}),className:"primary disabled",children:"Move assets"})]}))}),[L,de,k,w,Le,P,Re]);var He=Object(u.useCallback)((function(e,t){return Be(t.address,(function(n){if(""===e)return Object(f.a)(Object(f.a)({},n),{},{humanAmount:0,amount:0});if(e.endsWith(".")&&2===e.split(".").length||2===e.split(".").length&&e.endsWith("0")&&new O.a(e).isEqualTo(n.humanAmount))return Object(f.a)(Object(f.a)({},n),{},{humanAmount:e});if(!isNaN(e)){var a=new O.a(e).toFixed(t.decimals);return 1===new O.a(a).multipliedBy(Math.pow(10,t.decimals)).comparedTo(t.availableBalance)&&(a=new O.a(t.availableBalance).dividedBy(Math.pow(10,t.decimals)).toFixed(t.decimals)),a=a.replace(/\.?0+$/g,""),Object(f.a)(Object(f.a)({},n),{},{humanAmount:a,amount:new O.a(a).multipliedBy(Math.pow(10,t.decimals)).toFixed(0)})}return n}))}),[Be]);return Object(u.useEffect)((function(){setTimeout((function(){var e;null===(e=Ee.current[0])||void 0===e||e.focus()}),250)}),[I]),Object(u.useEffect)((function(){var e=["Selection"],t=L.find((function(e){return e.address.toLowerCase()===s&&e.selected}));if(t&&e.push("Send ".concat(I.find((function(e){return e.address===t.address})).name)),L.find((function(e){return e.address.toLowerCase()!==s&&e.selected}))){var n=[];L.find((function(e){return e.selected&&e.address.toLowerCase()!==s}))&&n.push("Send"),e.push(n.join(" and ")+" tokens")}1===e.length&&e.push("Send tokens"),C(e)}),[I,L,C,c]),P?Object(F.jsx)(F.Fragment,{}):Object(F.jsx)("div",{children:J?Object(F.jsxs)("div",{className:"content-center",children:[Object(F.jsx)("h3",{className:"mb-6",children:"Loading assets..."}),Object(F.jsx)(v.a,{})]}):Object(F.jsx)("div",{children:0===I.length?Object(F.jsx)("div",{children:"No assets to migrate have been found"}):Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:"mb-4",children:"Please select the assets you would like to migrate from your signer wallet to your Ambire wallet"}),Ue(I,L).sort((function(e,t){return e.name<t.name?-1:1})).map((function(e,t){return Object(F.jsxs)("div",{className:"migration-asset-row",children:[Object(F.jsx)("div",{className:"migration-asset-select".concat(e.selected?" checked":""),onClick:function(){return!1},children:Object(F.jsx)(d.g,{labelClassName:"checkbox-label",id:"check-".concat(e.address),label:Object(F.jsxs)("span",{className:"migration-asset-select-label",children:[Object(F.jsx)("span",{className:"migration-asset-select-icon",children:Q.includes(e.icon)||!e.icon?Object(F.jsx)(g.c,{size:18}):Object(F.jsx)("img",{src:e.icon,draggable:"false",alt:"Token Icon",onError:function(t){$((function(t){return[].concat(Object(p.a)(t),[e.icon])}))}})}),Object(F.jsx)("span",{className:"migration-asset-select-name",children:e.name})]}),checked:e.selected,onChange:function(){return Fe(e.address)}})}),Object(F.jsxs)("div",{className:"migration-asset-usd",children:["$",(e.amount*e.rate).toFixed(2)]}),Object(F.jsx)("div",{className:"migration-asset-amount",children:Object(F.jsx)(d.z,{ref:function(e){return Ee.current[t]=e},className:"migrate-amount-input",value:e.humanAmount,onChange:function(t){return He(t,e)}})})]},t)})),Object(F.jsx)("div",{className:"custom-token-row mt-2",children:Oe?Object(F.jsx)("div",{children:ye?Object(F.jsxs)("div",{className:"custom-token-message-fetching",children:[Object(F.jsx)(d.n,{}),"Fetching custom token data..."]}):Object(F.jsxs)(F.Fragment,{children:[Se&&Object(F.jsx)("div",{className:"error",children:Se}),Object(F.jsx)("div",{children:Object(F.jsx)(d.z,{className:"custom-token-input",placeholder:"Enter custom token address",value:Ne,onChange:function(e){Te(e)},ref:Me})}),Object(F.jsxs)("div",{className:"flex-row mt-2",children:[Object(F.jsx)(d.e,{small:!0,icon:Object(F.jsx)(x.c,{}),className:"buttonHollow danger align-right",onClick:function(){ve(!1),Te(""),Ae(null)},children:"Cancel"}),Object(F.jsx)(d.e,{small:!0,icon:Object(F.jsx)(x.t,{}),className:"primary ms-4",onClick:function(){return Ie()},children:"Add"})]})]})}):Object(F.jsx)(d.e,{small:!0,icon:Object(F.jsx)(x.t,{}),className:"clear align-right",onClick:function(){return ve(!0)},children:"Add custom token"})}),!Re(de)&&L.filter((function(e){return e.selected})).length>0&&Object(F.jsxs)("div",{className:"notification-hollow warning mt-3 mb-3",children:["Your Signer Wallet will not have enough fees to pay for the migration. Please transfer a maximum of ",Object(F.jsxs)("span",{className:"max-native-suggestion",onClick:function(){return He(new O.a(De(de)).dividedBy(Math.pow(10,z.decimals)).toFixed(6,O.a.ROUND_DOWN),z)},children:[new O.a(De(de)).dividedBy(Math.pow(10,z.decimals)).toFixed(6,O.a.ROUND_DOWN)," ",c.nativeAssetSymbol]})]}),se&&Object(F.jsxs)("div",{className:"gas-estimation-block mt-4",children:[Object(F.jsx)("div",{className:"gas-estimation-block-title",children:"Estimated gas fee"}),Object(F.jsx)("ul",{className:"gas-estimation-selector",children:Object.values(se.gasFees).map((function(e,t){return Object(F.jsx)("li",{className:e.speed===de?"selected":"",onClick:function(){return ue(e.speed)},children:e.speed},t)}))}),Object(F.jsx)("table",{className:"gas-estimation-details",children:Object(F.jsx)("tbody",{children:Object(F.jsxs)("tr",{children:[Object(F.jsxs)("td",{children:["Signer fee",(!!se.nativeTransfersCount||!!se.regularTransfersCount)&&Object(F.jsx)("span",{className:"migration-actions",children:Object(F.jsxs)("span",{children:[se.nativeTransfersCount+se.regularTransfersCount," transfers"]})})]}),Object(F.jsxs)("td",{className:"gas-estimation-details-amount",children:["$",se.gasFees[de].signerTransactionsCostUSD.toFixed(2)]})]})})})]})]})})})},R=n(528),D=n(148),U=n(224),L=function(e){e.addRequest;var t=e.identityAccount,n=e.signer,c=e.signerExtra,o=e.network,i=e.selectedTokensWithAllowance,l=e.setError,d=e.hideModal,b=e.setStep,h=e.setModalButtons,v=e.relayerURL,_=e.gasSpeed,k=e.hidden,w=Object(u.useState)([]),N=Object(a.a)(w,2),T=N[0],C=N[1],P=Object(u.useState)({}),S=Object(a.a)(P,2),A=S[0],E=S[1],B=Object(u.useState)({}),I=Object(a.a)(B,2),L=I[0],H=I[1],W=Object(u.useState)(!1),V=Object(a.a)(W,2),z=V[0],Y=V[1],G=Object(u.useState)(null),q=Object(a.a)(G,2),J=q[0],K=q[1],X=Object(u.useState)([]),Z=Object(a.a)(X,2),Q=Z[0],$=Z[1],ee=Object(u.useState)(null),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],ce=Object(u.useState)(null),re=Object(a.a)(ce,2),se=re[0],oe=re[1],ie=Object(u.useState)(null),le=Object(a.a)(ie,2),de=le[0],ue=le[1],be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.filter((function(e){return e.address!==s})).map((function(e){var c=Object(f.a)(Object(f.a)({},e),{},{signing:null,signature:null,sent:!1,pending:!1,allowance:0});return t[e.address]&&(c.signing=t[e.address].signing,c.signature=t[e.address].signature),n[e.address]&&(c.sent=!0),a[e.address]&&(c.pending=!0),c}))},me=Object(u.useCallback)(Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===de||void 0===de?void 0:de.isConnected(n.address,o.chainId).then((function(e){return ae(e),!!e||(l(Object(F.jsxs)(F.Fragment,{children:["Please make sure your signer wallet is unlocked, and connected with ",Object(F.jsx)("b",{children:n.address})," to the correct chain: ",Object(F.jsx)("b",{children:o.id})]})),!1)})).catch((function(e){return l("Could not check signer connection status: "+e.error),!1})));case 1:case"end":return e.stop()}}),e)}))),[o,l,n,de]),je=Object(u.useCallback)((function(){var e=0;return be(i,T,A,[]).forEach((function(t){t.sent&&e++})),e}),[i,T,A]),fe=Object(u.useCallback)(function(){var e=Object(j.a)(m.a.mark((function e(a){var c,r,s,l,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>1&&void 0!==d[1]&&d[1],e.next=3,me();case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(r=i.find((function(e){return e.address===a}))){e.next=8;break}return e.abrupt("return");case 8:return s=M.encodeFunctionData("transfer",[t,new O.a(r.amount).toFixed(0)]),H((function(e){return e[a]=!0,Object(f.a)({},e)})),K(null),l=de.sendTransaction({from:n.address,to:a,data:s,gasLimit:8e4,gasPrice:se,chainId:o.chainId}).then(function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C((function(e){return e[a]=Object(f.a)(Object(f.a)({},e[a]),{},{signing:!0}),Object(f.a)({},e)})),!c){e.next=7;break}return e.next=4,t.wait();case 4:E((function(e){return e[a]=!0,Object(f.a)({},e)})),H((function(e){return e[a]=!1,Object(f.a)({},e)})),C((function(e){return e[a]=Object(f.a)(Object(f.a)({},e[a]),{},{signing:!1}),Object(f.a)({},e)}));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return H((function(e){return e[a]=!1,Object(f.a)({},e)})),e.message.includes("underpriced")?K("Transaction fee underpriced"):K(e.message),Y(!0),(!T[a]||T[a]&&!1!==T[a].signing)&&C((function(e){return e[a]=Object(f.a)(Object(f.a)({},e[a]),{},{signing:!1}),Object(f.a)({},e)})),!1})),e.abrupt("return",!!l);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[de,t,T,i,se,o,n,me]),pe=Object(u.useCallback)((function(){l(null),E([]),C([]),Y(!1),b(0)}),[l,C,E,b]),he=Object(u.useCallback)((function(){pe(),d()}),[pe,d]);return Object(u.useEffect)((function(){ue(Object(R.a)({signer:n,signerExtra:c,chainId:o.chainId}))}),[o,n,c]),Object(u.useEffect)((function(){me()}),[me]),Object(u.useEffect)((function(){var e="".concat(v,"/gasPrice/").concat(o.id);Object(r.c)(e).then((function(e){var t=e.data.gasPrice[_];e.data.gasPrice.maxPriorityFeePerGas&&(t+=e.data.gasPrice.maxPriorityFeePerGas[_]),oe(t)})).catch((function(t){l(t.message+" "+e)}))}),[o,v,l,_]),Object(u.useEffect)((function(){if(ne&&Object.values(A).length&&se){var e=be(i,T,A,[]).map((function(e){return{address:e.address,signed:e.signing}})).find((function(e){return null===e.signed}));e&&setTimeout((function(){fe(e.address,!0)}),150)}}),[i,fe,T,A,ne,se]),Object(u.useEffect)((function(){if(i.length){var e={};i.forEach((function(t){e[t.address]=!1})),E(e)}}),[i,E]),Object(u.useEffect)((function(){z&&l("Every asset below needs to be sent to complete the migration"+(J?" ("+J+")":""))}),[z,l,J]),Object(u.useEffect)((function(){je()===i.length&&l(null)}),[je,i,l]),Object(u.useEffect)((function(){k||h(Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(U.a,{className:"clear",icon:Object(F.jsx)(x.C,{}),onClick:function(){return pe()},children:"Back"}),je()===be(i).length?Object(F.jsx)(U.a,{className:"primary",icon:Object(F.jsx)(x.D,{}),onClick:function(){return d()},children:"Close"}):Object(F.jsx)(U.a,{className:"primary disabled",icon:Object(F.jsx)(x.D,{}),children:"Complete"})]}))}),[pe,he,je,i,h,k,d]),k?Object(F.jsx)(F.Fragment,{}):Object(F.jsxs)("div",{children:[je()<be(i).length?Object(F.jsx)("div",{className:"notification-hollow mb-3 warning",children:"".concat(be(i).length-je()," actions left to complete the migration")}):Object(F.jsx)("div",{className:"notification-hollow mb-3 success",children:"Your tokens were migrated. You can close this window"}),be(i,T,A,L).map((function(e,t){return Object(F.jsxs)("div",{className:"migration-asset-row",children:[Object(F.jsx)("span",{className:"migration-asset-select-icon migration-asset-select-icon-permit",children:!e.icon||Q.includes(e.icon)?Object(F.jsx)(g.c,{size:18}):Object(F.jsx)("img",{src:e.icon,draggable:"false",alt:"Token Icon",onError:function(t){$((function(t){return[].concat(Object(p.a)(t),[e.icon])}))}})}),Object(F.jsx)("div",{className:"migration-asset-name",children:e.name}),Object(F.jsxs)("div",{className:"migration-asset-amount",children:[new O.a(e.amount).div(Math.pow(10,e.decimals)).toFixed()," ",Object(F.jsxs)("span",{className:"migration-asset-amount-usd",children:["($",(e.amount*e.rate).toFixed(2),")"]})]}),Object(F.jsx)("div",{className:"separator"}),Object(F.jsx)("div",{children:e.allowance&&y.ethers.BigNumber.from(e.allowance).gte(e.amount)||e.sent?Object(F.jsxs)("div",{className:"migration-permitted",onClick:function(){return fe(e.address)},children:[Object(F.jsx)(D.b,{})," Sent"]}):Object(F.jsx)(F.Fragment,{children:e.pending||e.signing?Object(F.jsxs)("div",{className:"migration-permitted warning",children:[Object(F.jsx)(D.f,{})," Sending..."]}):Object(F.jsx)(U.a,{className:"button-small secondary",onClick:function(){return fe(e.address)},children:"Send"})})})]},t)}))]})},H=function(e){var t,n=e.identityAccount,c=e.signer,s=e.signerExtra,o=e.network,i=e.nativeTokenData,l=e.setSelectedTokensWithAllowance,b=e.selectedTokensWithAllowance,f=e.setError,h=e.setStep,v=e.hasERC20Tokens,y=e.hideModal,_=e.relayerURL,k=e.setModalButtons,w=e.setBeforeCloseModalHandler,N=e.gasSpeed,T=e.hidden,C=Object(u.useState)([]),P=Object(a.a)(C,2),S=P[0],A=P[1],M=Object(u.useState)(!1),E=Object(a.a)(M,2),B=E[0],I=E[1],D=Object(u.useState)(!1),U=Object(a.a)(D,2),L=U[0],H=U[1],W=Object(u.useState)("0"),V=Object(a.a)(W,2),z=V[0],Y=V[1],G=Object(u.useState)(null),q=Object(a.a)(G,2),J=q[0],K=q[1],X=Object(u.useState)("0"),Z=Object(a.a)(X,2),Q=Z[0],$=Z[1],ee=Object(u.useState)("0"),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],ce=Object(u.useState)(!1),re=Object(a.a)(ce,2),se=re[0],oe=re[1],ie=Object(u.useState)(null),le=Object(a.a)(ie,2),de=le[0],ue=le[1];try{t=Object(R.a)({signer:c,signerExtra:s,chainId:o.chainId})}catch(Oe){f("No Web3 wallet connected. Please connect a Web3 wallet and reload the page")}var be=Object(u.useCallback)((function(){h(0),l([])}),[l,h]),me=Object(u.useCallback)((function(){h(2)}),[h]),je=function(e){return e.filter((function(e){return e.selected&&!e.permittable&&!e.native})).length},fe=Object(u.useCallback)(Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return f(null),H(!0),v||w(null),e.next=7,t.isConnected(c.address,o.chainId).catch((function(e){f("Could not check signer connection status: "+e.error)}));case 7:e.sent?t.sendTransaction({from:c.address,to:n,gasLimit:25e3+("arbitrum"===o.id?2e5:0),gasPrice:de,value:"0x"+new O.a(z).toString(16),chainId:o.chainId}).then(function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.wait();case 2:return I(!0),H(!1),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return I(!1),H(!1),e&&e.message.includes("must provide an Ethereum address")?f("Make sure your wallet is unlocked and connected with ".concat(c.address,".")):f("Native asset migration failed: "+e.message),!1})):(f(Object(F.jsxs)(F.Fragment,{children:["Please make sure your signer wallet is unlocked, and connected with ",Object(F.jsx)("b",{children:c.address})," to the correct chain: ",Object(F.jsx)("b",{children:o.id})]})),H(!1));case 9:case"end":return e.stop()}}),e)}))),[t,f,v,o,w,c,n,z,de]),pe=Object(u.useCallback)((function(e){var t=new O.a(e).dividedBy(Math.pow(10,i.decimals)).toFixed(i.decimals).replace(/\.?0+$/g,"");ae(t),Y(e),oe(!0)}),[i]);Object(u.useEffect)((function(){var e="".concat(_,"/gasPrice/").concat(o.id);Object(r.c)(e).then((function(e){var t=e.data.gasPrice[N];e.data.gasPrice.maxPriorityFeePerGas&&(t+=e.data.gasPrice.maxPriorityFeePerGas[N]);var n=25e3*t,a=je(b)*t*77e3;$(new O.a((n+a).toFixed(0)).toFixed(0));var c=new O.a(i.availableBalance).minus(n+a);K(c.gte(0)?c.toFixed(0):0),ue(t)})).catch((function(t){f(t.message+" "+e)}))}),[$,K,i,o,_,f,N,b]);var he=Object(u.useCallback)((function(e){if(oe(!0),""===e)return ae(0),void Y(0);if(e.endsWith(".")&&2===e.split(".").length||2===e.split(".").length&&e.endsWith("0"))ae(e);else if(!isNaN(e)){var t=new O.a(e).toFixed(i.decimals);1===new O.a(t).multipliedBy(Math.pow(10,i.decimals)).comparedTo(i.availableBalance)&&(t=new O.a(i.availableBalance).dividedBy(Math.pow(10,i.decimals)).toFixed(i.decimals)),t=t.replace(/\.?0+$/g,""),ae(t),Y(new O.a(t).multipliedBy(Math.pow(10,i.decimals)).toFixed(0))}}),[i]);return Object(u.useEffect)((function(){var e=new O.a(i.amount).dividedBy(Math.pow(10,i.decimals)).toFixed(i.decimals).replace(/\.?0+$/g,"");ae(e),Y(i.amount)}),[i]),Object(u.useEffect)((function(){if(!T){k(function(){var e=[];return B?v?e.push(Object(F.jsx)(d.e,{icon:Object(F.jsx)(x.D,{}),className:"primary full",onClick:function(){return me()},children:"Next"})):e.push(Object(F.jsx)(d.e,{icon:Object(F.jsx)(x.f,{}),className:"primary full",onClick:function(){return y()},children:"Close"})):t?(e.push(Object(F.jsx)(d.e,{icon:Object(F.jsx)(x.C,{}),className:"clear",onClick:function(){return be()},children:"Back"},"0")),L?e.push(Object(F.jsxs)(d.e,{icon:Object(F.jsx)(d.n,{}),className:"primary disabled",children:["Moving ",i.name,"..."]},"1")):e.push(Object(F.jsxs)(d.e,{icon:Object(F.jsx)(x.D,{}),className:"primary",onClick:function(){return fe()},children:["Move ",i.name]},"1"))):e.push(Object(F.jsx)(d.e,{icon:Object(F.jsx)(x.f,{}),className:"clear full",onClick:function(){return y()},children:"Close"})),e}())}}),[B,v,k,y,L,be,fe,me,t,i,T]),T?Object(F.jsx)(F.Fragment,{}):Object(F.jsx)("div",{children:t&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"migration-native-title mb-4",children:[Object(F.jsx)("div",{className:"migration-native-asset-icon",children:S.includes(i.icon)?Object(F.jsx)(g.c,{size:64}):Object(F.jsx)("img",{src:i.icon,draggable:"false",alt:"Token Icon",onError:function(e){A((function(e){return[].concat(Object(p.a)(e),[i.icon])}))}})}),Object(F.jsxs)("div",{className:"migration-native-title-asset-name",children:["Migrate native asset ",Object(F.jsx)("b",{children:i.name})]})]}),B?Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)("div",{className:"small-asset-notification success",children:["Migration of your ",i.name," was successful"]})}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"migration-native-row",children:[Object(F.jsx)("span",{className:"migration-native-row-key",children:"Current balance"}),Object(F.jsxs)("span",{className:"migration-native-selection",onClick:function(){return pe(i.availableBalance)},children:[new O.a(i.availableBalance).dividedBy(Math.pow(10,i.decimals)).toFixed(6)," ",i.name]})]}),Object(F.jsxs)("div",{className:"migration-native-row",children:[Object(F.jsx)("span",{className:"migration-native-row-key",children:"Amount to migrate"}),se||null!==J&&z>J?Object(F.jsx)(d.z,{className:"migrate-amount-input",value:ne,onChange:he}):Object(F.jsx)("div",{children:ne})]}),null!==J&&new O.a(z).gt(J)&&Object(F.jsxs)("div",{className:"notification-hollow warning mt-4",children:[Object(F.jsxs)("div",{children:[je(b)?"Signer transactions cost":"Current Transaction cost",": ~",new O.a(Q).dividedBy(Math.pow(10,i.decimals)).toFixed(6)," ",i.name,Object(F.jsxs)("span",{className:"migration-native-usd",children:[" ($",new O.a(Q).multipliedBy(i.rate).toFixed(2),")"]})]}),Object(F.jsx)("div",{className:"mt-3 mb-3",children:J>0?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("span",{children:"You should migrate up to "}),Object(F.jsxs)("span",{className:"migration-native-selection",onClick:function(){return pe(J)},children:[new O.a(J).dividedBy(Math.pow(10,i.decimals)).toFixed(6)," ",i.name]}),Object(F.jsx)("span",{children:" because will you need funds to pay the transaction costs."})]}):Object(F.jsx)("span",{children:"You do not have enough funds to pay the transaction fee."})})]}),L&&v&&Object(F.jsx)("div",{className:"notification-hollow info mt-4",children:"Waiting for the transaction to be mined before continuing migration..."}),L&&!v&&Object(F.jsxs)("div",{className:"notification-hollow info mt-4",children:["The amount of ",i.name," will be updated in your wallet, once the transaction has been confirmed and mined. If you confirmed your transaction, you can already close this window"]})]})]})})},W=function(e){var t=e.addRequest,n=e.selectedAccount,c=e.accounts,r=e.network,s=e.hideModal,o=e.relayerURL,i=e.portfolio,l=e.setModalButtons,b=e.setModalSteps,m=e.setBeforeCloseModalHandler,j=Object(u.useState)([]),f=Object(a.a)(j,2),p=f[0],h=f[1],O=Object(u.useState)(null),v=Object(a.a)(O,2),g=v[0],y=v[1],_=Object(u.useState)(!1),k=Object(a.a)(_,2),w=k[0],N=k[1],T=Object(u.useState)(!1),C=Object(a.a)(T,2),P=C[0],S=C[1],M=Object(u.useState)(0),E=Object(a.a)(M,2),B=E[0],R=E[1],D=Object(u.useState)([]),U=Object(a.a)(D,2),W=U[0],V=U[1],z=Object(u.useState)(null),Y=Object(a.a)(z,2),G=Y[0],q=Y[1],J=Object(u.useState)(!1),K=Object(a.a)(J,2),X=K[0],Z=K[1],Q=Object(u.useState)(null),$=Object(a.a)(Q,2),ee=$[0],te=$[1],ne=c.find((function(e){return e.id===n}));return Object(u.useEffect)((function(){0===B&&(q(null),h([]),y(null),N(!1),te(null),m(null))}),[r,n,B,m]),Object(u.useEffect)((function(){P&&(S(!1),y(p.find((function(e){return e.native}))),N(!!p.find((function(e){return!e.native}))))}),[P,ne,p,r,n]),Object(u.useEffect)((function(){var e=B;B>0&&!g&&(e-=1),b({steps:W.map((function(e){return{name:e}})),stepIndex:e})}),[g,b,B,W]),Object(u.useEffect)((function(){var e=function(){Z(!0),l([Object(F.jsx)(d.e,{icon:Object(F.jsx)(x.C,{}),className:"clear buttonComponent",onClick:function(){return Z(!1)},children:"Back"},"0"),Object(F.jsx)(d.e,{icon:Object(F.jsx)(x.f,{}),className:"danger buttonComponent",onClick:function(){return s()},children:"Close"},"1")])};B>0&&m((function(){return e}))}),[B,m,l,s,X]),Object(F.jsxs)("div",{children:[G&&Object(F.jsx)("div",{className:"mt-3 error",children:G}),Object(F.jsxs)("div",{id:"assets-migration",children:[X&&Object(F.jsx)("div",{className:"notification-hollow warning mt-4",children:"By closing this window, your progress will be lost. Are you sure you want to close this window?"}),0===B&&Object(F.jsx)(I,{hidden:X,signerAccount:ne.signer.address,identityAccount:n,network:r,PERMITTABLE_COINS:A,setIsSelectionConfirmed:S,setStep:R,portfolio:i,relayerURL:o,setModalButtons:l,hideModal:s,setError:q,setSelectedTokensWithAllowance:h,setStepperSteps:V,setGasSpeed:te}),1===B&&g&&Object(F.jsx)(H,{hidden:X,signer:ne.signer,identityAccount:n,network:r,addRequest:t,signerExtra:ne.signerExtra,setError:q,nativeTokenData:g,hideModal:s,setStep:R,relayerURL:o,hasERC20Tokens:w,setModalButtons:l,setSelectedTokensWithAllowance:h,selectedTokensWithAllowance:p,setBeforeCloseModalHandler:m,gasSpeed:ee}),2===B&&Object(F.jsx)(L,{hidden:X,signer:ne.signer,identityAccount:n,network:r,addRequest:t,PERMITTABLE_COINS:A,signerExtra:ne.signerExtra,setError:q,selectedTokensWithAllowance:p,hideModal:s,setStep:R,setModalButtons:l,gasSpeed:ee,relayerURL:o})]})]})},V=function(e){var t=e.addRequest,n=e.selectedAccount,c=e.selectedNetwork,r=e.accounts,s=e.relayerURL,o=e.portfolio,i=Object(l.f)(),b=i.hideModal,m=i.setBeforeCloseModalHandler,j=Object(u.useState)(null),f=Object(a.a)(j,2),p=f[0],h=f[1],O=Object(u.useState)({steps:[],stepIndex:0}),v=Object(a.a)(O,2),g=v[0],x=v[1];return Object(F.jsx)(d.o,{id:"asset-migration-modal",title:Object(F.jsxs)("div",{children:[Object(F.jsx)("span",{children:"Migrate Assets"}),Object(F.jsx)(d.y,{steps:g.steps,currentStep:g.stepIndex,noLabels:!1})]}),buttons:p,children:Object(F.jsx)(W,{addRequest:t,selectedAccount:n,network:c,accounts:r,hideModal:b,relayerURL:s,portfolio:o,setModalButtons:h,setModalSteps:x,setBeforeCloseModalHandler:m})})};t.a=function(e){var t,n,c=e.addRequest,r=e.selectedAccount,s=e.accounts,o=e.selectedNetwork,d=e.relayerURL,b=e.portfolio,m=e.closeable,j=void 0!==m&&m,f=e.linkMargin,p=void 0!==f&&f,h=e.useStorage,O=Object(u.useState)(!1),v=Object(a.a)(O,2),g=v[0],x=v[1],y=Object(u.useState)(!1),_=Object(a.a)(y,2),k=_[0],w=_[1],N=Object(l.f)().showModal,T=h({key:"migrationSeen",defaultValue:{}}),C=Object(a.a)(T,2),P=C[0],S=C[1],A=s.find((function(e){return e.id===r}));try{n=Object(R.a)({signer:A.signer,signerExtra:A.signerExtra,chainId:o.chainId})}catch(E){}var M=Object(u.useCallback)((function(){w(!0),S((function(e){return e[r+o.id]=!0,e}))}),[r,o,S]);Object(u.useEffect)((function(){var e=!1;x(!1);return function(t){var n=t.networkId,a=t.identityAccount,c=t.accounts.find((function(e){return e.id===a}));c.signer&&i({networkId:n,account:c.signer.address}).then((function(t){if(!e){var n=t.filter((function(e){return e.balanceUSD>.001}));x(!!n.length)}})).catch((function(e){console.error(e)}))}({identityAccount:r,networkId:o.id,accounts:s}),function(){return e=!0}}),[r,o,s]),Object(u.useEffect)((function(){w(j&&!!P[r+o.id])}),[j,r,o,P]);return(null===(t=n)||void 0===t?void 0:t.provider)||A.signerExtra&&["ledger","trezor","Lattice"].includes(A.signerExtra.type)?g&&!k&&Object(F.jsxs)("div",{className:"migration-banner",children:[Object(F.jsxs)("div",{className:"migration-banner-message",children:[Object(F.jsx)("div",{children:"We detected that your signer account has tokens that can be transferred to your Ambire account. We recommend doing this in order to maximize your $WALLET rewards."}),Object(F.jsx)("span",{className:"link"+(p?" link-margin":""),onClick:function(){N(Object(F.jsx)(V,{addRequest:c,selectedNetwork:o,selectedAccount:r,accounts:s,relayerURL:d,portfolio:b}))},children:"Click here to migrate those tokens"})]}),j&&Object(F.jsx)("div",{className:"migration-banner-close",children:Object(F.jsx)(D.l,{onClick:function(){return M()}})})]}):Object(F.jsx)(F.Fragment,{})}}}]);
//# sourceMappingURL=16.b26fcac8.chunk.js.map