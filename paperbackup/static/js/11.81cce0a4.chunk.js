(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[11],{1538:function(e,t,n){},1540:function(e,t,n){},1541:function(e,t,n){},1542:function(e,t,n){},1544:function(e,t,n){},1546:function(e,t,n){},1547:function(e,t,n){},1549:function(e,t,n){},1636:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fe}));var a=n(2),c=n.n(a),r=n(11),s=n(8),i=n(7),o=(n(1538),n(3)),l=n(30),d=n(17),u=n(37),b=(n(954),n(729)),j=n(34),m=n(654),p=n(77),f=n(4),h=[{id:"localhost",name:"LocalTest",url:"http://localhost:3002",logo:"http://localhost:3002/logo-test.png",desc:"Local dapp test with some lorem ipsum stuff"},{id:"txbuilder",name:"TxBuilder",url:"https://safe-apps.dev.gnosisdev.com/tx-builder/",logo:"https://safe-apps.dev.gnosisdev.com/tx-builder/logo.svg",desc:"Local dapp test with some lorem ipsum stuff"},{name:"ParaSwap",url:"https://paraswap.io",logo:"https://paraswap.io/paraswap.svg",desc:"ParaSwap allows dApps and traders to get the best DEX liquidity by aggregating multiple markets and offering the best rates"},{name:"0xPlasma Finance",url:"https://apy.plasma.finance",logo:"https://apy.plasma.finance/logo.svg",desc:"Cross-chain DeFi & DEX aggregator, farming, asset management, fiat on-ramp"},{id:"mew",name:"MEW",url:"https://www.myetherwallet.com/wallet/sign",logo:"https://www.myetherwallet.com/wallet/sign/logo.svg",desc:"MEW as dapp"},{id:"opensea",name:"Opensea",url:"https://opensea-temp.ambire.com/staging/",logo:"https://opensea.io/static/images/logos/opensea.svg",desc:"Opensea NFT Marketplace"}];function O(e){var t=e.network,n=e.selectedAcc,a=e.gnosisConnect,c=e.gnosisDisconnect,r=Object(j.f)().showModal,s=window.location.hash.split("/"),l=s.length>2?h.find((function(e){return e.id===s.slice(-1)[0]})):null,O=Object(o.useState)(null),x=Object(i.a)(O,2),v=x[0],g=x[1],k=Object(j.e)({key:"gnosisCustomApps",defaultValue:[]}),w=Object(i.a)(k,2),y=w[0],N=w[1],C=function(){window.location.href="/#/wallet/gnosis/plugins"},A=Object(o.useCallback)((function(e,t){var n={name:e,url:t,customId:Date.now()},a=[].concat(Object(d.a)(y),[n]);N(a),g(n),C()}),[y,N]),S=Object(o.useCallback)((function(e){var t=Object(d.a)(y.filter((function(t){return t.customId!==e})));N(t)}),[y,N]),T=Object(f.jsx)(m.a,{title:"Add New Address",inputs:[{label:"Name",placeholder:"Plugin name",validate:function(e){return!!e}},{label:"URL",placeholder:"https://plugyourpluginifyouwantplug",validate:function(e){return!!e}}],onClose:function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return A(n,a)}});return Object(o.useEffect)((function(){l&&g(l)}),[l]),Object(f.jsxs)("div",{id:"plugin-gnosis-container",children:[Object(f.jsxs)("ul",{id:"dapps-container",className:v?"small-thumbs":"",children:[Object(f.jsx)("li",{className:"add-plugin",children:Object(f.jsx)(p.e,{mini:!0,icon:Object(f.jsx)(u.C,{}),onClick:function(){return r(T)},children:"Add plugin"})}),[].concat(h,Object(d.a)(y)).map((function(e,t){return Object(f.jsxs)("li",{onClick:function(){g(e),C()},className:v&&e.url===v.url?"selected":"",children:[e.customId&&Object(f.jsx)(p.e,{className:"remove-btn",mini:!0,red:!0,icon:Object(f.jsx)(u.Y,{}),onClick:function(){return S(e.customId)}}),Object(f.jsx)("div",{className:"logo-container",style:{backgroundImage:"url(".concat(e.logo,")")}}),Object(f.jsx)("div",{className:"dapp-name",children:e.name}),Object(f.jsx)("div",{className:"dapp-desc",children:e.desc})]},t)}))]}),v&&Object(f.jsx)(b.a,{network:t,selectedApp:v,selectedAcc:n,removeApp:S,gnosisConnect:a,gnosisDisconnect:c})]})}var x=n(153),v=n(1539),g=(n(1540),n(69)),k=(n(1541),n(228)),w=n(232),y=n(44),N=function(e){var t,n=e.accounts,a=e.selectedAddress,l=e.onSelectAcc,b=e.onRemoveAccount,m=e.hidePrivateValue,h=e.userSorting,O=e.setUserSorting,x=Object(y.a)().addToast,v=Object(o.useState)(!1),N=Object(i.a)(v,2),C=N[0],A=N[1],S=Object(o.useState)(!1),T=Object(i.a)(S,2),L=T[0],R=T[1],E=Object(j.c)(),I=(null===(t=h.accounts)||void 0===t?void 0:t.sortType)||"default",P=Object(j.d)("id",(function(e){O((function(t){return Object(s.a)(Object(s.a)({},t),{},{accounts:{sortType:"custom",items:e}})}))})),_=P.dragStart,M=P.dragEnter,W=P.dragTarget,D=P.target,U=P.handle,B=P.drop,F=Object(d.a)(n).sort((function(e,t){var a,c;return"custom"===I&&(null===(a=h.accounts)||void 0===a||null===(c=a.items)||void 0===c?void 0:c.length)?h.accounts.items.indexOf(e.id)-h.accounts.items.indexOf(t.id):n.indexOf(e.id)-n.indexOf(t.id)})),V=function(e){return e.slice(0,5)+"..."+e.slice(-3)},H=function(e){return e===a?"active":""},q=function(e){return w.create({seed:e}).toDataURL()},G=function(e){return e&&"ledger"===e.type?"Ledger":e&&"trezor"===e.type?"Trezor":"Web3"},z=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:x("Copied to clipboard!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(p.j,{id:"accounts",icon:q(a),title:m(V(a)),open:L,onOpen:function(){return R(!1)},children:[Object(f.jsxs)("div",{className:"list",children:[!E&&Object(f.jsxs)("div",{className:"sort-buttons",children:[Object(f.jsx)(p.y,{label:"Sorted accounts by drag and drop",children:Object(f.jsx)(u.n,{color:"custom"===I?"#80ffdb":"",cursor:"pointer",onClick:function(){return O((function(e){return Object(s.a)(Object(s.a)({},e),{},{accounts:Object(s.a)(Object(s.a)({},e.accounts),{},{sortType:"custom"})})}))}})}),Object(f.jsx)(p.y,{label:"Sorted accounts by default",children:Object(f.jsx)(u.W,{color:"default"===I?"#80ffdb":"",cursor:"pointer",onClick:function(){return O((function(e){return Object(s.a)(Object(s.a)({},e),{},{accounts:Object(s.a)(Object(s.a)({},e.accounts),{},{sortType:"default"})})}))}})})]}),F.map((function(e,t){var n,a=e.id,c=e.email,r=e.signer,s=e.signerExtra;return C!==a?Object(f.jsxs)("div",{className:"account ".concat(H(a)),draggable:F.length>1&&"custom"===I&&!E,onDragStart:function(e){U.current===D.current||U.current.contains(D.current)?_(e,t):e.preventDefault()},onMouseDown:function(e){return W(e,t)},onDragEnter:function(e){return M(e,t)},onDragEnd:function(e){return B(F)},onDragOver:function(e){return e.preventDefault()},children:[Object(f.jsxs)("div",{className:"inner",onClick:function(){return function(e){l(e),R(!0)}(a)},children:[F.length>1&&"custom"===I&&!E&&Object(f.jsx)(u.n,{className:"drag-handle",id:"".concat(t,"-handle")}),Object(f.jsx)("div",{className:"icon",style:(n=a,{backgroundImage:"url(".concat(q(n),")")})}),Object(f.jsxs)("div",{className:"details",children:[Object(f.jsx)("div",{className:"address",children:a}),Object(f.jsx)("label",{children:c?"Email/Password account (".concat(c,")"):"".concat(G(s)," (").concat(V(r.address),")")})]})]}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("div",{className:"button",onClick:function(){return z(a)},children:Object(f.jsx)(u.J,{})}),Object(f.jsx)("div",{className:"button",onClick:function(){return A(a)},children:Object(f.jsx)(u.z,{})})]})]},a):Object(f.jsxs)("div",{id:"confirm-delete-account",className:"account ".concat(H(a)),children:[Object(f.jsx)("div",{className:"message",children:"Are you sure you want to log out from this account ?"}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("div",{className:"button danger",onClick:function(){A(!1),b(a)},children:Object(f.jsx)(u.H,{})}),Object(f.jsx)("div",{className:"button",onClick:function(){return A(!1)},children:Object(f.jsx)(u.I,{})})]})]},a)}))]}),Object(f.jsx)("div",{id:"add-account",children:Object(f.jsx)(g.c,{to:"/add-account",children:Object(f.jsx)(p.e,{icon:Object(f.jsx)(k.f,{}),small:!0,children:"Add Account"})})})]})},C=function(e){var t,n=e.network,a=e.setNetwork,c=e.allNetworks,r=e.userSorting,i=e.setUserSorting,o=e.dappsCatalog,l=e.dapModeTopBar,b=(null===(t=r.networks)||void 0===t?void 0:t.sortType)||"default",m=Object(j.c)(),h=Object(j.d)("value",(function(e){i((function(t){return Object(s.a)(Object(s.a)({},t),{},{networks:{sortType:"custom",items:e}})}))})),O=h.dragStart,x=h.dragEnter,v=h.dragTarget,g=h.handle,k=h.target,w=h.drop,y=Object(d.a)(c).sort((function(e,t){var n,a;return"custom"===b&&(null===r||void 0===r||null===(n=r.networks)||void 0===n||null===(a=n.items)||void 0===a?void 0:a.length)?r.networks.items.indexOf(e.id)-r.networks.items.indexOf(t.id):c.indexOf(e.id)-c.indexOf(t.id)})),N=y.filter((function(e){return n.id===e.id&&n.hide})),C=y.filter((function(e){return!e.hide})).concat(N).map((function(e){var t,n,a=e.id;return{label:e.name,value:a,icon:e.icon,disabled:l&&!(null===o||void 0===o||null===(t=o.currentDappData)||void 0===t||null===(n=t.networks)||void 0===n?void 0:n.includes(a))}}));return Object(f.jsx)(p.t,{defaultValue:n.id,draggable:"custom"===b&&!m,dragEnter:x,drop:w,dragStart:function(e,t){g.current===k.current||g.current.contains(k.current)?O(e,t):e.preventDefault()},dragTarget:v,items:C,displayDraggableHeader:!m,onChange:function(e){var t=e.value;return a(t)},draggableHeader:Object(f.jsxs)("div",{className:"sort-buttons",children:[Object(f.jsx)(p.y,{label:"Sorted networks by drag and drop",children:Object(f.jsx)(u.n,{color:"custom"===b?"#80ffdb":"",cursor:"pointer",onClick:function(){return i((function(e){return Object(s.a)(Object(s.a)({},e),{},{networks:Object(s.a)(Object(s.a)({},e.networks),{},{sortType:"custom"})})}))}})}),Object(f.jsx)(p.y,{label:"Sorted networks by default",children:Object(f.jsx)(u.W,{color:"default"===b?"#80ffdb":"",cursor:"pointer",onClick:function(){return i((function(e){return Object(s.a)(Object(s.a)({},e),{},{networks:Object(s.a)(Object(s.a)({},e.networks),{},{sortType:"default"})})}))}})})]})})},A=n(60),S=(n(1542),n(1543)),T=n(955),L=n(718),R=n(84),E=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)(t,{method:"HEAD"});case 2:return a=e.sent,r=null===a||void 0===a||null===(n=a.resp)||void 0===n?void 0:n.ok,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=e.connections,n=e.connect,a=e.disconnect,s=e.isWcConnecting,d=Object(l.useHistory)(),b=Object(o.useState)(!1),j=Object(i.a)(b,2),m=j[0],h=j[1],O=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)();case 2:return t=e.sent,h(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(o.useCallback)(Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=7;break}return e.next=3,navigator.clipboard.readText();case 3:(t=e.sent).startsWith("wc:")&&n({uri:t}),e.next=9;break;case 7:(a=prompt("Enter WalletConnect URI"))&&n({uri:a});case 9:case"end":return e.stop()}}),e)}))),[n,m]),v=function(e){var t=e.bridge;return/https:\/\/bridge.walletconnect.org/g.test(t)},g=Object(f.jsxs)("div",{className:"ddWcTitle",children:[Object(f.jsx)("img",{src:"./resources/walletconnect.svg",alt:"wc-logo"}),"WalletConnect"]}),w=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:e.sent?d.push("/wallet/dapps?dappUrl=".concat(encodeURIComponent(t+"?".concat(Date.now())))):window.open(t,"_blank");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]);return Object(f.jsxs)(p.j,{id:"dApps",title:g,badge:t.length,onOpen:function(){return O()},isLoading:m&&s,children:[Object(f.jsxs)("div",{id:"connect-dapp",children:[Object(f.jsxs)("div",{className:"heading",children:[Object(f.jsx)(p.e,{small:!0,icon:Object(f.jsx)(T.b,{}),disabled:m,onClick:x,children:"Connect dApp"}),Object(f.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4410889965842",target:"_blank",rel:"noreferrer",children:Object(f.jsx)(S.a,{size:30})})]}),m?Object(f.jsx)("label",{children:"Automatic connection enabled, just copy a WalletConnect URL and come back to this tab."}):null]}),Object(f.jsx)("div",{className:"dappList",children:t.map((function(e){var t=e.session,n=e.uri,c=e.isOffline;return Object(f.jsxs)("div",{className:"item dapps-item",children:[Object(f.jsxs)("div",{className:"icon",children:[Object(f.jsx)("div",{className:"icon-overlay",style:{backgroundImage:"url(".concat(t.peerMeta.icons.filter((function(e){return!e.endsWith("favicon.ico")}))[0],")")}}),Object(f.jsx)(u.c,{})]}),Object(f.jsx)("span",{onClick:function(){return w(t.peerMeta.url)},children:Object(f.jsxs)("div",{className:"details",children:[v(t)?Object(f.jsx)(p.y,{className:"session-warning",label:"dApp uses legacy WalletConnect bridge which is unreliable and often doesn't work. Please tell the dApp to update to the latest WalletConnect version.",children:Object(f.jsx)(u.X,{})}):null,c?Object(f.jsx)(p.y,{className:"session-error",label:"WalletConnect connection may be offline. Check again later. If this warning persist try to disconnect and connect WalletConnect.",children:Object(f.jsx)(k.d,{})}):null,Object(f.jsx)("div",{className:"name",children:t.peerMeta.name})]})}),Object(f.jsx)("div",{className:"separator"}),Object(f.jsx)("button",{onClick:function(){return a(n)},children:"Disconnect"})]},t.key)}))})]})},P=(n(1544),n(152)),_=n(241),M=function(){var e=Object(_.a)({key:"linksViewed",defaultValue:!1}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(f.jsxs)(p.j,{id:"help-dropdown",className:"".concat(n?"viewed":""),title:Object(f.jsx)(u.L,{}),onOpen:function(){a(!0)},children:[Object(f.jsxs)("a",{className:"item",href:"https://help.ambire.com/hc/en-us/categories/4404980091538-Ambire-Wallet",target:"_blank",rel:"noreferrer",children:[Object(f.jsx)(u.B,{})," Help Center"]}),Object(f.jsxs)("a",{className:"item",href:"https://help.ambire.com/hc/en-us/requests/new",target:"_blank",rel:"noreferrer",children:[Object(f.jsx)(u.f,{})," Report an issue"]}),Object(f.jsxs)("a",{className:"item",href:"https://discord.gg/nMBGJsb",target:"_blank",rel:"noreferrer",children:[Object(f.jsx)(P.j,{})," Discord"]}),Object(f.jsxs)("a",{className:"item",href:"https://twitter.com/AmbireWallet",target:"_blank",rel:"noreferrer",children:[Object(f.jsx)(P.s,{})," Twitter"]}),Object(f.jsxs)("a",{className:"item",href:"https://t.me/AmbireOfficial",target:"_blank",rel:"noreferrer",children:[Object(f.jsx)(P.r,{})," Telegram"]}),Object(f.jsxs)("a",{className:"item",href:"https://www.ambire.com/Ambire%20ToS%20and%20PP%20(26%20November%202021).pdf",target:"_blank",rel:"noreferrer",children:[Object(f.jsx)(u.N,{})," ToS"]})]})},W=n(170),D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,c=Object(o.useContext)(W.a),r=c.showDynamicModal,i=c.updateModal,l=Object(o.useRef)(n);return Object(o.useEffect)((function(){JSON.stringify(l.current)!==JSON.stringify(n)&&(i(n),l.current=n)}),[n,i]),function(){return r(e,Object(s.a)(Object(s.a)({},t),n),a)}},U=n(668),B=n(1629),F=function(e){var t=e.rewardsData,n=e.account,a=void 0===n?{}:n,c=e.network,r=e.hidePrivateValue,s=e.addRequest,i=e.relayerURL,o=e.useRelayerData,l=Object(B.a)({relayerURL:i,useRelayerData:o,accountId:a.id,network:c,addRequest:s,totalLifetimeRewards:t.rewards.totalLifetimeRewards,walletUsdPrice:t.rewards.walletUsdPrice}),d=l.currentClaimStatus,u=l.pendingTokensTotal,b=t.isLoading,j=t.errMsg,m=b||d.loading,h=D(U.a,{claimableWalletToken:l,accountId:a.id},{rewards:t.rewards});return m||!j&&!d.error?Object(f.jsxs)(p.e,{small:!0,border:!0,disabled:m,onClick:h,children:[m?"...":r(u)," WALLET"]}):Object(f.jsx)(p.y,{label:"WALLET rewards are not available without a connection to the relayer",children:Object(f.jsx)(p.e,{small:!0,border:!0,disabled:!0,onClick:h,children:"Unavailable"})})},V=n(680),H=function(e){var t,n=e.useRelayerData,a=e.relayerURL,c=e.connections,r=e.connect,s=e.disconnect,d=e.isWcConnecting,b=e.onSelectAcc,j=e.onRemoveAccount,m=e.selectedAcc,h=e.accounts,O=e.network,x=e.setNetwork,v=e.allNetworks,k=e.rewardsData,y=e.privateMode,S=y.isPrivateMode,T=y.togglePrivateMode,L=y.hidePrivateValue,R=e.addRequest,E=e.userSorting,P=e.setUserSorting,_=e.dappsCatalog,W=Object(o.useState)(!1),D=Object(i.a)(W,2),U=D[0],B=D[1],H=Object(l.useRouteMatch)("/wallet/dapps"),q=_.isDappMode,G=_.toggleSideBarOpen,z=_.currentDappData,Y=_.loadCurrentDappData,K=Object(o.useMemo)((function(){return q&&H&&z}),[z,q,H]),J=h.find((function(e){return e.id===m})),X=w.create({seed:J?J.id:null}).toDataURL(),$="dev"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSEA_FRAME_URL:"https://opensea-plugin-ambire-opensea.vercel.app",REACT_APP_RELAYER_URL:"https://relayer.ambire.com",REACT_APP_VELCRO_API_ENDPOINT:"https://velcro.ambire.com/v1",REACT_APP_TRANSAK_ENV:"PRODUCTION",REACT_APP_TRANSAK_API_KEY:"85fdedd7-0077-4c6d-8499-52039c64353c",REACT_APP_CONSTANTS_ENDPOINT:"https://jason.ambire.com",REACT_APP_RAMP_HOST_API_KEY:"jfmvma5hxecxjht293qmbu7bc7jx3sc9tg48a2so",REACT_APP_PAYTRIE_PARTNER_URL:"https://app.paytrie.com/?app=876454",REACT_APP_ZAPPER_API_KEY:"96e0cc51-a62e-42ca-acee-910ea7d2a241",REACT_APP_ZAPPER_API_ENDPOINT:"https://api.zapper.fi/v1",REACT_APP_SUSHI_SWAP_FRAME_URL:"https://sushiswap-interface-ten.vercel.app/swap",REACT_APP_SUSHI_SWAP_FRAME_EXCEPTIONS_URL:'{"optimism":"https://sushiswap-interface-2qi6v54m6-ambire.vercel.app/swap", "andromeda": "https://sushiswap-interface-2qi6v54m6-ambire.vercel.app/swap"}',REACT_APP_SIGNATURE_VERIFIER_DEBUGGER:"0"}).REACT_APP_VISUAL_ENV?"dev":new URL(document.URL).pathname.startsWith("/staging/")?"staging":null;return Object(f.jsxs)("div",{id:"topbar",className:($?"visual-env visual-env-"+$:"")+(K?" dapp-mode":""),children:[$&&Object(f.jsxs)("div",{className:"env-bar",children:["dev"===$&&Object(f.jsx)(f.Fragment,{children:"Development mode"}),"staging"===$&&Object(f.jsx)(f.Fragment,{children:"Staging mode"})]}),Object(f.jsxs)("div",{id:"mobile-menu",onClick:function(){return B(!U)},children:[Object(f.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(X,")")}}),Object(f.jsx)(u.F,{}),Object(f.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(A.b[O.id],")")}}),Object(f.jsx)("div",{id:"menu-button",children:U?Object(f.jsx)(u.I,{}):Object(f.jsx)(u.P,{})})]}),K?Object(f.jsx)("div",{className:"dapp-menu",children:Object(f.jsxs)("div",{className:"dapp-menu-btns",children:[Object(f.jsx)(p.y,{label:"Open Ambire Wallet menu",children:Object(f.jsx)(p.e,{className:"ambire-menu-btn",border:!0,mini:!0,icon:Object(f.jsx)(u.A,{size:23}),onClick:function(){return G()}})}),Object(f.jsxs)("div",{className:"dapp-data",children:[Object(f.jsx)(p.y,{label:"Connected with ".concat(null===z||void 0===z?void 0:z.connectionType," -  see/find out more on our blog"),children:Object(f.jsx)("a",{className:"info-btn",href:"https://blog.ambire.com/connect-to-any-dapp-with-ambire-wallet-and-walletconnect-c1bc096a531e",target:"_blank",rel:"noreferrer noopener",children:Object(f.jsx)(u.u,{size:23})})}),Object(f.jsx)(p.y,{label:"Connected to ".concat(null===z||void 0===z?void 0:z.name," with Ambire Wallet"),children:Object(f.jsx)("a",{href:(null===z||void 0===z||null===(t=z.providedBy)||void 0===t?void 0:t.url)||(null===z||void 0===z?void 0:z.url),target:"_blank",rel:"noreferrer noopener",children:Object(f.jsx)("img",{className:"dapp-logo",src:(null===z||void 0===z?void 0:z.iconUrl)||V.a,alt:null===z||void 0===z?void 0:z.name})})}),Object(f.jsx)(p.y,{label:"Exit from ".concat(null===z||void 0===z?void 0:z.name),children:Object(f.jsx)(p.e,{className:"dapp-exit-btn",secondary:!0,mini:!0,icon:Object(f.jsx)(u.r,{size:15}),onClick:function(){return Y(null)},children:"Exit"})})]})]})}):Object(f.jsxs)(g.c,{to:"/wallet/dashboard",children:[Object(f.jsx)("div",{id:"logo"}),Object(f.jsx)("div",{id:"icon"})]}),Object(f.jsxs)("div",{className:"container ".concat(U?"open":""),children:[m&&Object(f.jsx)(F,{useRelayerData:n,relayerURL:a,rewardsData:k,account:J,network:O,hidePrivateValue:L,addRequest:R}),S?Object(f.jsx)(u.cb,{cursor:"pointer",size:28,onClick:T}):Object(f.jsx)(u.Z,{cursor:"pointer",size:28,onClick:T}),Object(f.jsx)(I,{connections:c,connect:r,disconnect:s,isWcConnecting:d}),Object(f.jsx)(N,{accounts:h,selectedAddress:m,onSelectAcc:b,onRemoveAccount:j,hidePrivateValue:L,userSorting:E,setUserSorting:P}),Object(f.jsx)(C,{setNetwork:x,network:O,allNetworks:v,userSorting:E,setUserSorting:P,dappsCatalog:_,dapModeTopBar:K}),Object(f.jsx)(M,{})]})]})},q=n(653),G=n(662),z=(n(1546),n(229)),Y=n(1548),K=(n(1547),n(956)),J=K.a.find((function(e){return"ERC20: Transfer"===e.name})).gas+K.b,X=function(e){var t,n=e.selectedNetwork,a=e.relayerURL,c=e.match,r=Object(o.useState)(null),s=Object(i.a)(r,2),l=s[0],d=s[1],u=Object(o.useState)((function(){return Date.now()})),b=Object(i.a)(u,2),j=b[0],m=b[1];return Object(o.useEffect)((function(){Date.now()-j>5e3&&m(Date.now());var e=setTimeout((function(){return m(Date.now())}),6e4);return function(){return clearTimeout(e)}}),[j]),Object(o.useEffect)((function(){if(!n.relayerlessOnly){var e=!1,t="".concat(a,"/gasPrice/").concat(n.id,"?cacheBreak=").concat(j);return Object(R.c)(t).then((function(t){e||d(t.data)})).catch((function(t){e||console.log("fetch error",t)})),function(){return e=!0}}}),[a,n,j]),l?Object(f.jsxs)("div",{className:"gas-info",children:[Object(f.jsxs)("span",{className:"native-price",children:[null===(t=A.a.find((function(e){return e.id===n.id})))||void 0===t?void 0:t.nativeAssetSymbol,": ",Number(l.gasFeeAssets.native).toLocaleString("en-US",{minimumFractionDigits:2})]}),Object(f.jsx)(g.b,{to:c.url+"/gas-tank",children:Object(f.jsxs)("span",{className:"gas-price",children:[Object(f.jsx)(z.a,{})," $",((l.gasPrice&&l.gasPrice.maxPriorityFeePerGas?l.gasPrice.maxPriorityFeePerGas.medium+l.gasPrice.medium:l.gasPrice.medium)*J/Math.pow(10,18)*l.gasFeeAssets.native).toFixed(2)]})})]}):null},$=function(e){var t=e.match,n=e.portfolio,a=e.hidePrivateValue,c=e.relayerURL,r=e.selectedNetwork,s=e.dappsCatalog,d=Object(o.useRef)(),b=Object(o.useState)(0),j=Object(i.a)(b,2),m=j[0],h=j[1],O=s.isDappMode,x=s.sideBarOpen,v=s.toggleSideBarOpen,w=s.toggleDappMode,y=Object(l.useRouteMatch)("/wallet/dapps"),N=Object(o.useMemo)((function(){return O&&y}),[O,y]),C=Object(o.useCallback)((function(){var e={3:"2em",5:"1.5em",7:"1.3em",9:"1.2em",11:"1em"},t=n.balance.total.truncated.length,a=Object.keys(e).reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}));h(e[a])}),[n.balance.total]);Object(o.useEffect)((function(){return C()}),[C]);var A=Object(o.useCallback)((function(){N&&w()}),[N,w]);return Object(f.jsxs)("div",{id:"sidebar",className:(N?"dapp-mode":"")+(x?" open":""),ref:d,children:[N&&x&&Object(f.jsx)("div",{className:"outside-handler",onClick:function(){return v()}}),N&&Object(f.jsxs)("div",{className:"ambire-logo",children:[Object(f.jsx)("div",{className:"logo"}),Object(f.jsx)("div",{className:"icon"}),Object(f.jsx)(p.e,{clear:!0,icon:Object(f.jsx)(u.i,{size:23}),mini:!0,border:!0,onClick:function(){return v()}})]}),Object(f.jsxs)("div",{className:"balance",children:[Object(f.jsx)("label",{children:"Balance"}),n.isCurrNetworkBalanceLoading?Object(f.jsx)("div",{className:"loaderContainer",children:Object(f.jsx)(p.m,{})}):Object(f.jsxs)("div",{className:"balanceDollarAmount",style:{fontSize:m},children:[Object(f.jsx)("span",{className:"dollarSign highlight",children:"$"}),a(n.balance.total.truncated),Object(f.jsxs)("span",{className:"highlight",children:[".",a(n.balance.total.decimals)]})]}),Object(f.jsx)("div",{children:Object(f.jsx)(X,{relayerURL:c,selectedNetwork:r,match:t})})]}),Object(f.jsxs)("nav",{children:[Object(f.jsx)(g.c,{to:t.url+"/dashboard",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(u.l,{}),"Dashboard"]})}),Object(f.jsx)(g.c,{to:t.url+"/deposit",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(z.c,{}),"Deposit"]})}),Object(f.jsx)(g.c,{to:t.url+"/transfer",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(T.a,{}),"Transfer"]})}),Object(f.jsx)(g.c,{to:t.url+"/swap",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(P.i,{}),"Swap"]})}),Object(f.jsx)(g.c,{to:t.url+"/dapps",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",onClick:A,children:[Object(f.jsx)(k.c,{}),"dApps"]})}),Object(f.jsx)(g.c,{to:t.url+"/gas-tank",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(z.a,{}),"Gas Tank"]})}),Object(f.jsx)(g.c,{to:t.url+"/cross-chain",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(Y.a,{}),"Cross-Chain"]})}),Object(f.jsx)(g.c,{to:t.url+"/earn",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(P.q,{}),"Earn"]})}),Object(f.jsx)(g.c,{to:t.url+"/transactions",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(u.j,{}),"Transactions"]})}),Object(f.jsx)(g.c,{to:t.url+"/security",activeClassName:"selected",children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)(u.y,{}),"Security"]})}),Object(f.jsx)("div",{className:"separator"}),Object(f.jsx)("a",{href:"https://help.ambire.com/hc/en-us/categories/4404980091538-Ambire-Wallet",target:"_blank",rel:"noreferrer",children:Object(f.jsxs)("div",{className:"item",id:"help-center",children:[Object(f.jsx)(u.s,{}),"Help Center"]})})]})]})},Z=(n(1549),n(310)),Q=n(665),ee=n(157),te=n(180),ne={walletconnect:"WalletConnect"},ae={walletconnect:"WalletConnect"},ce=function(e){var t=e.network,n=e.dappsCatalog,a=e.selectedAcc,d=e.gnosisConnect,m=e.gnosisDisconnect,h=Object(te.a)("dappUrl"),O=n.addCustomDapp,x=n.loadDappFromUrl,v=n.isDappMode,g=n.currentDappData,w=n.toggleFavorite,y=n.favorites,N=n.filteredCatalog,C=n.onCategorySelect,S=n.categoryFilter,T=n.search,L=n.onSearchChange,E=n.categories,I=n.loadCurrentDappData,P=n.removeCustomDapp,_=Object(j.f)().showModal,M=Object(o.useState)(""),W=Object(i.a)(M,2),D=W[0],U=W[1],B=Object(l.useHistory)();Object(o.useEffect)((function(){U(h)}),[h]);var F=Object(o.useCallback)((function(e){return e.map((function(e){var n,a;return Object(s.a)(Object(s.a)({},e),{},{supported:!(null===(n=e.networks)||void 0===n?void 0:n.length)||!!(null===(a=e.networks)||void 0===a?void 0:a.find((function(e){return e===t.id})))})})).sort((function(e,t){return t.supported-e.supported}))}),[t]),H=Object(o.useCallback)((function(e){return Object(f.jsx)("div",{className:"tooltipNetworks",children:null===e||void 0===e?void 0:e.map((function(e){var t=A.a.find((function(t){return t.id===e}));return t?Object(f.jsxs)("div",{className:"tooltipNetwork",children:[Object(f.jsx)("span",{className:"tooltipNetwork-icon",style:{backgroundImage:"url(".concat(t.iconUrl,")")}}),Object(f.jsx)("span",{children:t.name})]},t.id):null})).filter((function(e){return e}))})}),[]),q=Object(o.useCallback)((function(e,t){w(t),e.stopPropagation()}),[w]),G=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="gnosis"===t.connectionType&&!t.custom||t.forceInternal,e.t0){e.next=5;break}return e.next=4,Object(ee.a)(R.a,t.url);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}I(t),e.next=10;break;case 9:window.open(t.url,"_blank");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[I]),z=Object(o.useCallback)((function(e,t){e.stopPropagation(),e.preventDefault(),P(t)}),[P]),Y=Object(o.useCallback)((function(e,t){_(Object(f.jsx)(Q.a,{dappsCatalog:n,dappUrl:t}))}),[n,_]);return Object(o.useEffect)((function(){if(D){a||B.push("/add-account?dappUrl=".concat(D));var e=x(D);if(U(""),!e){var t=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.c)(R.a,D);case 2:(t=e.sent)&&t.isWalletPlugin?O(t):Y(null,D);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t().catch((function(e){console.error("tryAutoLoad:",e)}))}}}),[D,x,a]),Object(f.jsx)("section",{id:"dappCatalog",children:v&&g?Object(f.jsx)(b.a,{className:"dapp-iframe",network:t,selectedApp:g,selectedAcc:a,gnosisConnect:d,gnosisDisconnect:m}):Object(f.jsxs)(o.Fragment,{children:[Object(f.jsxs)("div",{className:"filter-section",children:[Object(f.jsx)("div",{className:"input-icon",children:Object(f.jsx)(p.w,{value:T,onChange:L,placeholder:"Search filter",icon:Object(f.jsx)(u.ab,{})})}),Object(f.jsx)("div",{className:"categories",children:E.map((function(e){return Object(f.jsx)("span",{className:"category category-".concat(e.name).concat((null===S||void 0===S?void 0:S.name)===e.name?" selected":""),onClick:function(){return C(e)},children:ae[e.name]||e.name},e.name)}))})]}),Object(f.jsxs)("div",{className:"catalogItems",children:[Object(f.jsxs)("div",{className:"catalogItem add-custom-dapp",children:[Object(f.jsxs)("div",{className:"tools",children:[Object(f.jsx)(p.y,{label:"Click here to see how create dApp for Ambire Wallet catalog",children:Object(f.jsx)("a",{className:"info-btn",href:"https://github.com/AmbireTech/wallet-dapp-catalog#readme",target:"_blank",rel:"noreferrer noopener",children:Object(f.jsx)(u.d,{size:23})})}),Object(f.jsx)("img",{className:"custom-dapp",src:V.a,alt:"add custom dapps"})]}),Object(f.jsx)("div",{className:"custom-dapp-icon-wrapper",children:Object(f.jsx)("img",{className:"custom-dapp-icon",src:V.a,alt:"add custom dapps icon"})}),Object(f.jsx)(p.e,{border:!0,mini:!0,onClick:Y,children:"Add custom dApp"})]}),F(N).map((function(e){var n,a,c;return Object(f.jsxs)("div",{className:"catalogItem".concat(e.supported?"":" not-supported"),onClick:function(){return e.supported&&G(e)},children:[Object(f.jsxs)("div",{className:"tools",children:[e.featured&&Object(f.jsx)(p.y,{label:"Hot dApp",children:Object(f.jsx)("img",{className:"icon hot-dapp",src:Z.a,alt:"hot dApp icon"})}),e.custom&&Object(f.jsx)(p.y,{label:"Remove ".concat(e.name," from your catalog"),children:Object(f.jsx)(u.m,{className:"icon remove-dapp",onClick:function(t){return z(t,e)}})}),e.custom&&Object(f.jsx)("img",{className:"custom-dapp icon",src:V.a,alt:"custom dapp icon"}),Object(f.jsx)(p.y,{label:"".concat(y[e.url]?"Remove":"Add"," ").concat(e.name," ").concat(y[e.url]?"from":"to"," favorites"),children:Object(f.jsxs)("span",{className:"favorite".concat(y[e.url]?" selected":""),onClick:function(t){return q(t,e)},children:[" ",y[e.url]?Object(f.jsx)(k.a,{className:"icon"}):Object(f.jsx)(k.j,{className:"icon"})]})})]}),Object(f.jsxs)("div",{className:"base-info",children:[Object(f.jsxs)("div",{className:"logoSplit",children:[Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)("img",{src:e.iconUrl||V.a,alt:e.name})}),Object(f.jsx)("div",{className:"content",children:Object(f.jsx)("span",{className:"title",children:e.name})})]}),Object(f.jsx)("div",{className:"description",children:e.description})]}),Object(f.jsxs)("div",{children:[!e.supported&&Object(f.jsx)("div",{className:"tag-row unsupported",children:Object(f.jsxs)("span",{className:"tag unsupported",children:[t.id," unsupported"]})}),Object(f.jsxs)("div",{className:"aligned-tag-rows",children:[!!(null===(n=e.networks)||void 0===n?void 0:n.length)&&Object(f.jsx)(p.y,{htmlContent:H(e.networks),children:Object(f.jsxs)("div",{className:"tag-row network-tag-row",children:[(null===(a=e.networks)||void 0===a?void 0:a.length)>3&&Object(f.jsx)("span",{className:"tag network-tag network-tag-more",children:"..."}),null===(c=e.networks)||void 0===c?void 0:c.slice(0,3).reverse().map((function(e){var t=A.a.find((function(t){return t.id===e}));return t?Object(f.jsx)("span",{className:"tag network-tag",style:{backgroundImage:"url(".concat(t.icon,")")}},t.id):null}))]})}),Object(f.jsx)("div",{className:"tag-row tag-types",children:Object(f.jsx)("span",{className:"tag type-tag type-tag-".concat(e.category),children:ne[e.category]||e.category})})]})]})]},e.id)}))]}),!N.length&&Object(f.jsx)("div",{className:"no-dapp-found",children:"No dApp found in our list matching your criteria"}),Object(f.jsxs)("div",{className:"info-wc",children:[Object(f.jsx)(u.u,{})," Note: any dApp that supports WalletConnect can be connected as well"]})]})})},re=Object(o.lazy)((function(){return n.e(21).then(n.bind(null,1645))})),se=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(6),n.e(3),n.e(13)]).then(n.bind(null,1638))})),ie=Object(o.lazy)((function(){return n.e(29).then(n.bind(null,1646))})),oe=Object(o.lazy)((function(){return Promise.all([n.e(16),n.e(25)]).then(n.bind(null,1637))})),le=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(4),n.e(22),n.e(15)]).then(n.bind(null,1641))})),de=Object(o.lazy)((function(){return n.e(20).then(n.bind(null,1634))})),ue=Object(o.lazy)((function(){return n.e(27).then(n.bind(null,1647))})),be=Object(o.lazy)((function(){return n.e(24).then(n.bind(null,1642))})),je=Object(o.lazy)((function(){return n.e(28).then(n.bind(null,1635))})),me=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(4),n.e(30),n.e(17)]).then(n.bind(null,1639))})),pe=Object(o.lazy)((function(){return n.e(19).then(n.bind(null,1644))}));function fe(e){var t=Object(j.f)().showModal,n=Object(j.g)(),a=n.isClipboardGranted,d=n.isNoticationsGranted,u=n.arePermissionsLoaded,b=n.modalHidden,m=Object(l.useLocation)().pathname,h=Object(o.useRef)(),g=e.dappsCatalog.isDappMode,k=Object(l.useRouteMatch)("/wallet/dapps"),w=Object(o.useMemo)((function(){return g&&k}),[g,k]),y=Object(o.useMemo)((function(){return e.accounts.length>0}),[e.accounts]),N=Object(j.e)({key:"dAppsAdvancedMode",defaultValue:[]}),C=Object(i.a)(N,2),A=C[0],S=C[1],T=Object(o.useState)(!1),L=Object(i.a)(T,2),R=L[0],E=L[1],I=[{path:"/dashboard/:tabId?/:page?",component:Object(f.jsx)(se,{portfolio:e.portfolio,selectedNetwork:e.network,selectedAccount:e.selectedAcc,accounts:e.accounts,setNetwork:e.setNetwork,privateMode:e.privateMode,rewardsData:e.rewardsData,addRequest:e.addRequest,relayerURL:e.relayerURL,useStorage:e.useStorage,userSorting:e.userSorting,setUserSorting:e.setUserSorting,match:e.match,showSendTxns:e.showSendTxns})},{path:"/deposit",component:Object(f.jsx)(me,{selectedAcc:e.selectedAcc,selectedNetwork:e.network,accounts:e.accounts,addRequest:e.addRequest,relayerURL:e.relayerURL,portfolio:e.portfolio,useStorage:e.useStorage})},{path:"/transfer/:tokenAddressOrSymbol?",component:Object(f.jsx)(re,{portfolio:e.portfolio,selectedAcc:e.selectedAcc,selectedNetwork:Object(s.a)({},e.network),addRequest:e.addRequest,accounts:e.accounts,addressBook:e.addressBook,relayerURL:e.relayerURL})},{path:"/cross-chain",component:Object(f.jsx)(be,{addRequest:e.addRequest,selectedAccount:e.selectedAcc,portfolio:e.portfolio,network:e.network,relayerURL:e.relayerURL})},{path:"/earn",component:Object(f.jsx)(oe,{portfolio:e.portfolio,selectedNetwork:Object(s.a)({},e.network),selectedAcc:e.selectedAcc,rewardsData:e.rewardsData,addRequest:e.addRequest})},{path:"/security",component:Object(f.jsx)(le,{relayerURL:e.relayerURL,selectedAcc:e.selectedAcc,selectedNetwork:e.network,accounts:e.accounts,addRequest:e.addRequest,showSendTxns:e.showSendTxns,onAddAccount:e.onAddAccount})},{path:"/transactions/:page?",component:Object(f.jsx)(de,{relayerURL:e.relayerURL,selectedAcc:e.selectedAcc,selectedNetwork:e.network,addRequest:e.addRequest,eligibleRequests:e.eligibleRequests,showSendTxns:e.showSendTxns,setSendTxnState:e.setSendTxnState})},{path:"/swap",component:Object(f.jsx)(ie,{gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc,network:e.network})},{path:"/dapps",component:Object(f.jsx)(ce,{network:e.network,dappsCatalog:e.dappsCatalog,gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc})},{path:"/opensea",component:Object(f.jsx)(je,{gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc,network:e.network})},{path:"/nft/:network/:collectionAddr/:tokenId",component:Object(f.jsx)(ue,{selectedAcc:e.selectedAcc,selectedNetwork:Object(s.a)({},e.network),addRequest:e.addRequest,accounts:e.accounts,addressBook:e.addressBook})},{path:"/gnosis/plugins/:plugin?",component:Object(f.jsx)(O,{gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc,network:e.network})},{path:"/gas-tank",component:Object(f.jsx)(pe,{selectedNetwork:Object(s.a)({},e.network),relayerURL:e.relayerURL,portfolio:e.portfolio,selectedAccount:e.selectedAcc,userSorting:e.userSorting,setUserSorting:e.setUserSorting,setGasTankState:e.setGasTankState,gasTankState:e.gasTankState})}],P=function(){return y?null:Object(f.jsx)(l.Redirect,{to:"/add-account"})},_=Object(o.useCallback)(Object(r.a)(c.a.mark((function n(){var r,s,i,o,l,j,m,p;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.accounts.find((function(t){return t.id===e.selectedAcc}))){n.next=3;break}return n.abrupt("return");case 3:s="".concat(e.relayerURL,"/identity/").concat(r.id),i=u&&(!Object(x.a)()&&!a||!d),o=i&&!b,l=!!r.emailConfRequired,j=r.backupOptout,m=Object(f.jsx)(q.a,{relayerIdentityURL:s,account:r,onAddAccount:e.onAddAccount,isCloseBtnShown:!j,isBackupOptout:!j,setRedisplayPermissionsModal:E,showThankYouPage:e.showThankYouPage}),p=navigator.platform.includes("Android")||navigator.platform.includes("iOS"),(l||o||j)&&!p&&t(m,{disableClose:!0});case 11:case"end":return n.stop()}}),n)}))),[e.accounts,e.relayerURL,e.onAddAccount,e.showThankYouPage,e.selectedAcc,u,a,d,b,t]);return Object(o.useEffect)((function(){return _()}),[_]),Object(o.useEffect)((function(){R&&(_(),E(!1))}),[_,R]),Object(o.useEffect)((function(){var e=setTimeout((function(){return h.current&&h.current.scrollTo({top:0,behavior:"smooth"})}),0);return function(){return clearTimeout(e)}}),[m]),Object(o.useEffect)((function(){var n=e.connections.filter((function(e){var t=e.session;return t&&t.peerMeta&&v.a.includes(t.peerMeta.url)&&!A.includes(t.peerMeta.url)}));n.length&&t(Object(f.jsx)(G.a,{connections:n,disconnect:e.disconnect,advancedModeList:A,onContinue:S}))}),[e.connections,e.disconnect,t,A,S]),Object(f.jsxs)("div",{id:"wallet",children:[Object(f.jsx)($,{match:e.match,portfolio:e.portfolio,hidePrivateValue:e.privateMode.hidePrivateValue,relayerURL:e.relayerURL,selectedNetwork:e.network,dappsCatalog:e.dappsCatalog}),Object(f.jsx)(H,Object(s.a)({},e)),Object(f.jsx)("div",{id:"wallet-container",className:w?"dapp-mode":"",ref:h,children:Object(f.jsx)("div",{id:"wallet-container-inner",children:Object(f.jsx)(o.Suspense,{fallback:Object(f.jsx)(p.m,{}),children:Object(f.jsxs)(l.Switch,{children:[I.map((function(t){var n=t.path,a=t.component;return Object(f.jsxs)(l.Route,{exact:!0,path:e.match.url+n,children:[Object(f.jsx)(P,{}),a||null]},n)})),Object(f.jsx)(l.Route,{path:e.match.url+"/*",children:Object(f.jsx)(l.Redirect,{to:e.match.url+"/dashboard"})}),Object(f.jsx)(l.Route,{path:e.match.url,children:Object(f.jsx)(P,{})})]})})})})]})}},596:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},c="https://storage.googleapis.com/zapper-fi-assets/tokens";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase(),r=e.toLowerCase();return a[n]||"".concat(c,"/").concat(r,"/").concat(n,".png")}},604:function(e,t,n){"use strict";function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var a=Math.min(2,n||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(a,n),minimumFractionDigits:a})}catch(c){return console.error(c),e}}n.d(t,"a",(function(){return a}))},617:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return x}));var a=n(8),c=n(2),r=n.n(c),s=n(11),i=n(633),o=n(55),l=n(619),d=n(609),u=2147483648,b={startPath:[2147483692,2147483708,u,0,0],n:10},j=function(e){var t={name:"Ambire Wallet",crypto:d,privKey:e};return new i.Client(t)},m=function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){t.connect(n,(function(t,n){t?a("Lattice connect: ".concat(t," Or check if the DeviceID is correct.")):e({isPaired:!!n,errConnect:!1})}))})).catch((function(e){return console.error(e),{isPaired:!1,errConnect:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){t.pair(n,(function(t,n){t?a("Lattice connect: ".concat(t)):e({hasActiveWallet:n,errPair:!1})}))})).catch((function(e){return console.error(e),{hasActiveWallet:!1,errPair:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.getAddresses(b,(function(t,a){if(t)n("Lattice get addresses: ".concat(t));else{if(!a)throw new Error("Lattice could not get the addresses.");e({res:a,errGetAddresses:!1})}}))})).catch((function(e){return console.error(e),{res:null,errGetAddresses:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={protocol:"signPersonal",payload:o.ethers.utils.hexlify(n),signerPath:[2147483692,2147483708,u,0,0]},c={currency:"ETH_MSG",data:a},e.next=4,new Promise((function(e,n){t.sign(c,(function(t,a){if(t)n(t);else{if(!a)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+a.sig.r+a.sig.s+a.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={currency:"ETH_MSG",data:{signerPath:[2147483692,2147483708,u,0,0],protocol:"eip712",payload:n}},e.next=3,new Promise((function(e,n){t.sign(a,(function(t,a){if(t)n(t);else{if(!a)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+a.sig.r+a.sig.s+a.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(r.a.mark((function e(t,n,c){var s,i,o,d,b,j,m,p,f,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.to,i=n.data,o=n.gas,d=n.gasPrice,b=n.nonce,j=n.value,m=void 0===j?0:j,delete(p=Object(a.a)(Object(a.a)({},n),{},{gasLimit:n.gasLimit||n.gas,chainId:c})).from,delete p.gas,f={nonce:b,gasLimit:o||n.gasLimit,gasPrice:d,to:s,value:m,data:i||"",signerPath:[2147483692,2147483708,u,0,0],chainId:c,useEIP155:!0},h={currency:"ETH",data:f},e.next=8,new Promise((function(e,n){t.sign(h,(function(t,a){if(t)n(t);else{if(!a)throw new Error("Lattice could not sign the message.");delete p.v;var c=Object(l.a)(p,{r:"0x"+a.sig.r,s:"0x"+a.sig.s,v:a.sig.v[0].toString(16)});e({serializedSigned:c,errSignTxn:!1})}}))})).catch((function(e){return console.error(e),{serializedSigned:null,errSignTxn:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},631:function(e,t,n){"use strict";var a=n(7),c=(n(772),n(3)),r=n(34),s=n(77),i=n(616),o=n(37),l=n(4);t.a=function(e){var t,n=e.signersToChoose,d=e.onSignerAddressClicked,u=e.selectedNetwork,b=void 0===u?{explorerUrl:"https://etherscan.io"}:u,j=e.description,m=void 0===j?"":j,p=e.isCloseBtnShown,f=void 0===p||p,h=e.onCloseBtnClicked,O=Object(r.f)().hideModal,x=Object(c.useState)(0),v=Object(a.a)(x,2),g=v[0],k=v[1],w=[];t=5,w=n.reduce((function(e,n,a){var c=Math.floor(a/t);return(e[c]||(e[c]=[])).push(n),e}),[]);var y=function(e){return e.slice(0,5)+"..."+e.slice(e.length-4,e.length)},N=0===g,C=g===w.length-1;return Object(l.jsxs)(s.n,{id:"select-signer-modal",title:"Select a signer account",isCloseBtnShown:f,onClose:h,children:[Object(l.jsx)("div",{className:"intro",children:m}),Object(l.jsxs)("div",{className:"loginSignupWrapper chooseSigners",children:[Object(l.jsx)("ul",{id:"signersToChoose",children:n?w[g].map((function(e,t){return Object(l.jsxs)("li",{className:t%2?"":" odd-rows-bg",onClick:function(){return function(e,t){d({address:e,index:t}),O()}(e,5*g+t)},children:[Object(l.jsx)("span",{className:"index-row",children:5*g+t+1}),Object(l.jsx)("span",{children:y(e)}),Object(l.jsx)("a",{href:b.explorerUrl+"/address/"+e,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:Object(l.jsx)(i.c,{size:25})})]},e)})):null}),Object(l.jsxs)("div",{className:"pages",children:[g+1,"/",w.length]}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)(s.e,{disabled:N,icon:Object(l.jsx)(o.w,{}),small:!0,clear:!0,type:"button",onClick:function(){0!==g&&k((function(e){return e-1}))},children:"Previous page"}),Object(l.jsx)(s.e,{disabled:C,iconAfter:Object(l.jsx)(o.x,{}),small:!0,clear:!0,type:"button",onClick:function(){g!==w.length-1&&k((function(e){return e+1}))},children:"Next page"})]})]})]})}},635:function(e,t,n){"use strict";n(799);var a=n(37),c=n(34),r=n(77),s=n(4);t.a=function(e){var t=e.title,n=void 0===t?"Details":t,i=e.description,o=void 0===i?"":i,l=Object(c.f)().hideModal,d=Object(s.jsx)(r.e,{clear:!0,small:!0,icon:Object(s.jsx)(a.i,{}),onClick:l,children:"Close"});return Object(s.jsx)(r.n,{id:"wallet-more-details-modal",title:n,buttons:d,children:Object(s.jsx)("p",{children:o})})}},653:function(e,t,n){"use strict";var a=n(8),c=n(2),r=n.n(c),s=n(11),i=n(7),o=(n(782),n(3)),l=n(37),d=n(34),u=n(44),b=n(718),j=n(77),m=n(153),p=n(84),f=n(228),h=n(152),O=n(684),x=n(151),v=n(4),g=function(e){return"You blocked the ".concat(e," permission. Check your browser permissions tab.")};t.a=function(e){var t=e.relayerIdentityURL,n=e.account,c=e.onAddAccount,k=e.isCloseBtnShown,w=e.isBackupOptout,y=e.setRedisplayPermissionsModal,N=e.showThankYouPage,C=Object(d.f)(),A=C.hideModal,S=C.showModal,T=Object(d.g)(),L=T.isNoticationsGranted,R=T.isClipboardGranted,E=T.modalHidden,I=T.setModalHidden,P=Object(u.a)().addToast,_=Object(o.useState)(!1),M=Object(i.a)(_,2),W=M[0],D=M[1],U=Object(o.useState)(!1),B=Object(i.a)(U,2),F=B[0],V=B[1],H=Object(o.useState)(w),q=Object(i.a)(H,2),G=q[0],z=q[1],Y=Object(o.useState)(6e4),K=Object(i.a)(Y,2),J=K[0],X=K[1];y(!1);var $=Math.ceil(x.a.quickAccTimelock/86400),Z=!Object(m.a)()&&!R||!L,Q=n.emailConfRequired&&!W,ee=Q||!E&&Z,te=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.c)(t+"/resend-verification-email");case 3:if(e.sent.success){e.next=6;break}throw new Error("Relayer did not return success.");case 6:P("Verification email sent!"),V(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),P("Could not resend verification email."+e.t0.message||!1,{error:!0}),V(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ne=Object(o.useCallback)(Object(s.a)(r.a.mark((function e(){var s,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.c)(t);case 3:(s=e.sent)&&(i=s.meta.emailConfirmed,D(o=!!i),o&&n.emailConfRequired&&c(Object(a.a)(Object(a.a)({},n),{},{emailConfRequired:!1}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),P("Could not check email confirmation.",{error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,n,c,P]),ae=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("notifications");case 2:e.sent||P(g("Notifications"),{error:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("clipboard-read");case 2:e.sent||P(g("Clipboard"),{error:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!W&&ne();var e=setInterval((function(){return!W&&ne()}),3e3);return function(){return clearInterval(e)}}),[W,ne]);var re=function(){A(),N&&se()},se=function(){return window.open("https://www.ambire.com/thankyou","_blank")},ie=G?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.e,{clear:!0,small:!0,icon:Object(v.jsx)(l.i,{}),disabled:Q,onClick:re,children:"Ignore"}),Object(v.jsx)(j.e,{small:!0,icon:Object(v.jsx)(l.g,{}),disabled:ee,onClick:re,children:"Done"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.e,{clear:!0,small:!0,icon:Object(v.jsx)(l.i,{}),disabled:!0,onClick:re,children:"Ignore"}),Object(v.jsx)(j.e,{small:!0,icon:Object(v.jsx)(l.g,{}),disabled:!0,onClick:re,children:"Done"})]});return Object(o.useEffect)((function(){var e=setInterval((function(){return X((function(e){return e>0?e-1e3:0}))}),1e3);return function(){return clearTimeout(e)}}),[]),Object(v.jsxs)(j.n,{id:"permissions-modal",title:"We need a few things \ud83d\ude4f",buttons:ie,isCloseBtnShown:k,onClose:function(){N&&se()},children:[n.email?Object(v.jsxs)("div",{className:"permission",children:[Object(v.jsxs)("div",{className:"details",children:[Object(v.jsx)("div",{className:"name",children:"Email Verification"}),Object(v.jsxs)("div",{className:"description",children:[Object(v.jsx)("b",{children:"Confirming your email is mandatory so that we can make sure your account can be recovered in case access is lost."}),"\xa0We already sent an email, please check your inbox."]})]}),Object(v.jsxs)("div",{className:"status",children:[W?Object(v.jsx)("span",{className:"check-icon",children:Object(v.jsx)(l.H,{})}):Object(v.jsxs)("label",{children:["Waiting for",Object(v.jsx)("br",{}),"your confirmation"]}),W||F?null:Object(v.jsx)(j.y,{label:"Will be available in ".concat(J/1e3," seconds"),disabled:0===J,children:Object(v.jsx)(j.e,{mini:!0,clear:!0,icon:Object(v.jsx)(f.g,{}),disabled:0!==J,onClick:te,children:"Resend"})})]})]}):null,Object(v.jsxs)("div",{className:"permission",children:[Object(v.jsxs)("div",{className:"details",children:[Object(v.jsx)("div",{className:"name",children:"Notifications Permission"}),Object(v.jsxs)("div",{className:"description",children:["Needed to draw your attention to Ambire Wallet when there is a transaction signing request.",Object(v.jsx)("br",{}),"You can also click the notifications to go directly to the Ambire tab.",Object(v.jsx)("br",{}),"We do not send any other notifications."]})]}),Object(v.jsx)(j.x,{checked:L,onChange:function(){return ae()}})]}),Object(v.jsxs)("div",{className:"permission ".concat(Object(m.a)()?"disabled":""),children:[Object(v.jsxs)("div",{className:"details",children:[Object(v.jsxs)("div",{className:"name",children:["Clipboard Permission ",Object(m.a)()?Object(v.jsx)("span",{className:"unavailable",children:"(Unavailable in Firefox)"}):null]}),Object(v.jsx)("div",{className:"description",children:"Needed so that dApps can be connected automatically just by copying their WalletConnect URL."}),Object(m.a)()?Object(v.jsx)("div",{className:"unavailable",children:"Without this, you can still use Ambire, but you will have to paste URLs manually"}):null]}),Object(v.jsx)(j.x,{checked:R,onChange:function(){return ce()}})]}),!w&&Object(v.jsxs)("div",{className:"permission",children:[Object(v.jsxs)("div",{className:"details",children:[Object(v.jsx)("div",{className:"name",children:"Download a backup"}),Object(v.jsxs)("div",{className:"description",children:["In case you forget your password or lose your backup, ",Object(v.jsx)("br",{}),"you will have to wait ",$," days and pay the recovery fee to restore access to your account."]})]}),Object(v.jsx)("div",{className:"status",children:G?Object(v.jsx)("span",{className:"check-icon",children:Object(v.jsx)(l.H,{})}):Object(v.jsxs)("div",{className:"export-buttons",children:[Object(v.jsx)(j.e,{small:!0,onClick:function(){z(!0);var e=Object(a.a)({},n);console.log("copiedAcc",e),"undefined"!==typeof e.emailConfRequired&&delete e.emailConfRequired,"undefined"!==typeof e.backupOptout&&delete e.backupOptout,"undefined"!==typeof e.cloudBackupOptout&&delete e.cloudBackupOptout,function(e){var t=e.data,n=e.fileName,a=e.fileType,c=new Blob([t],{type:a}),r=document.createElement("a");r.download=n,r.href=window.URL.createObjectURL(c);var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});r.dispatchEvent(s),r.remove()}({data:JSON.stringify(e),fileName:"".concat(e.id,".json"),fileType:"text/json"}),c(Object(a.a)(Object(a.a)({},n),{},{backupOptout:!1}))},icon:Object(v.jsx)(h.k,{}),children:"JSON Export"}),Object(v.jsx)(j.e,{small:!0,onClick:function(){S(Object(v.jsx)(O.b,{selectedAccount:n,accounts:[n],onAddAccount:c,modalCloseHandler:function(){y(!0)}}))},icon:Object(v.jsx)(h.m,{}),children:"Paper Export"})]})})]}),Q?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(j.g,{label:"I understand, do not show this again.",checked:E,onChange:function(e){var t=e.target;return I(t.checked)}}),w?null:Object(v.jsx)("p",{className:"download-backup",children:"You have to download a backup of you profile before you can continue"})]})}},654:function(e,t,n){"use strict";var a=n(8),c=n(7),r=(n(783),n(3)),s=n(37),i=n(34),o=n(77),l=n(4);t.a=function(e){var t=e.title,n=e.inputs,d=e.onClose,u=Object(i.f)().hideModal,b=Object(r.useState)(!0),j=Object(c.a)(b,2),m=j[0],p=j[1],f=n.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{ref:Object(r.createRef)()})})),h=function(){var e=f.map((function(e){var t=e.ref,n=e.validate;return t.current.value&&(!n||n(t.current.value))})).every((function(e){return!0===e}));p(!e)},O=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.e,{clear:!0,small:!0,icon:Object(l.jsx)(s.i,{}),onClick:u,children:"Cancel"}),Object(l.jsx)(o.e,{small:!0,icon:Object(l.jsx)(s.g,{}),disabled:m,onClick:function(){var e=f.map((function(e){return e.ref.current.value}));d&&d(e),u()},children:"Confirm"})]});return Object(l.jsx)(o.n,{id:"input-modal",title:t,buttons:O,children:f.map((function(e){var t=e.id,n=e.label,a=e.placeholder,c=e.ref;return Object(l.jsx)(o.w,{label:n,placeholder:a,onInput:h,ref:c},t||n)}))})}},655:function(e,t,n){"use strict";var a=n(2),c=n.n(a),r=n(8),s=n(11),i=n(7),o=(n(784),n(101)),l=n(21),d=n(3),u=n(77),b=n(37),j=n(34),m=n(44),p=n(151),f=n(84),h=n(679),O=n(4);t.a=function(e){var t=e.account,n=e.selectedNetwork,a=e.relayerURL,x=e.onAddAccount,v=e.showSendTxns,g=Object(j.f)().hideModal,k=Object(m.a)().addToast,w=Object(d.useState)(!1),y=Object(i.a)(w,2),N=y[0],C=y[1],A=Object(d.useState)(null),S=Object(i.a)(A,2),T=S[0],L=S[1],R=Object(d.useState)(""),E=Object(i.a)(R,2),I=E[0],P=E[1],_=Object(d.useState)(""),M=Object(i.a)(_,2),W=M[0],D=M[1],U=Object(d.useState)(""),B=Object(i.a)(U,2),F=B[0],V=B[1],H=Object(d.useState)(!0),q=Object(i.a)(H,2),G=q[0],z=q[1],Y=Object(d.useState)(!1),K=Object(i.a)(Y,2),J=K[0],X=K[1],$=Object(d.useState)(!1),Z=Object(i.a)($,2),Q=Z[0],ee=Z[1],te=Object(d.useMemo)((function(){return[{label:"Change the password on this device and Ambire Cloud. Best if you just want to routinely change the password.",value:"change",disabled:!t.primaryKeyBackup},{label:"Reset the key and password: takes 3 days. Chose this if you've forgotten the old password.",value:"reset"}]}),[t.primaryKeyBackup]),ne=Object(d.useMemo)((function(){return[[{label:Object(O.jsxs)(O.Fragment,{children:["I understand the following: the new password will be required for subsequent logins, but places where you're already logged in will work with the old password until you re-login.",Object(O.jsx)(u.y,{label:"This is because, for security reasons, the encrypted key is retrieved only when logging in, so we have no way of forcing every device to update it. If you want to disable access for other devices, consider the next option.",children:Object(O.jsx)(b.L,{})})]}),ref:Object(d.createRef)()}],[{label:Object(O.jsxs)(O.Fragment,{children:["I understand I am only changing the password on the ",n.name," network.",Object(O.jsx)(u.y,{label:"You will be able to trigger the change for other networks by switching the network",children:Object(O.jsx)(b.L,{})})]}),ref:Object(d.createRef)()},{label:"I understand I need to wait for 3 days for the change to be finalized.",ref:Object(d.createRef)()}]]}),[n.name]),ae=function(){var e=Object(s.a)(c.a.mark((function e(){var n,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:return e.prev=3,e.next=6,o.Wallet.fromEncryptedJson(JSON.parse(t.primaryKeyBackup),I);case 6:return n=e.sent,e.t0=JSON,e.next=10,n.encrypt(W,p.a.encryptionOpts);case 10:return e.t1=e.sent,s=e.t0.stringify.call(e.t0,e.t1),e.next=14,n.signMessage(JSON.stringify({primaryKeyBackup:s}));case 14:return i=e.sent,e.next=17,Object(f.d)("".concat(a,"/identity/").concat(t.id,"/modify"),{primaryKeyBackup:s,sig:i});case 17:if(!(l=e.sent).success){e.next=25;break}x(Object(r.a)(Object(r.a)({},t),{},{primaryKeyBackup:s})),k("You password was successfully updated"),C(!1),g(),e.next=26;break;case 25:throw new Error("Unable to update account: ".concat(l.message||"unknown error"));case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(3),console.error(e.t2),k("Changing password error: "+(e.t2.message||e.t2),{error:!0});case 32:C(!1);case 33:case"end":return e.stop()}}),e,null,[[3,28]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(s.a)(c.a.mark((function e(){var a,s,i,d,u,b,j,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:return e.prev=3,a=Object(l.id)(t.email+":"+Date.now()+":"+Math.random()+":"+("object"===typeof performance&&performance.now())),s=o.Wallet.createRandom({extraEntropy:a}),i=p.a.quickAccManager,d=p.a.quickAccTimelock,u=p.a.encryptionOpts,b={quickAccManager:i,timelock:d,one:s.address,two:t.signer.two,preRecovery:t.signer},e.t0=JSON,e.next=11,s.encrypt(W,u);case 11:e.t1=e.sent,j=e.t0.stringify.call(e.t0,e.t1),m=Object(h.a)(t.id,n.id,b.preRecovery,{signer:b,primaryKeyBackup:j}),g(),v(m,!0),x(Object(r.a)(Object(r.a)({},t),{},{primaryKeyBackup:j,signer:b,preRecoveryPrimaryKeyBackup:t.primaryKeyBackup}),{select:!0}),e.next=23;break;case 19:e.prev=19,e.t2=e.catch(3),console.error(e.t2),k("Reset password error: "+(e.t2.message||e.t2),{error:!0});case 23:C(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),re=Object(d.useCallback)((function(){var e=W===F,t=!1,n=!1,a=!1;"change"===T&&(t=I.length&&W.length&&F.length,n=I.length>=8&&W.length>=8&&F.length>=8,a=ne[0].every((function(e){var t=e.ref;return t.current&&t.current.checked}))),"reset"===T&&(t=W.length&&F.length,n=W.length>=8&&F.length>=8,a=ne[1].every((function(e){var t=e.ref;return t.current&&t.current.checked}))),z(!n||!e||!a),t?(ee(!n),X(!e)):(ee(!1),X(!1))}),[ne,T,I,W,F]);Object(d.useEffect)((function(){return re()}),[N,re,I,W,F]);var se=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.e,{icon:Object(O.jsx)(b.I,{}),clear:!0,onClick:function(){return g()},children:"Cancel"}),Object(O.jsx)(u.e,{icon:Object(O.jsx)(b.H,{}),disabled:G,onClick:function(){return"change"===T?ae():ce()},children:"Confirm"})]});return Object(O.jsxs)(u.n,{id:"reset-password-modal",title:"Reset Password",buttons:se,children:[N?Object(O.jsx)("div",{id:"loading-overlay",children:Object(O.jsx)(u.m,{})}):null,Object(O.jsx)(u.r,{radios:te,onChange:function(e){L(e),P(""),D(""),V(""),X(!1),ee(!1)}}),"change"===T?Object(O.jsxs)("form",{children:[Object(O.jsx)(u.q,{autocomplete:"current-password",placeholder:"Old Password",onInput:function(e){return P(e)}}),Object(O.jsx)(u.q,{peakPassword:!0,autocomplete:"new-password",placeholder:"New Password",onInput:function(e){return D(e)}}),Object(O.jsx)(u.q,{autocomplete:"new-password",placeholder:"Confirm New Password",onInput:function(e){return V(e)}}),ne[0].map((function(e,t){var n=e.label,a=e.ref;return Object(O.jsx)(u.g,{ref:a,label:n,onChange:function(){return re()}},"checkbox-".concat(t))}))]}):null,"reset"===T?Object(O.jsxs)("form",{children:[Object(O.jsx)(u.q,{peakPassword:!0,autocomplete:"new-password",placeholder:"New Password",onInput:function(e){return D(e)}}),Object(O.jsx)(u.q,{autocomplete:"new-password",placeholder:"Confirm New Password",onInput:function(e){return V(e)}}),ne[1].map((function(e,t){var n=e.label,a=e.ref;return Object(O.jsx)(u.g,{ref:a,label:n,onChange:function(){return re()}},"checkbox-".concat(t))}))]}):null,Object(O.jsxs)("div",{id:"warnings",children:[J?Object(O.jsx)("div",{className:"warning",children:"Passwords must match"}):null,Q?Object(O.jsx)("div",{className:"warning",children:"Password length must be greater than 8 characters"}):null]})]})}},657:function(e,t,n){"use strict";var a=n(2),c=n.n(a),r=n(11),s=n(7),i=(n(788),n(95)),o=n(21),l=n(607),d=n(91),u=n(77),b=n(3),j=n(44),m=n(37),p=n(34),f=n(87),h=n(596),O=n(4),x=new o.Interface(l);t.a=function(e){var t=e.network,n=e.account,a=e.portfolio,l=Object(j.a)().addToast,v=Object(p.f)().hideModal,g=a.extraTokens,k=a.onAddExtraToken,w=a.onRemoveExtraToken,y=Object(b.useState)(!1),N=Object(s.a)(y,2),C=N[0],A=N[1],S=Object(b.useState)(null),T=Object(s.a)(S,2),L=T[0],R=T[1],E=Object(b.useState)(!1),I=Object(s.a)(E,2),P=I[0],_=I[1],M=!L||!(L.symbol&&L.decimals),W=function(){var e=Object(r.a)(c.a.mark((function e(a){var r,u,b,j,m,p,O,v,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(null),Object(d.b)(a)){e.next=3;break}return e.abrupt("return");case 3:return A(!0),_(!1),e.prev=5,r=Object(f.a)(t.id),u=new i.Contract(a,x,r),e.next=10,Promise.all([u.balanceOf(n),u.name(),u.symbol(),u.decimals()]);case 10:b=e.sent,j=Object(s.a)(b,4),m=j[0],p=j[1],O=j[2],v=j[3],g=Object(o.formatUnits)(m,v),R({account:n,address:a.toLowerCase(),network:t.id,balance:g,balanceRaw:m.toString(),tokenImageUrl:Object(h.a)(t.id,a),name:p,symbol:O,decimals:v}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),console.error(e.t0),l("Failed to load token info",{error:!0}),_(!0);case 25:A(!1);case 26:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}(),D=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.e,{clear:!0,icon:Object(O.jsx)(m.I,{}),onClick:function(){return v()},children:"Close"}),Object(O.jsx)(u.e,{icon:Object(O.jsx)(m.C,{}),disabled:M,onClick:function(){k(L),v()},children:"Add"})]}),U="binance-smart-chain"===t.id?"a BEP20":"ethereum"===t.id?"an ERC20":"a valid";return Object(O.jsxs)(u.n,{id:"add-token-modal",title:"Add Token",buttons:D,children:[Object(O.jsx)(u.w,{label:"Token Address",placeholder:"0x...",onInput:function(e){return W(e)}}),P?Object(O.jsxs)("div",{className:"validation-error",children:["The address you entered does not appear to correspond to ",U," token on ",t.name,"."]}):null,C?Object(O.jsx)(u.m,{}):!P&&L?Object(O.jsxs)("div",{className:"token-details",children:[Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(L.icon,")")}}),Object(O.jsxs)("div",{className:"name",children:[L.name," ",Object(O.jsxs)("span",{children:["(",L.symbol,") ",L.network.toUpperCase()]})]})]}),Object(O.jsxs)("div",{className:"balance",children:["Balance: ",Object(O.jsx)("span",{children:L.balance})," ",Object(O.jsx)("b",{children:L.symbol})]})]}):null,Object(O.jsx)("div",{className:"extra-tokens-list",children:g.map((function(e){var t=e.address,n=e.name,a=e.symbol,c=e.tokenImageUrl,r=e.network;return Object(O.jsxs)("div",{className:"extra-token",children:[Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(c,")")}}),Object(O.jsxs)("div",{className:"name",children:[n," ",Object(O.jsxs)("span",{children:["(",a,") ",r.toUpperCase()]})]})]}),Object(O.jsx)("div",{className:"actions",children:Object(O.jsx)(u.e,{mini:!0,clear:!0,onClick:function(){return function(e){w(e),v()}(t)},children:Object(O.jsx)(m.T,{})})})]},t)}))})]})}},658:function(e,t,n){"use strict";var a=n(2),c=n.n(a),r=n(11),s=n(7),i=(n(789),n(77)),o=n(3),l=n(44),d=n(617),u=n(609),b=n.n(u),j=n(4),m=b.a.randomBytes(32).toString("hex");t.a=function(e){var t=e.addresses,n=Object(l.a)().addToast,a=Object(o.useState)(!1),u=Object(s.a)(a,2),b=u[0],p=u[1],f=Object(o.useState)(""),h=Object(s.a)(f,2),O=h[0],x=h[1],v=Object(o.useState)(!1),g=Object(s.a)(v,2),k=g[0],w=g[1],y=Object(o.useState)(null),N=Object(s.a)(y,2),C=N[0],A=N[1],S=Object(o.useRef)(null);Object(o.useEffect)((function(){k&&S.current.focus()}),[k]);var T=Object(d.c)(m),L=function(){var e=Object(r.a)(c.a.mark((function e(){var a,r,s,i,o,l,u,b,j,f,h,x,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p((function(e){return!e})),e.next=3,Object(d.a)(T,O);case 3:if(a=e.sent,r=a.isPaired,!(s=a.errConnect)){e.next=10;break}return p((function(e){return!e})),n("Lattice: ".concat(s," Or check if the Device ID is correct."),{error:!0}),e.abrupt("return");case 10:if(r){e.next=41;break}return w((function(e){return!e})),e.next=14,new Promise((function(e,t){A((function(){return e}))}));case 14:if(""===(i=e.sent)){e.next=39;break}return w((function(e){return!e})),e.next=19,Object(d.d)(T,i);case 19:if(o=e.sent,l=o.hasActiveWallet,!(u=o.errPair)){e.next=26;break}return p((function(e){return!e})),n(u,{error:!0}),e.abrupt("return");case 26:if(l){e.next=29;break}return n("Lattice has no active wallet!"),e.abrupt("return");case 29:return e.next=31,Object(d.b)(T);case 31:if(b=e.sent,j=b.res,!(f=b.errGetAddresses)){e.next=38;break}return p((function(e){return!e})),n(f,{error:!0}),e.abrupt("return");case 38:j&&(t({addresses:j,deviceId:O,commKey:m,isPaired:!0}),p(!1));case 39:e.next=51;break;case 41:return e.next=43,Object(d.b)(T);case 43:if(h=e.sent,x=h.res,!(v=h.errGetAddresses)){e.next=50;break}return p(!1),n("Lattice: ".concat(v),{error:!0}),e.abrupt("return");case 50:x&&(t({addresses:x,deviceId:O,commKey:m,isPaired:!0}),p(!1));case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(i.n,{title:"Connect to Lattice Device",children:Object(j.jsx)("div",{id:"grid-plus",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["The device ID is listed on your Lattice under"," ",Object(j.jsx)("strong",{children:"Settings"}),"."]}),Object(j.jsx)("h4",{children:"Device ID"}),Object(j.jsx)(i.w,{disabled:k,placeholder:"Enter the device ID",onInput:function(e){var t;6===(t=e).length&&x(t)}}),k&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{children:"Secret"}),Object(j.jsx)(i.w,{ref:S,placeholder:"Enter secret",style:{textTransform:"uppercase"},onInput:function(e){return function(e){var t=e.toUpperCase();8===t.length&&C(t)}(e)}})]}),b&&!k?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"It may takes a while."}),Object(j.jsx)("h3",{children:"Please wait..."})]}):Object(j.jsx)(j.Fragment,{}),Object(j.jsx)("div",{className:"buttons",children:b?Object(j.jsx)(i.e,{disabled:!0,children:Object(j.jsx)(i.m,{})}):Object(j.jsx)(i.e,{onClick:L,children:"Connect to Wallet"})})]})})})}},662:function(e,t,n){"use strict";var a=n(17),c=n(7),r=n(77),s=n(34),i=n(3),o=n(37),l=(n(796),n(4));t.a=function(e){var t=e.connections,n=e.disconnect,d=e.advancedModeList,u=e.onContinue,b=Object(s.f)().hideModal,j=Object(i.useState)(!1),m=Object(c.a)(j,2),p=m[0],f=m[1],h=Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.e,{clear:!0,icon:Object(l.jsx)(o.i,{}),onClick:function(){t.map((function(e){var t=e.uri;return n(t)})),b()},children:"Cancel"}),Object(l.jsx)(r.e,{disabled:!p,onClick:function(){u([].concat(Object(a.a)(d),Object(a.a)(t.map((function(e){return e.session.peerMeta.url}))))),b()},children:"Continue"})]});return Object(l.jsxs)(r.n,{id:"unsupported-dapps",title:"Unsupported dApps",buttons:h,isCloseBtnShown:!1,children:[Object(l.jsx)("div",{className:"message",children:"These dApps does not fully support smart wallets and/or WalletConnect:"}),Object(l.jsx)("div",{className:"dapps-list",children:t.map((function(e,t){var n=e.session;return Object(l.jsxs)("a",{className:"dapp",href:n.peerMeta.url,target:"_blank",rel:"noreferrer",children:[Object(l.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(n.peerMeta.icons[0],")")},children:Object(l.jsx)(o.c,{})}),Object(l.jsx)("div",{className:"name",children:n.peerMeta.name})]},"dapp-".concat(t))}))}),Object(l.jsx)(r.i,{}),Object(l.jsxs)("div",{className:"message",children:["For more information on why these dApps do not support Ambire, please read ",Object(l.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415496135698-Which-dApps-are-supported-by-Ambire-Wallet-",target:"_blank",rel:"noreferrer",children:"this article"}),"."]}),Object(l.jsx)("div",{className:"separator"}),Object(l.jsxs)("div",{className:"advanced-mode",children:[Object(l.jsx)("label",{className:"advanced-mode-label",children:"Advanced mode:"}),Object(l.jsx)(r.g,{label:"I know what I'm doing and I accept the risks",checked:p,onChange:function(e){var t=e.target;return f(t.checked)}})]})]})}},663:function(e,t,n){"use strict";var a=n(17),c=(n(797),n(77)),r=n(37),s=n(34),i=n(3),o=n(4),l=function(e){var t=e.token,n=e.button;return Object(o.jsxs)("div",{className:"extra-token",children:[Object(o.jsxs)("div",{className:"info",children:[Object(o.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(t.tokenImageUrl,")")}}),Object(o.jsx)("div",{className:"name",children:Object(o.jsxs)("span",{children:[t.symbol," (",t.network.toUpperCase(),")"]})})]}),n]},t.address)};t.a=function(e){var t=e.portfolio,n=e.account,d=e.network,u=e.userSorting,b=e.sortType,j=e.setIsHideTokenModalOpen,m=Object(s.f)(),p=m.hideModal,f=m.setOnClose,h=t.hiddenTokens,O=t.onAddHiddenToken,x=t.onRemoveHiddenToken,v=t.tokens,g=Object(i.useMemo)((function(){var e=v.concat(h).sort((function(e,t){var a,c,r;if("custom"===b&&(null===(a=u.tokens)||void 0===a||null===(c=a.items)||void 0===c||null===(r=c["".concat(n,"-").concat(d.chainId)])||void 0===r?void 0:r.length))return u.tokens.items["".concat(n,"-").concat(d.chainId)].indexOf(e.address)-u.tokens.items["".concat(n,"-").concat(d.chainId)].indexOf(t.address);var s=t.balanceUSD-e.balanceUSD;return 0===s?e.symbol.localeCompare(t.symbol):s}));return Object(a.a)(new Map(e.map((function(e){return[e.address,e]}))).values())}),[v,h,u,b,n,d.chainId]);return Object(i.useEffect)((function(){f({close:function(){return j(!1)}})}),[f,j]),Object(o.jsxs)(c.n,{id:"hide-token-modal",title:"Hide Token",children:[Object(o.jsx)("div",{className:"extra-tokens-list",children:g.map((function(e){return Object(o.jsx)(l,{token:e,button:e.isHidden?Object(o.jsx)(r.cb,{className:"extra-token-icon",color:"#f98689",onClick:function(){return function(e){return x(e.address)}(e)}}):Object(o.jsx)(r.Z,{className:"extra-token-icon",color:"#36c979",onClick:function(){return function(e){return O(e)}(e)}})},e.address)}))}),Object(o.jsx)("div",{className:"modalBottom",children:Object(o.jsx)(c.e,{clear:!0,icon:Object(o.jsx)(r.I,{}),onClick:function(){j(!1),p()},children:"Close"})})]})}},664:function(e,t,n){"use strict";var a=n(2),c=n.n(a),r=n(11),s=n(8),i=n(7),o=(n(800),n(3)),l=n(37),d=n(34),u=n(77),b=n(233),j=n(234),m=n(4);t.a=function(e){var t=e.title,n=e.inputs,a=e.selectedNetwork,p=e.onClose,f=Object(d.f)().hideModal,h=Object(o.useState)(!0),O=Object(i.a)(h,2),x=O[0],v=O[1],g=Object(o.useState)(""),k=Object(i.a)(g,2),w=k[0],y=k[1],N=Object(o.useState)(""),C=Object(i.a)(N,2),A=C[0],S=C[1],T=Object(o.useRef)(null),L=Object(o.useMemo)((function(){return n.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{ref:Object(o.createRef)()})}))}),[n]),R=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(t,null,a.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){T.current&&clearTimeout(T.current);var e=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.find((function(e){return"address"===e.inputType})),n=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(a=null,r=null,!t){e.next=15;break}return e.next=9,R(n);case 9:return a=e.sent,e.next=12,Object(j.b)(n);case 12:r=e.sent,T.current=null,a?y(a):r&&S(r);case 15:s=L.map((function(e){var t=e.ref,n=e.validate,c="address"===e.inputType,s=c&&a?a:c&&r?r:t.current.value;return n?n(s):!!s})).every((function(e){return!0===e})),v(!s);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();T.current=setTimeout(Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},I=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.e,{clear:!0,small:!0,icon:Object(m.jsx)(l.i,{}),onClick:f,children:"Cancel"}),Object(m.jsx)(u.e,{small:!0,icon:Object(m.jsx)(l.g,{}),disabled:x,onClick:function(){var e=L.map((function(e){return e.ref.current.value}));w?e.push({type:"ud"}):A?e.push({type:"ens"}):e.push({type:"pub"}),p&&p(e),f()},children:"Confirm"})]});return Object(m.jsx)(u.n,{id:"input-modal",title:t,buttons:I,children:L.map((function(e){var t=e.id,n=e.label,a=e.placeholder,c=e.ref,r=e.type;return Object(m.jsxs)("div",{children:[Object(m.jsx)(u.w,{label:n,placeholder:a,onInput:E,ref:c}),"address"===r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.y,{label:w?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(m.jsx)("span",{id:"udomains-logo",className:w?"ud-logo-active ":""})}),Object(m.jsx)(u.y,{label:A?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(m.jsx)("div",{id:"ens-logo",className:A?"ens-logo-active ":""})})]})]},t+n)}))})}},665:function(e,t,n){"use strict";var a=n(17),c=n(2),r=n.n(c),s=n(11),i=n(7),o=(n(803),n(3)),l=n(77),d=n(34),u=n(44),b=n(37),j=n(84),m=n(60),p=n(157),f=n(964),h=n(680),O=n(4);t.a=function(e){var t,n,c,x,v,g=e.dappsCatalog,k=e.dappUrl,w=void 0===k?"":k,y=Object(u.a)().addToast,N=Object(d.f)().hideModal,C=g.addCustomDapp,A=g.isDappInCatalog,S=Object(o.useState)(""),T=Object(i.a)(S,2),L=T[0],R=T[1],E=Object(o.useState)(""),I=Object(i.a)(E,2),P=I[0],_=I[1],M=Object(o.useState)(""),W=Object(i.a)(M,2),D=W[0],U=W[1],B=Object(o.useState)(null),F=Object(i.a)(B,2),V=F[0],H=F[1],q=Object(o.useState)(""),G=Object(i.a)(q,2),z=G[0],Y=G[1],K=Object(o.useState)(!1),J=Object(i.a)(K,2),X=J[0],$=J[1],Z=Object(o.useState)(null),Q=Object(i.a)(Z,2),ee=Q[0],te=Q[1],ne=Object(o.useState)(null),ae=Object(i.a)(ne,2),ce=ae[0],re=ae[1],se=Object(o.useState)(null),ie=Object(i.a)(se,2),oe=ie[0],le=ie[1],de=Object(o.useState)(null),ue=Object(i.a)(de,2),be=ue[0],je=ue[1],me=Object(o.useState)([]),pe=Object(i.a)(me,2),fe=pe[0],he=pe[1],Oe=Object(o.useState)({}),xe=Object(i.a)(Oe,2),ve=xe[0],ge=xe[1],ke=Object(o.useState)(!1),we=Object(i.a)(ke,2),ye=we[0],Ne=we[1],Ce=Object(o.useMemo)((function(){return!ve.success||ye||X}),[ve.success,ye,X]),Ae=Object(o.useCallback)(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(!0),C({id:Object(p.b)(L),name:L,url:P,description:D,iconUrl:oe?"":V,connectionType:z,networks:fe}),y("".concat(L," added to Ambire Wallet dApp catalog")),$(!1),N();case 5:case"end":return e.stop()}}),e)}))),[C,y,z,D,N,V,oe,L,fe,P]),Se=Object(o.useCallback)(Object(s.a)(r.a.mark((function e(){var t,n,a,c,s,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",n=Object(p.d)(t),_(n),R(""),U(""),H(""),Y(""),re(""),le(""),je(""),$(!0),Object(f.b)(n)){e.next=18;break}return te(n?"Invalid Url":null),$(!1),e.abrupt("return");case 18:te(null);case 19:return a=A(n),Ne(a),e.next=23,Object(p.c)(j.a,n);case 23:(c=e.sent)?(R(c.name),U(c.description),H(c.iconUrl),Y(c.connectionType),he(c.networks||[]),re(a?"".concat(n," is already in your wallet catalog"):""),je((null===c||void 0===c||null===(s=c.networks)||void 0===s?void 0:s.length)?"":"Supported networks not detected! Please select manually.")):re("Can't find dApp data \u2014 make sure it supports Gnosis Safe apps or WalletConnect"),$(!1);case 26:case"end":return e.stop()}}),e)}))),[A]),Te=Object(o.useCallback)((function(e){Y(e)}),[]),Le=Object(o.useMemo)((function(){return[{label:"Gnosis Safe App",value:"gnosis",disabled:!P||ee},{label:"WalletConnect",value:"walletconnect",disabled:!P||ee}]}),[P,ee]);Object(o.useEffect)((function(){w&&Se(w)}),[]);var Re=Object(o.useMemo)((function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.e,{clear:!0,icon:Object(O.jsx)(b.I,{}),onClick:function(){return N()},children:"Close"}),Object(O.jsx)(l.e,{icon:Object(O.jsx)(b.C,{}),disabled:Ce,onClick:Ae,children:"Add"})]})}),[Ae,Ce,N]);return Object(o.useEffect)((function(){ge(P?Object(f.a)({id:Object(p.b)(L||""),name:L,url:P,description:D,iconUrl:oe?"":V,connectionType:z,networks:fe}):{})}),[z,D,V,oe,L,fe,P]),Object(O.jsxs)(l.n,{id:"add-custom-dapp-modal",title:Object(O.jsxs)("div",{className:"custom-dapp-title",children:[Object(O.jsx)(l.y,{label:"Click here to see how create dApp for Ambire Wallet catalog",children:Object(O.jsx)("a",{className:"info-btn",href:"https://github.com/AmbireTech/wallet-dapp-catalog#readme",target:"_blank",rel:"noreferrer noopener",children:Object(O.jsx)(b.d,{size:32})})}),Object(O.jsx)("div",{children:"Add custom dApp"})]}),buttons:Re,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(l.w,{value:P,label:"URL",onInput:function(e){return Se(e)},className:"dapp-input",placeholder:"https://some.dapp.com"}),Object(O.jsx)("div",{className:"input-err",children:ee||(null===ve||void 0===ve||null===(t=ve.errors)||void 0===t?void 0:t.url)||ce})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(l.w,{small:!0,label:"Name",value:L,onInput:function(e){return R(e)},className:"dapp-input"}),Object(O.jsx)("div",{className:"input-err",children:null===ve||void 0===ve||null===(n=ve.errors)||void 0===n?void 0:n.name})]}),Object(O.jsx)("div",{children:Object(O.jsx)(l.w,{small:!0,label:"Description",value:D,onInput:function(e){return U(e)},className:"dapp-input"})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"icon-input",children:[Object(O.jsx)(l.w,{small:!0,label:"Icon URL",value:V,onInput:function(e){H(e),le("")},className:"dapp-input"}),Object(O.jsx)("div",{className:"icon-wrapper",children:V&&!oe?Object(O.jsx)("img",{width:46,height:46,src:V||h.a,alt:(L||"no")+" logo",onError:function(){le("Invalid icon URL, please update it or default dApp icon will be displayed")}}):oe?Object(O.jsx)(b.q,{size:40}):Object(O.jsx)(b.t,{size:40})})]}),Object(O.jsx)("div",{className:"input-err",children:(null===ve||void 0===ve||null===(c=ve.errors)||void 0===c?void 0:c.iconUrl)||oe})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"connection-radios",children:[Object(O.jsx)("div",{children:"Connection Type"}),Object(O.jsx)(l.r,{radios:Le,value:z,onChange:Te,row:!0})]}),Object(O.jsx)("div",{className:"input-err",children:null===ve||void 0===ve||null===(x=ve.errors)||void 0===x?void 0:x.connectionType})]}),Object(O.jsxs)("div",{className:"networks",children:[Object(O.jsxs)("div",{children:["Supported networks (",fe.length," selected)"]}),Object(O.jsx)("div",{className:"networks-container",children:m.a.map((function(e){return Object(O.jsx)(l.y,{label:e.name,children:Object(O.jsx)("span",{className:"network-tag".concat(fe.includes(e.id)?" selected":""),style:{backgroundImage:"url(".concat(e.icon,")")},onClick:function(){return t=e.id,void he((function(e){var n=e.indexOf(t),c=Object(a.a)(e);return n>=0?c.splice(n,1):c.push(t),c}));var t}})},e.id)}))}),Object(O.jsx)("div",{className:"input-err",children:be||(null===ve||void 0===ve||null===(v=ve.errors)||void 0===v?void 0:v.networks)})]})]})}},666:function(e,t,n){"use strict";n(804);var a=n(77),c=n(37),r=n(34),s=n(596),i=n(604),o=n(4);t.a=function(e){var t=e.data,n=Object(r.f)().hideModal,l=Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(a.e,{clear:!0,icon:Object(o.jsx)(c.I,{}),onClick:function(){return n()},children:"Close"})});return Object(o.jsx)(a.n,{id:"gas-tank-balance-by-tokens-modal",title:"GAS TANK BALANCE BY TOKENS",buttons:l,children:Object(o.jsxs)("div",{className:"content",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"logo",children:" "}),Object(o.jsx)("div",{className:"item",children:Object(o.jsx)("span",{children:"Token"})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsx)("span",{children:"Amount"})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsx)("span",{children:"Balance"})})]}),t&&t.sort((function(e,t){return t.balance-e.balance})).map((function(e,t){return Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("img",{width:"25px",height:"25px",alt:"logo",src:e.icon||Object(s.a)(e.network,e.address)})}),Object(o.jsx)("div",{className:"item",children:Object(o.jsx)("span",{children:e.symbol.toUpperCase()})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsx)("span",{children:Object(i.a)(e.balance,!0,6)})}),Object(o.jsx)("div",{className:"balance",children:Object(o.jsxs)("span",{children:["$ ",Object(i.a)(e.balanceInUSD,!0,6)]})})]},t)}))]})})}},668:function(e,t,n){"use strict";var a=n(7),c=(n(785),n(77)),r=n(37),s=n(34),i=n(965),o=n(8),l=n(3),d=n(923),u=n(4),b=function(e){var t=e.rewards,n=Object(l.useMemo)((function(){return d.a.map((function(e){var n=t.multipliers&&t.multipliers.map((function(e){return e.name})).includes(e.id);return Object(o.a)(Object(o.a)({},e),{},{active:n})}))}),[t]);return Object(u.jsx)("div",{className:"badges",children:n.map((function(e){var t=e.id,n=e.name,a=e.icon,r=e.color,s=e.multiplier,i=e.link,o=e.active;return Object(u.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:Object(u.jsx)(c.y,{label:"You ".concat(o?"are receiving":"do not have"," the ").concat(n," x").concat(s," multiplier"),children:Object(u.jsxs)("div",{className:"badge ".concat(o?"active":""),style:{backgroundColor:r,borderColor:r},children:[Object(u.jsx)("div",{className:"icon",children:a}),Object(u.jsxs)("div",{className:"multiplier",children:["x ",s]})]})})},t)}))})},j=n(731);t.a=function(e){var t=e.accountId,n=e.claimableWalletToken,o=e.rewards,d=Object(l.useState)(!1),m=Object(a.a)(d,2),p=m[0],f=m[1],h=Object(s.f)().hideModal,O=Object(i.a)({accountId:t}).stakedAmount,x=n.vestingEntry,v=n.currentClaimStatus,g=n.claimableNow,k=n.disabledReason,w=n.claimDisabledReason,y=n.claimEarlyRewards,N=n.claimVesting,C=n.claimableNowUsd,A=n.mintableVestingUsd,S=n.shouldDisplayMintableVesting,T=o.walletTokenAPYPercentage,L=o.adxTokenAPYPercentage,R=o.xWALLETAPYPercentage,E=Object(u.jsx)(c.e,{clear:!0,icon:Object(u.jsx)(r.I,{}),onClick:function(){return h()},children:"Close"});return Object(u.jsxs)(c.n,{id:"wallet-token-modal",title:"WALLET token distribution",buttons:E,children:[Object(u.jsx)(j.a,{isVisible:p,hideModal:function(){return f(!1)},text:"This procedure will claim only 50% of your outstanding  rewards as $WALLET, and permanently burn the rest.  Are you sure?",onClick:function(){return y(!1)}}),Object(u.jsxs)("div",{className:"item",children:[Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("label",{children:"Early users Incentive: Total"}),Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("div",{className:"amount",children:Object(u.jsx)("span",{className:"primary-accent",children:o["balance-rewards"]})}),Object(u.jsxs)("div",{className:"amount apy",children:[T," ",Object(u.jsx)("span",{children:"APY"})]})]})]}),Object(u.jsx)("div",{className:"actions"})]}),Object(u.jsxs)("div",{className:"item",children:[Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("label",{children:"ADX Staking Bonus: Total"}),Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("div",{className:"amount",children:Object(u.jsx)("span",{className:"primary-accent",children:o["adx-rewards"]})}),Object(u.jsxs)("div",{className:"amount apy",children:[L," ",Object(u.jsx)("span",{children:"APY"})]})]})]}),Object(u.jsx)("div",{className:"actions"})]}),Object(u.jsxs)("div",{className:"item",children:[Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("label",{children:"Claimable now: early users + ADX Staking bonus"}),Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("div",{className:"amount",children:Object(u.jsx)("span",{className:"primary-accent",children:v.loading?"...":g})}),Object(u.jsxs)("div",{className:"amount usd",children:[Object(u.jsx)("span",{className:"secondary-accent",children:"$"}),C]})]})]}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)(c.y,{label:w||k||"This procedure will claim 50% of your outstanding rewards as $WALLET, and permanently burn the other 50%",children:Object(u.jsx)(c.e,{className:"claim-rewards-with-burn",small:!0,clear:!0,onClick:function(){return f(!0)},disabled:!(!w&&!k),children:"Claim with burn"})}),Object(u.jsx)(c.y,{label:w||k||"Claim all of your outstanding rewards as staked $WALLET (xWALLET)",children:Object(u.jsx)(c.e,{className:"claim-rewards-x-wallet",small:!0,clear:!0,onClick:y,disabled:!(!w&&!k),children:"CLAIM IN xWALLET"})})]})]}),S&&Object(u.jsxs)("div",{className:"item",children:[Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("label",{children:"Claimable early supporters vesting"}),Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("div",{className:"amount",children:Object(u.jsx)("span",{className:"primary-accent",children:v.mintableVesting})}),Object(u.jsxs)("div",{className:"amount usd",children:[Object(u.jsx)("span",{className:"secondary-accent",children:"$"}),A]})]})]}),Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(c.y,{label:k||"Linearly vested over approximately ".concat(Math.ceil((x.end-x.start)/86400)," days"),children:Object(u.jsx)(c.e,{small:!0,clear:!0,onClick:N,disabled:!!k,children:"CLAIM"})})})]}),!!O&&Object(u.jsx)("div",{className:"item",children:Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("label",{children:"Staked WALLET"}),Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("div",{className:"amount",children:Object(u.jsx)("span",{className:"primary-accent",children:O})}),Object(u.jsxs)("div",{className:"amount apy",children:[R," ",Object(u.jsx)("span",{children:"APY"})]})]})]})}),Object(u.jsx)(b,{rewards:o}),Object(u.jsxs)("div",{id:"info",children:["You are receiving $WALLETs for holding funds on your Ambire wallet as an early user. ",Object(u.jsx)("a",{href:"https://blog.ambire.com/announcing-the-wallet-token-a137aeda9747",target:"_blank",rel:"noreferrer",children:"Read More"})]})]})}},669:function(e,t,n){"use strict";n(798);var a=n(37),c=n(34),r=n(77),s=n(17),i=n(2),o=n.n(i),l=n(8),d=n(11),u=n(7),b=n(87),j=n(26),m=n(95),p=n(65),f=n(3),h=n(154),O=j.a.from(0),x="0x0000000000000000000000000000000000000000",v=1e12,g="1000000000000000000",k="enter",w="leave",y="withdraw",N="rageLeave",C="shareTokensTransferIn",A="shareTokensTransferOut",S=Object(b.a)("ethereum"),T=function(e){var t=e.accountId,n=e.addresses,a=e.tokenLabel,c=Object(h.a)().getAdexToStakingTransfersLogs,r=n.stakingTokenAddress,i=Object(f.useState)({}),b=Object(u.a)(i,2),j=b[0],T=b[1],L=Object(f.useState)(!0),R=Object(u.a)(L,2),E=R[0],I=R[1],P=Object(f.useCallback)(function(){var e=Object(d.a)(o.a.mark((function e(n,a){var i,b,j,f,h,T,L,R,E,I,P,_,M,W,D,U,B,F,V,H,q,G,z,Y,K,J,X,$,Z,Q,ee,te,ne,ae,ce,re,se,ie,oe,le,de,ue,be,je,me,pe,fe,he,Oe,xe,ve,ge,ke,we,ye,Ne,Ce,Ae,Se,Te,Le,Re,Ee,Ie,Pe,_e,Me,We,De,Ue,Be,Fe,Ve,He,qe,Ge,ze,Ye,Ke;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new m.Contract(n.stakingTokenAddress,n.stakingPoolAbi,S),b=new m.Contract(n.tokenAddress,n.tokenAbi,S),0,j="ADX"===a?15093730:0,e.next=6,Promise.all([i.shareValue(),i.totalSupply(),i.balanceOf(t),i.lockedShares(t),S.getLogs(Object(l.a)({fromBlock:j},b.filters.Transfer(null,r,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.LogLeave(t,null,null,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.LogWithdraw(t,null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.LogRageLeave(t,null,null,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.Transfer(null,t,null))),S.getLogs(Object(l.a)({fromBlock:0},i.filters.Transfer(t,null,null)))]);case 6:return f=e.sent,h=Object(u.a)(f,10),T=h[0],L=h[1],R=h[2],E=h[3],I=h[4],P=h[5],_=h[6],M=h[7],W=h[8],D=h[9],U=L.isZero()?O:R.mul(v).div(L).toNumber()/v,e.next=21,c();case 21:return B=e.sent,F=("ADX"===a&&B?B.result:[]).concat(I).reduce((function(e,t){return e[t.transactionHash]=t,e}),{}),V=W.map((function(e){var t=i.interface.parseLog(e).args,n=t.from,a=t.amount;return{transactionHash:e.transactionHash,blockNumber:e.blockNumber,shares:a,type:n===x?k:C,from:n}})),H=D.map((function(e){var t=i.interface.parseLog(e).args,n=t.to,a=t.amount;return{transactionHash:e.transactionHash,blockNumber:e.blockNumber,shares:a,type:A,to:n}})).filter((function(e){return e.to!==x})),q=V.reduce((function(e,t){return t.type===k&&(e.shareTokensEnterMintByHash[t.transactionHash]=t),t.type===C&&(e.shareTokensTransfersInByTxHash[t.transactionHash]=t),e}),{shareTokensEnterMintByHash:{},shareTokensTransfersInByTxHash:{}}),G=q.shareTokensEnterMintByHash,z=q.shareTokensTransfersInByTxHash,Y=Object.values(z),K=Object.values(G).map((function(e){var t=F[e.transactionHash];if(t){var n=b.interface.parseLog(t);return{transactionHash:e.transactionHash,type:k,shares:e.shares,walletAmount:"ADX"===a?n.args.value:n.args.amount,from:n.args.from,blockNumber:e.blockNumber}}return null})).filter((function(e){return!!e})),J=_.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,a=t.unlocksAt,c=t.maxTokens,r=t.receivedTokens;return{transactionHash:e.transactionHash,type:y,shares:n,unlocksAt:a,maxTokens:c,receivedTokens:r,blockNumber:e.blockNumber}})),X=M.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,a=t.maxTokens,c=t.receivedTokens;return{transactionHash:e.transactionHash,type:N,shares:n,maxTokens:a,receivedTokens:c,walletAmount:c,blockNumber:e.blockNumber}})),$=new Date/1e3,e.next=33,Promise.all(P.map(function(){var e=Object(d.a)(o.a.mark((function e(n){var a,c,r,s,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.interface.parseLog(n),c=a.args,r=c.shares,s=c.unlocksAt,l=c.maxTokens,d=J.find((function(e){return e.unlocksAt.toString()===s.toString()&&e.shares.toString()===r.toString()&&e.maxTokens.toString()===l.toString()})),!L.isZero()){e.next=7;break}e.t0=O,e.next=10;break;case 7:return e.next=9,i.unbondingCommitmentWorth(t,r,s);case 9:e.t0=e.sent;case 10:return u=e.t0,e.abrupt("return",{transactionHash:n.transactionHash,type:w,shares:r,unlocksAt:s,maxTokens:l,walletValue:u,canWithdraw:s<$&&!d,blockNumber:n.blockNumber,withdrawTx:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 33:if(Z=e.sent,Q=Object(s.a)(Z).filter((function(e){return e.unlocksAt>$})),ee=Object(s.a)(Z).filter((function(e){return e.unlocksAt<$&&!e.withdrawTx})),te=Q.reduce((function(e,t){return e.add(t.maxTokens)}),O),ne=Q.reduce((function(e,t){return e.add(t.walletValue)}),O),ae=ee.reduce((function(e,t){return e.add(t.maxTokens)}),O),ce=ee.reduce((function(e,t){return e.add(t.walletValue)}),O),re=null,ee.length?re=ee[0]:Q.length&&(re=Q[0]),se=P.sort((function(e,t){return t.blockNumber-e.blockNumber})),ie=Object(u.a)(se,1),oe=ie[0],!re||!oe){e.next=53;break}return de=re.unlocksAt,e.next=47,S.getBlock(oe.blockNumber);case 47:ue=e.sent,be=ue.timestamp,(le=de.toString()-(Date.now()-1e3*be))<=0&&(le=0),e.next=54;break;case 53:le=null;case 54:if(!H.length&&!Y.length){e.next=72;break}return je=Math.min(H[0]?H[0].blockNumber:Number.MAX_SAFE_INTEGER,Y[0]?Y[0].blockNumber:Number.MAX_SAFE_INTEGER),e.next=58,Promise.all([S.getLogs(Object(l.a)({fromBlock:je},i.filters.LogLeave(null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:je},i.filters.LogWithdraw(null,null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:je},i.filters.LogRageLeave(null,null,null,null))),S.getLogs(Object(l.a)({fromBlock:je},i.filters.Transfer(x,null,null)))]);case 58:me=e.sent,pe=Object(u.a)(me,4),fe=pe[0],he=pe[1],Oe=pe[2],xe=pe[3],ve=xe.map((function(e){var t=F[e.transactionHash];if(t){var n=b.interface.parseLog(t),c="ADX"===a?n.args.value:n.args.amount,r=i.interface.parseLog(e).args.amount;return{blockNumber:e.blockNumber,shareValue:r.isZero()?O:c.mul(g).div(r)}}return null})).filter((function(e){return!!e})),ge=he.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,a=t.maxTokens;return{blockNumber:e.blockNumber,shareValue:a.mul(g).div(n)}})),ke=Oe.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares;return{shareValue:t.maxTokens.mul(g).div(n),blockNumber:e.blockNumber}})),we=fe.map((function(e){var t=i.interface.parseLog(e).args,n=t.shares,a=t.maxTokens;return{blockNumber:e.blockNumber,shareValue:a.mul(g).div(n)}})),ye=ve.concat(ge).concat(we).concat(ke).sort((function(e,t){return e.blockNumber-t.blockNumber})),(Ne=function(e){return e.forEach((function(t,n){var a=(ye.find((function(e){return e.blockNumber>=t.blockNumber}))||{}).shareValue||T;e[n].shareValue=a,e[n].walletAmount=t.shares.mul(a).div(g)}))})(H),Ne(Y);case 72:return Ce=H.reduce((function(e,t){return e.add(t.shares)}),O),Ae=H.reduce((function(e,t){return e.add(t.walletAmount)}),O),Se=Y.reduce((function(e,t){return e.add(t.shares)}),O),Te=Y.reduce((function(e,t){return e.add(t.walletAmount)}),O),Le=K.reduce((function(e,t){return e.add(t.walletAmount)}),O),Re=X.reduce((function(e,t){return e.add(t.maxTokens)}),O),Ee=X.reduce((function(e,t){return e.add(t.receivedTokens)}),O),Ie=J.reduce((function(e,t){return e.add(t.receivedTokens)}),O),(Pe=Object(s.a)(Z).filter((function(e){return!e.withdrawTx})).reduce((function(e,t){return e.add(t.shares)}),O)).eq(E)||console.error("locked shares different than check sum, user balance can be incorrect","lockedShares:",E.toString(),"totalLockedSharesCheck:",Pe.toString()),_e=R.sub(E).lt(O)?O:R.sub(E),Me=_e.mul(T).div(g),We=R.mul(T).div(g),De=R.mul(T).div(g),Ue=R.lt(E),Be=Ue?E.sub(R):O,Fe=Me,Ve=Le.add(Te),He=Ie.add(Ae).add(Re),qe=We.add(He).sub(Ve),Ge=!!Object(s.a)(Z).filter((function(e){return!e.withdrawTx})).length,ze=K.concat(Z).concat(J).concat(X).concat(Y).concat(H).sort((function(e,t){return e.blockNumber-t.blockNumber})),e.next=96,Promise.all(ze.map(function(){var e=Object(d.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getBlock(t.blockNumber);case 2:return n=e.sent,a=n.timestamp,e.abrupt("return",Object(l.a)(Object(l.a)({},t),{},{timestamp:1e3*a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 96:return Ye=e.sent,Ke={balanceShares:R,balanceSharesAvailable:_e,currentBalanceWallet:We,currentBalanceWalletAvailable:Me,currentBalanceWalletAtCurrentShareValue:Fe,currentBalanceSharesWalletValue:De,hasInsufficentBalanceForUnbondCommitments:Ue,insufficientSharesAmoutForCurrentUnbonds:Be,totalRewards:qe,totalSharesOutTransfersWalletValue:Ae,totalSharesInTransfersWalletValue:Te,stakings:Ye,userLeaves:Z,depositsWalletTotal:Le,withdrawsWalletTotal:Ie,leavesPendingToUnlockTotalMax:te,leavesReadyToWithdrawTotalMax:ae,leavesPendingToUnlockTotalWallet:ne,leavesReadyToWithdrawTotalWallet:ce,hasActiveUnbondCommitments:Ge,loaded:!0,userDataLoaded:!0,userShare:U,remainingTime:le,totalSharesOutTransfers:Ce,totalSharesInTransfers:Se,rageLeavesReceivedWalletTotal:Ee,rageLeavesWithdrawnWalletTotal:Re,totalInTokenValue:Ve,totalOutTokenValue:He},e.abrupt("return",{currentBalanceWalletAtCurrentShareValue:p.utils.formatUnits(Ke.currentBalanceWalletAtCurrentShareValue.toString(),18),balance:p.utils.formatUnits(Ke.currentBalanceWallet.toString(),18),poolShare:Ke.userShare,allTimeRewards:p.utils.formatUnits(Ke.totalRewards.toString(),18),totalDeposit:p.utils.formatUnits(Ke.depositsWalletTotal.toString(),18),totalWithdraws:p.utils.formatUnits(Ke.withdrawsWalletTotal.toString(),18),pendingToUnlock:p.utils.formatUnits(Ke.leavesPendingToUnlockTotalWallet.toString(),18),readyToWithdraw:p.utils.formatUnits(Ke.leavesReadyToWithdrawTotalWallet.toString(),18),totalInTokenValue:p.utils.formatUnits(Ke.totalInTokenValue.toString(),18),totalOutTokenValue:p.utils.formatUnits(Ke.totalOutTokenValue.toString(),18),rageLeavesReceivedWalletTotal:p.utils.formatUnits(Ke.rageLeavesReceivedWalletTotal.toString(),18),rageLeavesWithdrawnWalletTotal:p.utils.formatUnits(Ke.rageLeavesWithdrawnWalletTotal.toString(),18),totalSharesInTransfersWalletValue:p.utils.formatUnits(Ke.totalSharesInTransfersWalletValue.toString(),18),totalSharesOutTransfersWalletValue:p.utils.formatUnits(Ke.totalSharesOutTransfersWalletValue.toString(),18),remainingTime:Ke.remainingTime});case 99:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r,t,c]);return Object(f.useEffect)((function(){var e=function(){var e=Object(d.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,P(t,n);case 4:a=e.sent,T(a),I(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),I(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}();t&&e(n,a)}),[t,n,P,T,I,a]),{details:j,isLoading:E}||{}},L=n(4);t.a=function(e){var t=e.title,n=void 0===t?"Details":t,s=e.apy,i=e.accountId,o=e.msToDaysHours,l=e.addresses,d=e.tokenLabel,u=Object(c.f)().hideModal,b=T({accountId:i,addresses:l,tokenLabel:d}),j=b.details,m=b.isLoading,p=j.poolShare,f=j.allTimeRewards,h=j.totalDeposit,O=j.totalWithdraws,x=j.pendingToUnlock,v=j.readyToWithdraw,g=j.totalOutTokenValue,k=j.totalInTokenValue,w=j.rageLeavesReceivedWalletTotal,y=j.rageLeavesWithdrawnWalletTotal,N=j.totalSharesInTransfersWalletValue,C=j.totalSharesOutTransfersWalletValue,A=j.remainingTime,S=j.currentBalanceWalletAtCurrentShareValue,R=Object(L.jsx)(r.e,{clear:!0,small:!0,icon:Object(L.jsx)(a.i,{}),onClick:u,children:"Close"});return Object(L.jsx)(r.n,{id:"wallet-more-details-modal",title:n,buttons:R,children:m?Object(L.jsx)("div",{className:"loading-wrapper",children:Object(L.jsx)(r.m,{})}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"wrapper",children:[Object(L.jsx)("div",{children:"Annual Percentage Yield (APY)"}),Object(L.jsx)("div",{children:s})]}),Object(L.jsxs)("div",{className:"wrapper odd-rows-bg",children:[Object(L.jsx)("div",{children:"Current Available Balance"}),Object(L.jsx)("div",{children:Object(L.jsxs)(r.y,{label:"* Warning: The pool share value may include your pending to unlock tokens.",children:[parseFloat(S).toFixed(4)," ",d," (Pool share*: ",(100*p).toFixed(2),"%)"]})})]}),Object(L.jsxs)("div",{className:"wrapper",children:[Object(L.jsx)("div",{children:"All time rewards"}),Object(L.jsxs)("div",{children:[parseFloat(f).toFixed(4)," ",d]})]}),Object(L.jsx)("div",{className:"wrapper odd-rows-bg",children:Object(L.jsxs)(r.y,{label:"Deposits: ".concat(parseFloat(h).toFixed(4)," ").concat(d," \n                                    \nTransfers in: ").concat(parseFloat(N).toFixed(4)," ").concat(d),children:[Object(L.jsx)("div",{children:"Total deposit"}),Object(L.jsxs)("div",{children:[parseFloat(k).toFixed(4)," ",d]})]})}),Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)(r.y,{label:"Withdrawals: ".concat(parseFloat(O).toFixed(4)," ").concat(d,"\n                                \nTransfers out: ").concat(parseFloat(C).toFixed(4)," ").concat(d," \n                                \nRage leaves: \n                                \nReceived ").concat(parseFloat(w).toFixed(4)," ").concat(d," \n                                \nWithdrawn ").concat(parseFloat(y).toFixed(4)," ").concat(d),children:[Object(L.jsx)("div",{children:"Total withdraws"}),Object(L.jsxs)("div",{children:[parseFloat(g).toFixed(4)," ",d]})]})}),Object(L.jsxs)("div",{className:"wrapper odd-rows-bg",children:[Object(L.jsx)("div",{children:"Total pending to unlock"}),Object(L.jsx)("div",{children:A>0?"".concat(o(A)," until ").concat(parseFloat(x).toFixed(4)," ").concat(d," becomes available for withdraw."):"No pending unlocks"})]}),Object(L.jsxs)("div",{className:"wrapper",children:[Object(L.jsx)("div",{children:"Ready to withdraw"}),Object(L.jsx)("div",{children:parseFloat(v)>0?"".concat(parseFloat(v).toFixed(4)," ").concat(d):"No amount for withdrawing"})]})]})})}},670:function(e,t,n){"use strict";var a=n(7),c=(n(805),n(77)),r=n(3),s=n(37),i=n(84),o=n(44),l=[{label:"EUR",value:"EUR",icon:"https://changenow.io/images/sprite/currencies/eur.svg"},{label:"GBP",value:"GBP",icon:"https://changenow.io/images/sprite/currencies/gbp.svg"},{label:"USD",value:"USD",icon:"https://changenow.io/images/sprite/currencies/usd.svg"}],d={ethereum:"ETH","binance-smart-chain":"BSC",polygon:"MATIC",fantom:"FTM",avalanche:"AVAX"},u={ethereum:"ETH","binance-smart-chain":"BNB",polygon:"MATIC",fantom:"FTM",avalanche:"AVAX"},b="0x"+"0".repeat(40),j=function(e){var t=e.relayerURL,n=e.selectedNetwork,c=e.initMode,s=e.tokens,j=e.walletAddress,m="".concat(t,"/guardarian/currencies/fiat"),p="".concat(t,"/guardarian/currencies/crypto"),f=l,h=Object(o.a)().addToast,O=Object(r.useState)(n),x=Object(a.a)(O,2),v=x[0],g=x[1],k=Object(r.useState)(""),w=Object(a.a)(k,2),y=w[0],N=w[1],C=Object(r.useState)(""),A=Object(a.a)(C,2),S=A[0],T=A[1],L=Object(r.useState)(c),R=Object(a.a)(L,2),E=R[0],I=R[1],P=Object(r.useState)("50"),_=Object(a.a)(P,2),M=_[0],W=_[1],D=Object(r.useState)({data:[]}),U=Object(a.a)(D,2),B=U[0],F=U[1],V=Object(r.useState)({data:[]}),H=Object(a.a)(V,2),q=H[0],G=H[1],z=Object(r.useState)(null),Y=Object(a.a)(z,2),K=Y[0],J=Y[1],X=Object(r.useState)({data:null,isLoading:!1}),$=Object(a.a)(X,2),Z=$[0],Q=$[1],ee=Object(r.useMemo)((function(){var e,t;return"buy"===E?{data:(null===B||void 0===B||null===(e=B.data)||void 0===e?void 0:e.filter((function(e){return e.networks.find((function(e){return e.network===d[v]&&e.payment_methods.some((function(e){return e.withdrawal_enabled}))}))})).map((function(e){return{label:e.ticker,value:e.ticker,icon:e.logo_url}})).filter((function(e){return e.value})))||[],isLoading:null===B||void 0===B?void 0:B.isLoading}:"sell"===E?{data:(null===B||void 0===B||null===(t=B.data)||void 0===t?void 0:t.filter((function(e){return e.networks.find((function(e){return e.network===d[v]&&e.payment_methods.some((function(e){return e.deposit_enabled}))&&s.find((function(t){var n,a;return(null===t||void 0===t||null===(n=t.address)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e||null===(a=e.token_contract)||void 0===a?void 0:a.toLowerCase())||(null===t||void 0===t?void 0:t.address)===b&&null===(null===e||void 0===e?void 0:e.token_contract)}))}))})).map((function(e){return{label:e.ticker,value:e.ticker,icon:e.logo_url}})).filter((function(e){return e.value})))||[],isLoading:B.isLoading}:void 0}),[E,B,v,s]),te=Object(r.useMemo)((function(){var e;return"buy"===E?{data:(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.map((function(e){var t;return{label:e.ticker,value:e.ticker,icon:e.logo_url||"https://changenow.io/images/sprite/currencies/".concat(null===e||void 0===e||null===(t=e.ticker)||void 0===t?void 0:t.toLowerCase(),".svg")}})))||[],isLoading:null===q||void 0===q?void 0:q.isLoading}:"sell"===E?{data:f,isLoading:!1}:void 0}),[E,q,f]);Object(r.useEffect)((function(){"buy"===E?(W("50"),N(te.data&&te.data[0]?te.data[0].value:null),T(u[v])):"sell"===E&&(W(""),N(ee.data&&ee.data[0]?ee.data[0].value:null),T(te.data&&te.data[0]?te.data[0].value:null))}),[E,te,ee,v]),Object(r.useEffect)((function(){G({data:null,isLoading:!0}),Object(i.c)(m).then((function(e){return G({data:e,isLoading:!1,error:{},message:""})})).catch((function(e){G({data:null,isLoading:!1,error:e,message:"Error while fetching fiat list"}),h("Error while fetching fiat list",{error:!0})}))}),[m,h]),Object(r.useEffect)((function(){F({data:null,isLoading:!0}),Object(i.c)(p).then((function(e){F({data:e,isLoading:!1,error:{},message:""})})).catch((function(e){F({data:null,isLoading:!1,error:e,message:"Error while fetching crypto list"}),h("Error while fetching crypto list",{error:!0})}))}),[v,p,h]);var ne=Object(r.useCallback)((function(){var e="buy"===E?"".concat(y,"_").concat(S,"-").concat(d[v]):"sell"===E?"".concat(y,"-").concat(d[v],"_").concat(S):null;return e?"".concat(t,"/guardarian/market-info/").concat(e):null}),[E,y,S,v,t]);Object(r.useEffect)((function(){if(!v||!y||!S||!E)return J({data:null,isLoading:!1});J({data:null,isLoading:!0});var e=ne(),t=!1;return Object(i.c)(e).then((function(e){var n=e.data;return!t&&J({data:n,isLoading:!1})})).catch((function(e){return!t&&(J({data:null,isLoading:!1,error:e,message:"Error while fetching market info"}),h("Error while fetching market info",{error:!0}))})),function(){t=!0}}),[v,E,y,S,h,ne]);var ae=Object(r.useCallback)((function(){return"buy"===E?"".concat(t,"/guardarian/estimate/").concat(y,"/").concat(v,"/").concat(M,"/").concat(S,"/","true"):"".concat(t,"/guardarian/estimate/").concat(y,"/").concat(v,"/").concat(M,"/").concat(S,"/","false")}),[E,t,y,v,M,S]);return Object(r.useEffect)((function(){if(!v||!y||!S||!E||!M)return Q({data:null,isLoading:!1});Q({data:null,isLoading:!0});var e=ae(),t=!1;return Object(i.c)(e).then((function(e){var n=e.data;return!t&&Q({data:n,isLoading:!1})})).catch((function(e){return!t&&(Q({data:null,isLoading:!1,error:e,message:"Error while fetching estimate info"}),h("Error while fetching estimate info",{error:!0}))})),function(){t=!0}}),[v,E,y,S,M,h,ae]),{marketInfo:K,estimateInfo:Z,cryptoList:ee,fiatList:te,network:v,from:y,to:S,mode:E,amount:M,cryptoCurrencies:B,setNetwork:g,setFrom:N,setTo:T,setMode:I,setAmount:W,genTxnUrl:function(){return"buy"===E?"".concat(t,"/guardarian/transaction/").concat(y,"/null/").concat(M,"/").concat(S,"/").concat(n,"/").concat(j):"".concat(t,"/guardarian/transaction/").concat(y,"/").concat(n,"/").concat(M,"/").concat(S,"/null/null")},NETWORK_MAPPING:d,NATIVE_ADDRESS:b,DEFAULT_CRYPTO:u}},m=n(34),p=n(726),f=n(190),h=n.n(f),O=n(4);t.a=function(e){var t,n,l,d,u,b,f,x,v,g,k,w,y,N,C,A,S,T,L,R=e.relayerURL,E=e.walletAddress,I=e.selectedNetwork,P=e.portfolio,_=Object(m.f)().hideModal,M=Object(o.a)().addToast,W=j({relayerURL:R,selectedNetwork:I,initMode:"buy",tokens:P.tokens,walletAddress:E,addToast:M}),D=Object(r.useState)(!1),U=Object(a.a)(D,2),B=U[0],F=U[1],V=Object(r.useCallback)((function(){var e;if(P.tokens&&(null===W||void 0===W||null===(e=W.cryptoCurrencies)||void 0===e?void 0:e.data)&&"sell"===W.mode){var t,n,a,c=null===W||void 0===W||null===(t=W.cryptoCurrencies)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.find((function(e){return e.ticker===W.from}));return null===P||void 0===P||null===(a=P.tokens)||void 0===a?void 0:a.find((function(e){var t;return null===c||void 0===c||null===(t=c.networks)||void 0===t?void 0:t.find((function(t){var n,a;return(null===t||void 0===t||null===(n=t.token_contract)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e||null===(a=e.address)||void 0===a?void 0:a.toLowerCase())||(null===t||void 0===t?void 0:t.network)===W.NETWORK_MAPPING[W.network]&&(null===e||void 0===e?void 0:e.address.toLowerCase())===W.NATIVE_ADDRESS&&null===(null===t||void 0===t?void 0:t.token_contract)}))}))}return{}}),[W,P.tokens]),H=Object(r.useMemo)((function(){var e,t,n,a=null===W||void 0===W||null===(e=W.marketInfo)||void 0===e?void 0:e.data;if((null===W||void 0===W||null===(t=W.marketInfo)||void 0===t?void 0:t.error)||(null===W||void 0===W||null===(n=W.estimateInfo)||void 0===n?void 0:n.error))return"Sorry! We couldn't estimate your order! Please try again later!";if(!a)return"";var c=parseFloat(W.amount),r=parseFloat(a.min),s=parseFloat(a.max);if("buy"===W.mode){if(c<r)return"Minimum amount is ".concat(a.min," ").concat(a.from);if(c>s)return"Maximum amount is ".concat(a.max," ").concat(a.from)}else if("sell"===W.mode){var i=V();if(c<r)return"Minimum amount is ".concat(a.min," ").concat(a.from);if(c>s)return"Maximum amount is ".concat(a.max," ").concat(a.from);if(i&&(null===W||void 0===W?void 0:W.from)&&c>i.balance)return"You do not have enough funds"}return""}),[W,V]),q=function(){W.setMode((function(e){return"buy"===e?"sell":"buy"})),W.setAmount(""),W.setFrom(""),W.setTo("buy"===W.mode?W.DEFAULT_CRYPTO[W.NETWORK_MAPPING[W.network]]:"")};var G=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(c.e,{clear:!0,icon:Object(O.jsx)(s.I,{}),onClick:function(){return _()},children:"Close"}),Object(O.jsx)(c.e,{disabled:""!==H||(null===W||void 0===W||null===(t=W.marketInfo)||void 0===t?void 0:t.isLoading)||(null===W||void 0===W||null===(n=W.estimateInfo)||void 0===n?void 0:n.isLoading)||(null===W||void 0===W||null===(l=W.txn)||void 0===l?void 0:l.isLoading)||""===(null===W||void 0===W?void 0:W.amount)||B,onClick:function(){F(!0),Object(i.c)(W.genTxnUrl()).then((function(e){var t=e.data;F(!1),(null===t||void 0===t?void 0:t.redirect_url)&&Object(p.a)({url:h.a.format(null===t||void 0===t?void 0:t.redirect_url),title:"Guardarian Deposit",w:560,h:710})})).catch((function(e){M("Error while trying to send transaction",{error:!0}),F(!1)}))},children:"buy"===W.mode?"Buy":"Sell"})]});return Object(O.jsxs)(c.n,{id:"guardarian-modal",title:"Guardarian",buttons:G,children:[Object(O.jsxs)("div",{className:"buy-sell-btns-wrapper",children:[Object(O.jsx)("div",{className:"buy"===W.mode?"button active":"button",onClick:q,children:"Buy"}),Object(O.jsx)("div",{className:"sell"===W.mode?"button active":"button",onClick:q,children:"Sell"})]}),Object(O.jsxs)("div",{className:"input-currencies-wrapper",children:[Object(O.jsx)("div",{className:"amount",children:Object(O.jsx)(c.w,{value:W.amount,label:"You send",placeholder:"Input amount",onInput:function(e){W.setAmount(e)}})}),Object(O.jsx)("div",{className:"currency",children:"buy"===W.mode&&!(null===W||void 0===W||null===(d=W.fiatList)||void 0===d?void 0:d.isLoading)||"sell"===(null===W||void 0===W?void 0:W.mode)&&!(null===W||void 0===W||null===(u=W.cryptoList)||void 0===u?void 0:u.isLoading)?Object(O.jsx)(c.t,{searchable:!0,defaultValue:W.from,items:"buy"===W.mode?W.fiatList.data:W.cryptoList.data,onChange:function(e){return function(e){W.setFrom(e)}(e.value)}}):Object(O.jsxs)("div",{className:"loading-wrapper",children:[Object(O.jsx)(c.m,{})," "]})})]}),""!==H&&Object(O.jsx)("p",{style:{color:"red"},children:H}),Object(O.jsxs)("div",{className:"estimation-info-wrapper",children:[Object(O.jsx)("div",{className:"extra-fees",children:Object(O.jsx)(c.y,{label:"All the exchange fees are added into the rate. There are no extra costs.",children:"No extra fees"})}),Object(O.jsx)("div",{className:"estimation-rate",children:Object(O.jsxs)(c.y,{label:"This is expected rate. Guardarian guarantees to pick up the best possible rate on the moment of the exchange",children:["Estimation rate: "," ",!W.estimateInfo.isLoading&&(null===W||void 0===W||null===(b=W.estimateInfo)||void 0===b?void 0:b.data)&&""===H?Object(O.jsxs)(O.Fragment,{children:[1+(null===W||void 0===W||null===(f=W.estimateInfo)||void 0===f||null===(x=f.data)||void 0===x?void 0:x.from_currency)," \u2248 ",null===W||void 0===W||null===(v=W.estimateInfo)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.estimated_exchange_rate," ",null===W||void 0===W||null===(k=W.estimateInfo)||void 0===k||null===(w=k.data)||void 0===w?void 0:w.to_currency]}):Object(O.jsx)(O.Fragment,{})]})})]}),Object(O.jsxs)("div",{className:"input-currencies-wrapper",children:[Object(O.jsx)("div",{className:"amount",children:W.estimateInfo.isLoading?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{children:"You get"}),Object(O.jsxs)("div",{className:"loading-wrapper",children:[Object(O.jsx)(c.m,{})," "]})]}):Object(O.jsx)(c.w,{value:(null===W||void 0===W||null===(y=W.estimateInfo)||void 0===y?void 0:y.data)?null===W||void 0===W||null===(N=W.estimateInfo)||void 0===N||null===(C=N.data)||void 0===C?void 0:C.value:"",disabled:!0,label:"You get"})}),Object(O.jsx)("div",{className:"currency",children:"buy"===(null===W||void 0===W?void 0:W.mode)&&!(null===W||void 0===W||null===(A=W.cryptoList)||void 0===A?void 0:A.isLoading)||"sell"===(null===W||void 0===W?void 0:W.mode)&&!(null===W||void 0===W||null===(S=W.fiatList)||void 0===S?void 0:S.isLoading)?Object(O.jsx)(c.t,{searchable:!0,defaultValue:null===W||void 0===W?void 0:W.to,items:"sell"===(null===W||void 0===W?void 0:W.mode)?null===W||void 0===W||null===(T=W.fiatList)||void 0===T?void 0:T.data:null===W||void 0===W||null===(L=W.cryptoList)||void 0===L?void 0:L.data,onChange:function(e){return function(e){W.setTo(e)}(e.value)}}):Object(O.jsxs)("div",{className:"loading-wrapper",children:[Object(O.jsx)(c.m,{})," "]})})]})]})}},678:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var a=n(21),c=/^([0-9]+\.?[0-9]*)$/,r=["salt","identityFactoryAddr","baseIdentityAddr","bytecode","signer"],s=function(e){if(!e||!d(e))return{success:!1,message:"The imported file does not contain needed account data."};if(!e.id||!i(e.id))return{success:!1,message:"Failed to import JSON file: invalid id"};if(!e.signer||!i(e.signer.address||e.signer.quickAccManager))return{success:!1,message:"JSON file: invalid signer address"};if(e.signer.quickAccManager){if(!e.signer.timelock||!o(e.signer.timelock))return{success:!1,message:"Failed to import JSON file: invalid signer timelock"};if(!e.signer.one||!i(e.signer.one))return{success:!1,message:"Failed to import JSON file: invalid signer one"};if(!e.signer.two||!i(e.signer.two))return{success:!1,message:"Failed to import JSON file: invalid signer two"}}return e.salt&&l(e.salt)?e.identityFactoryAddr&&i(e.identityFactoryAddr)?e.baseIdentityAddr&&i(e.baseIdentityAddr)?{success:!0}:{success:!1,message:"JSON file: invalid base Identity Address"}:{success:!1,message:"JSON file: invalid identity Factory Address"}:{success:!1,message:"JSON file: invalid salt"}},i=function(e){try{return Object(a.getAddress)(e)===e}catch(t){return!1}},o=function(e){return c.test(e)&&6===e.toString().length},l=function(e){return 32===Object(a.hexDataLength)(e)},d=function(e){return r.every((function(t){return Object.keys(e).includes(t)}))},u=function(e){return e.size>3072?{code:"file-size-too-large",message:"The file size is larger than ".concat(3..toFixed(2)," KB.")}:null}},679:function(e,t,n){"use strict";var a=n(719),c=n(21),r=n(151),s=new c.Interface(n(367)),i=r.a.quickAccManager;t.a=function(e,t,n,r){var o=new c.AbiCoder,l=r.signer,d=l.timelock,u=l.one,b=l.two,j=Object(c.keccak256)(o.encode(["tuple(uint, address, address)"],[[d,u,b]]));return new a.Bundle({identity:e,network:t,signer:n,txns:[[e,"0x00",s.encodeFunctionData("setAddrPrivilege",[i,j])]],recoveryMode:r})}},680:function(e,t,n){"use strict";t.a=n.p+"static/media/dapps.cec88e8a.svg"},684:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return A}));n(653),n(654),n(631),n(655),n(668),n(657);var a=n(658),c=(n(662),n(663),n(669),n(635),n(664),n(7)),r=n(34),s=n(77),i=n(3),o=(n(801),n(8)),l=n(4),d=function(e){var t=e.words,n=e.setModalSteps,a=Object(i.useCallback)((function(){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{stepIndex:2})}))}),[n]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"instructions",children:["Please write down the following words in their respective order, on a piece of paper.",Object(l.jsx)("br",{}),"We ",Object(l.jsx)("b",{children:"do not"})," recommend to copy/paste or store those words on you computer."]}),Object(l.jsx)("div",{className:"seedWordsList",children:t.map((function(e,t){return Object(l.jsxs)("div",{className:"seedWordsList-cell",children:[Object(l.jsx)("span",{className:"seedWordsList-index",children:t+1}),Object(l.jsx)("span",{className:"seedWordsList-word",children:e})]})}))}),Object(l.jsx)("div",{className:"buttonHolder",children:Object(l.jsx)(s.e,{full:!0,onClick:a,children:"I wrote down those words"})})]})},u=n(2),b=n.n(u),j=n(11),m=n(101),p=n(37),f=function(e){var t=e.selectedAccount,n=e.accounts,a=e.setModalSteps,r=e.setMnemonic,d=e.setError,u=e.setModalButtons,f=e.hideModal,h=Object(i.useState)(!1),O=Object(c.a)(h,2),x=O[0],v=O[1],g=Object(i.useState)(),k=Object(c.a)(g,2),w=k[0],y=k[1],N=Object(i.useRef)(),C=n.find((function(e){return t.id.toLowerCase()===e.id.toLowerCase()})),A=Object(i.useCallback)(Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=3;break}return d("Enter your passphrase"),e.abrupt("return");case 3:if(d(null),v(!0),!C.primaryKeyBackup){e.next=14;break}return t=JSON.parse(C.primaryKeyBackup),e.next=9,m.Wallet.fromEncryptedJson(t,w).catch((function(e){d("Wallet decryption error: "+e.message)}));case 9:n=e.sent,v(!1),n&&(r(n.mnemonic.phrase.split(" ")),a((function(e){return Object(o.a)(Object(o.a)({},e),{},{stepIndex:1})}))),e.next=14;break;case 14:case"end":return e.stop()}}),e)}))),[w,d,C.primaryKeyBackup,r,a]);return Object(i.useEffect)((function(){C.primaryKeyBackup||u([Object(l.jsx)(s.e,{full:!0,clear:!0,icon:Object(l.jsx)(p.i,{}),className:"primary",onClick:function(){return f()},children:"Close"})]),setTimeout((function(){var e;null===N||void 0===N||null===(e=N.current)||void 0===e||e.focus()}),100)}),[C,f,u]),C.primaryKeyBackup?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"instructions",children:["Enter the passphrase for ",Object(l.jsx)("span",{children:t.email})," to continue"]}),Object(l.jsx)(s.w,{password:!0,onChange:function(e){return y(e)},ref:N,placeholder:"Passphrase"}),Object(l.jsx)("div",{className:"buttonHolder",children:Object(l.jsx)(s.e,{full:!0,disabled:x,onClick:A,children:"Display seed words"})})]}):Object(l.jsx)("div",{children:"Your account does not have any imported keys. Import your keys first."})},h=n(17),O=n(184),x=function(e){var t=e.words,n=e.setModalButtons,a=e.hideModal,r=e.onAddAccount,d=e.selectedAccount,u=e.accounts,b=Object(i.useState)(null),j=Object(c.a)(b,2),m=j[0],f=j[1],x=Object(i.useState)(0),v=Object(c.a)(x,2),g=v[0],k=v[1],w=Object(i.useState)({}),y=Object(c.a)(w,2),N=y[0],C=y[1],A=Object(i.useState)(!1),S=Object(c.a)(A,2),T=S[0],L=S[1],R=function(e){for(var t="0",n=0;n<e.length;n++)t+=e.charCodeAt(n)+"";for(var a=t;a>100;)a=1*a.slice(0,a.length-2)+1*a.slice(a.length-2)+"";return 1*a},E=Object(i.useCallback)((function(){var e=t[g],n=[].concat(Object(h.a)(t.slice(0,g)),Object(h.a)(t.slice(g+1))).sort((function(e,t){return R(e)-R(t)})),a=[].concat(Object(h.a)(n),Object(h.a)(n));return[e].concat(Object(h.a)(a.slice(g,g+3))).sort((function(e,t){return R(e)-R(t)})).map((function(t,n){return{word:t,selected:N.index===n,correct:e===t}}))}),[t,g,N]),I=Object(i.useCallback)((function(e,n){f(null);var a=t[g]===e;C({index:n,correct:a}),setTimeout((function(){t[g]===e?(L(!0),setTimeout((function(){C({}),setTimeout((function(){k(g+1),L(!1)}),150)}),150)):(C({}),f("The word you selected is not the correct word #".concat(g+1)))}),400)}),[t,g,f]);return Object(i.useEffect)((function(){if(g>11){var e=u.find((function(e){return d.id.toLowerCase()===e.id.toLowerCase()}));e?r(Object(o.a)(Object(o.a)({},e),{},{backupOptout:!1})):console.error("could not find account for "+d.id),n([Object(l.jsx)(s.e,{full:!0,icon:Object(l.jsx)(p.i,{}),className:"primary",onClick:function(){return a()},children:"Close"})])}}),[g,n,a,u,d,r]),g>11?Object(l.jsxs)("div",{className:"notification-hollow success text-center mt-4",children:["Verification complete!",Object(l.jsx)("br",{}),"You should now put your paper in a safe place"]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"instructions",children:"To make sure your backup is perfect, please verify your backup by clicking on the correct word"}),Object(l.jsxs)("div",{className:"wordsSelectorContainer",children:[Object(l.jsx)("div",{className:"wordRequestedTitle",children:"Select the word as it appears on your backup"}),Object(l.jsxs)("div",{className:"wordsSelector".concat(T?" nextWordFade":""),children:[Object(l.jsxs)("div",{className:"wordIndex",children:["Word ",Object(l.jsxs)("span",{children:["#",g+1]})]}),Object(l.jsx)("div",{className:"wordChoices".concat(N.correct?" animated":""),children:E().map((function(e,t){return Object(l.jsx)("span",{className:"wordChoice".concat(e.selected?" selected "+(e.correct?"correct":"incorrect"):""),onClick:function(){return I(e.word,t)},children:e.word})}))}),N.correct&&Object(l.jsx)("div",{className:"visualCheckmark",children:Object(l.jsx)(O.b,{})})]}),m&&Object(l.jsx)("div",{className:"error-message",children:m})]})]})},v=function(e){var t=e.selectedAccount,n=e.accounts,a=e.modalCloseHandler,o=e.onAddAccount,u=Object(r.f)(),b=u.hideModal,j=u.setBeforeCloseModalHandler,m=Object(i.useState)(null),p=Object(c.a)(m,2),h=p[0],O=p[1],v=Object(i.useState)({steps:[{name:"Unlock account"},{name:"Write seed words"},{name:"Verify seed words"}],stepIndex:0}),g=Object(c.a)(v,2),k=g[0],w=g[1],y=Object(i.useState)(null),N=Object(c.a)(y,2),C=N[0],A=N[1],S=Object(i.useState)(null),T=Object(c.a)(S,2),L=T[0],R=T[1];return Object(i.useLayoutEffect)((function(){a&&j((function(){return a}))}),[j,a]),Object(l.jsx)(s.n,{id:"paper-backup-modal",title:Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Backup on paper"}),Object(l.jsx)(s.v,{steps:k.steps,currentStep:k.stepIndex,noLabels:!1})]}),buttons:h,children:Object(l.jsxs)("div",{children:[C&&Object(l.jsx)("div",{className:"error-message",children:C}),0===k.stepIndex&&Object(l.jsx)(f,{setModalButtons:O,hideModal:b,setModalSteps:w,selectedAccount:t,accounts:n,setMnemonic:R,setError:A}),1===k.stepIndex&&Object(l.jsx)(d,{setModalSteps:w,words:L}),2===k.stepIndex&&Object(l.jsx)(x,{setModalButtons:O,setModalSteps:w,words:L,setError:A,hideModal:b,onAddAccount:o,accounts:n,selectedAccount:t})]})})},g=n(158),k=n(84),w=function(e){var t=e.accounts,n=e.selectedAccount,a=e.setModalSteps,r=e.foundAddress,d=e.setFoundAddress,u=e.setWallet,p=e.relayerURL,f=e.newAccount,x=e.retrievedIdentity,v=e.setRetrievedIdentity,w=e.hideModal,y=e.setModalButtons,N=Object(i.useState)(null),C=Object(c.a)(N,2),A=C[0],S=C[1],T=Object(i.useState)(null),L=Object(c.a)(T,2),R=L[0],E=L[1],I=Object(i.useState)([]),P=Object(c.a)(I,2),_=P[0],M=P[1],W=Object(i.useState)(null),D=Object(c.a)(W,2),U=D[0],B=D[1],F=Object(i.useState)(null),V=Object(c.a)(F,2),H=V[0],q=V[1],G=Object(i.useState)(null),z=Object(c.a)(G,2),Y=z[0],K=z[1],J=Object(i.useState)(null),X=Object(c.a)(J,2),$=X[0],Z=X[1],Q=Object(i.useRef)(),ee=Object(i.useCallback)((function(){if(d(null),R){if(S(null),0===_.length){var e=R.split(" ");if(12===e.length){var t,n=[],a=Object(g.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(!c.trim().match(/^[A-Za-z]+$/g))return void S("Invalid seed word "+c);n.push(c.trim())}}catch(s){a.e(s)}finally{a.f()}return E(""),void M(n)}}var r=R.trim();r.match(/^[A-Za-z]+$/g)?(null!==H?(q(null),M((function(e){return e[H]=r,Object(h.a)(e)}))):M((function(e){return[].concat(Object(h.a)(e),[r])})),E("")):S("Invalid seed word")}else S("Invalid seed word")}),[d,R,_.length,H]),te=Object(i.useCallback)((function(e){e.trim()!==R&&S(null),E(e.trim())}),[R,S]),ne=Object(i.useCallback)((function(e){null===H&&B(e)}),[H]),ae=Object(i.useCallback)((function(){B(null)}),[]),ce=Object(i.useCallback)((function(e){null===H&&(M((function(t){return t.slice(0,e)})),ae(),S(null))}),[ae,S,H]),re=Object(i.useCallback)((function(e){S(null),q(e),E(_[e])}),[_,S]),se=Object(i.useCallback)((function(){q(null),ee()}),[ee]),ie=Object(i.useCallback)((function(){u(m.Wallet.fromMnemonic(_.join(" "))),a((function(e){return Object(o.a)(Object(o.a)({},e),{},{stepIndex:1})}))}),[u,a,_]),oe=Object(i.useCallback)((function(){if(y(null),!(_.length<12))try{var e=m.Wallet.fromMnemonic(_.join(" "));d(e.address),v(null)}catch(t){d(null),S("Could not compute address: "+t.message+". Please check and delete the incorrect words")}}),[y,_,d,v]),le=Object(i.useCallback)(Object(j.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(12===_.length){e.next=4;break}return e.abrupt("return");case 4:Z(null),e.prev=5,t=m.Wallet.fromMnemonic(_.join(" ")),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(5),S("Failed to compute address:"+e.t0.message),e.abrupt("return");case 13:return e.next=15,t.signMessage("get_identity_from_signer");case 15:n=e.sent,a="".concat(p,"/account-by-quickAccPrimaryKey/").concat(n),Object(k.c)(a).then((function(e){e.success?1===e.identities.length?v(e.identities[0]):K(e.identities):v(!1)})).catch((function(e){Z(e.message)}));case 18:case"end":return e.stop()}}),e,null,[[5,9]])}))),[r,_,p,v]),de=Object(i.useCallback)((function(e){K(null),v(e)}),[v]);Object(i.useEffect)((function(){if(x){var e=t.find((function(e){return e.id.toLowerCase()===x.id.toLowerCase()&&!!e.primaryKeyBackup}));y(e?[Object(l.jsx)(s.e,{full:!0,clear:!0,onClick:function(){return w()},children:"Close"})]:[Object(l.jsx)(s.e,{full:!0,onClick:ie,children:"Continue"})])}}),[t,w,ie,x,y]),Object(i.useEffect)((function(){oe()}),[oe]),Object(i.useEffect)((function(){le()}),[le]),Object(i.useEffect)((function(){setTimeout((function(){var e;null===Q||void 0===Q||null===(e=Q.current)||void 0===e||e.focus()}),100)}),[]);var ue=Object(i.useCallback)((function(){if(null!==x){if(!1===x)return Object(l.jsx)("div",{className:"error-message",children:"Could not retrieve Ambire account from this signer"});if(!f&&x.id.toLowerCase()!==n.id.toLowerCase())return Object(l.jsxs)("div",{className:"error-message",children:["The signer account you imported does not belong to the selected Ambire account ",n.id,".",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"This signer account belongs to the Ambire account ",x.id]});if(f||x.id.toLowerCase()===n.id.toLowerCase()){var e=t.find((function(e){return e.id.toLowerCase()===x.id.toLowerCase()&&!!e.primaryKeyBackup}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"Ambire account"}),Object(l.jsx)("div",{className:"address",children:x.id})]}),e&&Object(l.jsx)("div",{className:"notification-hollow info",children:"You have already added this account"})]})}}}),[x,f,n,t]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"instructions",children:["Type in the words in the order they appear on your paper backup.",Object(l.jsx)("br",{}),Object(l.jsxs)("span",{className:"unimportant",children:["Press ",Object(l.jsx)("i",{children:"enter"})," or ",Object(l.jsx)("i",{children:"space"})," after each word to validate it"]})]}),(_.length<12||null!==H)&&Object(l.jsx)("div",{className:"seedWordsForm",children:Object(l.jsx)(s.w,{placeholder:"Word #".concat(null!==H?H+1:_.length+1),value:R,onChange:te,onKeyDown:function(e){"Enter"!==e&&" "!==e||ee()}})}),A&&Object(l.jsx)("div",{className:"error-message",children:A}),!!_.length&&Object(l.jsxs)("div",{className:"importedSeedWordsList".concat(null!==H?" modifyMode":""),onClick:function(){null!==H&&(q(null),oe())},children:[_.map((function(e,t){return Object(l.jsxs)("div",{className:"importedSeedWord".concat(null!==U&&U<=t?" deletable":"").concat(H===t?" modifiable":""),onClick:function(){null===H&&re(t)},children:[Object(l.jsx)("span",{className:"index",children:t+1}),Object(l.jsx)("span",{className:"word",children:H===t?R:e}),H===t?Object(l.jsx)("span",{className:"modifying",onClick:function(e){e.stopPropagation(),se()},children:Object(l.jsx)(O.b,{})}):Object(l.jsx)("span",{className:"close",onClick:function(e){return ce(t),e.stopPropagation(),!1},onMouseEnter:function(){return ne(t)},onMouseLeave:ae,children:Object(l.jsx)(O.i,{})})]},t)})),_.length%3!==0&&Object(h.a)(Array(3-_.length%3)).map((function(e){return Object(l.jsx)("span",{className:"empty"})}))]}),r&&null===H&&Object(l.jsxs)("div",{className:"foundAddressContainer",children:[Object(l.jsx)("b",{children:"Signer Account"}),Object(l.jsx)("div",{className:"address",children:r}),null===x&&null===Y&&!$&&Object(l.jsx)(s.m,{}),$&&Object(l.jsxs)("div",{className:"error-message networkFetchError",children:["Network error while getting matching account: ",$,Object(l.jsx)(s.e,{full:!0,small:!0,icon:Object(l.jsx)(O.h,{}),onClick:le,children:"Try again"})]}),Y?Object(l.jsxs)("div",{className:"identities-selector",children:[Object(l.jsxs)("p",{className:"notification-hollow info",children:[Object(l.jsx)(O.e,{})," Multiple wallets found for this signer. Please select the wallet to import."]}),Object(l.jsx)("div",{className:"identities-selector-holder",children:Y.map((function(e){return Object(l.jsx)("div",{onClick:function(){return de(e)},children:e.id})}))})]}):ue()]})]})},y=n(151),N=n(678),C=function(e){var t=e.wallet,n=e.setError,a=e.onAddAccount,r=e.hideModal,d=e.retrievedIdentity,u=e.setModalButtons,m=Object(i.useState)(""),p=Object(c.a)(m,2),f=p[0],h=p[1],O=Object(i.useState)(""),x=Object(c.a)(O,2),v=x[0],g=x[1],k=Object(i.useRef)(),w=Object(i.useCallback)(Object(j.a)(b.a.mark((function e(){var c,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length<8)){e.next=3;break}return n("Passphrase should be at least 8 characters"),e.abrupt("return");case 3:if(f===v){e.next=6;break}return n("Passphrases are not matching"),e.abrupt("return");case 6:return e.t0=JSON,e.next=9,t.encrypt(f,y.a.encryptionOpts);case 9:e.t1=e.sent,c=e.t0.stringify.call(e.t0,e.t1),s=Object(o.a)(Object(o.a)({},d),{},{primaryKeyBackup:c,backupOptout:!1,emailConfRequired:!1}),(i=Object(N.b)(s)).success?(a(s,{select:!0}),r()):n(i.message);case 14:case"end":return e.stop()}}),e)}))),[f,v,t,d,n,a,r]);return Object(i.useEffect)((function(){setTimeout((function(){var e;null===k||void 0===k||null===(e=k.current)||void 0===e||e.focus()}),100)}),[]),Object(i.useEffect)((function(){u([Object(l.jsx)(s.e,{full:!0,onClick:w,children:"Update account"})])}),[w,u]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"instructions",children:"Secure your Ambire account with a password"}),Object(l.jsx)(s.w,{password:!0,className:"mb-2",ref:k,onChange:function(e){return h(e)},placeholder:"Password"}),Object(l.jsx)(s.w,{password:!0,onChange:function(e){return g(e)},placeholder:"Repeat password"})]})},A=(n(802),function(e){var t=e.accounts,n=e.onAddAccount,a=e.selectedAccount,o=e.relayerURL,d=e.newAccount,u=Object(i.useState)(null),b=Object(c.a)(u,2),j=b[0],m=b[1],p=Object(i.useState)(null),f=Object(c.a)(p,2),h=f[0],O=f[1],x=Object(i.useState)({steps:[{name:"Import seed words"},{name:"Set password"}],stepIndex:0}),v=Object(c.a)(x,2),g=v[0],k=v[1],y=Object(i.useState)(null),N=Object(c.a)(y,2),A=N[0],S=N[1],T=Object(i.useState)(null),L=Object(c.a)(T,2),R=L[0],E=L[1],I=Object(i.useState)(null),P=Object(c.a)(I,2),_=P[0],M=P[1],W=Object(r.f)().hideModal;return Object(l.jsx)(s.n,{id:"paper-import-modal",title:Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"Import backup from paper"}),Object(l.jsx)(s.v,{steps:g.steps,currentStep:g.stepIndex,noLabels:!1})]}),buttons:j,children:Object(l.jsxs)("div",{children:[A&&Object(l.jsx)("div",{className:"error-message",children:A}),0===g.stepIndex&&Object(l.jsx)(w,{accounts:t,foundAddress:h,hideModal:W,newAccount:d,relayerURL:o,retrievedIdentity:_,selectedAccount:a,setFoundAddress:O,setError:S,setModalSteps:k,setWallet:E,setRetrievedIdentity:M,setModalButtons:m}),1===g.stepIndex&&Object(l.jsx)(C,{newAccount:d,selectedAccount:a,wallet:R,setError:S,onAddAccount:n,setRetrievedIdentity:M,retrievedIdentity:_,hideModal:W,setModalButtons:m})]})})});n(665),n(666),n(670)},688:function(e,t){},689:function(e,t){},690:function(e,t){},691:function(e,t){},693:function(e,t){},694:function(e,t){},695:function(e,t){},709:function(e,t){},718:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var a=n(2),c=n.n(a),r=n(11),s=n(153),i=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.prev=1,e.next=4,navigator.permissions.query({name:t,allowWithoutGesture:!1});case 4:if(r=e.sent,"granted"!==(s=r.state)){e.next=8;break}return e.abrupt("return",!0);case 8:if("prompt"!==s){e.next=16;break}if(!n){e.next=15;break}return e.next=12,n;case 12:return e.abrupt("return",i(t));case 15:return e.abrupt("return",!1);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error while trying to query permissions",e.t0);case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!Object(s.a)()&&(e?i("clipboard-read",navigator.clipboard.readText()):i("clipboard-read"))},l=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"clipboard-read"!==t){e.next=5;break}return e.next=4,navigator.clipboard.readText();case 4:return e.abrupt("return",!0);case 5:if("notifications"!==t){e.next=10;break}return e.next=8,Notification.requestPermission();case 8:return n=e.sent,e.abrupt("return","granted"===n||"default"===n);case 10:return e.abrupt("return",!1);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Permission ".concat(t," blocked")),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},726:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=e.url,n=e.title,a=e.w,c=e.h,r=void 0!==window.screenLeft?window.screenLeft:window.screenX,s=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,l=i/window.screen.availWidth,d=(i-a)/2/l+r,u=(o-c)/2/l+s,b=window.open(t,n,"\n\t\ttoolbar=no,scrollbars=no,resizable=no\n\t\twidth=".concat(a/l,", \n\t\theight=").concat(c/l,", \n\t\ttop=").concat(u,", \n\t\tleft=").concat(d,",\n\t\t"));window.focus&&b.focus()}},729:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(7),c=(n(954),n(3)),r=n(77),s=n(4);function i(e){var t=e.selectedApp,n=void 0===t?{}:t,i=e.title,o=void 0===i?"Ambire Plugin":i,l=e.network,d=e.selectedAcc,u=e.gnosisConnect,b=e.gnosisDisconnect,j=e.className,m=(l||{}).chainId,p=(n||{}).url,f=Object(c.useState)(!0),h=Object(a.a)(f,2),O=h[0],x=h[1],v=Object(c.useState)(""),g=Object(a.a)(v,2),k=g[0],w=g[1],y=Object(c.useRef)(null);return Object(c.useEffect)((function(){w(p+m+d)}),[m,d,p]),Object(c.useEffect)((function(){x(!0)}),[k]),Object(c.useEffect)((function(){return u({selectedAcc:d,iframeRef:y,app:n}),function(){b()}}),[n,l,d,y,u,b]),Object(s.jsxs)("div",{id:"plugin-gnosis-container",className:j,children:[O&&Object(s.jsx)("div",{className:"iframe-placeholder",children:Object(s.jsx)(r.u,{children:Object(s.jsx)(r.c,{})})}),p&&Object(s.jsx)("iframe",{id:k,ref:y,title:o,src:p,onLoad:function(){return x(!1)},style:O?{display:"none"}:{}},k)]})}},731:function(e,t,n){"use strict";n(786);var a=n(127),c=n(77),r=n(37),s=n(924),i=n.n(s),o=n(787),l=n.p+"static/media/circle.ee8bb2e5.svg",d=n(4);t.a=function(e){var t=e.isVisible,n=e.hideModal,s=e.text,u=e.onClick,b=document.getElementById("root");return t?Object(a.createPortal)(Object(d.jsx)("div",{id:"unbond-modal",children:Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"danger-animation-wrapper",children:[Object(d.jsx)(i.a,{className:"danger-animation",animationData:o,background:"transparent",speed:"1",loop:!0,autoplay:!0}),Object(d.jsx)("img",{src:l,alt:"circle",className:"danger-animation-circle"})]}),Object(d.jsx)("span",{className:"warning-title",children:"Warning"}),Object(d.jsx)("p",{className:"warning-text",children:s})]}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)(c.e,{className:"button",danger:!0,onClick:u,children:"Yes, Claim anyway"}),Object(d.jsx)(c.e,{className:"button",clear:!0,icon:Object(d.jsx)(r.I,{}),onClick:n,children:"Close"})]})]})}),b):null}},772:function(e,t,n){},782:function(e,t,n){},783:function(e,t,n){},784:function(e,t,n){},785:function(e,t,n){},786:function(e,t,n){},787:function(e){e.exports=JSON.parse('{"v":"5.1.5","fr":30,"ip":0,"op":30,"w":32,"h":32,"nm":"System-states-Sin conexi\xf3n","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"! contornos","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[100,100,100],"e":[130,130,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[130,130,100],"e":[100,100,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.442,0],[0,-0.443],[-0.442,0],[0,0.441]],"o":[[-0.442,0],[0,0.441],[0.442,0],[0,-0.443]],"v":[[0,-0.8],[-0.8,0],[0,0.8],[0.8,0]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,12.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.221,0],[0,0.221],[0,0],[0.221,0],[0,-0.221],[0,0]],"o":[[0.221,0],[0,0],[0,-0.221],[-0.221,0],[0,0],[0,0.221]],"v":[[0,2.544],[0.4,2.144],[0.4,-2.144],[0,-2.544],[-0.4,-2.144],[-0.4,2.144]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,7.194],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 2","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.3176470588235294,0.3176470588235294,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Sombra contornos","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":8.4,"s":[100],"e":[0]},{"t":23.8000009693939}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[100,100,100],"e":[180,180,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[180,180,100],"e":[100,100,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.3176470588235294,0.3176470588235294,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0}],"markers":[]}')},788:function(e,t,n){},789:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},804:function(e,t,n){},805:function(e,t,n){},954:function(e,t,n){}}]);
//# sourceMappingURL=11.81cce0a4.chunk.js.map