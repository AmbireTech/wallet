{"version":3,"sources":["components/Wallet/Transactions/Transactions.js","../node_modules/tiny-warning/dist/tiny-warning.esm.js","components/SendTransaction/helpers.js","components/common/TxnPreview/TxnPreview.js","../../modules/BrowserRouter.js","../../modules/HashRouter.js","../../modules/utils/locationUtils.js","../../modules/Link.js","../../modules/NavLink.js","../node_modules/ambire-common/src/services/requestToBundleTxn/requestToBundleTxn.ts"],"names":["BundlePreview","React","memo","bundle","mined","feeAssets","useConstants","constants","tokenList","humanizerInfo","network","networks","find","x","id","Array","isArray","txns","className","date","lastTxn","length","lastTxnSummary","getTransactionSummary","identity","hasFeeMatch","match","RegExp","gasTankFee","slice","feeTokenDetails","i","symbol","feeToken","savedGas","getAddedGas","splittedLastTxnSummary","split","fee","cashback","formatUnits","toString","decimals","price","totalSaved","feeInUSDPerGas","map","txn","account","addressLabel","meta","formatFloatTokenAmount","join","executed","success","errorMsg","label","gasLimit","submittedAt","Date","toLocaleDateString","toLocaleTimeString","style","color","replacesTxId","txId","href","explorerUrl","target","rel","_id","Transactions","relayerURL","selectedAcc","selectedNetwork","showSendTxns","addRequest","eligibleRequests","setSendTxnState","addToast","useToasts","history","useHistory","params","useParams","useState","now","cacheBreak","setCacheBreak","useEffect","intvl","setTimeout","clearTimeout","url","useRelayerData","data","errMsg","isLoading","urlGetFeeAssets","showSendTxnsForReplacement","useCallback","forEach","index","chainId","type","to","toLowerCase","value","showing","replaceByDefault","mustReplaceNonce","nonce","executedTransactions","filter","maxPages","Math","ceil","defaultPage","useMemo","min","max","Number","page","setPage","bundlesList","replace","removeFeeTxnFromBundleIfGasTankDisabled","allPending","replaced","firstPending","mapToBundle","relayerBundle","extra","Bundle","num","minFeeInUSDPerGas","cancelByReplacing","replacementBundle","paginationControls","clear","mini","onClick","size","req","disableExpand","toBundleTxn","small","icon","cancel","fetch","then","message","includes","catch","e","console","error","warning","condition","isTokenEligible","token","speed","estimation","isGasTankEnabled","relayerless","address","feeInFeeToken","getFeesData","parseInt","balance","pow","contractErrors","mapTxnErrMsg","msg","contractMsg","getErrHint","checkIfDAppIncompatible","toHexAmount","amnt","round","getDiscountApplied","discount","feeInUSD","multiplier","addedGas","parseFloat","toFixed","getFeePaymentConsequences","discountMultiplier","totalMultiplier","nativeRate","isCrossChainNativeSelected","feeInNative","customFee","nativeAssetPriceInUSD","isNaN","undefined","getNetworkSymbol","networkId","nativeAssetSymbol","TxnPreview","onDismiss","isFirstFailing","disableDismiss","disableDismissLabel","isExpanded","setExpanded","contractName","getName","networkDetails","summary","extended","entry","item","amount","backgroundImage","getTokenIcon","stopPropagation","disabled","name","canShowLink","parseExtendedSummaryItem","setKnownAddressNames","isKnown","apply","BrowserRouter","createHistory","_this","props","render","Router","this","children","Component","HashRouter","resolveToLocation","currentLocation","normalizeToLocation","createLocation","forwardRefShim","C","forwardRef","shiftKey","LinkAnchor","forwardedRef","innerRef","navigate","rest","event","ex","preventDefault","defaultPrevented","button","metaKey","altKey","ctrlKey","isModifiedEvent","ref","Link","component","RouterContext","Consumer","context","invariant","location","createHref","isDuplicateNavigation","createPath","push","createElement","NavLink","ariaCurrent","activeClassName","activeStyle","classNameProp","exact","isActiveProp","isActive","locationProp","sensitive","strict","styleProp","toLocation","path","pathname","escapedPath","matchPath","joinClassnames","classnames","IdentityFactory","Interface","IdentityFactoryABI","from","deploySalt","salt","accountPresets","identityFactoryAddr","encodeFunctionData"],"mappings":"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","file":"static/js/20.4e99b1ad.chunk.js","sourcesContent":["import './Transactions.scss'\nimport { FaSignature } from 'react-icons/fa'\nimport { BsCoin, BsCalendarWeek, BsGlobe2, BsCheck2All } from 'react-icons/bs'\nimport { MdOutlinePendingActions, MdShuffle, MdCheck, MdOutlineSavings } from 'react-icons/md'\nimport { useRelayerData } from 'hooks'\nimport TxnPreview from 'components/common/TxnPreview/TxnPreview'\nimport { Loading, Button } from 'components/common'\nimport networks from 'consts/networks'\nimport { getTransactionSummary } from 'lib/humanReadableTransactions'\nimport { Bundle } from 'adex-protocol-eth'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport fetch from 'node-fetch'\nimport { useToasts } from 'hooks/toasts'\nimport { toBundleTxn } from 'ambire-common/src/services/requestToBundleTxn'\nimport { HiOutlineChevronLeft, HiOutlineChevronRight } from 'react-icons/hi'\nimport { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min'\nimport { formatFloatTokenAmount } from 'lib/formatters'\nimport { formatUnits } from 'ethers/lib/utils'\nimport { ToolTip } from 'components/common' \n// eslint-disable-next-line import/no-relative-parent-imports\nimport { getAddedGas } from '../../SendTransaction/helpers'\nimport useConstants from 'hooks/useConstants'\n\n// 10% in geth and most EVM chain RPCs; relayer wants 12%\nconst RBF_THRESHOLD = 1.14\nconst TO_GAS_TANK = `to Gas Tank`\n\n\nfunction Transactions ({ relayerURL, selectedAcc, selectedNetwork, showSendTxns, addRequest, eligibleRequests, setSendTxnState }) {\n  const { addToast } = useToasts()\n  const history = useHistory()\n  const params = useParams()\n\n  const [cacheBreak, setCacheBreak] = useState(() => Date.now())\n  \n  // @TODO refresh this after we submit a bundle; perhaps with the upcoming transactions service\n  // We want this pretty much on every rerender with a 5 sec debounce\n  useEffect(() => {\n    if ((Date.now() - cacheBreak) > 5000) setCacheBreak(Date.now())\n    const intvl = setTimeout(() => setCacheBreak(Date.now()), 10000)\n    return () => clearTimeout(intvl)\n  }, [cacheBreak])\n  const url = relayerURL\n    ? `${relayerURL}/identity/${selectedAcc}/${selectedNetwork.id}/transactions?cacheBreak=${cacheBreak}`\n    : null\n  const { data, errMsg, isLoading } = useRelayerData({ url })\n  const urlGetFeeAssets = relayerURL ? `${relayerURL}/gas-tank/assets?cacheBreak=${cacheBreak}` : null\n  const { data: feeAssets } = useRelayerData({ url: urlGetFeeAssets })\n\n  const showSendTxnsForReplacement = useCallback(bundle => {\n    bundle.txns\n      .forEach((txn, index) => {\n        addRequest({\n          id: 'replace_'+index,\n          chainId: selectedNetwork.chainId,\n          account: selectedAcc,\n          type: 'eth_sendTransaction',\n          txn: {\n            to: txn[0].toLowerCase(),\n            value: txn[1] === \"0x\" ? \"0x0\" : txn[1],\n            data: txn[2]\n          }\n        })\n      })\n\n    setSendTxnState({ showing: true, replaceByDefault: true, mustReplaceNonce: bundle.nonce })\n  }, [addRequest, selectedNetwork, selectedAcc, setSendTxnState])\n\n  const maxBundlePerPage = 10\n  const executedTransactions = data ? data.txns.filter(x => x.executed) : []\n  const maxPages = Math.ceil(executedTransactions.length / maxBundlePerPage)\n\n  const defaultPage = useMemo(() => Math.min(Math.max(Number(params.page), 1), maxPages) || 1, [params.page, maxPages])\n  const [page, setPage] = useState(defaultPage)\n\n  const bundlesList = executedTransactions\n    .slice((page - 1) * maxBundlePerPage, page * maxBundlePerPage)\n    .map(bundle => <BundlePreview bundle={bundle} mined={true} feeAssets={feeAssets} />)\n\n  useEffect(() => !isLoading && history.replace(`/wallet/transactions/${page}`), [page, history, isLoading])\n  useEffect(() => setPage(defaultPage), [selectedAcc, selectedNetwork, defaultPage])\n\n  // @TODO implement a service that stores sent transactions locally that will be used in relayerless mode\n  if (!relayerURL) return (<section id='transactions'>\n    <h3 className='validation-error'>Unsupported: not currently connected to a relayer.</h3>\n  </section>)\n\n  // Removed fee txn if Gas tank is not used for payment method\n  const removeFeeTxnFromBundleIfGasTankDisabled = bundle => !bundle.gasTankFee ?  { ...bundle, txns: bundle.txns.slice(0, -1) } : bundle\n\n  // @TODO: visualize other pending bundles\n  const allPending = data && data.txns.filter(x => !x.executed && !x.replaced)\n  const firstPending = allPending && allPending[0]\n\n  const mapToBundle = (relayerBundle, extra = {}) => (new Bundle({\n    ...relayerBundle,\n    nonce: relayerBundle.nonce.num,\n    gasLimit: null,\n    // Instruct the relayer to abide by this minimum fee in USD per gas, to ensure we are truly replacing the txn\n    minFeeInUSDPerGas: relayerBundle.feeInUSDPerGas * RBF_THRESHOLD,\n    ...extra\n  }))\n  const cancelByReplacing = relayerBundle => setSendTxnState({\n    showing: true,\n    replacementBundle: mapToBundle(relayerBundle, {\n      txns: [[selectedAcc, '0x0', '0x']],\n    }),\n    mustReplaceNonce: relayerBundle.nonce.num\n  })\n  const cancel = relayerBundle => {\n    // @TODO relayerless\n    mapToBundle(relayerBundle).cancel({ relayerURL, fetch })\n      .then(({ success, message }) => {\n        if (!success) {\n          if (message.includes('not possible to cancel')) {\n            addToast('Transaction already picked up by the network, you will need to pay a fee to replace it with a cancellation transaction.')\n          } else {\n            addToast(`Not possible to cancel: ${message}, you will need to pay a fee to replace it with a cancellation transaction.`)\n          }\n          cancelByReplacing(relayerBundle)\n        } else {\n          addToast('Transaction cancelled successfully')\n        }\n      })\n      .catch(e => {\n        console.error(e)\n        cancelByReplacing(relayerBundle)\n      })\n  }\n\n  // @TODO: we are currently assuming the last txn is a fee; change that (detect it)\n  const speedup = relayerBundle => setSendTxnState({\n    showing: true,\n    replacementBundle: mapToBundle(removeFeeTxnFromBundleIfGasTankDisabled(relayerBundle)),\n    mustReplaceNonce: relayerBundle.nonce.num\n  })\n  const replace = relayerBundle => showSendTxnsForReplacement(mapToBundle(removeFeeTxnFromBundleIfGasTankDisabled(relayerBundle)))\n\n  const paginationControls = (\n    <div className='pagination-controls'>\n      <div className='pagination-title'>Page</div>\n      <Button clear mini onClick={() => page > 1 && setPage(page => page - 1)}><HiOutlineChevronLeft/></Button>\n      <div className='pagination-current'>{ page } <span>/ { maxPages }</span></div>\n      <Button clear mini onClick={() => page < maxPages && setPage(page => page + 1)}><HiOutlineChevronRight/></Button>\n    </div>\n  )\n\n  return (\n    <section id='transactions'>\n      {!!eligibleRequests.length && (<div className='panel' id=\"waiting-transactions\">\n        <div className='panel-heading'>\n          <div className='title'><FaSignature size={25}/>Waiting to be signed (current batch)</div>\n        </div>\n        <div className=\"content\">\n          <div className=\"bundle\">\n            <div className=\"bundle-list\" onClick={() => showSendTxns(null)}>\n              {eligibleRequests.map(req => (\n                <TxnPreview\n                  key={req.id}\n                  network={selectedNetwork.id}\n                  account={selectedAcc}\n                  disableExpand={true}\n                  txn={toBundleTxn(req.txn, selectedAcc)}\n                />\n              ))}\n            </div>\n              <div className='actions'>\n                {/*\n                <Button small className='cancel' onClick={\n                  () => resolveMany(eligibleRequests.map(x => x.id), { message: 'Ambire user rejected all requests' })\n                }>Reject all</Button>*/}\n                <Button small icon={<MdCheck/>} onClick={() => showSendTxns(null)}>Sign or reject</Button>\n              </div>\n          </div>\n        </div>\n      </div>)}\n      { !!firstPending && (<div className='panel' id=\"pending\">\n        <div className='panel-heading'>\n          <div className='title'><MdOutlinePendingActions/>Pending transaction bundle</div>\n        </div>\n        <div className=\"content\">\n          <div className=\"bundle\">\n            <BundlePreview bundle={firstPending} feeAssets={feeAssets} />\n            <div className='actions'>\n              <Button small onClick={() => replace(firstPending)}>Replace or modify</Button>\n              <Button small className='cancel' onClick={() => cancel(firstPending)}>Cancel</Button>\n              <Button small onClick={() => speedup(firstPending)}>Speed up</Button>\n            </div>\n          </div>\n        </div>\n      </div>) }\n      {allPending && allPending.length > 1 && (<h4>NOTE: There are a total of {allPending.length} pending transaction bundles.</h4>)}\n\n      <div id=\"confirmed\" className=\"panel\">\n        <div className=\"panel-heading\">\n          <div className='title'>\n            <BsCheck2All/>\n            {(data && data.txns.length === 0) ? 'No transactions yet.' : 'Confirmed transactions'}\n          </div>\n          { !bundlesList.length ? null : paginationControls }\n        </div>\n        <div className=\"content\">\n          {!relayerURL && (<h3 className='validation-error'>Unsupported: not currently connected to a relayer.</h3>)}\n          {errMsg && (<h3 className='validation-error'>Error getting list of transactions: {errMsg}</h3>)}\n          {\n            isLoading && !data ? <Loading /> :\n              !bundlesList.length ? null :\n                <>\n                  { bundlesList }\n                  { paginationControls }\n                </>\n          }\n        </div>\n      </div>\n    </section>\n  )\n}\n\nconst BundlePreview = React.memo(({ bundle, mined = false, feeAssets }) => {\n  const { constants: { tokenList, humanizerInfo } } = useConstants()\n  const network = networks.find(x => x.id === bundle.network)\n  if (!Array.isArray(bundle.txns)) return (<h3 className='error'>Bundle has no transactions (should never happen)</h3>)\n  const lastTxn = bundle.txns[bundle.txns.length - 1]\n  // terribly hacky; @TODO fix\n  // all of the values are prob checksummed so we may not need toLowerCase\n  const lastTxnSummary = getTransactionSummary(humanizerInfo, tokenList, lastTxn, bundle.network, bundle.identity)\n  const hasFeeMatch = (bundle.txns.length > 1) && lastTxnSummary.match(new RegExp(TO_GAS_TANK, 'i'))\n  const txns = (hasFeeMatch && !bundle.gasTankFee) ? bundle.txns.slice(0, -1) : bundle.txns\n  const toLocaleDateTime = date => `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`\n  const feeTokenDetails = feeAssets ? feeAssets.find(i => i.symbol === bundle.feeToken) : null\n  const savedGas = feeTokenDetails ? getAddedGas(feeTokenDetails) : null\n  const splittedLastTxnSummary = lastTxnSummary.split(' ')\n  const fee = splittedLastTxnSummary.length ? splittedLastTxnSummary[1] + ' ' + splittedLastTxnSummary[2] : []\n  const cashback = (bundle.gasTankFee && bundle.gasTankFee.cashback && feeTokenDetails) ? \n    (formatUnits(bundle.gasTankFee.cashback.toString(), feeTokenDetails?.decimals).toString() * feeTokenDetails?.price) : 0\n  const totalSaved =  savedGas && \n    ((bundle.feeInUSDPerGas * savedGas) + cashback)\n\n  return (<div className='bundlePreview bundle' key={bundle._id}>\n    {txns.map((txn, i) => (<TxnPreview\n      key={i} // safe to do this, individual TxnPreviews won't change within a specific bundle\n      txn={txn} network={bundle.network} account={bundle.identity} mined={mined} \n      addressLabel={!!bundle.meta && bundle.meta.addressLabel}\n      />\n    ))}\n    <ul className=\"details\">\n      {\n        (hasFeeMatch && !bundle.gasTankFee) ?\n          <li>\n            <label><BsCoin/>Fee</label>\n            <p>{ fee.split(' ').map((x, i) => i === 0 ? formatFloatTokenAmount(x, true, 8) : x).join(' ') }</p>\n          </li>\n          :\n          null\n      }\n      {\n        bundle.executed && !bundle.executed.success && (\n          <li>\n            <label>Error</label>\n            <p>{bundle.executed.errorMsg || 'unknown error'}</p>\n          </li>\n        )\n      }\n      {\n        bundle.gasTankFee && (feeTokenDetails !== null) && mined && (\n        <>\n          { savedGas &&(\n            <ToolTip label={`\n              You saved $ ${formatFloatTokenAmount(bundle.feeInUSDPerGas * savedGas, true, 6)}, ${ (cashback > 0) ? `and got back $ ${formatFloatTokenAmount(cashback, true, 6)} as cashback,` : ''} ended up paying only $ ${formatFloatTokenAmount(((bundle.feeInUSDPerGas * bundle.gasLimit) - cashback), true, 6)}\n            `}>\n              <li>\n                <label><BsCoin/>Fee (Paid with Gas Tank)</label>\n                <p>$ {formatFloatTokenAmount(((bundle.feeInUSDPerGas * bundle.gasLimit) - cashback), true, 6)}</p>\n              </li>\n            </ToolTip>\n          )}\n          { savedGas && ( \n            <ToolTip label={`\n              Saved: $ ${formatFloatTokenAmount(bundle.feeInUSDPerGas * savedGas, true, 6)}\n              ${ (cashback > 0) ? `Cashback: $ ${formatFloatTokenAmount(cashback, true, 6)}` : ''}\n            `}>\n              <li>\n                <label><MdOutlineSavings/>Total Saved</label>\n                $ {formatFloatTokenAmount(totalSaved, true, 6)}\n              </li>\n            </ToolTip>\n          )}\n        </>) \n      }\n      <li>\n        <label><BsCalendarWeek/>Submitted on</label>\n        <p>{bundle.submittedAt && (toLocaleDateTime(new Date(bundle.submittedAt))).toString()}</p>\n      </li>\n      { bundle.gasTankFee && !mined && (\n            <li>\n              <label><MdOutlineSavings/>Saved by Gas Tank</label>\n              $ { formatFloatTokenAmount(bundle.feeInUSDPerGas * savedGas, true, 6) }\n              <span style={{color: '#ebaf40'}}>+ cashback is pending</span>\n            </li>\n          )}\n      {\n        bundle.replacesTxId ?\n          <li>\n            <label><MdShuffle/>Replaces transaction</label>\n            <p>{bundle.replacesTxId}</p>\n          </li>\n          :\n          null\n      }\n      {\n        bundle.txId ?\n          <li>\n            <label><BsGlobe2/>Block Explorer</label>\n            <p><a href={network.explorerUrl+'/tx/'+bundle.txId} target='_blank' rel='noreferrer'>{network.explorerUrl.split('/')[2]}</a></p>\n          </li>\n          :\n          null\n      }\n    </ul>\n  </div>)\n})\n\nexport default Transactions\n","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","// It costs around 19k to send a token, if that token was interacted with before in the same transaction,\n// because of SLOAD costs - they depend on whether a slot has been read\n// however, it costs 30k if the token has not been interacted with\n// we may decrease it a bit and lean on the relayer failsafe values (cfg.gasAddedOnEstimate) later on\nconst ADDED_GAS_TOKEN = 30000\nconst ADDED_GAS_NATIVE = 12000\n\nexport function isTokenEligible(token, speed, estimation, isGasTankEnabled, network) {\n  if (estimation?.relayerless && token?.address === '0x0000000000000000000000000000000000000000') return true\n  if (!token) return false\n  const { feeInFeeToken } = getFeesData(token, estimation, speed, isGasTankEnabled, network)\n  const balanceInFeeToken = (parseInt(token.balance) / Math.pow(10, token.decimals))\n  return balanceInFeeToken > feeInFeeToken\n}\n\nexport function getAddedGas(token) {\n  return !token?.address || token?.address === '0x0000000000000000000000000000000000000000'\n    ? ADDED_GAS_NATIVE\n    : ADDED_GAS_TOKEN\n}\n\n// can't think of a less funny name for that\nexport function getFeePaymentConsequences(token, estimation, isGasTankEnabled) {\n  // Relayerless mode\n  if (!estimation?.feeInUSD || !token) return { multiplier: 1, addedGas: 0 }\n  // Relayer mode\n  const addedGas = getAddedGas(token)\n  // If Gas Tank enabled\n  if (!!isGasTankEnabled) return { addedGas: 0, multiplier: 1 }\n\n  return {\n    // otherwise we get very long floating point numbers with trailing .999999\n    multiplier: parseFloat(((estimation.gasLimit + addedGas) / estimation.gasLimit).toFixed(4)),\n    addedGas\n  }\n}\n\nconst contractErrors = ['caller is a contract', 'caller is another contract', 'contract not allowed', 'contract not supported', 'No contractz allowed', 'o contracts', /*no */'contracts allowed', /* c or C*/'ontract is not allowed', 'aller must be user', 'aller must be a user', 'ontract call not allowed']\n\nexport function mapTxnErrMsg(msg) {\n  if (!msg) return\n  if (msg.includes('Router: EXPIRED')) return 'Swap expired'\n  if (msg.includes('Router: INSUFFICIENT_OUTPUT_AMOUNT')) return 'Swap will suffer slippage higher than your requirements'\n  if (msg.includes('INSUFFICIENT_PRIVILEGE')) return 'Your signer address is not authorized.'\n  if (contractErrors.find(contractMsg => msg.includes(contractMsg))) return 'This dApp does not support smart wallets.'\n  return msg\n}\n\nexport function getErrHint(msg) {\n  if (!msg) return\n  if (msg.includes('Router: EXPIRED')) return 'Try performing the swap again'\n  if (msg.includes('Router: INSUFFICIENT_OUTPUT_AMOUNT')) return 'Try performing the swap again or increase your slippage requirements'\n  if (msg.includes('INSUFFICIENT_PRIVILEGE')) return 'If you set a new signer for this account, try re-adding the account.'\n  if (contractErrors.find(contractMsg => msg.includes(contractMsg))) {\n    return 'WARNING! We detected that this dApp intentionally blocks smart contract calls. This is a highly disruptive practice, as it breaks support for all smart wallets (Ambire, Gnosis Safe and others). We recommend you report this to the dApp ASAP and ask them to fix it.'\n    // return 'This dApp does not support smart wallets or purposefully excludes them. Contact the dApp developers to tell them to implement smart wallets by not blocking contract interactions and/or implementing EIP1271.'\n  }\n  return 'Sending this transaction batch would have resulted in an error, so we prevented it.'\n}\n\nexport function checkIfDAppIncompatible(msg) {\n  return contractErrors.find(contractMsg => msg.includes(contractMsg))\n}\n\nexport function toHexAmount(amnt, decimals) {\n  return '0x' + Math.round(amnt * Math.pow(10, decimals)).toString(16)\n}\n\nexport function getDiscountApplied(amnt, discount = 0) {\n  if (!discount) return 0\n  if (!amnt) return 0\n  if (discount === 1) return amnt\n  return amnt / (1 - discount) * discount\n}\n\n// Returns feeToken data with all multipliers applied\nexport function getFeesData(feeToken, estimation, speed, isGasTankEnabled, network) {\n  const { addedGas, multiplier } = getFeePaymentConsequences(feeToken, estimation, isGasTankEnabled)\n  const savedGas = getAddedGas(feeToken)\n  const discountMultiplier = 1 - (feeToken?.discount || 0)\n  const totalMultiplier = multiplier * discountMultiplier\n  const nativeRate = feeToken?.nativeRate || 1\n  const isCrossChainNativeSelected = isGasTankEnabled && feeToken.address === '0x0000000000000000000000000000000000000000' && (network.id !== feeToken.network)\n  const feeInNative = estimation.customFee\n    ? ((estimation.customFee * discountMultiplier) / nativeRate)\n    : !isCrossChainNativeSelected ? \n        estimation.feeInNative[speed] * totalMultiplier : \n        (((estimation.feeInNative[speed] * totalMultiplier) / nativeRate) * estimation.nativeAssetPriceInUSD) / feeToken.price\n  const feeInUSD = !isNaN(estimation.nativeAssetPriceInUSD) ? \n    !isCrossChainNativeSelected ? \n      feeInNative * estimation.nativeAssetPriceInUSD : \n      feeInNative * feeToken.price : \n    undefined\n  const feeInFeeToken = feeInNative * nativeRate\n\n  return {\n    feeInNative,\n    feeInUSD,\n    feeInFeeToken,\n    addedGas, // use it bundle data\n    savedGas,\n  }\n}\n","import './TxnPreview.scss'\n\nimport { useState, Fragment, useEffect  } from 'react'\n\nimport { getName, getTransactionSummary, isKnown } from 'lib/humanReadableTransactions'\nimport networks from 'consts/networks'\nimport { formatUnits } from 'ethers/lib/utils'\nimport { ToolTip } from 'components/common'\nimport { HiOutlineExternalLink } from 'react-icons/hi'\nimport { MdOutlineClose } from 'react-icons/md'\nimport { BsChevronDown, BsChevronUp } from 'react-icons/bs'\nimport { getTokenIcon } from 'lib/icons'\nimport { formatFloatTokenAmount } from 'lib/formatters'\nimport { setKnownAddressNames } from 'lib/humanReadableTransactions'\nimport useConstants from 'hooks/useConstants'\n\nfunction getNetworkSymbol(networkId) {\n  const network = networks.find(x => x.id === networkId)\n  return network ? network.nativeAssetSymbol : 'UNKNW'\n}\n\nfunction parseExtendedSummaryItem(item, i, networkDetails) {\n  if (item.length === 1) return item\n\n  if (i === 0) return (<div className={`action ${item.toLowerCase()}`} key={`item-${i}`}>{ item }</div>)\n\n  if (!item.type) return (<div className='word' key={`item-${i}`}>{ item }</div>)\n  if (item.type === 'token') {\n    return (\n    <div className='token' key={`item-${i}`}>\n      { item.amount > 0 && <span>{ formatFloatTokenAmount(item.amount, true, item.decimals) }</span> }\n      { item.decimals !== null && item.symbol ? \n        <Fragment>\n          {item.address &&\n            <div className='icon' \n              style={{ backgroundImage: `url(${getTokenIcon(networkDetails.id, item.address)})` }}>\n            </div>}\n          {item.symbol}\n        </Fragment>\n        : (item.amount > 0) ? 'units of unknown token' : null \n      }\n    </div>\n  )}\n\n  if (item.type === 'address') return (\n    <a\n      className='address'\n      key={`item-${i}`}\n      href={item.address ? `${networkDetails.explorerUrl}/address/${item.address}` : null}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      onClick={e => e.stopPropagation()}\n    >\n      <ToolTip disabled={!item.address} label={item.address}>\n        { item.name ? item.name : item.address }\n        { item.address ? <HiOutlineExternalLink/> : null }\n      </ToolTip>\n    </a>\n  )\n\n  if (item.type === 'network') return (\n    <div className='network' key={`item-${i}`}>\n      { item.icon ? <div className='icon' style={{ backgroundImage: `url(${item.icon})` }}></div> : null }\n      { item.name }\n    </div>\n  )\n\n  if (item.type === 'erc721') {\n    const canShowLink = item.network && item.address && item.id\n    return (\n      <a\n        className='erc721'\n        key={`item-${i}`}\n        href={canShowLink ? `#/wallet/nft/${item.network}/${item.address}/${item.id}` : null}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        onClick={e => e.stopPropagation()}\n      >\n        { item.name }\n        { canShowLink ? <HiOutlineExternalLink/> : null }\n      </a>\n    )\n  }\n\n  return <></>\n}\n\nexport default function TxnPreview ({ txn, onDismiss, network, account, isFirstFailing, mined, disableExpand, disableDismiss, disableDismissLabel, addressLabel = null }) {\n  const { constants: { tokenList, humanizerInfo } } = useConstants()\n  const [isExpanded, setExpanded] = useState(false)\n  const contractName = getName(humanizerInfo, txn[0])\n\n  const networkDetails = networks.find(({ id }) => id === network)\n  const extendedSummary = getTransactionSummary(humanizerInfo, tokenList, txn, network, account, { mined, extended: true })\n\n  const summary = (extendedSummary.map(entry => Array.isArray(entry) ? entry.map((item, i) => parseExtendedSummaryItem(item, i, networkDetails)) : (entry))) // If entry is extended summary parse it\n  useEffect(() => !!addressLabel && setKnownAddressNames(addressLabel), [addressLabel])\n  \n  return (\n    <div className={isFirstFailing ? 'txnPreview firstFailing' : 'txnPreview'}>\n        <div className=\"heading\">\n          <div className=\"info\" onClick={() => !disableExpand && setExpanded(e => !e)}>\n            <div className=\"summary-container\">\n              {!disableExpand && (<div className='expandTxn'>\n                {isExpanded ? (<BsChevronUp/>) : (<BsChevronDown/>)}\n              </div>)}\n              <div className=\"summary\">{ summary }</div>\n            </div>\n            {isFirstFailing && (<div className='firstFailingLabel'>This is the first failing transaction.</div>)}\n              {!isFirstFailing && !mined && !isKnown(humanizerInfo, txn, account) && (<div className='unknownWarning'>Warning: interacting with an unknown contract or address.</div>)}\n          </div>\n          <div className='actionIcons'>\n            {onDismiss ? (\n              <ToolTip disabled={!disableDismiss || !disableDismissLabel} label={disableDismissLabel}>\n                <div className={`dismissTxn ${disableDismiss ? 'disabled' : ''}`} onClick={e => { e.stopPropagation(); !disableDismiss && onDismiss.apply(this, e) }}><MdOutlineClose/></div>\n              </ToolTip>\n            ) : (<></>)}\n          </div>\n        </div>\n        {\n          isExpanded ? (<div className='advanced'>\n            <div><b>Interacting with (<i>to</i>):</b> {txn[0]}{contractName ? ` (${contractName})` : ''}</div>\n            <div><b>Value to be sent (<i>value</i>):</b> {formatUnits(txn[1] || '0x0', 18)} {getNetworkSymbol(network)}</div>\n            <div><b>Data:</b> {txn[2]}</div>\n          </div>) : (<></>)\n        }\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<BrowserRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\"\n    );\n  };\n}\n\nexport default BrowserRouter;\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createHashHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<HashRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n    );\n  };\n}\n\nexport default HashRouter;\n","import { createLocation } from \"history\";\n\nexport const resolveToLocation = (to, currentLocation) =>\n  typeof to === \"function\" ? to(currentLocation) : to;\n\nexport const normalizeToLocation = (to, currentLocation) => {\n  return typeof to === \"string\"\n    ? createLocation(to, null, null, currentLocation)\n    : to;\n};\n","import React from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport { createPath } from 'history';\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nconst LinkAnchor = forwardRef(\n  (\n    {\n      innerRef, // TODO: deprecate\n      navigate,\n      onClick,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const { target } = rest;\n\n    let props = {\n      ...rest,\n      onClick: event => {\n        try {\n          if (onClick) onClick(event);\n        } catch (ex) {\n          event.preventDefault();\n          throw ex;\n        }\n\n        if (\n          !event.defaultPrevented && // onClick prevented default\n          event.button === 0 && // ignore everything but left clicks\n          (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n          !isModifiedEvent(event) // ignore clicks with modifier keys\n        ) {\n          event.preventDefault();\n          navigate();\n        }\n      }\n    };\n\n    // React 15 compat\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.ref = innerRef;\n    }\n\n    /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n    return <a {...props} />;\n  }\n);\n\nif (__DEV__) {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = forwardRef(\n  (\n    {\n      component = LinkAnchor,\n      replace,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Link> outside a <Router>\");\n\n          const { history } = context;\n\n          const location = normalizeToLocation(\n            resolveToLocation(to, context.location),\n            context.location\n          );\n\n          const href = location ? history.createHref(location) : \"\";\n          const props = {\n            ...rest,\n            href,\n            navigate() {\n              const location = resolveToLocation(to, context.location);\n              const isDuplicateNavigation = createPath(context.location) === createPath(normalizeToLocation(location));\n              const method = (replace || isDuplicateNavigation) ? history.replace : history.push;\n\n              method(location);\n            }\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return React.createElement(component, props);\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  const toType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.func\n  ]);\n  const refType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any })\n  ]);\n\n  Link.displayName = \"Link\";\n\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nexport default Link;\n","import React from \"react\";\nimport { __RouterContext as RouterContext, matchPath } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport Link from \"./Link.js\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction joinClassnames(...classnames) {\n  return classnames.filter(i => i).join(\" \");\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = forwardRef(\n  (\n    {\n      \"aria-current\": ariaCurrent = \"page\",\n      activeClassName = \"active\", // TODO: deprecate\n      activeStyle, // TODO: deprecate\n      className: classNameProp,\n      exact,\n      isActive: isActiveProp,\n      location: locationProp,\n      sensitive,\n      strict,\n      style: styleProp,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <NavLink> outside a <Router>\");\n\n          const currentLocation = locationProp || context.location;\n          const toLocation = normalizeToLocation(\n            resolveToLocation(to, currentLocation),\n            currentLocation\n          );\n          const { pathname: path } = toLocation;\n          // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n          const escapedPath =\n            path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n\n          const match = escapedPath\n            ? matchPath(currentLocation.pathname, {\n                path: escapedPath,\n                exact,\n                sensitive,\n                strict\n              })\n            : null;\n          const isActive = !!(isActiveProp\n            ? isActiveProp(match, currentLocation)\n            : match);\n\n          let className =\n            typeof classNameProp === \"function\"\n              ? classNameProp(isActive)\n              : classNameProp;\n\n          let style =\n            typeof styleProp === \"function\" ? styleProp(isActive) : styleProp;\n\n          if (isActive) {\n            className = joinClassnames(className, activeClassName);\n            style = { ...style, ...activeStyle };\n          }\n\n          const props = {\n            \"aria-current\": (isActive && ariaCurrent) || null,\n            className,\n            style,\n            to: toLocation,\n            ...rest\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return <Link {...props} />;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n\n  const ariaCurrentType = PropTypes.oneOf([\n    \"page\",\n    \"step\",\n    \"location\",\n    \"date\",\n    \"time\",\n    \"true\",\n    \"false\"\n  ]);\n\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n  };\n}\n\nexport default NavLink;\n","// @ts-ignore adex-protocol-eth package doesn't have any types written\nimport IdentityFactoryABI from 'adex-protocol-eth/abi/IdentityFactory'\nimport { Interface } from 'ethers/lib/utils'\n\nimport accountPresets from '../../constants/accountPresets'\n\nconst IdentityFactory = new Interface(IdentityFactoryABI)\n\n// Pass deploySalt (eg `id('IsAmbireIdentity')`) to deploy contracts at the same address across chains\nexport function toBundleTxn(\n  { to, value, data, deploySalt }: { to: string; value: string; data: string; deploySalt: string },\n  from: string\n) {\n  // Transactions with no `to` are interpreted by the Ethereum network as CREATE (contract deployment) if they come from an EOA\n  // however, our accounts are not EOAs, so we will just call the factory with a user-specific nonce, that's also identifiable (0x6942)\n  if (to === '0x' || !to) {\n    const salt =\n      deploySalt || `0x69420000000000${Date.now().toString(16).slice(1, 9)}00${from.slice(2)}`\n    return [\n      accountPresets.identityFactoryAddr,\n      value,\n      IdentityFactory.encodeFunctionData('deploy', [data, salt])\n    ]\n  }\n  return [to, value || '0x0', data || '0x']\n}\n"],"sourceRoot":""}