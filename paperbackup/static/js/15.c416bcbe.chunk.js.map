{"version":3,"sources":["components/Wallet/Security/Backup/Backup.module.scss","components/Wallet/Security/Alert/Alert.module.scss","components/Modals/OtpTwoFADisableModal/OtpTwoFADisableModal.module.scss","components/Modals/OtpTwoFAModal/OtpTwoFAModal.module.scss","components/common/LatticePair/LatticePair.module.scss","components/Modals/AddAuthSignerModal/AddAuthSignerModal.module.scss","components/Modals/RemoveSignerModal/RemoveSignerModal.module.scss","components/Wallet/Security/Signers/Signer/Signer.module.scss","components/Wallet/Security/Signers/Signers.module.scss","components/Wallet/Security/Security.module.scss","resources/icons/export.svg","resources/icons/import.svg","components/Wallet/Security/Alert/images/information.svg","components/Wallet/Security/Backup/Backup.js","resources/providers/metamask-fox.svg","components/Wallet/Security/Alert/Alert.js","components/Modals/OtpTwoFADisableModal/OtpTwoFADisableModal.js","components/Modals/OtpTwoFAModal/OtpTwoFAModal.js","components/common/LatticePair/LatticePair.js","resources/icons/add.svg","components/Modals/AddAuthSignerModal/AddAuthSignerModal.js","components/Modals/RemoveSignerModal/RemoveSignerModal.js","components/Wallet/Security/Signers/Signer/Signer.js","components/Wallet/Security/Signers/Signers.js","components/Wallet/Security/Security.js","lib/ledgerWebHID.js","lib/validations/formValidations.js","resources/providers/trezor.svg","resources/providers/ledger.svg","resources/providers/grid-plus.svg","components/Wallet/Security/PendingRecoveryNotice/PendingRecoveryNotice.js"],"names":["module","exports","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgExport","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","transform","fill","d","ForwardRef","SvgImport","Backup","account","selectedAccount","accounts","onOpen","onAddAccount","relayerURL","showModal","useModals","onPaperBackupClick","onPaperImportClick","className","styles","wrapper","panel","titleClassName","panelTitle","cn","content","export","type","href","encodeURIComponent","JSON","stringify","download","icon","onClick","downloadedBackup","button","slice","separator","email","primaryKeyBackup","full","small","disabled","import","renderPaperImportButton","SvgInformation","rx","cx","cy","ry","Alert","network","alertWrapper","alert","body","text","rel","link","shadow","OtpTwoFADisableModal","selectedAcc","setCacheBreak","hideModal","addToast","useToasts","useState","isLoading","setLoading","receivedOtp","setReceivedOTP","isTimeIsUp","setIsTimeIsUp","hexSecret","setHexSecret","useEffect","ethers","utils","hexlify","toUtf8Bytes","otp","timestamp","Date","getTime","disableOTP","a","fetchPost","toSign","code","success","signatureEthers","message","Error","sig","resp","resetForm","console","error","buttons","primaryGradient","form","onSubmit","e","preventDefault","timerResetMsg","seconds","setTimeIsUp","val","timer","input","placeholder","onInput","value","pattern","required","OtpTwoFAModal","secret","useMemo","authenticator","generateSecret","imageURL","setImageURL","showSecret","setShowSecret","emailConfirmCode","setEmailConfirmCode","generateQR","useCallback","otpAuth","keyuri","QRCode","toDataURL","quality","margin","url","log","sendEmail","confCodeRequired","verifyOTP","verify","token","modal","imgWrapper","alt","src","imgMsg","clickHere","prevState","emailWrapper","emailBody","emailInput","autoComplete","minLength","maxLength","authenticatorWrapper","commKey","crypto","randomBytes","toString","LatticePair","addresses","deviceId","setDeviceId","isSecretFieldShown","setIsSecretFieldShown","promiseResolve","setPromiseResolve","inputSecretRef","useRef","current","focus","client","latticeInit","connectToDevice","latticeConnect","isPaired","errConnect","Promise","resolve","reject","enteredSecret","latticePair","hasActiveWallet","errPair","latticeGetAddresses","res","errGetAddresses","style","textTransform","inputSecret","toUpperCase","handleInputSecret","SvgMetamaskFox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","opacity","_rect","_path","_path2","AddAuthSignerModal","onAddBtnClicked","selectedNetwork","setDisabled","address","index","signerAddress","setSignerAddress","modalToggle","setModalToggle","latticeToggle","setLatticeToggle","signersToChoose","setChooseSigners","showLoading","setShowLoading","textInputInfo","setTextInputInfo","validationFormMgs","setValidationFormMgs","onSignerAddressClicked","modalHandler","signerName","connectLedgerAndGetAccounts","isFirefox","connectLedgerAndGetAccountsU2F","connectLedgerAndGetAccountsWebHID","provider","LedgerSubprovider","networkId","ledgerEthereumClientFactoryAsync","ledgerEthereumBrowserClientFactoryAsync","baseDerivationPath","PARENT_HD_PATH","getAccountsAsync","ledgerGetAddresses","addrData","statusCode","connectTrezorAndGetAccounts","TrezorConnect","manifest","appUrl","TrezorSubprovider","trezorConnectClientApi","connectWeb3AndGetAccounts","window","ethereum","request","method","params","eth_accounts","permissions","accountsPermission","find","permission","parentCapability","caveats","setLatticeAddresses","signerExtra","connectGridPlusAndGetAccounts","pair","wrapErr","fn","handleSelectSignerAccountModalCloseClicked","isAddressValid","validateAddAuthSignerAddress","signers","signer","gridplus","metamask","info","validationeError","size","SelectSignerAccount","showTitle","description","onCloseBtnClicked","RemoveSignerModal","Buttons","border","removeButton","isCloseBtnShown","animation","animationData","AnimationData","background","speed","loop","autoplay","Signer","addr","privValue","hasPendingReset","relayerData","handleDisableOtp","handleEnableOtp","onMakeDefaultBtnClicked","onRemoveBtnClicked","showResetPasswordModal","otpEnabled","humanizerInfo","useConstants","constants","addressName","getName","isQuickAcc","accountPresets","quickAccManager","privText","isSelected","canChangePassword","active","manage","checked","onChange","checkbox","labelClassName","checkboxLabel","label","close","signerType","red","SvgAdd","IDENTITY_INTERFACE","Interface","require","Signers","addRequest","showSendTxns","history","useHistory","now","onAddBtnClickedHandler","newSignerAddress","txn","craftTransaction","privilegesOptions","true","addTransactionToAddRequest","isQuickAccount","timeout","push","privLevel","to","data","encodeFunctionData","chainId","err","false","map","addSigner","addSignerBody","Security","cacheBreak","intvl","setTimeout","clearTimeout","useRelayerData","errMsg","privileges","recoveryLock","x","onDrop","acceptedFiles","rejectedFiles","reader","FileReader","file","path","toFixed","errors","readAsText","onload","readerEvent","result","fileContent","parse","validatedFile","validateImportedAccountProps","select","useDropzone","noClick","noKeyboard","accept","maxFiles","validator","fileSizeValidator","getRootProps","getInputProps","open","isDragActive","isDragAccept","isDragReject","status","preRecovery","abiCoder","AbiCoder","timelock","one","two","keccak256","encode","accHash","signersFragment","name","PendingRecoveryNotice","entries","activeStyle","acceptStyle","rejectStyle","acceptStyleIcon","rejectStyleIcon","ethUtil","HDNode","connectedDevices","getTransport","TransportWebHID","list","opened","includes","transport","getAccounts","parentKeyDerivationPath","getAddressInternal","then","o","catch","ledgerResponse","hdKey","publicKey","Buffer","from","chainCode","mainAddress","addressOfHDKey","initialDerivedKeyInfo","derivationPath","calculateDerivedHDKeyInfos","appEth","AppEth","ledgerTimeout","timeoutHandle","race","getAddress","ledgerSignTransaction","fromAddr","unsignedTxObj","gasLimit","gas","serializedUnsigned","serialize","accountsData","toLowerCase","signTransaction","substr","rsvResponse","intV","parseInt","v","Math","floor","serializedSigned","r","s","ledgerSignMessage","hash","signPersonalMessage","rsvReply","signedMsg","ledgerSignMessage712","domainSeparator","hashStructMessage","signEIP712HashedMessage","count","derivedKeys","fullDerivationPath","derive","derivedKey","derivedPublicKey","ethereumAddressUnprefixed","publicToAddress","addHexPrefix","validateAddress","isValidAddress","isValidAddr","validateSendTransferAddress","addressConfirmed","isKnownAddress","isUDAddress","isEnsAddress","feeCollector","isKnownTokenOrContract","validateSendTransferAmount","amount","selectedAsset","decimals","parsedAmount","bigNumberAmount","parseUnits","balanceRaw","gt","balance","symbol","validateSendNftAddress","metadata","owner","SvgTrezor","SvgLedger","SvgGridPlus","isAlreadyInitiated","createRecoveryRequest","bundle","buildRecoveryBundle","recoveryLockStatus","remainingTime","ceil","styleClass","remaining"],"mappings":"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","file":"static/js/15.c416bcbe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Backup_wrapper__2jUQN\",\"panel\":\"Backup_panel__16_fU\",\"panelTitle\":\"Backup_panelTitle__2xv1d\",\"separator\":\"Backup_separator__2JEl3\",\"export\":\"Backup_export__1nK-1\",\"button\":\"Backup_button__AjCYz\",\"import\":\"Backup_import__18zTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Alert_wrapper__mt_Q9\",\"shadow\":\"Alert_shadow__383QC\",\"alertWrapper\":\"Alert_alertWrapper__2o0pg\",\"alert\":\"Alert_alert__VhABl\",\"body\":\"Alert_body__12Rji\",\"title\":\"Alert_title__nnHwy\",\"text\":\"Alert_text__3eiRd\",\"link\":\"Alert_link__10q97\",\"close\":\"Alert_close__1wBfW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"OtpTwoFADisableModal_button__19zni\",\"wrapper\":\"OtpTwoFADisableModal_wrapper__GrN8T\",\"timer\":\"OtpTwoFADisableModal_timer__1x-J3\",\"timerResetMsg\":\"OtpTwoFADisableModal_timerResetMsg__uORd_\",\"input\":\"OtpTwoFADisableModal_input__2Yn7D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"OtpTwoFAModal_button__1La9y\",\"modal\":\"OtpTwoFAModal_modal__tXxVG\",\"wrapper\":\"OtpTwoFAModal_wrapper__3Pa4O\",\"timer\":\"OtpTwoFAModal_timer__b8Xvn\",\"timerResetMsg\":\"OtpTwoFAModal_timerResetMsg__3au4W\",\"imgWrapper\":\"OtpTwoFAModal_imgWrapper__1Yrfg\",\"imgMsg\":\"OtpTwoFAModal_imgMsg__43XmU\",\"clickHere\":\"OtpTwoFAModal_clickHere__2M35h\",\"emailWrapper\":\"OtpTwoFAModal_emailWrapper__23XWx\",\"emailBody\":\"OtpTwoFAModal_emailBody__3SAgi\",\"emailInput\":\"OtpTwoFAModal_emailInput__2vDZD\",\"authenticatorWrapper\":\"OtpTwoFAModal_authenticatorWrapper__2OShb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LatticePair_wrapper__2cEY3\",\"title\":\"LatticePair_title__1U5sZ\",\"content\":\"LatticePair_content__3e43C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AddAuthSignerModal_button__1f2p9\",\"wrapper\":\"AddAuthSignerModal_wrapper__1w9p6\",\"signerAddress\":\"AddAuthSignerModal_signerAddress__1QGnC\",\"signers\":\"AddAuthSignerModal_signers__3wwkW\",\"signer\":\"AddAuthSignerModal_signer__3mKQW\",\"email\":\"AddAuthSignerModal_email__2-Ep2\",\"metamask\":\"AddAuthSignerModal_metamask__3TaIo\",\"gridplus\":\"AddAuthSignerModal_gridplus__2nyOi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"removeButton\":\"RemoveSignerModal_removeButton__1m2aM\",\"wrapper\":\"RemoveSignerModal_wrapper__1_1me\",\"animation\":\"RemoveSignerModal_animation__owK1L\",\"text\":\"RemoveSignerModal_text__30mvq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Signer_wrapper__2wNDi\",\"active\":\"Signer_active__1OF_g\",\"manage\":\"Signer_manage__1bRO0\",\"checkbox\":\"Signer_checkbox__3gHuN\",\"checkboxLabel\":\"Signer_checkboxLabel__16OvE\",\"close\":\"Signer_close__2luuA\",\"disabled\":\"Signer_disabled__3EawR\",\"body\":\"Signer_body__Ys7BL\",\"privText\":\"Signer_privText__36VfJ\",\"buttons\":\"Signer_buttons__3sSku\",\"button\":\"Signer_button__2YnxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Signers_wrapper__1BPVy\",\"addSigner\":\"Signers_addSigner__3wVOP\",\"addSignerBody\":\"Signers_addSignerBody__sVGrz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Security_wrapper__3U8EP\",\"title\":\"Security_title__2-y1y\",\"depositAddress\":\"Security_depositAddress__1Z0v3\",\"acceptStyleIcon\":\"Security_acceptStyleIcon__206oI\",\"rejectStyleIcon\":\"Security_rejectStyleIcon__1oPA3\",\"activeStyle\":\"Security_activeStyle__137s_\",\"acceptStyle\":\"Security_acceptStyle__33WLe\",\"rejectStyle\":\"Security_rejectStyle__15fzO\",\"panel\":\"Security_panel__2G2uP\"};","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgExport(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Export\",\n    transform: \"translate(-862 -742)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Boundary\",\n    width: 24,\n    height: 24,\n    transform: \"translate(862 742)\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_304\",\n    \"data-name\": \"Group 304\",\n    transform: \"translate(0 -1.281)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1511\",\n    \"data-name\": \"Path 1511\",\n    d: \"M19431.842,20119.051a2.85,2.85,0,0,1-2.842-2.848v-4.256a.949.949,0,0,1,1.9,0v4.256a.948.948,0,0,0,.949.955h12.311a.953.953,0,0,0,.949-.955v-4.256a.946.946,0,1,1,1.893,0v3.6h.006v.656a2.851,2.851,0,0,1-2.848,2.848Z\",\n    transform: \"translate(-18564.008 -19354.727)\",\n    fill: \"#ebecff\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1510\",\n    \"data-name\": \"Path 1510\",\n    d: \"M2619.316,12.683a.948.948,0,0,1,0-1.339l6.45-6.449h-3.4a.947.947,0,1,1,0-1.894h5.685a.947.947,0,0,1,.947.947V9.632a.947.947,0,0,1-1.895,0v-3.4l-6.449,6.449a.947.947,0,0,1-1.34,0Z\",\n    transform: \"translate(-987.105 2603.1) rotate(-45)\",\n    fill: \"#ebecff\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExport);\nexport default __webpack_public_path__ + \"static/media/export.d9c1b8c6.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgImport(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Export\",\n    transform: \"translate(-862 -742)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Boundary\",\n    width: 24,\n    height: 24,\n    transform: \"translate(862 742)\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_304\",\n    \"data-name\": \"Group 304\",\n    transform: \"translate(0 -1.281)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1511\",\n    \"data-name\": \"Path 1511\",\n    d: \"M19431.842,20119.051a2.85,2.85,0,0,1-2.842-2.848v-4.256a.949.949,0,0,1,1.9,0v4.256a.948.948,0,0,0,.949.955h12.311a.953.953,0,0,0,.949-.955v-4.256a.946.946,0,1,1,1.893,0v3.6h.006v.656a2.851,2.851,0,0,1-2.848,2.848Z\",\n    transform: \"translate(-18564.008 -19354.727)\",\n    fill: \"#ebecff\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1510\",\n    \"data-name\": \"Path 1510\",\n    d: \"M.277.278a.948.948,0,0,0,0,1.339L6.727,8.066h-3.4a.947.947,0,1,0,0,1.894H9.014a.947.947,0,0,0,.947-.947V3.329a.947.947,0,0,0-1.895,0v3.4L1.617.278a.947.947,0,0,0-1.34,0Z\",\n    transform: \"translate(873.999 746.238) rotate(45)\",\n    fill: \"#ebecff\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgImport);\nexport default __webpack_public_path__ + \"static/media/import.98ee5501.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInformation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Information_icon\",\n    \"data-name\": \"Information icon\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 34,\n    height: 34,\n    viewBox: \"0 0 34 34\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_29\",\n    \"data-name\": \"Group 29\",\n    transform: \"translate(34 34) rotate(180)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle_322\",\n    \"data-name\": \"Rectangle 322\",\n    width: 34,\n    height: 34,\n    rx: 13,\n    fill: \"#6000ff\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle_103\",\n    \"data-name\": \"Rectangle 103\",\n    width: 3.85,\n    height: 13.026,\n    rx: 1.925,\n    transform: \"translate(15.075 6.008)\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    id: \"Ellipse_26\",\n    \"data-name\": \"Ellipse 26\",\n    cx: 1.925,\n    cy: 1.925,\n    rx: 1.925,\n    ry: 1.925,\n    transform: \"translate(15.075 22.733)\",\n    fill: \"#fff\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInformation);\nexport default __webpack_public_path__ + \"static/media/information.71bd71de.svg\";\nexport { ForwardRef as ReactComponent };","import cn from 'classnames'\nimport { Button, Panel } from \"components/common\"\nimport { ReactComponent as ExportIcon } from 'resources/icons/export.svg'\nimport { ReactComponent as ImportIcon } from 'resources/icons/import.svg'\n\nimport styles from './Backup.module.scss'\n\nimport { BsFileEarmarkTextFill, BsFileEarmarkArrowDownFill, BsFileEarmarkArrowUpFill, BsFileMedicalFill } from \"react-icons/bs\"\n\nimport { PaperBackupModal, PaperImportModal } from 'components/Modals'\nimport useModals from 'hooks/modals'\n\nconst Backup = ({ selectedAccount, accounts, onOpen, onAddAccount, relayerURL }) => {\n\n    const { showModal } = useModals()\n\n    const onBackupDownloaded = () => {\n        onAddAccount({\n            ...selectedAccount,\n            downloadedBackup: true\n        })\n    }\n\n    const onPaperBackupClick = () => {\n        showModal(<PaperBackupModal\n          selectedAccount={selectedAccount}\n          accounts={accounts}\n          onAddAccount={onAddAccount}\n        />)\n    }\n\n    const onPaperImportClick = () => {\n        showModal(<PaperImportModal\n          accounts={accounts}\n          onAddAccount={onAddAccount}\n          selectedAccount={selectedAccount}\n          relayerURL={relayerURL}\n        />)\n    }\n\n    const renderPaperExportButton = (account) => {\n        if (account.email) {\n            if (account.primaryKeyBackup) {\n                return <Button icon={<BsFileEarmarkArrowUpFill />} full onClick={onPaperBackupClick} className={styles.button} >Backup on paper</Button>\n            }\n            return <Button full small disabled className={styles.button}>Keys required for paper backup</Button>\n        }\n        return <Button full small disabled className={styles.button}>Available for emails accounts only</Button>\n    }\n\n    const renderPaperImportButton = (account) => {\n        if (account.email) {\n            if (account.primaryKeyBackup) {\n                return <Button icon={<BsFileMedicalFill />} className={styles.button} full disabled >Keys already active</Button>\n            }\n            return <Button icon={<BsFileMedicalFill />} className={styles.button} full onClick={onPaperImportClick}>Import from paper</Button>\n        }\n        return <Button icon={<BsFileMedicalFill />} className={styles.button} disabled >Available for emails accounts only</Button>\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <Panel className={styles.panel} titleClassName={styles.panelTitle} title=\"Backup current account\">\n                <div className={cn(styles.content, styles.export)}>\n                    <a\n                        type=\"button\"\n                        href={`data:text/json;charset=utf-8,${encodeURIComponent(\n                            JSON.stringify(selectedAccount)\n                        )}`}\n                        download={`${selectedAccount.id}.json`}\n                    >\n                        <Button icon={<ExportIcon />} onClick={onBackupDownloaded} className={styles.button}>Export</Button>\n                    </a>\n                    <p>\n                        Downloads a backup of your current account ({selectedAccount.id.slice(0, 5)}...{selectedAccount.id.slice(-3)}) encrypted with\n                        your password. It's safe to store in iCloud/Google Drive, but you cannot use it to restore your account if you forget the password.\n                        <b> You can only import this in Ambire</b>, it's not importable in other wallets.\n                    </p>\n                </div>\n                <div className={styles.separator}></div>\n\n                <div className={cn(styles.content, styles.export)}>\n                    {\n                        renderPaperExportButton(selectedAccount)\n                    }\n                    <p>\n                        Backup your account ({selectedAccount.id.slice(0, 5)}...{selectedAccount.id.slice(-3)}) on paper as a seed phrase.\n                        The seed phrase will be unencrypted, so store it safely.\n                    </p>\n                </div>\n\n            </Panel>\n            <Panel className={styles.panel} titleClassName={styles.panelTitle} title=\"Import an account from backup\">\n                <div className={cn(styles.content, styles.import)}>\n                    <Button icon={<ImportIcon />} onClick={onOpen} className={styles.button}>Import</Button>\n                    <p>...or you can drop an account backup JSON file on this page</p>\n                </div>\n                <div className={styles.separator}></div>\n                <div className={cn(styles.content, styles.import)}>\n                    {\n                        renderPaperImportButton(selectedAccount)\n                    }\n                    <p>\n                        Update your Ambire account ({selectedAccount.id.slice(0, 5)}...{selectedAccount.id.slice(-3)}) with signer keys from a backed up seed phrase\n                    </p>\n                </div>\n            </Panel>\n        </div>\n    )\n}\n\nexport default Backup\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMetamaskFox(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 70.2,\n    height: 65.094,\n    viewBox: \"0 0 70.2 65.094\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"MetaMask_Fox\",\n    transform: \"translate(-31.7 -35.4)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1513\",\n    \"data-name\": \"Path 1513\",\n    d: \"M201.914,35.5,174.6,55.786l5.051-11.969Z\",\n    transform: \"translate(-103.6)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1514\",\n    \"data-name\": \"Path 1514\",\n    d: \"M44.4,35.5,71.494,55.978l-4.8-12.161Z\",\n    transform: \"translate(-9.141)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1515\",\n    \"data-name\": \"Path 1515\",\n    d: \"M219.075,206.8,211.8,217.945l15.565,4.282,4.475-15.18Z\",\n    transform: \"translate(-130.588 -124.276)\",\n    fill: \"currentColor\",\n    opacity: 0.6,\n    stroke: \"#5962a1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1516\",\n    \"data-name\": \"Path 1516\",\n    d: \"M33.9,207.047l4.447,15.18,15.565-4.282L46.637,206.8Z\",\n    transform: \"translate(-1.524 -124.276)\",\n    fill: \"currentColor\",\n    opacity: 0.6,\n    stroke: \"#5962a1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1517\",\n    \"data-name\": \"Path 1517\",\n    d: \"M92.137,113.461,87.8,120.022l15.455.686-.549-16.608Z\",\n    transform: \"translate(-40.627 -49.769)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1518\",\n    \"data-name\": \"Path 1518\",\n    d: \"M185.663,112.953,174.957,103.4l-.357,16.8,15.427-.686Z\",\n    transform: \"translate(-103.6 -49.261)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1519\",\n    \"data-name\": \"Path 1519\",\n    d: \"M106.8,218.888l9.278-4.529-8.016-6.259Z\",\n    transform: \"translate(-54.412 -125.22)\",\n    fill: \"currentColor\",\n    opacity: 0.6,\n    stroke: \"#5962a1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1520\",\n    \"data-name\": \"Path 1520\",\n    d: \"M177.9,214.359l9.306,4.529-1.29-10.788Z\",\n    transform: \"translate(-105.994 -125.22)\",\n    fill: \"currentColor\",\n    opacity: 0.6,\n    stroke: \"#5962a1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1521\",\n    \"data-name\": \"Path 1521\",\n    d: \"M187.206,235.429,177.9,230.9l.741,6.067-.082,2.553Z\",\n    transform: \"translate(-105.994 -141.761)\",\n    fill: \"#ebecff\",\n    stroke: \"#ebecff\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1522\",\n    \"data-name\": \"Path 1522\",\n    d: \"M106.8,235.429l8.647,4.09-.055-2.553.686-6.067Z\",\n    transform: \"translate(-54.412 -141.761)\",\n    fill: \"#ebecff\",\n    stroke: \"#ebecff\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1523\",\n    \"data-name\": \"Path 1523\",\n    d: \"M118.341,180.876,110.6,178.6l5.463-2.5Z\",\n    transform: \"translate(-57.169 -102.004)\",\n    fill: \"#1e2033\",\n    stroke: \"#1e2033\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1524\",\n    \"data-name\": \"Path 1524\",\n    d: \"M179.7,180.876l2.278-4.776,5.49,2.5Z\",\n    transform: \"translate(-107.3 -102.004)\",\n    fill: \"#1e2033\",\n    stroke: \"#1e2033\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1525\",\n    \"data-name\": \"Path 1525\",\n    d: \"M87.575,217.945,88.892,206.8l-8.592.247Z\",\n    transform: \"translate(-35.186 -124.276)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1526\",\n    \"data-name\": \"Path 1526\",\n    d: \"M207,206.8l1.318,11.145,7.275-10.9Z\",\n    transform: \"translate(-127.106 -124.276)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1527\",\n    \"data-name\": \"Path 1527\",\n    d: \"M190.027,162.1l-15.427.686,1.427,7.933,2.278-4.776,5.49,2.5Z\",\n    transform: \"translate(-103.6 -91.847)\",\n    fill: \"currentColor\",\n    opacity: 0.6,\n    stroke: \"#5962a1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1528\",\n    \"data-name\": \"Path 1528\",\n    d: \"M94.059,168.441l5.49-2.5,2.251,4.776,1.455-7.933L87.8,162.1Z\",\n    transform: \"translate(-40.627 -91.847)\",\n    fill: \"currentColor\",\n    opacity: 0.6,\n    stroke: \"#5962a1\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1529\",\n    \"data-name\": \"Path 1529\",\n    d: \"M87.8,162.1l6.478,12.627-.22-6.286Z\",\n    transform: \"translate(-40.627 -91.847)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1530\",\n    \"data-name\": \"Path 1530\",\n    d: \"M207.375,168.441l-.275,6.286,6.506-12.627Z\",\n    transform: \"translate(-127.178 -91.847)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1531\",\n    \"data-name\": \"Path 1531\",\n    d: \"M140.255,164.6l-1.455,7.933,1.812,9.361.412-12.326Z\",\n    transform: \"translate(-77.627 -93.661)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1532\",\n    \"data-name\": \"Path 1532\",\n    d: \"M172.641,164.6l-.741,4.941.329,12.353,1.839-9.361Z\",\n    transform: \"translate(-101.641 -93.661)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1533\",\n    \"data-name\": \"Path 1533\",\n    d: \"M174.939,187.478l-1.839,9.361,1.318.906,8.016-6.259.275-6.286Z\",\n    transform: \"translate(-102.512 -108.606)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1534\",\n    \"data-name\": \"Path 1534\",\n    d: \"M110.6,185.2l.22,6.286,8.016,6.259,1.318-.906-1.812-9.361Z\",\n    transform: \"translate(-57.169 -108.606)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1535\",\n    \"data-name\": \"Path 1535\",\n    d: \"M126.976,251.49l.082-2.553-.686-.6H116.024l-.631.6.055,2.553L106.8,247.4l3.02,2.471,6.122,4.255h10.514l6.149-4.255,3.02-2.471Z\",\n    transform: \"translate(-54.412 -153.731)\",\n    fill: \"#c8c9da\",\n    stroke: \"#c8c9da\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1536\",\n    \"data-name\": \"Path 1536\",\n    d: \"M149.025,228.506l-1.318-.906h-7.6l-1.318.906-.686,6.067.631-.6H149.08l.686.6Z\",\n    transform: \"translate(-77.12 -139.367)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    opacity: 0.3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1537\",\n    \"data-name\": \"Path 1537\",\n    d: \"M205.461,57.1l2.333-11.2-3.486-10.4L177.9,55.1l10.157,8.592,14.357,4.2,3.184-3.706-1.373-.988,2.2-2-1.7-1.318,2.2-1.675Z\",\n    transform: \"translate(-105.994)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    opacity: 0.3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1538\",\n    \"data-name\": \"Path 1538\",\n    d: \"M31.8,45.9l2.333,11.2-1.482,1.1,2.2,1.675-1.675,1.318,2.2,2L34,64.186l3.157,3.706,14.357-4.2L61.667,55.1,35.259,35.5Z\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    opacity: 0.3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1539\",\n    \"data-name\": \"Path 1539\",\n    d: \"M223.6,142.4l-14.357-4.2,4.365,6.561L207.1,157.388l8.565-.11h12.765Z\",\n    transform: \"translate(-127.178 -74.508)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1540\",\n    \"data-name\": \"Path 1540\",\n    d: \"M53.033,138.2l-14.357,4.2L33.9,157.278H46.637l8.537.11L48.7,144.761Z\",\n    transform: \"translate(-1.524 -74.508)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_1541\",\n    \"data-name\": \"Path 1541\",\n    d: \"M139.051,92.922l.906-15.839L144.129,65.8H125.6l4.118,11.282.961,15.839.329,5,.027,12.3h7.6l.055-12.3Z\",\n    transform: \"translate(-68.051 -21.982)\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 0.2\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMetamaskFox);\nexport default __webpack_public_path__ + \"static/media/metamask-fox.5b2c2026.svg\";\nexport { ForwardRef as ReactComponent };","import styles from './Alert.module.scss'\nimport { ReactComponent as InformationIcon } from './images/information.svg'\n\nconst Alert = ({ network }) => (\n  <div className={styles.wrapper}>\n    <div className={styles.alertWrapper}>\n        <div className={styles.alert}>\n            <InformationIcon />\n            <div className={styles.body}>\n              <h4 className={styles.title}>Please note: </h4>\n              <p className={styles.text}>\n                Signer settings are network-specific. \n                You are currently looking at and modifying \n                the signers on {network}.\n                {' '}\n                <a\n                  href='https://help.ambire.com/hc/en-us/articles/4410885684242-Signers' \n                  target='_blank' \n                  rel='noreferrer'\n                  className={styles.link}\n                >\n                  Need help? Click here.\n                </a>\n              </p>\n            </div>\n            {/* <button className={styles.close}>\n                <CloseIcon />\n            </button> */}\n        </div>\n    </div>\n    <div className={styles.shadow} />\n  </div>\n)\n\nexport default Alert","import { useModals } from 'hooks'\nimport { fetchPost } from 'lib/fetch'\nimport { Modal, Button, TextInput, Loading } from 'components/common'\nimport { useState, useEffect } from 'react'\nimport { useToasts } from 'hooks/toasts'\nimport { ethers } from 'ethers'\nimport { CountdownTimer } from 'components/common'\nimport styles from './OtpTwoFADisableModal.module.scss'\n\nconst TIMER_IN_SECONDS = 300\n\nconst OtpTwoFADisableModal = ({ relayerURL, selectedAcc, setCacheBreak }) => {\n    const { hideModal } = useModals()\n    const { addToast } = useToasts()\n    const [isLoading, setLoading] = useState(false)\n\n    const [receivedOtp, setReceivedOTP] = useState('')\n    const [isTimeIsUp, setIsTimeIsUp] = useState(false)\n    const [hexSecret, setHexSecret] = useState()\n    \n    useEffect(() => {\n      setHexSecret(ethers.utils.hexlify(ethers.utils.toUtf8Bytes(JSON.stringify({ otp: null, timestamp: new Date().getTime() }))))\n    }, [])\n\n    const handleSubmit = e => {\n      e.preventDefault()\n      setLoading(true)\n      disableOTP()\n    }\n\n    const disableOTP = async() => {\n      try {\n          const { success, signatureEthers, message } = await fetchPost(\n            // network doesn't matter when signing\n            `${relayerURL}/second-key/${selectedAcc.id}/ethereum/sign`, { \n              toSign: hexSecret, \n              code: receivedOtp \n            })\n          if (!success) {\n              throw new Error(message || 'unknown error')\n          }\n\n          const resp = await fetchPost(\n            `${relayerURL}/identity/${selectedAcc.id}/modify`, { \n              otp: hexSecret, \n              sig: signatureEthers \n            })\n\n          if (resp.success) {\n              addToast(`You have successfully disabled two-factor authentication.`)\n              setCacheBreak() \n              resetForm()\n              setLoading(false)\n              hideModal()\n          } else {\n              throw new Error(`${resp.message || 'unknown error'}`)\n          }\n      } catch (e) {\n          console.error(e)\n          addToast('OTP: ' + e.message || e, { error: true })\n          setLoading(false)\n      }\n    }\n\n    const resetForm = () => {\n      setReceivedOTP('')\n    }\n\n    const handleTimeIsUp = (val) => {\n        setIsTimeIsUp(val)\n    }\n\n    return (\n        <Modal \n          className={styles.wrapper} \n          title=\"Disable Two Factor Authentication\" \n          buttons={!isLoading ? (<Button form=\"disable2faForm\" className={styles.button} primaryGradient type=\"submit\" disabled={isTimeIsUp}>Disable 2FA</Button>) : (<Button className={styles.button} primaryGradient disabled><Loading /></Button>)}\n        >\n          <form onSubmit={handleSubmit} id=\"disable2faForm\">\n            {isTimeIsUp && <div className={styles.timerResetMsg}>Please reopen the modal to reset the session.</div>}\n            <CountdownTimer seconds={TIMER_IN_SECONDS} setTimeIsUp={handleTimeIsUp} className={styles.timer} />\n            <div>\n              <h4>Authenticator app code</h4>\n                <TextInput\n                  className={styles.input}\n                  placeholder=\"Enter the code from authenticator app\"\n                  onInput={setReceivedOTP}\n                  value={receivedOtp}\n                  pattern=\"[0-9]{6}\"\n                  required\n                />\n            </div>\n          </form>\n        </Modal>\n    )\n}\n\nexport default OtpTwoFADisableModal\n","import { Modal, Button, TextInput, Loading } from 'components/common'\nimport { authenticator } from '@otplib/preset-default'\nimport QRCode from 'qrcode'\nimport cn from 'classnames'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useToasts } from 'hooks/toasts'\nimport { fetchPost } from 'lib/fetch'\nimport { useModals } from 'hooks'\nimport { ethers } from 'ethers'\nimport { CountdownTimer } from 'components/common'\n\nimport styles from './OtpTwoFAModal.module.scss'\n\nconst TIMER_IN_SECONDS = 300\n\nconst OtpTwoFAModal = ({ relayerURL, selectedAcc, setCacheBreak }) => {\n    const { hideModal } = useModals()\n    const { addToast } = useToasts()\n\n    const secret = useMemo(() => authenticator.generateSecret(20), []) \n    \n    const [isLoading, setLoading] = useState(false)\n    const [imageURL, setImageURL] = useState(null)\n    const [receivedOtp, setReceivedOTP] = useState('')\n    const [showSecret, setShowSecret] = useState(false)\n    const [emailConfirmCode, setEmailConfirmCode] = useState('')\n    const [isTimeIsUp, setIsTimeIsUp] = useState(false)\n    const [hexSecret, setHexSecret] = useState()\n    \n    useEffect(() => {\n      setHexSecret(ethers.utils.hexlify(ethers.utils.toUtf8Bytes(JSON.stringify({ otp: secret, timestamp: new Date().getTime() }))))\n    }, [secret])\n\n    const generateQR = useCallback(() => {\n        const otpAuth = authenticator.keyuri(\n            selectedAcc.email,\n            'Ambire Wallet',\n            secret\n        )\n\n        const qrCodeOptions = {\n            quality: 1,\n            margin: 1,\n        }\n        \n        QRCode.toDataURL(otpAuth, qrCodeOptions, (error, url) => {\n            if (error) {\n                console.log(error)\n                addToast(error.message, { error: true })\n            } else {\n                setImageURL(url)\n            }\n        })\n    }, [addToast, secret, selectedAcc.email])\n\n    useEffect(generateQR, [generateQR])\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        setLoading(true)\n        verifyOTP()\n    }\n\n    const sendEmail = async() => {\n        if (!relayerURL) {\n            addToast('Email/pass accounts not supported without a relayer connection', { error: true })\n            return\n        }\n        \n        const { success, confCodeRequired } = await fetchPost(\n            // network doesn't matter when signing\n            `${relayerURL}/second-key/${selectedAcc.id}/ethereum/sign`, { \n                toSign: hexSecret \n            })\n        if (!success) addToast('Unexpected error. This should never happen, please report this on help.ambire.com', { error: true })\n        if (confCodeRequired !== 'email') addToast('Expected email verification. This should never happen, please report this on help.ambire.com', { error: true })\n        if (success && confCodeRequired === 'email') addToast('A confirmation code was sent to your email, please enter it along...')\n    }\n    \n    const verifyOTP = async () => {\n        const isValid = authenticator.verify({ token: receivedOtp, secret })\n        \n        if (!isValid) {\n            addToast('Invalid or outdated OTP code entered. If you keep seeing this, please ensure your system clock is synced correctly.', { error: true })\n            setLoading(false)\n            return\n        }\n\n        try {\n            if (!emailConfirmCode.length) {\n                addToast('Please enter the code from authenticator app.')\n                return\n            }\n\n            const { success, signatureEthers, message } = await fetchPost(\n                // network doesn't matter when signing\n                `${relayerURL}/second-key/${selectedAcc.id}/ethereum/sign`, {\n                    toSign: hexSecret, \n                    code: emailConfirmCode\n                })\n            \n            if (!success) {\n                throw new Error(message || 'unknown error')\n            }\n            \n            const resp = await fetchPost(\n                `${relayerURL}/identity/${selectedAcc.id}/modify`, { \n                    otp: hexSecret, \n                    sig: signatureEthers \n                })\n\n            if (resp.success) {\n                addToast(`You have successfully enabled two-factor authentication.`)\n                setCacheBreak()\n                resetForm()\n                setLoading(false)\n                hideModal()\n            } else {\n                throw new Error(`${resp.message || 'unknown error'}`)\n            }\n        } catch (e) {\n            console.error(e)\n            addToast('OTP: ' + e.message || e, { error: true })\n            setLoading(false)\n        }\n    }\n\n    const resetForm = () => {\n        setEmailConfirmCode('')\n        setReceivedOTP('')\n    }\n\n    const handleTimeIsUp = (val) => {\n        setIsTimeIsUp(val)\n    }\n\n    return (\n        <Modal\n            className={styles.modal}\n            buttons={!isLoading ? (<Button form=\"enable2faForm\" primaryGradient type=\"submit\" disabled={isTimeIsUp} className={styles.button}>Enable 2FA</Button>) : (<Button disabled className={styles.button}><Loading /></Button>)}\n            title=\"Two Factor Authentication\" \n        >\n            <div className={styles.wrapper}>\n                {isTimeIsUp && <div className={styles.timerResetMsg}>Please reopen the modal to reset the session.</div>}\n                <CountdownTimer seconds={TIMER_IN_SECONDS} setTimeIsUp={handleTimeIsUp} className={styles.timer} />\n                <div className={styles.imgWrapper}>\n                    <img alt=\"qr-code\" src={imageURL}></img>\n                </div>\n                <div className={cn(styles.imgMsg, {[styles.showSecret]: showSecret})}>\n                    {!showSecret && \n                    (<span className={styles.clickHere}>\n                        Unable to scan code? <button onClick={() => setShowSecret(prevState => !prevState)}>Click here.</button>\n                    </span>)}\n                    {showSecret && (<><span>Enter this OTP in your app:</span><div>{secret}</div></>)}\n                </div>\n                <form onSubmit={handleSubmit} id=\"enable2faForm\">\n                    <div className={styles.emailWrapper}>\n                        <h4>Confirmation code sent via Email</h4>\n                        <div className={styles.emailBody}>\n                            <TextInput\n                                className={styles.emailInput}\n                                pattern='[0-9]+'\n                                title='Confirmation code should be 6 digits'\n                                autoComplete='nope'\n                                required minLength={6} maxLength={6}\n                                placeholder='Confirmation code'\n                                value={emailConfirmCode}\n                                onInput={value => setEmailConfirmCode(value)}\n                            ></TextInput>\n                            \n                            <Button type=\"button\" primaryGradient disabled={isTimeIsUp} onClick={sendEmail}>Send Email</Button>\n                        </div>\n                    </div>\n                    <div className={styles.authenticatorWrapper}>\n                        <h4>Authenticator app code</h4>\n                        <TextInput\n                            placeholder=\"Enter the code from authenticator app\"\n                            onInput={setReceivedOTP}\n                            value={receivedOtp}\n                            pattern=\"[0-9]{6}\"\n                            required\n                        />\n                    </div>\n                    {/* <div className=\"buttons\">\n                        {!isLoading ? (<Button type=\"submit\" disabled={isTimeIsUp} className='button'>Enable 2FA</Button>) : (<Button disabled className='button'><Loading /></Button>)}\n                    </div> */}\n                </form>\n            </div>\n        </Modal>\n    )\n}\n\nexport default OtpTwoFAModal\n","import styles from './LatticePair.module.scss'\n\nimport { Button, TextInput, Loading } from 'components/common'\nimport { useState, useEffect, useRef } from 'react'\nimport { useToasts } from 'hooks/toasts'\nimport { latticeInit, \n    latticeConnect, \n    latticePair, \n    latticeGetAddresses \n} from 'lib/lattice'\nimport crypto from 'crypto'\n\nconst SECRET_LENGTH = 8\nconst DEVICE_ID_LENGTH = 6\nconst commKey = crypto.randomBytes(32).toString('hex')\n\nconst LatticePair = ({ addresses }) => {\n    const { addToast } = useToasts()\n    const [isLoading, setLoading] = useState(false)\n    const [deviceId, setDeviceId] = useState('')\n    const [isSecretFieldShown, setIsSecretFieldShown] = useState(false)\n    const [promiseResolve, setPromiseResolve] = useState(null)\n    const inputSecretRef = useRef(null)\n    \n    useEffect(()=> {\n        if (isSecretFieldShown) inputSecretRef.current.focus()\n    }, [isSecretFieldShown])\n\n    const client = latticeInit(commKey)\n\n    const connectToDevice = async () => {\n        setLoading(prevState => !prevState)\n\n        const { isPaired, errConnect } = await latticeConnect(client, deviceId)\n        if (errConnect) {\n            setLoading(prevState => !prevState)\n            addToast(`Lattice: ${errConnect} Or check if the Device ID is correct.`, { error: true })\n            return\n        }\n\n        if (!isPaired) {\n            setIsSecretFieldShown(prevState => !prevState)\n\n            const enteredSecret = await new Promise((resolve, reject) => { setPromiseResolve(() => resolve) })\n            if (enteredSecret !== '') { \n                setIsSecretFieldShown(prevState => !prevState)\n\n                const { hasActiveWallet, errPair } = await latticePair(client, enteredSecret)\n                if (errPair) {\n                    setLoading(prevState => !prevState)\n                    addToast(errPair, { error: true })\n                    return\n                }\n\n                if (!hasActiveWallet)  {\n                    addToast('Lattice has no active wallet!')\n                    return\n                }\n\n                const { res, errGetAddresses } = await latticeGetAddresses(client)\n                if (errGetAddresses) {\n                    setLoading(prevState => !prevState)\n                    addToast(errGetAddresses, {error: true})\n                    return\n                }\n\n                if (!!res) {\n                    addresses({ addresses: res, deviceId, commKey, isPaired: true })\n                    setLoading(false)\n                } \n            }\n        } else {\n            const { res, errGetAddresses } = await latticeGetAddresses(client)\n            if (errGetAddresses) {\n                setLoading(false)\n                addToast(`Lattice: ${errGetAddresses}`, { error: true })\n                return \n            }\n\n            if (!!res) {\n                addresses({ addresses: res, deviceId, commKey, isPaired: true })\n                setLoading(false)\n            }\n        }\n    }\n\n    const handleInputSecret = e => {\n        const inputSecret = e.toUpperCase()\n        \n        if (inputSecret.length === SECRET_LENGTH) {\n            promiseResolve(inputSecret)\n        } \n    }\n\n    const handleInputDeviceId = e => {\n        if (e.length === DEVICE_ID_LENGTH) {\n            setDeviceId(e)\n        }\n    }\n\n    const buttons = <>\n        {!isLoading ? (\n            <Button onClick={connectToDevice}>\n                Connect to Wallet\n            </Button>\n        ) : (\n            <Button disabled>\n                <Loading />\n            </Button>\n        )}\n    </>\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.title}>Connect to Lattice Device</div>\n            <div className={styles.content}>\n                <p>\n                    The device ID is listed on your Lattice under{' '}\n                    <strong>Settings</strong>.\n                </p>\n                <h4>Device ID</h4>\n                <TextInput\n                    disabled={isSecretFieldShown}\n                    placeholder=\"Enter the device ID\"\n                    onInput={value => handleInputDeviceId(value)}\n                />\n                {isSecretFieldShown && (\n                    <>\n                        <h4>Secret</h4>\n                        <TextInput\n                            ref={inputSecretRef}\n                            placeholder=\"Enter secret\"\n                            style={{ textTransform:'uppercase' }}\n                            onInput={value => handleInputSecret(value)}\n                        />\n                    </>\n                )}\n                {(isLoading && !isSecretFieldShown) ? (\n                    <>\n                        <h3>It may takes a while.</h3>\n                        <h3>Please wait...</h3>\n                    </>\n                ) : (\n                    <></>\n                )}\n                {buttons}\n            </div>\n        </div>\n    )\n}\n\nexport default LatticePair\n","var _rect, _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Add_icon\",\n    \"data-name\": \"Add icon\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle_57\",\n    \"data-name\": \"Rectangle 57\",\n    width: 32,\n    height: 32,\n    fill: \"none\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Line_16\",\n    \"data-name\": \"Line 16\",\n    d: \"M14.667,16a1.329,1.329,0,0,1-.943-.391L.391,2.276A1.333,1.333,0,0,1,2.276.391L15.609,13.724A1.333,1.333,0,0,1,14.667,16Z\",\n    transform: \"translate(16 4.686) rotate(45)\",\n    fill: \"currentColor\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_44\",\n    \"data-name\": \"Path 44\",\n    d: \"M1.333,16a1.333,1.333,0,0,1-.943-2.276L13.724.391a1.333,1.333,0,1,1,1.886,1.886L2.276,15.609A1.329,1.329,0,0,1,1.333,16Z\",\n    transform: \"translate(16 4.686) rotate(45)\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.50379121.svg\";\nexport { ForwardRef as ReactComponent };","import { useCallback, useEffect, useState } from \"react\"\nimport { BsXLg } from \"react-icons/bs\"\nimport { LedgerSubprovider } from '@0x/subproviders/lib/src/subproviders/ledger' // https://github.com/0xProject/0x-monorepo/issues/1400\nimport { ledgerEthereumBrowserClientFactoryAsync } from '@0x/subproviders/lib/src' // https://github.com/0xProject/0x-monorepo/issues/1400\nimport TrezorConnect from '@trezor/connect-web'\nimport { TrezorSubprovider } from '@0x/subproviders/lib/src/subproviders/trezor' // https://github.com/0xProject/0x-monorepo/issues/1400\n\nimport { ledgerGetAddresses, PARENT_HD_PATH } from \"lib/ledgerWebHID\"\nimport { latticeConnect, latticeGetAddresses, latticeInit } from \"lib/lattice\"\nimport { validateAddAuthSignerAddress } from \"lib/validations/formValidations\"\nimport { isFirefox } from \"lib/isFirefox\"\n\nimport { useToasts } from \"hooks/toasts\"\nimport { Button, Loading, Modal, TextInput } from \"components/common\"\nimport LatticePair from \"components/common/LatticePair/LatticePair\"\nimport SelectSignerAccount from \"components/common/SelectSignerAccount/SelectSignerAccount\"\n\nimport { ReactComponent as TrezorIcon } from 'resources/providers/trezor.svg'\nimport { ReactComponent as LedgerIcon } from 'resources/providers/ledger.svg'\nimport { ReactComponent as GridPlusIcon } from 'resources/providers/grid-plus.svg'\nimport { ReactComponent as MetaMaskIcon } from 'resources/providers/metamask-fox.svg'\n\nimport styles from './AddAuthSignerModal.module.scss'\n\nconst AddAuthSignerModal = ({ onAddBtnClicked, selectedAcc, selectedNetwork }) => {\n  const { addToast } = useToasts()\n\n  const [disabled, setDisabled] = useState(true)\n  const [signerAddress, setSignerAddress] = useState({\n    address: '',\n    index: 0,\n  })\n  const [modalToggle, setModalToggle] = useState(true)\n  const [latticeToggle, setLatticeToggle] = useState(false)\n  const [signersToChoose, setChooseSigners] = useState(null)\n  const [showLoading, setShowLoading] = useState(false)\n  const [textInputInfo, setTextInputInfo] = useState('')\n  const [validationFormMgs, setValidationFormMgs] = useState({ \n    success: false, \n    message: ''\n  })\n\n  const onSignerAddressClicked = useCallback(value => {\n    setSignerAddress(value)\n    modalHandler()\n    if (signersToChoose) setTextInputInfo(`${signersToChoose.signerName} address # ${value.index + 1}`)\n    setChooseSigners(null)\n  }, [signersToChoose])\n  \n  async function connectLedgerAndGetAccounts() {\n    if (isFirefox()) {\n      await connectLedgerAndGetAccountsU2F()\n    } else {\n      await connectLedgerAndGetAccountsWebHID()\n    }\n  }\n\n  async function connectLedgerAndGetAccountsU2F() {\n    const provider = new LedgerSubprovider({\n      networkId: 0, // @TODO: is this needed?\n      ledgerEthereumClientFactoryAsync: ledgerEthereumBrowserClientFactoryAsync,\n      baseDerivationPath: PARENT_HD_PATH\n    })\n    // NOTE: do not attempt to do both of these together (await Promise.all)\n    // there is a bug in the ledger subprovider (race condition), so it will think we're trying to make two connections simultaniously\n    // cause one call won't be aware of the other's attempt to connect\n      const addresses = await provider.getAccountsAsync(100)\n      setChooseSigners({ addresses, signerName: 'Ledger' })\n      setModalToggle(true)\n  }\n\n  async function connectLedgerAndGetAccountsWebHID() {\n    let error = null\n    try {\n      const addrData = await ledgerGetAddresses()\n      if (addrData.length === 1) {\n        return onSignerAddressClicked({\n          address: addrData[0],\n          index: 0,\n        })\n      } else {\n        setChooseSigners({ address: addrData, signerName: 'Ledger' })\n        setModalToggle(true)\n      }\n    } catch (e) {\n      console.log(e)\n      if (e.statusCode && e.id === 'InvalidChannel') {\n        error = \"Invalid channel\"\n      } else if (e.statusCode && e.statusCode === 25873) {\n        error = \"Please make sure your ledger is connected and the ethereum app is open\"\n      } else {\n        error = e.message\n      }\n    }\n\n    if (error) {\n      addToast(`Ledger error: ${error.message || error}`, { error: true })\n    }\n  }\n\n  async function connectTrezorAndGetAccounts() {\n    /*\n      const engine = new Web3ProviderEngine({ pollingInterval: this.pollingInterval })\n      engine.addProvider(new TrezorSubprovider({ trezorConnectClientApi: TrezorConnect, ...this.config }))\n      engine.addProvider(new CacheSubprovider())\n      engine.addProvider(new RPCSubprovider(this.url, this.requestTimeoutMs))\n      */\n    TrezorConnect.manifest({\n      email: 'contactus@ambire.com',\n      appUrl: 'https://wallet.ambire.com'\n    })\n    const provider = new TrezorSubprovider({\n      trezorConnectClientApi: TrezorConnect,\n    })\n    const addresses = await provider.getAccountsAsync(100)\n    setChooseSigners({ addresses, signerName: 'Trezor' })\n    setModalToggle(true)\n  }\n\n  async function connectWeb3AndGetAccounts() {\n    // @TODO: pending state; should bein the LoginORSignup (AddAccount) component\n    if (typeof window.ethereum === 'undefined') {\n      // @TODO catch this\n      throw new Error('MetaMask not available')\n    }\n    const ethereum = window.ethereum\n    const permissions = await ethereum.request({\n      method: 'wallet_requestPermissions',\n      params: [{ eth_accounts: {} }],\n    })\n\n    const accountsPermission = permissions.find(\n      (permission) => permission.parentCapability === 'eth_accounts'\n    )\n\n    if (!accountsPermission) {\n      throw new Error('No accounts connected')\n    }\n\n    const addresses = accountsPermission.caveats[0].value\n\n    if (addresses.length === 1)\n      return onSignerAddressClicked({\n        address: addresses[0],\n        index: 0,\n      })\n\n    setChooseSigners({ addresses, signerName: 'Web3' })\n    setModalToggle(true)\n  }\n\n  const setLatticeAddresses = ({ addresses, deviceId, commKey, isPaired }) => {\n    setChooseSigners({\n      addresses, signerName: 'Lattice', signerExtra: {\n        type: 'Lattice',\n        deviceId: deviceId,\n        commKey: commKey,\n        isPaired: isPaired\n      }\n    })\n\n    setModalToggle(true)\n  }\n  \n  async function connectGridPlusAndGetAccounts() {\n    if (selectedAcc.signerExtra && \n      selectedAcc.signerExtra.type === 'Lattice' && \n      selectedAcc.signerExtra.isPaired) {\n        const { commKey, deviceId } = selectedAcc.signerExtra\n        const client = latticeInit(commKey)\n\n        setShowLoading(true)\n\n        const { isPaired, errConnect } = await latticeConnect(client, deviceId)\n        if (errConnect) {\n          setShowLoading(false)\n          setLatticeToggle(false)\n          addToast(errConnect.message || errConnect, { error: true })\n\n          return\n        }\n\n        if (!isPaired) {\n          setShowLoading(false)\n          setLatticeToggle(false)\n          // Canceling the visualization of the secret code on the device's screen.\n          client.pair('')\n\n          addToast(`The Lattice device is not paired! Please re-add your account!.`, { error: true })\n          \n          return \n        }\n\n        const { res, errGetAddresses } = await latticeGetAddresses(client)\n        if (errGetAddresses) {\n            setShowLoading(false)\n            setLatticeToggle(false)\n            addToast(`Lattice: ${errGetAddresses}`, { error: true })\n\n            return\n        }\n        \n        if (res) {\n          setShowLoading(false)\n          setLatticeToggle(false)\n          setLatticeAddresses({ addresses: res, deviceId, commKey, isPaired: true })\n        }\n      } else {\n        setLatticeToggle(true)\n      }\n  }\n\n  const modalHandler = () => {\n    setModalToggle(prevState => !prevState)\n  }\n\n  const wrapErr = async fn => {\n    try {\n      await fn()\n    } catch (e) {\n      console.error(e)\n      addToast(`Unexpected error: ${e.message || e}`, { error: true})\n    }\n  }\n\n  const handleSelectSignerAccountModalCloseClicked = useCallback(() => setChooseSigners(null), [])\n\n  const onTextInput = value => {\n    if (textInputInfo.length) setTextInputInfo('')\n    setSignerAddress({ ...signerAddress, address: value })\n  }\n\n  useEffect(() => {\n    const isAddressValid = validateAddAuthSignerAddress(signerAddress.address, selectedAcc.id)\n    \n    setDisabled(!isAddressValid.success)\n\n    setValidationFormMgs({ \n      success: isAddressValid.success, \n      message: isAddressValid.message ? isAddressValid.message : ''\n    })\n\n  }, [selectedAcc, signerAddress.address])\n\n\n  return !showLoading ? (\n    <Modal \n    title=\"Add Signer\" \n    className={styles.wrapper}\n    buttons={\n      <Button\n        className={styles.button}\n        disabled={disabled}\n        onClick={() => onAddBtnClicked(signerAddress)}\n        primaryGradient\n      >\n      Add\n    </Button>\n    }\n    >\n      <div className={styles.signers}>\n        <div className={styles.signer} onClick={() => wrapErr(connectTrezorAndGetAccounts)}>\n          <TrezorIcon />\n        </div>\n        <div className={styles.signer} onClick={() => wrapErr(connectLedgerAndGetAccounts)}>\n          <LedgerIcon />\n        </div>\n        <div className={styles.signer} onClick={() => wrapErr(connectGridPlusAndGetAccounts)}>\n          <GridPlusIcon className={styles.gridplus}/>\n        </div>\n        <div className={styles.signer} onClick={() => wrapErr(connectWeb3AndGetAccounts)}>\n          <MetaMaskIcon className={styles.metamask} />\n        </div>\n      </div>\n      <TextInput\n        placeholder=\"Enter signer address\"\n        className={styles.signerAddress}\n        value={signerAddress.address}\n        info={textInputInfo}\n        onInput={onTextInput}\n      />\n      { validationFormMgs.message && \n        <div className={styles.validationeError}><BsXLg size={12}/>&nbsp;{validationFormMgs.message}</div>\n      }\n\n      {latticeToggle && <LatticePair addresses={setLatticeAddresses} />}\n\n      {modalToggle && signersToChoose && <SelectSignerAccount\n          showTitle\n          signersToChoose={signersToChoose.addresses}\n          selectedNetwork={selectedNetwork}\n          onSignerAddressClicked={onSignerAddressClicked}\n          description={`You will authorize the selected ${signersToChoose.signerName} address to sign transactions for your account.`}\n          onCloseBtnClicked={handleSelectSignerAccountModalCloseClicked}\n      />}\n    </Modal>\n  ) : <Loading />\n}\n\nexport default AddAuthSignerModal","import Lottie from 'lottie-react'\nimport { Button, Modal } from \"components/common\"\nimport { useModals } from \"hooks\"\n\nimport AnimationData from './assets/astronaut-animation.json'\nimport styles from './RemoveSignerModal.module.scss'\n\nconst RemoveSignerModal = ({ onClick,  }) => {\n  const { hideModal } = useModals()\n\n  const Buttons = <>\n    <Button border onClick={hideModal}>\n      Cancel\n    </Button>\n    <Button border className={styles.removeButton} onClick={onClick}>\n      Remove\n    </Button>\n  </>\n\n  return (\n    <Modal \n      title=\"Remove Signer\"\n      buttons={Buttons}\n      isCloseBtnShown={false}\n      className={styles.wrapper}\n    >\n      <Lottie className={styles.animation} animationData={AnimationData} background=\"transparent\" speed=\"1\" loop autoplay />\n      <p className={styles.text}>Are you sure you want to remove this signer?</p>\n    </Modal>\n  )\n}\n\nexport default RemoveSignerModal","import cn from 'classnames'\nimport accountPresets from 'ambire-common/src/constants/accountPresets'\n\nimport { getName } from 'lib/humanReadableTransactions'\nimport { useModals } from 'hooks'\nimport useConstants from 'hooks/useConstants'\nimport { Button, Checkbox } from 'components/common'\nimport RemoveSignerModal from 'components/Modals/RemoveSignerModal/RemoveSignerModal'\n\nimport { ReactComponent as CloseIcon } from 'resources/icons/close.svg'\nimport styles from './Signer.module.scss'\n\nconst Signer = ({ \n  addr,\n  addToast,\n  privValue, \n  selectedAccount, \n  hasPendingReset,\n  relayerData,\n  handleDisableOtp, \n  handleEnableOtp,\n  onMakeDefaultBtnClicked,\n  onRemoveBtnClicked,\n  showResetPasswordModal,\n}) => {\n  const { showModal } = useModals()\n\n  const otpEnabled = relayerData ? relayerData.otpEnabled : null\n  const { constants: { humanizerInfo } } = useConstants()\n\n  if (!privValue) return null\n  \n  const addressName = getName(humanizerInfo, addr) || null\n  const isQuickAcc = addr === accountPresets.quickAccManager\n  const privText = isQuickAcc\n    ? (selectedAccount.email || 'unknown email')\n    : `${addr} ${addressName && addressName !== addr ? `(${addressName})` : ''}`\n  const signerAddress = isQuickAcc\n    ? selectedAccount.signer.quickAccManager\n    : selectedAccount.signer.address\n  const isSelected = signerAddress === addr\n  const canChangePassword = isQuickAcc && !hasPendingReset\n\n  const handleCheckboxClick = () => {\n    if (isSelected) {\n      addToast('Signer is already default.', { error: true })\n      return\n    } else onMakeDefaultBtnClicked(selectedAccount, addr, isQuickAcc)\n  }\n\n  const handleRemove = () => showModal(<RemoveSignerModal onClick={() => onRemoveBtnClicked(addr)} />)\n\n  return (\n    <div className={cn(styles.wrapper, {[styles.active]: isSelected})}>\n      <div>\n        <div className={styles.manage}>\n          <Checkbox\n            disabled={isSelected}\n            checked={isSelected}\n            onChange={handleCheckboxClick}\n            className={styles.checkbox}\n            labelClassName={styles.checkboxLabel}\n            label={isSelected ? \"Already default\" : \"Set as default\"}\n          />\n          <button\n            className={cn(styles.close, {[styles.disabled]: isSelected})}\n            title={isSelected ? 'Cannot remove the currently used signer' : 'Remove Signer'}\n            disabled={isSelected}\n            onClick={handleRemove}\n          >\n            <CloseIcon />\n          </button>\n        </div>\n        <div className={styles.body}>\n          {\n            isQuickAcc ? <label className={styles.signerType}>\n              Email/password signer\n            </label> : null\n          }\n          <label className={styles.privText}>{privText}</label>\n        </div>\n      </div>\n      <div className={styles.buttons}>\n        {isQuickAcc && (otpEnabled !== null) && (otpEnabled ?\n            <Button className={styles.button} red onClick={handleDisableOtp}>Disable 2FA</Button> :\n            <Button className={styles.button} primaryGradient onClick={handleEnableOtp}>Enable 2FA</Button>\n        )}\n        {isQuickAcc && <Button\n          disabled={!canChangePassword}\n          className={styles.button}\n          title={hasPendingReset ? 'Account recovery already in progress' : ''}\n          onClick={showResetPasswordModal} \n          >\n            Change password\n          </Button>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Signer","import { useHistory } from 'react-router-dom'\nimport privilegesOptions from 'ambire-common/src/constants/privilegesOptions'\nimport { Interface } from \"ethers/lib/utils\"\n\nimport { useModals } from \"hooks\"\nimport { useToasts } from \"hooks/toasts\"\n\nimport { ResetPasswordModal } from \"components/Modals\"\nimport OtpTwoFADisableModal from \"components/Modals/OtpTwoFADisableModal/OtpTwoFADisableModal\"\nimport OtpTwoFAModal from \"components/Modals/OtpTwoFAModal/OtpTwoFAModal\"\nimport AddAuthSignerModal from \"components/Modals/AddAuthSignerModal/AddAuthSignerModal\"\nimport Signer from \"./Signer/Signer\"\n\nimport styles from './Signers.module.scss'\nimport { ReactComponent as AddIcon } from 'resources/icons/add.svg'\n\nconst IDENTITY_INTERFACE = new Interface(\n  require('adex-protocol-eth/abi/Identity5.2')\n)\n\nconst Signers = ({\n  relayerURL,\n  signers,\n  relayerData,\n  onAddAccount,\n  setCacheBreak,\n  selectedAcc,\n  selectedAccount,\n  selectedNetwork,\n  addRequest,\n  showSendTxns,\n  hasPendingReset\n}) => {\n  const { showModal } = useModals()\n  const { addToast } = useToasts()\n  const history = useHistory()\n\n  const showResetPasswordModal = () => {\n    if (!relayerURL) {\n      addToast('Unsupported without a connection to the relayer', { error: true })\n      return\n    }\n    showModal(<ResetPasswordModal\n      account={selectedAccount}\n      selectedNetwork={selectedNetwork}\n      relayerURL={relayerURL}\n      onAddAccount={onAddAccount}\n      showSendTxns={showSendTxns}\n    />)\n  }\n\n  const handleEnableOtp = () => {\n    if (!relayerURL) {\n      return addToast('Unsupported without a connection to the relayer', { error: true })\n    }\n\n    showModal(<OtpTwoFAModal\n      relayerURL={relayerURL} \n      selectedAcc={selectedAccount} \n      setCacheBreak={() => { setCacheBreak(Date.now()) }} \n      />)\n  }\n\n  const handleDisableOtp = async() => {\n    if (!relayerURL) {\n      return addToast('Unsupported without a connection to the relayer', { error: true })\n    }\n    \n    showModal(<OtpTwoFADisableModal\n      relayerURL={relayerURL} \n      selectedAcc={selectedAccount} \n      setCacheBreak={() => { setCacheBreak(Date.now()) }} \n      />)\n  }\n\n  const onAddBtnClickedHandler = newSignerAddress => {\n    const txn = craftTransaction(\n      newSignerAddress.address,\n      privilegesOptions.true\n    )\n    addTransactionToAddRequest(txn)\n  }\n\n  const onMakeDefaultBtnClicked = async (account, address, isQuickAccount) => {\n    if (isQuickAccount) {\n      return addToast((<span>To make this signer default, please <a href='#/email-login'>please login with the email</a></span>), {url: '/#/email-login', error: true})\n    } else {\n      onAddAccount({ ...account, signer: { address: address }, signerExtra: null })\n      addToast(\n        'This signer is now the default. If it is a hardware wallet, you will have to re-add the account manually to connect it directly, otherwise you will have to add this signer address to your web3 wallet.',\n        { timeout: 30000 }\n      )\n    }\n\n    history.push('/wallet/security')\n  }\n\n  const craftTransaction = (address, privLevel) => {\n    return {\n      to: selectedAcc,\n      data: IDENTITY_INTERFACE.encodeFunctionData('setAddrPrivilege', [\n        address,\n        privLevel,\n      ]),\n      value: '0x00',\n    }\n  }\n\n  const addTransactionToAddRequest = txn => {\n    try {\n      addRequest({\n        id: `setPriv_${txn.data}`,\n        type: 'eth_sendTransaction',\n        txn: txn,\n        chainId: selectedNetwork.chainId,\n        account: selectedAcc,\n      })\n    } catch (err) {\n      console.error(err)\n      addToast(`Error: ${err.message || err}`, { error: true })\n    }\n  }\n\n  const onRemoveBtnClicked = key => {\n    const txn = craftTransaction(key, privilegesOptions.false)\n    addTransactionToAddRequest(txn)\n  }\n  \n  return <div className={styles.wrapper}>\n    {signers.map(([addr, privValue]) => (\n      <Signer\n        key={addr}\n        addr={addr}\n        addToast={addToast}\n        privValue={privValue}\n        selectedAccount={selectedAccount}\n        hasPendingReset={hasPendingReset}\n        relayerData={relayerData}\n        handleDisableOtp={handleDisableOtp}\n        handleEnableOtp={handleEnableOtp}\n        onMakeDefaultBtnClicked={onMakeDefaultBtnClicked}\n        showResetPasswordModal={showResetPasswordModal}\n        onRemoveBtnClicked={onRemoveBtnClicked}\n      />\n    ))}\n    <div \n      className={styles.addSigner} \n      onClick={() => {\n        showModal(\n          <AddAuthSignerModal \n            selectedAcc={selectedAccount} \n            selectedNetwork={selectedNetwork} \n            onAddBtnClicked={onAddBtnClickedHandler} \n          />\n        )\n      }}\n    >\n      <div className={styles.addSignerBody}>\n        <AddIcon />\n        <label>Add Signer</label>\n      </div>\n    </div>\n  </div>\n}\n\nexport default Signers","import { RiDragDropLine } from 'react-icons/ri'\nimport { useState, useEffect, useCallback } from 'react'\nimport { Loading, Panel } from 'components/common'\nimport { AbiCoder, keccak256 } from 'ethers/lib/utils'\nimport cn from 'classnames'\nimport { useRelayerData } from 'hooks'\nimport { useToasts } from 'hooks/toasts'\nimport { useDropzone } from 'react-dropzone'\nimport { validateImportedAccountProps, fileSizeValidator } from 'lib/validations/importedAccountValidations'\nimport Backup from './Backup/Backup'\nimport PendingRecoveryNotice from './PendingRecoveryNotice/PendingRecoveryNotice'\nimport Alert from './Alert/Alert'\nimport Signers from './Signers/Signers'\n\nimport styles from './Security.module.scss'\n\nconst REFRESH_INTVL = 40000\n\nconst Security = ({\n  relayerURL,\n  selectedAcc,\n  selectedNetwork,\n  accounts,\n  addRequest,\n  showSendTxns,\n  onAddAccount\n}) => {\n  const [ cacheBreak, setCacheBreak ] = useState(() => Date.now())\n  \n  useEffect(() => {\n    if (Date.now() - cacheBreak > 30000) setCacheBreak(Date.now())\n    const intvl = setTimeout(() => setCacheBreak(Date.now()), REFRESH_INTVL)\n    return () => clearTimeout(intvl)\n  }, [cacheBreak])\n\n  const url = relayerURL\n    ? `${relayerURL}/identity/${selectedAcc}/${selectedNetwork.id}/privileges?cacheBreak=${cacheBreak}`\n    : null\n  const { data, errMsg, isLoading } = useRelayerData({ url })\n  const privileges = data ? data.privileges : {}\n  const recoveryLock = data && data.recoveryLock\n  const { addToast } = useToasts()\n  const selectedAccount = accounts.find(x => x.id === selectedAcc)\n  \n  // JSON import\n  const onDrop = useCallback((acceptedFiles, rejectedFiles) => {\n    const reader = new FileReader()\n    \n    if (rejectedFiles.length) {\n      addToast(`${rejectedFiles[0].file.path} - ${(rejectedFiles[0].file.size / 1024).toFixed(2)} KB. ${rejectedFiles[0].errors[0].message}`, { error: true })\n    }\n\n    if (acceptedFiles.length){\n      const file = acceptedFiles[0]\n\n      reader.readAsText(file,'UTF-8')\n      reader.onload = readerEvent => {\n        const content = readerEvent.target.result\n        const fileContent = JSON.parse(content)\n        const validatedFile = validateImportedAccountProps(fileContent)\n        \n        if (validatedFile.success) onAddAccount(fileContent, { select: true })\n        else addToast(validatedFile.message, { error: true})\n      }\n    }\n  }, [addToast, onAddAccount])\n  const { getRootProps, getInputProps, open, isDragActive, isDragAccept, isDragReject } = useDropzone({\n    onDrop,\n    noClick: true,\n    noKeyboard: true,\n    accept: 'application/json',\n    maxFiles: 1,\n    validator: fileSizeValidator\n  })\n\n  // @TODO relayerless mode: it's not that hard to implement in a primitive form, we need everything as-is\n  // but rendering the initial privileges instead; or maybe using the relayerless transactions hook/service\n  // and aggregate from that\n  const accHash = signer => {\n      const abiCoder = new AbiCoder()\n      const { timelock, one, two } = signer\n      return keccak256(abiCoder.encode(['tuple(uint, address, address)'], [[timelock, one, two]]))\n  }\n  const hasPendingReset = privileges[selectedAccount.signer.quickAccManager] && (\n    (recoveryLock && recoveryLock.status && !isLoading)\n      || (\n          privileges && selectedAccount.signer.quickAccManager\n          // is or has been in recovery state\n          && selectedAccount.signer.preRecovery\n          // but that's not finalized yet\n          && accHash(selectedAccount.signer) !== privileges[selectedAccount.signer.quickAccManager]\n      )\n  )\n\n  const showLoading = isLoading && !data\n  const signersFragment = relayerURL ? (\n  <div>\n    <Alert network={selectedNetwork.name} />\n    <Panel className={styles.panel} title=\"Authorized signers\" titleClassName={styles.title}>\n      {hasPendingReset && !showLoading && (<PendingRecoveryNotice\n        recoveryLock={recoveryLock}\n        showSendTxns={showSendTxns}\n        selectedAccount={selectedAccount}\n        selectedNetwork={selectedNetwork}\n      />)}\n      {errMsg && (\n        <h3 className={styles.error}>Error getting authorized signers: {errMsg}</h3>\n      )}\n      {(!showLoading && Object.entries(privileges)) ? <Signers \n        relayerURL={relayerURL}\n        relayerData={data} \n        signers={Object.entries(privileges)} \n        onAddAccount={onAddAccount}\n        cacheBreak={cacheBreak}\n        setCacheBreak={setCacheBreak}\n        selectedAcc={selectedAcc}\n        selectedAccount={selectedAccount}\n        selectedNetwork={selectedNetwork}\n        addRequest={addRequest}\n        showSendTxns={showSendTxns}\n        hasPendingReset={hasPendingReset}\n      /> : <Loading />}\n    </Panel>\n  </div>) : (\n    <Panel className={styles.panel} title=\"Authorized signers\">\n      <h3 className={styles.error}>\n        Unsupported: not connected to a relayer.\n      </h3>\n    </Panel>\n  )\n  return (\n    <section className={cn(\n      styles.wrapper,\n      {\n        [styles.activeStyle]: isDragActive,\n        [styles.acceptStyle]: isDragAccept,\n        [styles.rejectStyle]: isDragReject\n      })\n    }\n      {...getRootProps()}\n    >\n      {\n        (isDragAccept || isDragReject)\n        && (<div className={isDragAccept ? styles.acceptStyleIcon : styles.rejectStyleIcon}><RiDragDropLine size={100}/></div>)\n      }\n      \n      <input {...getInputProps()} />\n      {signersFragment}\n\n      <Backup\n        selectedAccount={selectedAccount}\n        accounts={accounts}\n        onOpen={open}\n        onAddAccount={onAddAccount}\n      />\n    </section>\n  )\n}\n\nexport default Security\n","import TransportWebHID from '@ledgerhq/hw-transport-webhid'\nimport AppEth from '@ledgerhq/hw-app-eth'\nimport { serialize } from '@ethersproject/transactions'\n\nconst EIP_155_CONSTANT = 35\n\nconst ethUtil = require('ethereumjs-util')\nconst HDNode = require('hdkey')\n\nlet connectedDevices = null\n\nexport const PARENT_HD_PATH = \"44'/60'/0'/0\"\n\nasync function getTransport() {\n  connectedDevices = await TransportWebHID.list()\n  if (connectedDevices.length) {\n    if (connectedDevices[0].opened) {\n      return new TransportWebHID(connectedDevices[0])\n    } else { // when transport is still not closed and time between 2 requests is short\n      return TransportWebHID.open(connectedDevices[0])\n    }\n  } else {\n    try {\n      return await TransportWebHID.request()\n    } catch (e) {\n      if (e.message.includes('reading \\'open\\'')) {\n        throw new Error('ledger WebHID request denied')\n      }\n      throw new Error('Could not request WebHID ledger: ' + e.message)\n    }\n  }\n}\n\nexport async function ledgerGetAddresses() {\n  const transport = await getTransport()\n  const accounts = await getAccounts(transport)\n  transport.close()\n\n  return accounts.map(a => a.address)\n}\n\nasync function getAccounts(transport) {\n  const parentKeyDerivationPath = `m/${PARENT_HD_PATH}`\n  let ledgerResponse\n  ledgerResponse = await getAddressInternal(transport, parentKeyDerivationPath).then(o => o).catch(err => {\n    if (err.statusCode === 25871 || err.statusCode === 27404) {\n      throw Error('Please make sure your ledger is unlocked and running the Ethereum app. ' + err.message)\n    } else {\n      throw Error('Could not get address from ledger : ' + err)\n    }\n  })\n\n  const hdKey = new HDNode()\n  hdKey.publicKey = Buffer.from(ledgerResponse.publicKey, 'hex')\n  hdKey.chainCode = Buffer.from(ledgerResponse.chainCode, 'hex')\n  const mainAddress = addressOfHDKey(hdKey)\n\n  const initialDerivedKeyInfo = {\n    hdKey,\n    address: mainAddress,\n    derivationPath: parentKeyDerivationPath,\n    baseDerivationPath: PARENT_HD_PATH,\n  }\n\n  // currently we can't get addrs to match with what appears in MM/Ledger live so only one is derived\n  return calculateDerivedHDKeyInfos(initialDerivedKeyInfo, 1)\n}\n\n\nasync function getAddressInternal(transport, parentKeyDerivationPath) {\n  let timeoutHandle\n  const appEth = new AppEth(transport)\n\n  const ledgerTimeout = new Promise((resolve, reject) => {\n    timeoutHandle = setTimeout(() => {\n      return reject(new Error('Device took too long to respond...'))\n    }, 10000)\n  })\n\n  return Promise.race([\n    appEth.getAddress(parentKeyDerivationPath, false, true),\n    ledgerTimeout\n  ]).then((res) => {\n    clearTimeout(timeoutHandle)\n    return res\n  })\n}\n\nexport async function ledgerSignTransaction(txn, chainId) {\n  const transport = await getTransport()\n\n  const fromAddr = txn.from\n\n  const unsignedTxObj = {\n    ...txn,\n    gasLimit: txn.gasLimit || txn.gas,\n    chainId: chainId\n  }\n  delete unsignedTxObj.from\n  delete unsignedTxObj.gas\n\n  let serializedUnsigned = serialize(unsignedTxObj)\n  const accountsData = await getAccounts(transport)\n\n  //Managing only 1 addr for now\n  const address = accountsData[0].address\n\n  let serializedSigned\n  if (address.toLowerCase() === fromAddr.toLowerCase()) {\n    let rsvResponse\n    try {\n      rsvResponse = await new AppEth(transport).signTransaction(accountsData[0].derivationPath, serializedUnsigned.substr(2))\n    } catch (e) {\n      throw new Error('Could not sign transaction ' + e)\n    }\n\n    const intV = parseInt(rsvResponse.v, 16)\n    const signedChainId = Math.floor((intV - EIP_155_CONSTANT) / 2)\n\n    if (signedChainId !== chainId) {\n      throw new Error('Invalid returned V 0x' + rsvResponse.v)\n    }\n\n    delete unsignedTxObj.v\n    serializedSigned = serialize(unsignedTxObj, {\n      r: '0x' + rsvResponse.r,\n      s: '0x' + rsvResponse.s,\n      v: intV\n    })\n  } else {\n    throw new Error('Incorrect address. Are you using the correct account/ledger?')\n  }\n\n  transport.close()\n\n  return serializedSigned\n}\n\nexport async function ledgerSignMessage(hash, signerAddress) {\n  const transport = await getTransport()\n\n  const accountsData = await getAccounts(transport)\n\n  //TODO for multiple accs?\n  const account = accountsData[0]\n\n  let signedMsg\n  if (account.address.toLowerCase() === signerAddress.toLowerCase()) {\n    try {\n      const rsvReply = await new AppEth(transport).signPersonalMessage(account.derivationPath, hash.substr(2))\n      signedMsg = '0x' + rsvReply.r + rsvReply.s + rsvReply.v.toString(16)\n    } catch (e) {\n      throw new Error('Signature denied ' + e.message)\n    }\n  } else {\n    throw new Error('Incorrect address. Are you using the correct account/ledger?')\n  }\n  transport.close()\n  return signedMsg\n}\n\nexport async function ledgerSignMessage712(domainSeparator, hashStructMessage, signerAddress) {\n  const transport = await getTransport()\n\n  const accountsData = await getAccounts(transport)\n\n  //TODO for multiple accs?\n  const account = accountsData[0]\n\n  let signedMsg\n  if (account.address.toLowerCase() === signerAddress.toLowerCase()) {\n    try {\n      const rsvReply = await new AppEth(transport).signEIP712HashedMessage(account.derivationPath, domainSeparator, hashStructMessage)\n      signedMsg = '0x' + rsvReply.r + rsvReply.s + rsvReply.v.toString(16)\n    } catch (e) {\n      throw new Error('Signature denied ' + e.message)\n    }\n  } else {\n    throw new Error('Incorrect address. Are you using the correct account/ledger?')\n  }\n  transport.close()\n  return signedMsg\n}\n\nfunction calculateDerivedHDKeyInfos(initialDerivedKeyInfo, count) {\n  const derivedKeys = []\n  for (let i = 0; i < count; i++) {\n\n    const fullDerivationPath = `m/${initialDerivedKeyInfo.baseDerivationPath}/${i}`\n    const path = `m/${i}`\n    const hdKey = initialDerivedKeyInfo.hdKey.derive(path)\n    const address = addressOfHDKey(hdKey)\n    const derivedKey = {\n      address,\n      hdKey,\n      baseDerivationPath: initialDerivedKeyInfo.baseDerivationPath,\n      derivationPath: fullDerivationPath,\n    }\n\n    derivedKeys.push(derivedKey)\n  }\n  return derivedKeys\n}\n\nexport function addressOfHDKey(hdKey) {\n  const shouldSanitizePublicKey = true\n  const derivedPublicKey = hdKey.publicKey\n  const ethereumAddressUnprefixed = ethUtil\n    .publicToAddress(derivedPublicKey, shouldSanitizePublicKey)\n    .toString('hex')\n  return ethUtil.addHexPrefix(ethereumAddressUnprefixed).toLowerCase()\n}\n","import { parseUnits } from 'ethers/lib/utils'\nimport { isValidAddress, isKnownTokenOrContract } from 'ambire-common/src/services/address'\nimport accountPresets from 'ambire-common/src/constants/accountPresets'\n\nconst validateAddress = address => {\n    if (!(address && address.length)) {\n        return {\n            success: false,\n            message: ''\n        }\n    }\n\n    if (!(address && isValidAddress(address))) {\n        return {\n            success: false,\n            message: 'Invalid address.'\n        }\n    }\n\n    return { success: true }\n}\n\nconst validateAddAuthSignerAddress = (address, selectedAcc) => {\n    const isValidAddr = validateAddress(address)\n    if (!isValidAddr.success) return isValidAddr\n\n    if (address && selectedAcc && (address === selectedAcc)) {\n        return {\n            success: false,\n            message: 'The entered address should be different than the your own account address.'\n        }\n    }\n    \n    return { success: true }\n}\n\nconst validateSendTransferAddress = (address, selectedAcc, addressConfirmed, isKnownAddress, isUDAddress, isEnsAddress) => {\n    const isValidAddr = validateAddress(address)\n    if (!isValidAddr.success) return isValidAddr\n\n    if (address && address === accountPresets.feeCollector) {\n        return {\n            success: true\n        }\n    }\n\n    if (address && selectedAcc && (address === selectedAcc)) {\n        return {\n            success: false,\n            message: 'The entered address should be different than the your own account address.'\n        }\n    }\n    \n    if (address && isKnownTokenOrContract(address)) {\n        return {\n            success: false,\n            message: 'You are trying to send tokens to a smart contract. Doing so would burn them.'\n        }\n    }\n\n    if (address && (!isKnownAddress(address) && !addressConfirmed && !isUDAddress && !isEnsAddress)) { \n        return {\n            success: false,\n            message: `You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below.`\n        }\n    }\n\n    if (address && (!isKnownAddress(address) && !addressConfirmed && (isUDAddress || isEnsAddress))) { \n        const name = isUDAddress ? 'Unstoppable domain' : 'Ethereum Name Service'\n        return {\n            success: false,\n            message: `You're trying to send to an ${name}. If you really trust to the person who gave you, confirm using the checkbox below.`\n        }\n    }\n\n    return { success: true }\n}\n\nconst validateSendTransferAmount = (amount, selectedAsset) => {\n    if (!(amount && amount.length)) {\n        return {\n            success: false,\n            message: ''\n        }\n    }\n    \n    if (!(amount && (amount > 0))) {\n        return {\n            success: false,\n            message: 'The amount must be greater than 0.'\n        }\n    }\n\n    try {\n        if (amount && selectedAsset && selectedAsset.decimals) {\n            const parsedAmount = amount.slice(0, amount.indexOf('.') + selectedAsset.decimals + 1); // Fixed decimals in case amount is bigger than selectedAsset.decimals, otherwise would cause overflow error\n            const bigNumberAmount = parseUnits(parsedAmount, selectedAsset.decimals)\n            if (bigNumberAmount && selectedAsset.balanceRaw && bigNumberAmount.gt(selectedAsset.balanceRaw)) {\n                return {\n                    success: false,\n                    message: `The amount is greater than the asset's balance: ${selectedAsset?.balance} ${selectedAsset?.symbol}.`\n                }\n            }\n        }\n    } catch(e) {\n        console.error(e);\n    }\n\n    return { success: true }\n}\n\nconst validateSendNftAddress = (address, selectedAcc, addressConfirmed, isKnownAddress, metadata, selectedNetwork, network, isUDAddress, isEnsAddress) => {\n    const isValidAddr = validateSendTransferAddress(address, selectedAcc, addressConfirmed, isKnownAddress, isUDAddress, isEnsAddress)\n    if (!isValidAddr.success) return isValidAddr\n\n    if (metadata && selectedAcc && (metadata.owner?.address.toLowerCase() !== selectedAcc.toLowerCase())) {\n        return {\n            success: false,\n            message: `The NFT you're trying to send is not owned by you!`\n        }\n    }\n\n    if (selectedNetwork && network && (selectedNetwork.id !== network)) {\n        return {\n            success: false,\n            message: 'The selected network is not the correct one.'\n        }\n    }\n\n    return { success: true }\n}\n\nexport {\n    validateAddAuthSignerAddress,\n    validateSendNftAddress,\n    validateSendTransferAddress,\n    validateSendTransferAmount\n}\n","var _path, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrezor(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"trezor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 120 33.765\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path7\",\n    d: \"M11.638,0a8.376,8.376,0,0,0-8.38,8.38v3.141C1.631,11.816,0,12.208,0,12.718V29.109a.772.772,0,0,0,.509.668c1.846.748,9.11,3.318,10.778,3.907a.834.834,0,0,0,.332.079.767.767,0,0,0,.332-.079c1.669-.589,8.951-3.16,10.8-3.907a.78.78,0,0,0,.491-.65V12.718c0-.509-1.608-.921-3.239-1.2V8.38A8.357,8.357,0,0,0,11.638,0Zm0,4.006a4.036,4.036,0,0,1,4.379,4.379v2.73a59.489,59.489,0,0,0-8.754,0V8.385A4.033,4.033,0,0,1,11.638,4.006Zm-.019,11.129c3.809,0,7.006.294,7.006.823V26.183c0,.159-.019.178-.159.234s-6.5,2.356-6.5,2.356a2.175,2.175,0,0,1-.332.079,1.728,1.728,0,0,1-.332-.1s-6.361-2.295-6.5-2.356-.159-.079-.159-.234V15.938C4.613,15.41,7.81,15.134,11.619,15.134Z\",\n    fill: \"currentColor\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"g3222\",\n    transform: \"translate(29.956 10.862)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path13\",\n    d: \"M55.464,64.3V53.1H51.372V49.085H64.13V53.1H60.078V64.3Z\",\n    transform: \"translate(-51.372 -48.839)\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path15\",\n    d: \"M89.177,64.3l-2.1-4.784H85.407V64.3H80.792V49.085h8.121c3.565,0,5.477,2.363,5.477,5.213a4.9,4.9,0,0,1-2.738,4.615L94.408,64.3H89.177Zm.545-10c0-.826-.733-1.184-1.5-1.184H85.407v2.4h2.814C88.99,55.5,89.722,55.142,89.722,54.3Z\",\n    transform: \"translate(-66.082 -48.839)\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path17\",\n    d: \"M112.831,64.3V49.085h11.539V53.1h-6.942v1.5H124.2v4.016h-6.772v1.671h6.942V64.3H112.831Z\",\n    transform: \"translate(-82.101 -48.839)\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path19\",\n    d: \"M140.705,64.335V60.677l5.8-7.541h-5.8V49.12h11.874v3.623l-5.816,7.581h5.986V64.34Z\",\n    transform: \"translate(-96.039 -48.857)\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path21\",\n    d: \"M167.044,56.473c0-4.673,3.623-7.88,8.331-7.88,4.69,0,8.331,3.19,8.331,7.88,0,4.673-3.623,7.862-8.331,7.862S167.044,61.146,167.044,56.473Zm11.972,0a3.662,3.662,0,1,0-3.659,3.81A3.607,3.607,0,0,0,179.015,56.473Z\",\n    transform: \"translate(-109.208 -48.593)\",\n    fill: \"currentColor\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path23\",\n    d: \"M212.613,64.335l-2.1-4.784h-1.671v4.784h-4.615V49.12h8.121c3.565,0,5.477,2.363,5.477,5.213a4.9,4.9,0,0,1-2.738,4.615l2.756,5.383h-5.231Zm.563-10.02c0-.826-.733-1.184-1.5-1.184H208.86v2.4h2.814C212.447,55.517,213.176,55.16,213.176,54.316Z\",\n    transform: \"translate(-127.8 -48.857)\",\n    fill: \"currentColor\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrezor);\nexport default __webpack_public_path__ + \"static/media/trezor.062495dd.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLedger(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 120 29.477\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"ledger-new-logo-\",\n    d: \"M20.728,0H9.421V15.259H24.68V3.952A3.943,3.943,0,0,0,20.728,0ZM5.9,0H3.952A3.943,3.943,0,0,0,0,3.952V5.9H5.9ZM0,9.421H5.9v5.9H0ZM18.846,24.68h1.945a3.943,3.943,0,0,0,3.952-3.952V18.846h-5.9ZM9.421,18.846h5.9v5.9h-5.9ZM0,18.846v1.945a3.943,3.943,0,0,0,3.952,3.952H5.9v-5.9ZM39.757,1.58h-2.31V23.158h12.22V21.093h-9.91ZM57.081,7.294c-4.5,0-7.658,3.342-7.658,8.143v.552a7.884,7.884,0,0,0,7.841,7.6h.3a8.863,8.863,0,0,0,5.714-2.127l.062-.062L62.31,19.7l-.12.062a6.753,6.753,0,0,1-4.557,1.825c-2.794,0-5.651-1.825-5.834-5.9H63.472v-.12s.062-.73.062-1.095c-.014-4.379-2.564-7.178-6.453-7.178Zm-5.229,6.444a5.107,5.107,0,0,1,5.1-4.5c1.945,0,4.072,1.157,4.254,4.5ZM76.9,9.118V9.91a5.511,5.511,0,0,0-4.681-2.674h-.182c-4.134,0-6.991,3.284-6.991,8.086,0,4.864,2.737,8.143,6.809,8.143a5.678,5.678,0,0,0,5.166-2.794v2.372h2.189V1.58H76.959V9.118Zm-4.744,12.34c-2.857,0-4.739-2.43-4.739-6.079,0-3.524,2.007-6.016,4.8-6.016,2.372,0,4.739,1.882,4.739,6.016C76.954,19.878,74.462,21.458,72.153,21.458ZM92.516,9.421v.12c-.427-.73-1.762-2.31-4.984-2.31-4.072,0-6.746,3.1-6.746,7.841s2.794,7.961,6.929,7.961a5.171,5.171,0,0,0,4.8-2.43V22.73c0,2.977-1.882,4.681-5.229,4.681a9.071,9.071,0,0,1-4.134-1.032l-.12-.062-.85,1.882.12.062a11.382,11.382,0,0,0,5.046,1.215c3.587,0,7.414-1.825,7.414-6.871V7.658H92.516Zm-4.5,11.61c-2.977,0-4.922-2.31-4.922-5.9,0-3.649,1.7-5.714,4.619-5.714,3.222,0,4.739,1.882,4.739,5.714.062,3.769-1.517,5.9-4.437,5.9ZM103.944,7.294c-4.5,0-7.6,3.342-7.6,8.086v.547a7.884,7.884,0,0,0,7.841,7.6h.3A8.863,8.863,0,0,0,110.2,21.4l.062-.062-1.095-1.7-.12.062A6.753,6.753,0,0,1,104.5,21.52c-2.794,0-5.651-1.825-5.834-5.9h11.725V15.5s.062-.73.062-1.095c0-4.317-2.554-7.116-6.506-7.116Zm-5.166,6.444a5.107,5.107,0,0,1,5.1-4.5c1.945,0,4.072,1.157,4.254,4.5ZM119.933,7.6c-.3-.062-.547-.062-.85-.12a5.2,5.2,0,0,0-4.8,3.587V7.6h-2.247l.062,15.379v.12h2.31v-6.5a9.327,9.327,0,0,1,.427-2.919c.73-2.372,2.372-3.889,4.317-3.889a2.887,2.887,0,0,1,.73.062H120V7.6Z\",\n    transform: \"translate(0 0)\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLedger);\nexport default __webpack_public_path__ + \"static/media/ledger.cdb38f76.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGridPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"grid_logo\",\n    \"data-name\": \"grid + logo\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: \"0 0 110 34.992\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"logo\",\n    \"data-name\": \"Subtraction 20\",\n    d: \"M15.132,28.573a17.514,17.514,0,0,1-6.039-1.027A14.248,14.248,0,0,1,4.3,24.657,13.02,13.02,0,0,1,1.14,20.2,14.46,14.46,0,0,1,0,14.45C0,6.077,6.4,0,15.212,0a15.37,15.37,0,0,1,9.32,2.778s0,.006,0,.013c-.051.127-.675,1.14-1.264,2.074s-1.2,1.885-1.237,1.885a10.479,10.479,0,0,0-6.575-2.175c-6,0-10.2,4.06-10.2,9.874C5.258,20.071,9.434,24,15.413,24a8.878,8.878,0,0,0,5.127-1.119V14.45h4.937V25.327A13.712,13.712,0,0,1,20.7,27.838,19.231,19.231,0,0,1,15.132,28.573ZM38.939,28.5H33.721V.075h9.928A13.08,13.08,0,0,1,52.4,2.9,9.606,9.606,0,0,1,55.61,10.4a8.974,8.974,0,0,1-5.98,8.871L56.092,28.5H50.146l-5.74-8.228a9.811,9.811,0,0,1-1.084.04H38.939V28.5Zm0-23.682V15.689h4.469c3.939,0,6.291-1.979,6.291-5.293,0-2.7-1.653-5.579-6.291-5.579ZM88.624,28.5H77.974V.075H88.789V4.821c-.129,0-.265,0-.405,0H83.518l0,19.117h4.866c6.561,0,9.92-3.13,9.985-9.3h5.259a17.492,17.492,0,0,1-1.1,6.338,10.873,10.873,0,0,1-3.032,4.3,12.542,12.542,0,0,1-4.717,2.45A22.31,22.31,0,0,1,88.624,28.5Zm-19.617,0H63.463V.075h5.544Z\",\n    transform: \"translate(0 6.419)\",\n    fill: \"currentColor\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"decoration\",\n    \"data-name\": \"Union 22\",\n    d: \"M6.363,17.621V11.258H0V6.363H6.363V0h4.895V6.363h6.363v4.895H11.258v6.363Z\",\n    transform: \"translate(92.379)\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGridPlus);\nexport default __webpack_public_path__ + \"static/media/grid-plus.916e1eee.svg\";\nexport { ForwardRef as ReactComponent };","import { AiFillWarning } from \"react-icons/ai\"\nimport { FaCheck } from \"react-icons/fa\"\nimport buildRecoveryBundle from 'lib/recoveryBundle'\n\nconst PendingRecoveryNotice = ({ recoveryLock, showSendTxns, selectedAccount, selectedNetwork }) => {\n    const isAlreadyInitiated = recoveryLock && recoveryLock.status !== 'requestedButNotInitiated'\n    const createRecoveryRequest = async () => {\n        if (isAlreadyInitiated) return\n        const bundle = buildRecoveryBundle(\n            selectedAccount.id,\n            selectedNetwork.id,\n            selectedAccount.signer.preRecovery,\n            { signer: selectedAccount.signer, primaryKeyBackup: selectedAccount.primaryKeyBackup }\n        )\n        showSendTxns(bundle, true)\n    }\n    const recoveryLockStatus = recoveryLock ? recoveryLock.status : 'requestedButNotInitiated'\n    const remainingTime = seconds => {\n        if (seconds > 86400) return `${Math.ceil(seconds / 86400)} days`\n        else return `${Math.ceil(seconds/1440)} hours`\n    }\n    const styleClass = isAlreadyInitiated\n        ? (recoveryLockStatus === 'ready' ? 'success' : 'warning')\n        : 'warning action'\n\n    return (\n        <div className={`notification-banner notification-hollow ${styleClass}`} onClick={() => createRecoveryRequest()}>\n            {\n              recoveryLockStatus === 'ready'\n                ? <FaCheck />\n                : <AiFillWarning />\n            }\n\n            {\n                recoveryLockStatus === 'requestedButNotInitiated' ?\n                    <>Password reset requested but not initiated for {selectedNetwork.name}. Click here to initiate it.</> :\n                recoveryLockStatus === 'initiationTxnPending' ?\n                    <>Initiation transaction is currently pending. Once mined, you will need to wait {remainingTime(recoveryLock.timelock)} for the reset to be done on {selectedNetwork.name}.</> :\n                recoveryLockStatus === 'waitingTimelock' ?\n                    <>Password reset on {selectedNetwork.name} is currently pending. {remainingTime(recoveryLock.remaining)} remaining.</> :\n                recoveryLockStatus === 'ready' ?\n                    <>Password reset on {selectedNetwork.name} is now complete! You can start signing transactions with your new password!</> :\n                recoveryLockStatus === 'failed' ?\n                    <>Something went wrong while resetting your password. Please contact support at help.ambire.com</> : null\n            }\n        </div>\n    )\n}\n\nexport default PendingRecoveryNotice\n"],"sourceRoot":""}