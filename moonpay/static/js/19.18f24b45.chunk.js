(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[19],{1577:function(e,t,s){e.exports={transferButton:"Send_transferButton__11xeZ",wrapper:"Send_wrapper__22j17",confirmations:"Send_confirmations__3pBT1",validationError:"Send_validationError__f9914",content:"Send_content__2WlaZ",amountLabel:"Send_amountLabel__Oa2V0",separator:"Send_separator__27pbS",gasTankMsg:"Send_gasTankMsg__1bNA-",gasTankConvertMsg:"Send_gasTankConvertMsg__2hTnp",recipientField:"Send_recipientField__1ejHB",recipientInput:"Send_recipientInput__3iQR1",dropdown:"Send_dropdown__1D7Lq",udomainsLogo:"Send_udomainsLogo__359bF",udomainsLogoActive:"Send_udomainsLogoActive__3_M1J",ensLogo:"Send_ensLogo__9dZju",ensLogoActive:"Send_ensLogoActive__2loey",binanceAddressWarning:"Send_binanceAddressWarning__X8yPH",checkBoxLabel:"Send_checkBoxLabel__2m7tQ"}},1578:function(e,t,s){e.exports={wrapper:"Sell_wrapper__1yYqN",provider:"Sell_provider__2chW1",logo:"Sell_logo__z0Q48",details:"Sell_details__2bFOP",type:"Sell_type__1jzeb",fees:"Sell_fees__2D6NA",limits:"Sell_limits__mjYuK",currencies:"Sell_currencies__1F86P",disabled:"Sell_disabled__1zZ4u",networkWarning:"Sell_networkWarning__15hzn"}},1582:function(e,t,s){e.exports={addressesButton:"Addresses_addressesButton__2gw1d",wrapper:"Addresses_wrapper__2fkD9",addressList:"Addresses_addressList__1oXX6",title:"Addresses_title__dwjZC",separator:"Addresses_separator__1OSZH",item:"Addresses_item__2G0-3",details:"Addresses_details__3NAv3",address:"Addresses_address__1RlKw",button:"Addresses_button__235kc"}},1583:function(e,t,s){e.exports={panel:"Transfer_panel__3xc_N",wrapper:"Transfer_wrapper__1zpDw"}},1584:function(e,t,s){e.exports={tabs:"Tabs_tabs__1TQob",button:"Tabs_button__2_ceT",active:"Tabs_active__1xX0X"}},1657:function(e,t,s){"use strict";s.r(t);var a=s(7),n=s(9),r=s(34),o=s(2),c=s(147),i=s(100),d=s(11),u=s(15),l=s(3),b=s.n(l),m=s(12),p=s(535),f=s(52),j=s(62),v=s(20),O=s(46),h=s(85),g=s(623),_=s(217),y=s(57),x=s(504),w=s(517),k=s(218),A=s(786),S=s(37),T=s(27),N=s.n(T),L=s(1577),C=s.n(L),D=s(4),F=new v.Interface(s(509)),M=["Binance","Huobi","KuCoin","Gate.io","FTX"],U=function(e){var t=e.history,s=e.portfolio,a=e.selectedAcc,r=e.selectedNetwork,c=e.addRequest,i=e.addressBook,l=e.relayerURL,v=e.address,T=e.setAddress,L=e.gasTankDetails,U=e.asset,B=e.setAsset,I=e.tokenAddress,R=e.selectedAsset,E=i.addresses,P=i.addAddress,z=i.removeAddress,W=i.isKnownAddress,Y=Object(A.a)({relayerURL:l,selectedAcc:a,network:r,portfolio:s,useRelayerData:S.j}).feeAssetsRes,G=Y&&Y.length&&Y.filter((function(e){return e.network===r.id&&!e.disableGasTankDeposit})),X=Object(O.a)().addToast,J=Object(o.useState)(0),V=Object(n.a)(J,2),Z=V[0],H=V[1],K=Object(o.useState)(""),q=Object(n.a)(K,2),Q=q[0],$=q[1],ee=Object(o.useState)(""),te=Object(n.a)(ee,2),se=te[0],ae=te[1],ne=Object(o.useState)(""),re=Object(n.a)(ne,2),oe=re[0],ce=re[1],ie=Object(o.useState)(!0),de=Object(n.a)(ie,2),ue=de[0],le=de[1],be=Object(o.useState)(!1),me=Object(n.a)(be,2),pe=me[0],fe=me[1],je=Object(o.useState)(!1),ve=Object(n.a)(je,2),Oe=ve[0],he=ve[1],ge=Object(o.useState)(""),_e=Object(n.a)(ge,2),ye=_e[0],xe=_e[1],we=Object(o.useState)({success:{amount:!1,address:!1},messages:{amount:"",address:""}}),ke=Object(n.a)(we,2),Ae=ke[0],Se=ke[1],Te=Object(o.useState)(""),Ne=Object(n.a)(Te,2),Le=Ne[0],Ce=Ne[1],De=Object(o.useRef)(null),Fe=((null===L||void 0===L?void 0:L.isTopUp)?s.tokens.filter((function(e){return G&&(null===G||void 0===G?void 0:G.some((function(t){return t.address.toLowerCase()===e.address.toLowerCase()})))})):s.tokens).map((function(e){var t=e.label,s=e.symbol,a=e.address,n=e.img,r=e.tokenImageUrl,o=e.network;return{label:t||s,value:a,icon:n||r,fallbackIcon:Object(x.a)(o,a)}})),Me=Object(o.useMemo)((function(){if(!R)return{maxAmount:"0",maxAmountFormatted:"0.00"};var e=R.balanceRaw,t=R.decimals,s=R.balance;return{maxAmount:j.ethers.utils.formatUnits(e,t),maxAmountFormatted:Object(w.a)(s,!0,t)}}),[R]),Ue=Me.maxAmount,Be=Me.maxAmountFormatted,Ie=Object(o.useMemo)((function(){return!L&&0===Number(I)&&y.a.map((function(e){return e.id})).filter((function(e){return"ethereum"!==e})).includes(r.id)}),[L,I,r.id]),Re=function(e){if(e){var t=R.decimals,s=j.ethers.utils.parseUnits(e,t).toHexString();$(s)}H(e)};Object(o.useEffect)((function(){if(Ce(""),null===L||void 0===L?void 0:L.isTopUp){var e=G&&G.find((function(e){var t,s;return(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null===R||void 0===R||null===(s=R.address)||void 0===s?void 0:s.toLowerCase())}));if(null===e||void 0===e?void 0:e.baseToken){var t=G&&G.find((function(t){return t.address.toLowerCase()===e.baseToken.toLowerCase()}));Ce("Token ".concat(e.symbol.toUpperCase()," will be converted to ").concat(t.symbol.toUpperCase()," without additional fees."))}}}),[G,null===L||void 0===L?void 0:L.isTopUp,R]),Object(o.useEffect)((function(){H(0),$(""),he(!1)}),[U,r.id]),Object(o.useEffect)((function(){R&&t.replace({pathname:"/wallet/transfer/".concat(0!==Number(U)?U:R.symbol)})}),[U,t,R]),Object(o.useEffect)((function(){var e=Object(g.d)(Z,R);if(v.startsWith("0x")&&-1===v.indexOf(".")){""!==se&&ae(""),""!==oe&&ce("");var t=Object(g.c)(v,a,pe,W);Se({success:{amount:e.success,address:t.success},messages:{amount:e.message?e.message:"",address:t.message?t.message:""}}),le(!t.success||!e.success||Ie&&!Oe)}else{De.current&&clearTimeout(De.current);var s=function(){var t=Object(m.a)(b.a.mark((function t(){var s,n,o,c,i,d,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.a)(v,R?R.symbol:null,r.unstoppableDomainsChain);case 2:return s=t.sent,n=Object(k.a)(R?R.symbol:null),t.next=6,Object(k.b)(v,n);case 6:o=t.sent,De.current=null,c=!!s,d="",d=(i=!!o)?o:c?s:v,u=Object(g.c)(d,a,pe,W,c,i),ae(s),ce(o),Se({success:{amount:e.success,address:u.success},messages:{amount:e.message?e.message:"",address:u.message?u.message:""}}),le(!u.success||!e.success||Ie&&!Oe);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();De.current=setTimeout(Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().catch(console.error));case 1:case"end":return e.stop()}}),e)}))),300)}return function(){return clearTimeout(De.current)}}),[v,Z,a,R,pe,Ie,Oe,W,X,r,P,se,ue,oe]);var Ee=Object(D.jsxs)("div",{className:C.a.amountLabel,children:["Available Amount: ",Object(D.jsxs)("span",{children:[Be," ",null===R||void 0===R?void 0:R.symbol]})]}),Pe=[].concat(Object(u.a)(Fe.filter((function(e){return"wallet"===e.label.toLowerCase()}))),Object(u.a)(Fe.filter((function(e){return"wallet"!==e.label.toLowerCase()})).sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1}))));return s.isCurrNetworkBalanceLoading?Object(D.jsx)(h.n,{}):Pe.length?Object(D.jsxs)("div",{className:C.a.wrapper,children:[Object(D.jsxs)("div",{className:C.a.content,children:[Object(D.jsx)(h.w,{searchable:!0,defaultValue:U,items:Pe,onChange:function(e){var t=e.value;return B(t)}}),Le?Object(D.jsxs)("p",{className:C.a.gasTankConvertMsg,children:[Object(D.jsx)(f.N,{})," ",Le]}):Object(D.jsx)(D.Fragment,{}),Object(D.jsx)(h.q,{label:Ee,value:Z,precision:null===R||void 0===R?void 0:R.decimals,onInput:Re,button:"MAX",onButtonClick:function(){return Re(Ue)}}),Ae.messages.amount&&Object(D.jsxs)("div",{className:C.a.validationError,children:[Object(D.jsx)(p.k,{size:12}),"\xa0",Ae.messages.amount]}),L?Object(D.jsxs)("p",{className:C.a.gasTankMsg,children:[Object(D.jsx)(f.N,{})," ",null===L||void 0===L?void 0:L.gasTankMsg]}):Object(D.jsxs)("div",{className:C.a.recipientField,children:[Object(D.jsx)(h.z,{placeholder:"Recipient",info:"Please double-check the recipient address, blockchain transactions are not reversible.",value:v,onInput:T,className:C.a.recipientInput,inputContainerClass:C.a.textInputContainer}),Object(D.jsx)(h.B,{label:oe?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(D.jsx)("div",{className:N()(C.a.ensLogo,Object(d.a)({},C.a.ensLogoActive,oe))})}),Object(D.jsx)(h.B,{label:se?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(D.jsx)("div",{className:N()(C.a.udomainsLogo,Object(d.a)({},C.a.udomainsLogoActive,se))})}),Object(D.jsx)(h.a,{addresses:E.filter((function(e){return e.address!==a})),addAddress:P,removeAddress:z,newAddress:ye,onClose:function(){return xe(null)},onSelectAddress:function(e){return T(e)},selectedNetwork:r,className:C.a.dropdown})]}),Object(D.jsxs)("div",{className:C.a.confirmations,children:[Ae.messages.address&&Object(D.jsxs)("div",{className:C.a.validationError,children:[Object(D.jsx)(p.k,{size:12}),"\xa0",Ae.messages.address]}),Object(D.jsx)(h.b,{address:v,onAddNewAddress:function(){return xe(v)},onChange:function(e){return fe(e)},isKnownAddress:W,uDAddress:se,ensAddress:oe}),Ie?Object(D.jsx)("div",{className:C.a.binanceAddressWarning,children:Object(D.jsx)(h.g,{label:Object(D.jsxs)("span",{children:["I confirm this address is not a ",M.join(" / ")," address: ",Object(D.jsx)("br",{}),"These platforms do not support $",null===R||void 0===R?void 0:R.symbol," deposits from smart wallets",Object(D.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415473743506-Statement-on-MATIC-BNB-deposits-to-Binance",target:"_blank",rel:"noreferrer",children:Object(D.jsx)(f.n,{size:20})})]}),labelClassName:C.a.checkBoxLabel,checked:Oe,onChange:function(e){var t=e.target;return he(t.checked)}})}):null]})]}),Object(D.jsx)(h.e,{primaryGradient:!0,disabled:ue,onClick:function(){var e=se||(oe||v);if(Q)try{var t={to:R.address,value:"0",data:F.encodeFunctionData("transfer",[e,Q])};0===Number(R.address)&&(t.to=e,t.value=Q,t.data="0x");var s={id:"transfer_".concat(Date.now()),type:"eth_sendTransaction",chainId:r.chainId,account:a,txn:t,meta:null};se?s.meta={addressLabel:{addressLabel:v,address:se}}:oe&&(s.meta={addressLabel:{addressLabel:v,address:oe}}),c(s),H(0)}catch(n){console.error(n),X("Error: ".concat(n.message||n),{error:!0})}},className:C.a.transferButton,children:"Send"})]}):Object(D.jsx)(h.p,{})},B=s(1578),I=s.n(B),R=s(942),E=function(e){var t=e.walletAddress,s=e.networkDetails,a=e.relayerURL,n=e.portfolio,r=e.selectedAsset;return Object(D.jsx)("div",{className:I.a.wrapper,children:Object(D.jsx)(R.a,{walletAddress:t,networkDetails:s,relayerURL:a,portfolio:n,sellMode:!0,selectedAsset:r})})},P=s(1582),z=s.n(P),W=s(294),Y=s(660),G=function(e){var t=e.addresses,s=e.addAddress,a=e.removeAddress,r=e.onSelectAddress,o=e.selectedNetwork,c=Object(S.f)().showModal,d=[{inputType:"name",label:"Name",placeholder:"Address title"},{inputType:"address",label:"Address / Unstoppable domains\u24c7 / ENS\u24c7",placeholder:"Address / Unstoppable Domains / ENS",validate:function(e){return Object(i.b)(e)}}],u=Object(D.jsx)(Y.a,{title:"Add New Address",selectedNetwork:o,inputs:d,onClose:function(e){var t=Object(n.a)(e,3),a=t[0],r=t[1],o=t[2];return s(a,r,o)}});return Object(D.jsxs)(h.s,{title:"Address Book",titleClassName:z.a.title,className:z.a.wrapper,children:[Object(D.jsx)(W.a,{noAccounts:!0,addresses:t,removeAddress:a,onSelectAddress:r,className:z.a.addressList}),Object(D.jsx)(h.e,{onClick:function(){return c(u)},className:z.a.addressesButton,children:"Add Address"})]})},X=s(1583),J=s.n(X),V=s(233),Z=s(1584),H=s.n(Z),K=function(e){var t=e.firstTabLabel,s=e.secondTabLabel,a=e.firstTab,r=e.secondTab,c=e.panelClassName,i=Object(o.useState)(1),u=Object(n.a)(i,2),l=u[0],b=u[1];return Object(D.jsxs)(V.a,{className:N()(c),children:[Object(D.jsxs)("div",{className:H.a.tabs,children:[Object(D.jsx)("button",{onClick:function(){return b(1)},className:N()(H.a.button,Object(d.a)({},H.a.active,1===l)),children:t}),Object(D.jsx)("button",{onClick:function(){return b(2)},className:N()(H.a.button,Object(d.a)({},H.a.active,2===l)),children:s})]}),1===l?a:r]})};t.default=Object(r.withRouter)((function(e){var t,s=e.portfolio,d=e.selectedNetwork,u=e.addressBook,l=e.selectedAcc,b=e.relayerURL,m=u.addresses,p=u.addAddress,f=u.removeAddress,j=y.a.find((function(e){return e.id===d.id})),v=Object(r.useLocation)().state,O=Object(r.useParams)().tokenAddressOrSymbol,h=Object(i.b)(O)?O:(null===(t=s.tokens.find((function(e){return e.symbol===O})))||void 0===t?void 0:t.address)||null,g=Object(o.useState)(h),_=Object(n.a)(g,2),x=_[0],w=_[1],k=Object(o.useState)(v||null),A=Object(n.a)(k,1)[0],S=Object(o.useState)(A?c.a.feeCollector:""),T=Object(n.a)(S,2),N=T[0],L=T[1],C=null===s||void 0===s?void 0:s.tokens.find((function(e){return e.address===x}));return Object(D.jsxs)("div",{className:J.a.wrapper,style:{justifyContent:A?"center":""},children:[Object(D.jsx)(K,{firstTabLabel:"Send",secondTabLabel:"Sell Crypto",firstTab:Object(D.jsx)(U,Object(a.a)(Object(a.a)({},e),{},{address:N,setAddress:L,gasTankDetails:A,asset:x,setAsset:w,tokenAddress:h,selectedAsset:C})),secondTab:Object(D.jsx)(E,{walletAddress:l,networkDetails:j,relayerURL:b,portfolio:s,selectedAsset:C}),panelClassName:J.a.panel}),!A&&Object(D.jsx)(G,{selectedAsset:C,selectedNetwork:d,addresses:m,addAddress:p,removeAddress:f,onSelectAddress:function(e){return L(e)}})]})}))},504:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},n="https://storage.googleapis.com/zapper-fi-assets/tokens";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=t.toLowerCase(),r=e.toLowerCase();return a[s]||"".concat(n,"/").concat(r,"/").concat(s,".png")}},509:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},513:function(e,t){e.exports=function(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}},517:function(e,t,s){"use strict";function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var a=Math.min(2,s||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(a,s),minimumFractionDigits:a})}catch(n){return console.error(n),e}}s.d(t,"a",(function(){return a}))},529:function(e,t,s){var a=s(513);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}e.exports=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},623:function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return u})),s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return d}));var a=s(20),n=s(100),r=s(147),o=function(e){return e&&e.length?e&&Object(n.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},c=function(e,t){var s=o(e);return s.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:s},i=function(e,t,s,a,c,i){var d=o(e);return d.success?e&&e===r.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(n.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||a(e)||s||c||i?!e||a(e)||s||!c&&!i?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(c?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:d},d=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var s=e.slice(0,e.indexOf(".")+t.decimals+1),n=Object(a.parseUnits)(s,t.decimals);if(n&&t.balanceRaw&&n.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(r){console.error(r)}return{success:!0}},u=function(e,t,s,a,n,r,o,c,d){var u,l=i(e,t,s,a,c,d);return l.success?n&&t&&(null===(u=n.owner)||void 0===u?void 0:u.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:r&&o&&r.id!==o?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:l}},660:function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(12),o=s(7),c=s(9),i=(s(753),s(2)),d=s(52),u=s(37),l=s(85),b=s(217),m=s(218),p=s(4);t.a=function(e){var t=e.title,s=e.inputs,a=e.selectedNetwork,f=e.onClose,j=Object(u.f)().hideModal,v=Object(i.useState)(!0),O=Object(c.a)(v,2),h=O[0],g=O[1],_=Object(i.useState)(""),y=Object(c.a)(_,2),x=y[0],w=y[1],k=Object(i.useState)(""),A=Object(c.a)(k,2),S=A[0],T=A[1],N=Object(i.useRef)(null),L=Object(i.useMemo)((function(){return s.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{ref:Object(i.createRef)()})}))}),[s]),C=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(t,null,a.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){N.current&&clearTimeout(N.current);var e=function(){var e=Object(r.a)(n.a.mark((function e(){var t,s,a,r,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.find((function(e){return"address"===e.inputType})),s=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(a=null,r=null,!t){e.next=15;break}return e.next=9,C(s);case 9:return a=e.sent,e.next=12,Object(m.b)(s);case 12:r=e.sent,N.current=null,a?w(a):r&&T(r);case 15:o=L.map((function(e){var t=e.ref,s=e.validate,n="address"===e.inputType,o=n&&a?a:n&&r?r:t.current.value;return s?s(o):!!o})).every((function(e){return!0===e})),g(!o);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();N.current=setTimeout(Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},F=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.e,{clear:!0,small:!0,icon:Object(p.jsx)(d.f,{}),onClick:j,children:"Cancel"}),Object(p.jsx)(l.e,{small:!0,icon:Object(p.jsx)(d.d,{}),disabled:h,onClick:function(){var e=L.map((function(e){return e.ref.current.value}));x?e.push({type:"ud"}):S?e.push({type:"ens"}):e.push({type:"pub"}),f&&f(e),j()},children:"Confirm"})]});return Object(p.jsx)(l.o,{id:"input-modal",title:t,buttons:F,children:L.map((function(e){var t=e.id,s=e.label,a=e.placeholder,n=e.ref,r=e.type;return Object(p.jsxs)("div",{children:[Object(p.jsx)(l.z,{label:s,placeholder:a,onInput:D,ref:n,className:"address-input"}),"address"===r&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.B,{label:x?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(p.jsx)("span",{id:"udomains-logo",className:x?"ud-logo-active ":""})}),Object(p.jsx)(l.B,{label:S?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(p.jsx)("div",{id:"ens-logo",className:S?"ens-logo-active ":""})})]})]},t+s)}))})}},753:function(e,t,s){},786:function(e,t,s){"use strict";var a=s(7),n=s(20),r=s(2);function o(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var c=s(219),i=s(509),d=s(30),u=s(147),l=["txId","txns","submittedAt","gasTankFee","identity"],b=new n.Interface(i),m=b.getSighash(b.getFunction("transfer").format()),p=u.a.feeCollector;function f(e){return e[0]===p||!(!e[2].startsWith(m)||function(e){try{var t=b.decodeFunctionData("transfer",e);return Object(a.a)({value:d.a.from(t._value)},t)}catch(s){return console.error(s),{}}}(e[2])._to!==p)}var j=s(225);t.a=function(e){var t=e.relayerURL,s=e.selectedAcc,i=e.network,u=e.portfolio,v=e.useRelayerData,O=Object(j.a)().cacheBreak,h=u.tokens,g=t?"".concat(t,"/gas-tank/").concat(s,"/getBalance?cacheBreak=").concat(O):null,_=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(O):null,y=t?"".concat(t,"/identity/").concat(s,"/").concat(null===i||void 0===i?void 0:i.id,"/transactions"):null,x=v({url:g}),w=x.data,k=x.isLoading,A=v({url:_}).data,S=v({url:y}).data,T=Object(r.useMemo)((function(){return w&&w.length&&w.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0)}),[w]),N=Object(r.useMemo)((function(){return S&&S.txns.length&&S.txns.filter((function(e){return!!e.gasTankFee}))}),[S]),L=Object(r.useMemo)((function(){return A&&A.length&&A.filter((function(e){return e.network===(null===i||void 0===i?void 0:i.id)}))}),[A,null===i||void 0===i?void 0:i.id]),C=S&&S.txns.length&&S.txns,D=Object(r.useMemo)((function(){return C&&C.length&&function(e){var t=[];return e.forEach((function(e){var s=e.txId,n=e.txns,r=e.submittedAt,o=e.gasTankFee,i=e.identity,u=Object(c.a)(e,l),j=n.filter((function(e,t){return f(e)&&(o||t<n.length-1)})).map((function(e){return e[0]===p?Object(a.a)({submittedAt:r,address:"0x0000000000000000000000000000000000000000",value:d.a.from(e[1]),identity:i,txId:s},u):e[2].startsWith(m)&&b.decodeFunctionData("transfer",e[2])._to===p?Object(a.a)({submittedAt:r,address:e[0],value:d.a.from(b.decodeFunctionData("transfer",e[2])._value),identity:i,txId:s},u):null}));j.length&&t.push(j[0])})),t}(C)}),[C]),F=Object(r.useMemo)((function(){return null===L||void 0===L?void 0:L.map((function(e){var t=null===h||void 0===h?void 0:h.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));return t?Object(a.a)(Object(a.a)({},t),{},{tokenImageUrl:e.icon,decimals:e.decimals,symbol:e.symbol,balance:t.balance,disableGasTankDeposit:!!e.disableGasTankDeposit,balanceUSD:parseFloat(t.balance)*parseFloat(L.find((function(e){return e.address.toLowerCase()===t.address.toLowerCase()})).price||0)}):Object(a.a)(Object(a.a)({},e),{},{tokenImageUrl:e.icon,balance:0,balanceUSD:0,decimals:0,address:e.address.toLowerCase(),symbol:e.symbol.toUpperCase()})}))}),[L,h]),M=Object(r.useMemo)((function(){return N&&N.length&&N.map((function(e){var t=A?A.find((function(t){return t.symbol===e.feeToken})):null,s=t?o(t):null;return{saved:s?e.feeInUSDPerGas*s:0,cashback:e.gasTankFee&&e.gasTankFee.cashback?Object(n.formatUnits)(e.gasTankFee.cashback.toString(),null===t||void 0===t?void 0:t.decimals).toString()*(null===t||void 0===t?void 0:t.price):0}}))}),[A,N]);return{balancesRes:w,gasTankBalances:T,isLoading:k,gasTankTxns:N,feeAssetsRes:A,gasTankFilledTxns:D,totalSavedResult:M,availableFeeAssets:F}}}}]);
//# sourceMappingURL=19.18f24b45.chunk.js.map