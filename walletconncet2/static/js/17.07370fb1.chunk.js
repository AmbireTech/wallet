(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[17],{1062:function(e,t,n){"use strict";t.a=["function token() view returns (address)","function deposit(uint256 _amount, address recipient)","function withdraw(uint256 maxShares, address recipient)","function pricePerShare() view returns (uint256)"]},1709:function(e,t,n){"use strict";t.a=["function getLendingPool() view returns (address address)","function getReservesList() view returns (address[] memory)","function getReserveData(address asset) view returns (tuple(uint256 availableLiquidity, uint256 totalStableDebt, uint256 totalVariableDebt, uint256 liquidityRate, uint256 variableBorrowRate, uint256 stableBorrowRate, uint256 averageStableBorrowRate, uint256 liquidityIndex, uint256 variableBorrowIndex, uint40 lastUpdateTimestamp) memory)","function deposit(address asset, uint256 amount, address onBehalfOf, uint16 referralCode)","function withdraw(address asset, uint256 amount, address to)"]},1710:function(e,t,n){"use strict";t.a={ethereum:"0xb53c1a33016b2dc2ff3653530bff1848a515c8c5",polygon:"0xd05e3E715d945B59290df0ae8eF85c1BdB684744",avalanche:"0xb6A86025F0FE1862B372cb0ca18CE3EDe02A318f"}},1713:function(e,t,n){"use strict";e.exports=n(1714)},1714:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(1715);var a=n(155),s=r(n(73)),i=n(20),o=n(1716),u=r(o),c=n(117),p=r(n(1717)),d=n(45),l=r(n(1718)),f=n(1719);function h(e,t,n,r,a,s,i){try{var o=e[s](i),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){h(s,r,a,i,o,"next",e)}function o(e){h(s,r,a,i,o,"throw",e)}i(void 0)}))}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}function A(e,t,n){return(A=k()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&x(a,n.prototype),a}).apply(null,arguments)}function T(e){var t="function"==typeof Map?new Map:void 0;return(T=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return A(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,e)})(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).error_type=n,r}return w(t,e),t}(T(Error)),_=function(e){function t(t,n){var r;return(r=e.call(this,t,"sdk")||this).error_code=n,r}return w(t,e),t}(S);_.NO_SLIPPAGE="no_slippage";var O=function(e){function t(t,n){var r;return(r=e.call(this,t,"simulation")||this).error_code=n,r}return w(t,e),t}(S);O.NO_LOG="no_log",O.TENDERLY_RESPONSE_ERROR="tenderly_response_error",O.PARTIAL_REVERT="partial_revert";var N=function(e){function t(t,n){var r;return(r=e.call(this,t,"zapper")||this).error_code=n,r}return w(t,e),t}(S);N.ZAP_IN_APPROVAL_STATE="zap_in_approval_state",N.ZAP_IN_APPROVAL="zap_in_approval",N.ZAP_OUT_APPROVAL_STATE="zap_out_approval_state",N.ZAP_OUT_APPROVAL="zap_out_approval",N.ZAP_IN="zap_in",N.ZAP_OUT="zap_out";var B=function(e){function t(t,n){var r;return(r=e.call(this,t,"ethers")||this).error_code=n,r}return w(t,e),t}(S);B.FAIL_TOKEN_FETCH="fail_token_fetch",B.NO_DECIMALS="no_decimals",B.NO_PRICE_PER_SHARE="no_price_per_share",B.POPULATING_TRANSACTION="populating_transaction";var I=function(e){function t(t,n){var r;return(r=e.call(this,t,"tenderly")||this).error_code=n,r}return w(t,e),t}(S);I.SIMULATION_CALL="simulation_call",I.CREATE_FORK="create_fork";var D,R=function(e){function t(t,n){var r;return(r=e.call(this,t,"price_fetching")||this).error_code=n,r}return w(t,e),t}(S);R.FETCHING_PRICE_ORACLE="fetching_price_oracle",R.FETCHING_PRICE_PICKLE="fetching_price_pickle",(D=t.ZapProtocol||(t.ZapProtocol={})).PICKLE="pickle",D.YEARN="yearn";var U={zapper:"96e0cc51-a62e-42ca-acee-910ea7d2a241",simulation:{dashboardUrl:"https://dashboard.tenderly.co/yearn/yearn-web"},cache:{useCache:!0,url:"https://cache.yearn.finance"}},M=function(){function e(e){this.ctx=Object.assign({},U,e),this.events=(new s).setMaxListeners(100),this.setProvider(e.provider)}return e.prototype.setProvider=function(t){t instanceof a.JsonRpcProvider?this.ctx.provider={read:t,write:t}:t&&(this.ctx.provider=t),this.events.emit(e.PROVIDER,this.ctx.provider)},v(e,[{key:"provider",get:function(){if(this.ctx.provider)return this.ctx.provider;throw new _("provider must be undefined in Context for this feature to work.")}},{key:"zapper",get:function(){if(this.ctx.zapper)return this.ctx.zapper;throw new _("zapper must be undefined in Context for this feature to work.")}},{key:"etherscan",get:function(){if(this.ctx.etherscan)return this.ctx.etherscan;throw new _("etherscan must be undefined in Context for this feature to work.")}},{key:"addresses",get:function(){return Object.assign({adapters:{}},this.ctx.addresses)}},{key:"simulation",get:function(){if(this.ctx.simulation)return this.ctx.simulation;throw new _("simulation configuration must be defined in Context for this feature to work.")}},{key:"cache",get:function(){if(this.ctx.cache)return this.ctx.cache;throw new _("cache must be defined in Context for this feature to work.")}}]),e}();M.PROVIDER="refresh:provider";var C,L=(function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=Object.create((t&&t.prototype instanceof d?t:d).prototype),s=new A(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(a,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw s;return{value:void 0,done:!0}}for(n.method=a,n.arg=s;;){var i=n.delegate;if(i){var o=g(i,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,s),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function d(){}function l(){}function f(){}var h={};h[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(T([])));m&&m!==t&&n.call(m,a)&&(h=m);var v=f.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,s){function i(){return new t((function(r,i){!function r(a,s,i,o){var u=c(e[a],e,s);if("throw"!==u.type){var p=u.arg,d=p.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,o)}),(function(e){r("throw",e,i,o)})):t.resolve(d).then((function(e){p.value=e,i(p)}),(function(e){return r("throw",e,i,o)}))}o(u.arg)}(a,s,r,i)}))}return r=r?r.then(i,i):i()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:P}}function P(){return{value:void 0,done:!0}}return l.prototype=v.constructor=f,f.constructor=l,l.displayName=o(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[s]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,a,s){void 0===s&&(s=Promise);var i=new w(u(t,n,r,a),s);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),o(v,i,"Generator"),v[a]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var o=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(o&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(C={exports:{}}),C.exports),F=function(){function e(e,t,n){this.path=e,this.ctx=t,this.chainId=n}var t=e.prototype;return t.fetch=function(){var e=y(L.mark((function e(t){var n,r,a,s,i,o,u,c,p;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ctx.cache.useCache&&this.ctx.cache.url){e.next=2;break}return e.abrupt("return",void 0);case 2:if(!(r=this.currentValue)){e.next=5;break}return e.abrupt("return",r);case 5:return a=this.ctx.cache.url+"/v1/chains/"+this.chainId+"/"+this.path,t&&(a+="?"+t),e.prev=7,e.next=11,this.fetchWithTimeout(a,5e3);case 11:s=e.sent,e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(7),console.warn("Call to cache at "+a+" timed out"),e.abrupt("return",void 0);case 18:if(200===s.status){e.next=22;break}return i=s,console.warn("Call to cache failed at "+i.url+" (status "+i.status+" "+i.statusText+")"),e.abrupt("return",void 0);case 22:return e.next=24,s.json();case 24:if(o=e.sent){e.next=27;break}return e.abrupt("return",void 0);case 27:return u=null==(n=s.headers.get("cache-control"))?void 0:n.match(/max-age=(\d+)/),c=u?parseInt(u[1],10):30,p=(new Date).getTime(),this.expiryDate=new Date(p+1e3*c),this.cachedValue=o,e.abrupt("return",o);case 33:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),t.fetchWithTimeout=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.race([fetch(t),new Promise((function(e,t){return setTimeout((function(){return t("timeout")}),n)}))]));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v(e,[{key:"currentValue",get:function(){if(this.expiryDate)return new Date<this.expiryDate&&this.cachedValue?this.cachedValue:void 0}}]),e}(),j=function(e,t){this.chainId=e,this.ctx=t,this.events=new p},z=function(e){function t(t,n,r){var a;return(a=e.call(this,n,r)||this).yearn=t,a}return w(t,e),t}(j),G=function(e,t,n){var r=this;this.address=e,this.abi=t,this.read=new c.Contract(e,t,n.provider.read),this.write=new c.Contract(e,t,n.provider.write),n.events.on(M.PROVIDER,(function(e){r.read=new c.Contract(r.address,r.abi,e.read),r.write=new c.Contract(r.address,r.abi,e.write)}))},V=function(e){function t(t,n,r){var a;return(a=e.call(this,n,r)||this).address=t,a.contract=new G(a.address,a.constructor.abi,r),a}return w(t,e),t}(j);V.abi=[];var H=["0x9d409a0a012cfba9b15f6d4b36ac57a46966ab9a","0xc5bddf9843308380375a611c18b50fb9341f502a","0xced67a187b923f0e5ebcc77c7f2f7da20099e378"],q=function(e){return"query AssetHistoricEarnings($id: ID!) {\n    vault(id: $id) {\n      token {\n        id\n        decimals\n      }\n    }\n    "+e.map((function(e){return function(e){return"\n    block_"+e+": vault(id: $id, block: { number: "+e+" } ) {\n      vaultDayData(orderBy: timestamp, orderDirection: desc, first: 1) {\n        timestamp\n      }\n      strategies {\n        latestReport {\n          totalGain\n          totalLoss\n        }\n      }\n    }\n    "}(e)})).join("")+"\n  }\n  "},Z=new o.BigNumber(0),$=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).assetHistoricEarningsCache=new F("vaults/earnings/get",t.ctx,t.chainId),t}w(t,e);var n=t.prototype;return n.protocolEarnings=function(){var e=y(L.mark((function e(){var t,n,r,a,s,i,u;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.subgraph.fetchQuery("query ProtocolEarnings {\n    vaults {\n      token {\n        id\n        decimals\n      }\n      latestUpdate {\n        returnsGenerated\n      }\n    }\n  }\n");case 2:if(r=Z,null!=(n=e.sent)&&n.data&&null!=(t=n.data)&&t.vaults){e.next=6;break}return e.abrupt("return",r.toFixed(0));case 6:a=E(n.data.vaults);case 7:if((s=a()).done){e.next=18;break}if((i=s.value).latestUpdate){e.next=11;break}return e.abrupt("continue",16);case 11:return u=new o.BigNumber(i.latestUpdate.returnsGenerated),e.next=14,this.tokensValueInUsdc(u,i.token.id,i.token.decimals);case 14:r=r.plus(e.sent);case 16:e.next=7;break;case 18:return e.abrupt("return",r.toFixed(0));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.assetEarnings=function(){var e=y(L.mark((function e(t){var n,r,a,s,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.subgraph.fetchQuery("query VaultEarnings($vault: ID!) {\n    vault(id: $vault) {\n      token {\n        id\n        decimals\n      }\n      latestUpdate {\n        returnsGenerated\n      }\n    }\n  }\n",{vault:t});case 2:if(null!=(a=e.sent)&&a.data&&null!=(n=a.data)&&n.vault){e.next=5;break}throw new _("No asset with address "+t);case 5:return u=new o.BigNumber((null==(r=(s=a.data.vault).latestUpdate)?void 0:r.returnsGenerated)||0),e.next=9,this.tokensValueInUsdc(u,s.token.id,s.token.decimals);case 9:return c=e.sent,e.abrupt("return",{assetAddress:i.getAddress(t),amount:u.toFixed(0),amountUsdc:c.toFixed(0),tokenAddress:i.getAddress(s.token.id)});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.accountAssetsData=function(){var e=y(L.mark((function e(t){var n,r,a,s,u,c,p,d,l,f,h,m=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.subgraph.fetchQuery("\n  query AccountEarnings($id: ID!, $ignoredVaults: [String!]) {\n    account(id: $id) {\n      vaultPositions(where: { vault_not_in: $ignoredVaults } ) {\n        balanceShares\n        token {\n          id\n          decimals\n        }\n        shareToken {\n          symbol\n        }\n        updates {\n          deposits\n          withdrawals\n          tokensReceived\n          tokensSent\n        }\n        vault {\n          id\n          latestUpdate {\n            pricePerShare\n          }\n        }\n      }\n    }\n  }\n",{id:t,ignoredVaults:H});case 2:if(a=null==(r=e.sent)||null==(n=r.data)?void 0:n.account){e.next=6;break}return e.abrupt("return",{earnings:"0",holdings:"0",earningsAssetData:[],grossApy:0,estimatedYearlyYield:"0"});case 6:return e.next=8,Promise.all(a.vaultPositions.map(function(){var e=y(L.mark((function e(t){var n,r,a,s,u,c,p,d,l,f,h;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new o.BigNumber(t.balanceShares).multipliedBy(new o.BigNumber((null==(n=t.vault.latestUpdate)?void 0:n.pricePerShare)||0)).div(Math.pow(10,t.token.decimals)),a=t.updates.reduce((function(e,t){var n=e.withdrawals,r=e.tokensReceived,a=e.tokensSent;return{deposits:e.deposits.plus(new o.BigNumber(t.deposits)),withdrawals:n.plus(new o.BigNumber(t.withdrawals)),tokensReceived:r.plus(new o.BigNumber(t.tokensReceived)),tokensSent:a.plus(new o.BigNumber(t.tokensSent))}}),{deposits:Z,withdrawals:Z,tokensReceived:Z,tokensSent:Z}),s=a.deposits,u=a.tokensReceived,c=a.tokensSent,p=r.plus(a.withdrawals).plus(c),d=s.plus(u),l=p.minus(d),e.next=7,m.tokensValueInUsdc(l,t.token.id,t.token.decimals);case 7:return f=e.sent,e.next=10,m.tokensValueInUsdc(r,t.token.id,t.token.decimals);case 10:return h=e.sent,e.abrupt("return",{assetAddress:i.getAddress(t.vault.id),balanceUsdc:h,earned:f.toFixed(0)});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return u=(s=e.sent).map((function(e){return e.assetAddress})),e.next=12,this.yearn.services.vision.apy(u);case 12:return c=e.sent,p=s.map((function(e){return new o.BigNumber(e.earned)})).reduce((function(e,t){return e.plus(t)})),d=s.map((function(e){return new o.BigNumber(e.balanceUsdc)})).reduce((function(e,t){return e.plus(t)})),l=d.isEqualTo(Z)?Z:s.map((function(e){var t,n=(null==(t=c[e.assetAddress])?void 0:t.net_apy)||0;return new o.BigNumber(n).times(e.balanceUsdc).div(d)})).reduce((function(e,t){return e.plus(t)})),f=l.multipliedBy(d),h=s.map((function(e){return{assetAddress:e.assetAddress,earned:e.earned}})),e.abrupt("return",{earnings:o.BigNumber.max(p,0).toFixed(0),holdings:o.BigNumber.max(d,0).toFixed(0),grossApy:l.toNumber(),estimatedYearlyYield:o.BigNumber.max(f,0).toFixed(0),earningsAssetData:h});case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.assetsHistoricEarnings=function(){var e=y(L.mark((function e(t){var n,r,a,s,i,o,u,c=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=30),30!==t){e.next=7;break}return e.next=4,this.assetHistoricEarningsCache.fetch();case 4:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,this.yearn.services.lens.adapters.vaults.v2.assetsStatic();case 9:return r=e.sent.map((function(e){return e.address})),e.next=13,this.ctx.provider.read.getBlockNumber();case 13:return a=e.sent,e.next=16,Promise.allSettled(r.map(function(){var e=y(L.mark((function e(n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.assetHistoricEarnings(n,t,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:for(s=[],i=E(e.sent);!(o=i()).done;)"fulfilled"===(u=o.value).status&&s.push(u.value);return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.assetHistoricEarnings=function(){var e=y(L.mark((function e(t,n,r){var a,s,i,u,c,p,d,l=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}a=r,e.next=7;break;case 4:return e.next=6,this.ctx.provider.read.getBlockNumber();case 6:a=e.sent;case 7:return a-=this.blockOffset(),s=Array.from(Array(n).keys()).reverse().map((function(e){return a-e*l.blocksPerDay()})),e.next=11,this.yearn.services.subgraph.fetchQuery(q(s),{id:t});case 11:return i=e.sent.data,u=s.map((function(e){return"block_"+e})),c=i.vault.token.id,e.next=17,this.yearn.services.oracle.getPriceUsdc(c).then((function(e){return new o.BigNumber(e)}));case 17:return p=e.sent,d=u.map((function(e){var t=i[e].strategies,n=t.map((function(e){return new o.BigNumber(e.latestReport?e.latestReport.totalGain:0)})).reduce((function(e,t){return e.plus(t)})),r=t.map((function(e){return new o.BigNumber(e.latestReport?e.latestReport.totalLoss:0)})).reduce((function(e,t){return e.plus(t)})),a=n.minus(r);return{earnings:{amountUsdc:p.multipliedBy(a).dividedBy(new o.BigNumber(10).pow(new o.BigNumber(i.vault.token.decimals))).toFixed(0),amount:a.toFixed(0)},date:new Date(+i[e].vaultDayData[0].timestamp).toJSON()}})),e.abrupt("return",{assetAddress:t,dayData:d,decimals:i.vault.token.decimals});case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.accountHistoricEarnings=function(){var e=y(L.mark((function e(t,n,r,a){var s,i,u,c,p,d,l,f,h,m,v,b,w,g,x,k,A,T;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&a>r)){e.next=2;break}throw new _("fromDaysAgo must be greater than toDaysAgo");case 2:return e.next=4,this.yearn.services.subgraph.fetchQuery("query AccountHistoricEarnings($id: ID!, $shareToken: String!, $fromDate: String!, $toDate: BigInt!) {\n  account(id: $id) {\n      vaultPositions(where: { shareToken: $shareToken }) {\n        balanceShares\n        token {\n          id\n          decimals\n        }\n        vault {\n          vaultDayData(where: { timestamp_gte: $fromDate, timestamp_lte: $toDate }, orderBy: timestamp, orderDirection: asc, first: 1000) {\n            pricePerShare\n            timestamp\n          }\n        }\n        updates(orderBy: timestamp, orderDirection: asc, first: 1000) {\n          balanceShares\n          timestamp\n          deposits\n          withdrawals\n          tokensReceived\n          tokensSent\n        }\n      }\n    }\n  }\n",{id:t,shareToken:n,fromDate:this.getDate(r).getTime().toString(),toDate:this.getDate(a||0).getTime().toString()});case 4:if(i=null==(s=e.sent.data.account)?void 0:s.vaultPositions){e.next=8;break}throw new _("No account with address "+t);case 8:for(u=[],c=i.flatMap((function(e){return e.updates})).sort((function(e,t){return+e.timestamp-+t.timestamp})),p=E(c.entries());!(d=p()).done;)h=(l=d.value)[1],0===(f=l[0])?(m={startDate:new Date(0),endDate:new Date(+h.timestamp),deposits:new o.BigNumber(h.deposits),withdrawals:new o.BigNumber(h.withdrawals),tokensReceived:new o.BigNumber(h.tokensReceived),tokensSent:new o.BigNumber(h.tokensSent),balanceShares:new o.BigNumber(h.balanceShares)},u.push(m)):(b={startDate:(v=u[f-1]).endDate,endDate:new Date(+h.timestamp),deposits:v.deposits.plus(new o.BigNumber(h.deposits)),withdrawals:v.withdrawals.plus(new o.BigNumber(h.withdrawals)),tokensReceived:v.tokensReceived.plus(new o.BigNumber(h.tokensReceived)),tokensSent:v.tokensSent.plus(new o.BigNumber(h.tokensSent)),balanceShares:v.balanceShares.plus(new o.BigNumber(h.balanceShares))},u.push(b));return u.length>0&&(w=u[u.length-1],g=(new Date).setFullYear(3e3),x={startDate:w.endDate,endDate:new Date(g),deposits:w.deposits,withdrawals:w.withdrawals,tokensReceived:w.tokensReceived,tokensSent:w.tokensSent,balanceShares:w.balanceShares},u.push(x)),k=i[0].vault.vaultDayData,A=i[0].token,e.next=16,this.yearn.services.oracle.getPriceUsdc(A.id).then((function(e){return new o.BigNumber(e)}));case 16:return T=e.sent,e.next=19,Promise.all(k.map(function(){var e=y(L.mark((function e(t){var n,r,a,s,i,c,p;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date(+t.timestamp),!(r=u.find((function(e){return n>=e.startDate&&n<e.endDate})))){e.next=11;break}return a=r.balanceShares.multipliedBy(new o.BigNumber(t.pricePerShare)).dividedBy(new o.BigNumber(Math.pow(10,A.decimals))),s=a.plus(r.withdrawals).plus(r.tokensSent),i=r.deposits.plus(r.tokensReceived),c=s.minus(i),p=T.multipliedBy(c).dividedBy(new o.BigNumber(10).pow(A.decimals)),e.abrupt("return",{earnings:{amount:c.toFixed(0),amountUsdc:p.toFixed(0)},date:n.toJSON()});case 11:return e.abrupt("return",{earnings:{amount:"0",amountUsdc:"0"},date:n.toJSON()});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:return e.abrupt("return",{accountAddress:t,shareTokenAddress:n,decimals:A.decimals,dayData:e.sent});case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),n.tokensValueInUsdc=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.oracle.getPriceUsdc(n);case 2:return e.abrupt("return",new o.BigNumber(e.sent).multipliedBy(t).div(Math.pow(10,r)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.getDate=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},n.blocksPerDay=function(){switch(this.chainId){case 1:case 1337:case 42161:return 5760;case 250:return 86400}},n.blockOffset=function(){switch(this.chainId){case 1:case 1337:case 42161:return 100;case 250:return 1e3}},t}(z),J=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.protocolFees=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.subgraph.fetchQuery("query ProtocolFees($sinceDate: BigInt!) {\n    transfers(where: { timestamp_gt: $sinceDate }, first: 1000) {\n      tokenAmountUsdc\n    }\n  }\n",{sinceDate:t.getTime().toString()});case 2:return e.abrupt("return",e.sent.data.transfers.reduce((function(e,t){return e.plus(new u(t.tokenAmountUsdc||0))}),new u(0)).toFixed(0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(z),Y=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).cachedFetcherGet=new F("ironbank/get",t.ctx,t.chainId),t.cachedFetcherGetDynamic=new F("ironbank/getDynamic",t.ctx,t.chainId),t.cachedFetcherTokens=new F("ironbank/tokens",t.ctx,t.chainId),t}w(t,e);var n=t.prototype;return n.get=function(){var e=y(L.mark((function e(t,n){var r,a,s,i,o,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherGet.fetch();case 2:if(!(r=e.sent)){e.next=9;break}if(!t){e.next=8;break}return e.abrupt("return",r.filter((function(e){return t.includes(e.address)})));case 8:return e.abrupt("return",r);case 9:return e.next=11,this.yearn.services.lens.adapters.ironBank.assetsStatic(t,n);case 11:return a=e.sent,e.next=14,this.yearn.services.lens.adapters.ironBank.assetsDynamic(t,n);case 14:for(s=e.sent,i=new Array,o=function(){var e=c.value,t=s.find((function(t){return e.address===t.address}));if(!t)throw new _("Dynamic asset does not exist for "+e.address);i.push(b({},e,t))},u=E(a);!(c=u()).done;)o();return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getStatic=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.lens.adapters.ironBank.assetsStatic(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getDynamic=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherGetDynamic.fetch();case 2:if(!(r=e.sent)){e.next=9;break}if(!t){e.next=8;break}return e.abrupt("return",r.filter((function(e){return t.includes(e.address)})));case 8:return e.abrupt("return",r);case 9:return e.next=11,this.yearn.services.lens.adapters.ironBank.assetsDynamic(t,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.positionsOf=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.yearn.services.lens.adapters.ironBank.positionsOf(t,n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.summaryOf=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.yearn.services.lens.adapters.ironBank.generalPositionOf(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.metadataOf=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.yearn.services.lens.adapters.ironBank.assetsUserMetadata(t,n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.balances=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tokens();case 2:return r=e.sent,e.next=5,this.yearn.services.helper.tokenBalances(t,r.map((function(e){return e.address})),n);case 5:return e.abrupt("return",e.sent.map((function(e){var t=r.find((function(t){return t.address===e.address}));if(!t)throw new _("Token does not exist for Balance("+e.address+")");return b({},e,{token:t})})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.tokens=function(){var e=y(L.mark((function e(t){var n,r,a,s,i=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherTokens.fetch();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.yearn.services.lens.adapters.ironBank.tokens(t);case 7:return r=e.sent,e.next=10,this.yearn.services.helper.tokens(r,t);case 10:return a=e.sent,s=this.yearn.services.asset.icon(r),e.abrupt("return",Promise.all(a.map(function(){var e=y(L.mark((function e(n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.t1={},e.t2=n,e.t3=s[n.address],e.t4={},e.next=7,i.yearn.services.oracle.getPriceUsdc(n.address,t);case 7:return e.t5=e.sent,e.t6={icon:e.t3,supported:e.t4,priceUsdc:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(z),W="0x0000000000000000000000000000000000000000",X="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",K="0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2";function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=3;break}throw new _("HTTP to "+t.url+" request failed (status "+t.status+" "+t.statusText+")");case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return d.BigNumber.from(Math.floor(1e6*Number(e))).toString()}function ne(e){return e.toString()}function re(e,t){if(t<1)throw new Error("Size needs to be positive: "+t);for(var n=[],r=0;r<e.length;r+=t){var a=e.slice(r,r+t);n.push(a)}return n}var ae=["0xCeD67a187b923F0E5ebcc77C7f2F7da20099e378"],se=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).pickleJarUSDPrices=new Map,t.lastFetchedDate=new Date(0),t}w(t,e);var n=t.prototype;return n.getPriceUsdc=function(){var e=y(L.mark((function e(t){var n,r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Date(Date.now()-36e5),!(this.lastFetchedDate<r)){e.next=4;break}return e.next=4,this.fetchPickleJarPrices();case 4:return e.abrupt("return",te(null==(n=this.pickleJarUSDPrices.get(t))?void 0:n.toFixed(0))||"0");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.fetchPickleJarPrices=function(){var e=y(L.mark((function e(){var t,n,r,a,s,u;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.pickle.finance/prod/protocol/pools").catch((function(){return fetch("https://f8wgg18t1h.execute-api.us-west-1.amazonaws.com/prod/protocol/pools")})).then((function(e){return e.json()}));case 2:for(t=e.sent,this.pickleJarUSDPrices.clear(),this.lastFetchedDate=new Date,n=t.filter((function(e){return ae.includes(i.getAddress(e.jarAddress))})),r=E(n);!(a=r()).done;)u=new o.BigNumber((s=a.value).liquidity_locked/s.tokens),this.pickleJarUSDPrices.set(i.getAddress(s.jarAddress),u);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(j),ie="https://simulate.yearn.network",oe=function(){function e(e,t){this.telegram=e,this.ctx=t}var t=e.prototype;return t.simulateRaw=function(){var e=y(L.mark((function e(t,n,r,a,s){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a={}),void 0===s&&(s="0"),e.next=4,this.makeSimulationRequest(t,n,r,a,s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),t.simulateVaultInteraction=function(){var e=y(L.mark((function e(t,n,r,a,s,o){var c,p,d;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o="0"),e.next=3,this.makeSimulationRequest(t,n,r,s,o);case 3:if(c=function(e){return i.getAddress(e.slice(-40))},p=e.sent.transaction.transaction_info.logs.reverse().find((function(e){return"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"===e.raw.topics[0]&&c(e.raw.topics[2])===i.getAddress(t)}))){e.next=9;break}throw new O("No log of transferring token "+a+" to "+t,O.NO_LOG);case 9:return d=new u(p.raw.data).toFixed(0),e.abrupt("return",d);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i){return e.apply(this,arguments)}}(),t.makeSimulationRequest=function(){var e=y(L.mark((function e(t,n,r,a,s){var i,o,u,c,p,d,l,f,h,y,m,v,b;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s="0"),p=null!=a&&a.forkId?ie+"/fork/"+a.forkId+"/simulate":ie+"/simulate",e.next=4,this.getPopulatedTransactionRequest(t,n,r,a,s);case 4:return l={from:t,to:n,input:r,network_id:(null==(i=(d=e.sent).chainId)?void 0:i.toString())||"1",block_number:-1,simulation_type:"quick",root:null==a?void 0:a.root,value:(null==(o=d.value)?void 0:o.toString())||"0",gas:parseInt((null==(u=d.gasLimit)?void 0:u.toString())||"0"),gas_price:(null==(c=d.gasPrice)?void 0:c.toString())||0,save:a.save||!0,nonce:d.nonce},e.next=8,fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).catch((function(){throw new I("simulation call to Tenderly failed",I.SIMULATION_CALL)}));case 8:if(!(h=(f=e.sent).transaction.error_message)){e.next=15;break}throw a.save&&this.sendErrorMessage(h,f.simulation.id,a.forkId),new O(h,O.TENDERLY_RESPONSE_ERROR);case 15:if(m=this.getAllSimulationCalls(f.transaction.transaction_info.call_trace),!(v=null==(y=m.find((function(e){return e.error})))?void 0:y.error)){e.next=21;break}throw this.sendErrorMessage(b="Partial Revert - "+v,f.simulation.id,null==a?void 0:a.forkId),new O(b,O.PARTIAL_REVERT);case 21:return e.abrupt("return",f);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),t.executeSimulationWithReSimulationOnFailure=function(){var e=y(L.mark((function e(t,n){var r=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=null),e.prev=1,e.next=4,t(!1).then((function(e){return n&&r.deleteFork(n),e}));case 4:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(1);try{t(!0)}catch(e){}throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),t.getAllSimulationCalls=function(e){var t=[];t=t.concat(e.calls||[]);for(var n,r=E(e.calls||[]);!(n=r()).done;){var a=this.getAllSimulationCalls(n.value);t=t.concat(a)}return t},t.getPopulatedTransactionRequest=function(){var e=y(L.mark((function e(t,n,r,s,i){var o,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i="0"),null!=s&&s.forkId?(u=new a.JsonRpcProvider("https://rpc.tenderly.co/fork/"+s.forkId),o=u.getSigner(t)):o=this.ctx.provider.write.getSigner(t),s.maxFeePerGas&&s.maxPriorityFeePerGas&&delete s.gasPrice,c={from:t,to:n,data:r,value:i,gasLimit:s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas,type:s.gasPrice?0:void 0},e.next=6,o.populateTransaction(c).catch((function(){throw new B("error populating transaction",B.POPULATING_TRANSACTION)}));case 6:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),t.createFork=function(){var e=y(L.mark((function e(){var t;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={alias:"",description:"",network_id:"1"},e.next=3,fetch(ie+"/fork",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(){throw new I("failed to create fork",I.CREATE_FORK)}));case 3:return e.abrupt("return",e.sent.simulation_fork.id);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.deleteFork=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ie+"/fork/"+t,{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendErrorMessage=function(e,t,n){var r;this.ctx.simulation.dashboardUrl&&(r=this.ctx.simulation.dashboardUrl+"/"+(n?"fork/"+n+"/simulation":"simulator")+"/"+t);var a=["Simulation error",e,r].map((function(e){return e})).join("\n\n");this.telegram.sendMessage(a)},e}(),ue=function(){function e(e){var t=this;this.contract=e,this.encodeDeposit=function(e){return t.contract.interface.encodeFunctionData("deposit",[e])},this.encodeWithdraw=function(e){return t.contract.interface.encodeFunctionData("withdraw",[e])}}var t=e.prototype;return t.decimals=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.decimals();case 2:return e.abrupt("return",new o.BigNumber(e.sent.toString()));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.token=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.token();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),v(e,null,[{key:"abi",get:function(){return["function token() view returns (address)","function decimals() view returns (uint256)","function deposit(uint256 amount) public","function withdraw(uint256 amount) public"]}}]),e}(),ce=function(e){function t(n,r){return e.call(this,new c.Contract(n,[].concat(ue.abi,t.pickleJarAbi),r))||this}return w(t,e),t.prototype.pricePerShare=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.getRatio();case 2:return e.abrupt("return",new o.BigNumber(e.sent.toString()));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),v(t,null,[{key:"pickleJarAbi",get:function(){return["function getRatio() public view returns (uint256)"]}}]),t}(ue),pe=function(e){function t(n,r){return e.call(this,new c.Contract(n,[].concat(ue.abi,t.yearnVaultAbi),r))||this}return w(t,e),t.prototype.pricePerShare=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.pricePerShare();case 2:return e.abrupt("return",new o.BigNumber(e.sent.toString()));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),v(t,null,[{key:"yearnVaultAbi",get:function(){return["function pricePerShare() view returns (uint256)"]}}]),t}(ue),de=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).simulationExecutor=new oe(t.yearn.services.telegram,t.ctx),t}w(n,e);var r=n.prototype;return r.deposit=function(){var e=y(L.mark((function e(n,r,a,s,i){var o,u,c,p,d,l,f,h,m=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i={}),o=this.ctx.provider.write.getSigner(n),u=ae.includes(s)?t.ZapProtocol.PICKLE:t.ZapProtocol.YEARN,c=u===t.ZapProtocol.PICKLE?new ce(s,o):new pe(s,o),e.next=6,c.token().catch((function(){throw new B("failed to fetch token",B.FAIL_TOKEN_FETCH)}));case 6:if((p=e.sent)===r){e.next=39;break}if(i.slippage){e.next=11;break}throw new _("slippage needs to be specified for a zap",_.NO_SLIPPAGE);case 11:if(r!==X){e.next=15;break}f=!1,e.next=18;break;case 15:return e.next=17,this.yearn.services.zapper.zapInApprovalState(n,r,u).then((function(e){return!e.isApproved})).catch((function(){throw new N("approval state",N.ZAP_IN_APPROVAL_STATE)}));case 17:f=e.sent;case 18:if(!f){e.next=24;break}return e.next=21,this.simulationExecutor.createFork();case 21:e.t0=e.sent,e.next=25;break;case 24:e.t0=void 0;case 25:if(i.forkId=d=e.t0,!f){e.next=33;break}return e.next=30,this.yearn.services.zapper.zapInApprovalTransaction(n,r,"0",u).catch((function(){throw new N("approval",N.ZAP_IN_APPROVAL)})).then(function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.simulateZapApprovalTransaction(t,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.simulation.id}));case 30:e.t1=e.sent,e.next=34;break;case 33:e.t1=void 0;case 34:i.root=e.t1,l=function(e){return i.save=e,m.zapIn(n,r,p,a,s,c,u,f,i)},e.next=61;break;case 39:return e.next=41,this.depositNeedsApproving(n,r,s,a,o);case 41:if(!(h=e.sent)){e.next=48;break}return e.next=45,this.simulationExecutor.createFork();case 45:e.t2=e.sent,e.next=49;break;case 48:e.t2=void 0;case 49:if(i.forkId=d=e.t2,!h){e.next=57;break}return e.next=54,this.approve(n,r,a,s,i);case 54:e.t3=e.sent,e.next=58;break;case 57:e.t3=void 0;case 58:i.root=e.t3,l=function(e){return i.save=e,m.directDeposit(n,r,a,s,c,i)};case 61:return e.abrupt("return",this.simulationExecutor.executeSimulationWithReSimulationOnFailure(l,d));case 62:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),r.withdraw=function(){var e=y(L.mark((function e(t,n,r,a,s){var o,u,c,p,d,l,f=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s={}),o=this.ctx.provider.write.getSigner(t),u=new pe(n,o),e.next=5,u.token();case 5:if((c=e.sent)===i.getAddress(a)){e.next=38;break}if(s.slippage){e.next=10;break}throw new _("slippage needs to be specified for a zap",_.NO_SLIPPAGE);case 10:if(n!==X){e.next=14;break}l=!1,e.next=17;break;case 14:return e.next=16,this.yearn.services.zapper.zapOutApprovalState(t,n).then((function(e){return!e.isApproved})).catch((function(){throw new N("zap out approval state",N.ZAP_OUT_APPROVAL_STATE)}));case 16:l=e.sent;case 17:if(!l){e.next=23;break}return e.next=20,this.simulationExecutor.createFork();case 20:e.t0=e.sent,e.next=24;break;case 23:e.t0=void 0;case 24:if(s.forkId=p=e.t0,!l){e.next=32;break}return e.next=29,this.yearn.services.zapper.zapOutApprovalTransaction(t,n,"0").catch((function(){throw new N("zap out approval transaction",N.ZAP_OUT_APPROVAL)})).then(function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.simulateZapApprovalTransaction(t,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.simulation.id}));case 29:e.t1=e.sent,e.next=33;break;case 32:e.t1=void 0;case 33:s.root=e.t1,d=function(e){return s.save=e,f.zapOut(t,a,c,r,n,l,s)},e.next=39;break;case 38:d=function(e){return s.save=e,f.directWithdraw(t,a,r,n,u,s)};case 39:return e.abrupt("return",this.simulationExecutor.executeSimulationWithReSimulationOnFailure(d,p));case 40:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),r.approve=function(){var e=y(L.mark((function e(t,n,r,a,s){var i,o,u,p;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=["function approve(address spender, uint256 amount) returns (bool)"],o=this.ctx.provider.write.getSigner(t),u=new c.Contract(n,i,o),p=u.interface.encodeFunctionData("approve",[a,r]),s.save=!0,e.next=7,this.simulationExecutor.makeSimulationRequest(t,n,p,s);case 7:return e.abrupt("return",e.sent.simulation.id);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),r.depositNeedsApproving=function(){var e=y(L.mark((function e(t,n,r,a,s){var i;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.Contract(n,["function allowance(address owner, address spender) view returns (uint256)"],s),e.next=4,i.allowance(t,r).catch((function(){}));case 4:return e.abrupt("return",new u(e.sent.toString()).lt(new u(a)));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),r.directDeposit=function(){var e=y(L.mark((function e(t,n,r,a,s,i){var o,c,p,d,l,f,h;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.encodeDeposit(r),e.next=3,this.simulationExecutor.simulateVaultInteraction(t,a,o,a,i);case 3:return c=e.sent,e.next=6,this.yearn.services.oracle.getNormalizedValueUsdc(a,c).catch((function(){throw new R("Error fetching price",R.FETCHING_PRICE_ORACLE)}));case 6:return p=e.sent,e.next=9,Promise.all([s.decimals().catch((function(){throw new B("no decimals",B.NO_DECIMALS)})),s.pricePerShare().catch((function(){throw new B("no price per share",B.NO_PRICE_PER_SHARE)}))]);case 9:return l=(d=e.sent)[0],f=d[1],h=new u(c).div(new u(10).pow(l)).multipliedBy(f).toFixed(0),e.abrupt("return",{sourceTokenAddress:n,sourceTokenAmount:r,targetTokenAddress:a,targetTokenAmount:c,targetTokenAmountUsdc:p,targetUnderlyingTokenAddress:a,targetUnderlyingTokenAmount:h,conversionRate:1,slippage:0});case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i){return e.apply(this,arguments)}}(),r.zapIn=function(){var e=y(L.mark((function e(n,r,a,s,i,o,c,p,d){var l,f,h,y,m,v,b,w,g,x,k,A,T;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r===X?W:r,d.slippage){e.next=3;break}throw new _("slippage needs to be set",_.NO_SLIPPAGE);case 3:return e.next=5,this.yearn.services.zapper.zapIn(n,l,s,i,d.gasPrice||"0",d.slippage,p,c).catch((function(){throw new N("zap in",N.ZAP_IN)}));case 5:return h=new u((f=e.sent).value).toFixed(0),d.gasPrice=d.gasPrice||f.gasPrice,p||(d.gasLimit=f.gas),e.next=11,this.simulationExecutor.simulateVaultInteraction(n,f.to,f.data,i,d,h);case 11:return y=e.sent,e.next=14,Promise.all([o.decimals().catch((function(){throw new B("no decimals",B.NO_DECIMALS)})),o.pricePerShare().catch((function(){throw new B("no price per share",B.NO_PRICE_PER_SHARE)}))]);case 14:v=(m=e.sent)[0],b=m[1],w=new u(y).div(new u(10).pow(v)).multipliedBy(b).toFixed(0),e.t0=c,e.next=e.t0===t.ZapProtocol.YEARN?21:e.t0===t.ZapProtocol.PICKLE?25:29;break;case 21:return e.next=23,this.yearn.services.oracle.getNormalizedValueUsdc(i,y).then((function(e){return new u(e)})).catch((function(){throw new R("error fetching price",R.FETCHING_PRICE_ORACLE)}));case 23:return g=e.sent,e.abrupt("break",29);case 25:return e.next=27,this.yearn.services.pickle.getPriceUsdc(i).catch((function(){throw new R("error fetching price",R.FETCHING_PRICE_PICKLE)})).then((function(e){return new u(e)}));case 27:return g=e.sent.dividedBy(new u(10).pow(v)).multipliedBy(new u(y)),e.abrupt("break",29);case 29:return x=r===X?K:r,e.t1=u,e.next=33,this.yearn.services.oracle.getNormalizedValueUsdc(x,s).catch((function(){throw new R("error fetching price",R.FETCHING_PRICE_ORACLE)}));case 33:return e.t2=e.sent,k=new e.t1(e.t2),A=g.div(new u(k)).toNumber(),T={sourceTokenAddress:r,sourceTokenAmount:s,targetTokenAddress:f.buyTokenAddress,targetTokenAmount:y,targetTokenAmountUsdc:g.toFixed(0),targetUnderlyingTokenAddress:a,targetUnderlyingTokenAmount:w,conversionRate:A,slippage:1-A},e.abrupt("return",T);case 38:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i,o,u,c){return e.apply(this,arguments)}}(),r.directWithdraw=function(){var e=y(L.mark((function e(t,n,r,a,s,i){var o,u;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.encodeWithdraw(r),e.next=3,this.simulationExecutor.simulateVaultInteraction(t,a,o,n,i);case 3:return u=e.sent,e.next=6,this.yearn.services.oracle.getNormalizedValueUsdc(n,u).catch((function(){throw new R("error fetching price",R.FETCHING_PRICE_ORACLE)}));case 6:return e.abrupt("return",{sourceTokenAddress:a,sourceTokenAmount:r,targetTokenAddress:n,targetTokenAmount:u,targetTokenAmountUsdc:e.sent,targetUnderlyingTokenAddress:n,targetUnderlyingTokenAmount:u,conversionRate:1,slippage:0});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i){return e.apply(this,arguments)}}(),r.zapOut=function(){var e=y(L.mark((function e(t,n,r,a,s,i,o){var c,p,d,l,f,h,m,v=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.slippage){e.next=2;break}throw new _("slippage needs to be set",_.NO_SLIPPAGE);case 2:return c=n===X?W:n,e.next=5,this.yearn.services.zapper.zapOut(t,c,a,s,"0",o.slippage,i).catch((function(){throw new N("error zapping out",N.ZAP_OUT)}));case 5:return p=e.sent,i||(o.gasLimit=p.gas),e.next=9,y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c!==W){e.next=7;break}return e.next=3,v.simulationExecutor.makeSimulationRequest(t,p.to,p.data,o,p.value);case 3:return e.abrupt("return",new u(e.sent.transaction.transaction_info.call_trace.output).toFixed(0));case 7:return e.next=9,v.simulationExecutor.simulateVaultInteraction(t,p.to,p.data,n,o,p.value);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))();case 9:return d=e.sent,l=n===X?K:n,e.next=13,this.yearn.services.oracle.getNormalizedValueUsdc(l,d).catch((function(){throw new R("error fetching price",R.FETCHING_PRICE_ORACLE)}));case 13:return f=e.sent,e.next=16,this.yearn.services.oracle.getNormalizedValueUsdc(s,a).catch((function(){throw new R("error fetching price",R.FETCHING_PRICE_ORACLE)}));case 16:return h=e.sent,m=new u(f).div(new u(h)).toNumber(),e.abrupt("return",{sourceTokenAddress:s,sourceTokenAmount:a,targetTokenAddress:n,targetTokenAmount:d,targetTokenAmountUsdc:f,targetUnderlyingTokenAddress:r,targetUnderlyingTokenAmount:d,conversionRate:m,slippage:1-m});case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i,o){return e.apply(this,arguments)}}(),r.simulateZapApprovalTransaction=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.save=!0,e.next=3,this.simulationExecutor.makeSimulationRequest(t.from,t.to,t.data,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n}(z),le=["function strategies(address) view returns (uint256 performanceFee, uint256 activation, uint256 debtRatio, uint256 rateLimit, uint256 lastReport, uint256 totalDebt, uint256 totalGain, uint256 totalLoss)","function token() view returns (address)","event StrategyAdded(address indexed strategy, uint256 debtRatio, uint256 minDebtPerHarvest, uint256 maxDebtPerHarvest, uint256 performanceFee)"],fe=["function symbol() view returns (string)"],he=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).cachedFetcher=new F("strategies/metadata/get",t.ctx,t.chainId),t}w(t,e);var n=t.prototype;return n.vaultsStrategiesMetadata=function(){var e=y(L.mark((function e(t){var n,r,a;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcher.fetch();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:if(!t){e.next=9;break}r=t,e.next=12;break;case 9:return e.next=11,this.yearn.services.lens.adapters.vaults.v2.assetsStatic().then((function(e){return e.map((function(e){return e.address}))}));case 11:r=e.sent;case 12:return e.prev=12,e.next=15,this.fetchMetadataFromApi(r);case 15:a=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),console.error(e.t0);case 21:if(a){e.next=25;break}return e.next=24,this.fetchMetadataFromChain(r);case 24:a=e.sent;case 25:return e.abrupt("return",a);case 26:case"end":return e.stop()}}),e,this,[[12,18]])})));return function(t){return e.apply(this,arguments)}}(),n.fetchMetadataFromApi=function(){var e=y(L.mark((function e(t){var n,r,a,s=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchVaultsData();case 2:return n=e.sent,e.next=5,this.yearn.services.meta.strategies();case 5:return r=e.sent,a=t.map(function(){var e=y(L.mark((function e(t){var a,i;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find((function(e){return e.address===t}))){e.next=3;break}return e.abrupt("return",void 0);case 3:return i=new c.Contract(a.address,le,s.ctx.provider.read),e.abrupt("return",s.fetchVaultStrategiesMetadata(a.strategies,r,i,a.token.symbol));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a).then((function(e){return e.flatMap((function(e){return e?[e]:[]}))})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.fetchMetadataFromChain=function(){var e=y(L.mark((function e(t){var n,r,a,s=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.services.meta.strategies();case 2:return n=e.sent,r=this.ctx.provider.read,a=t.map(function(){var e=y(L.mark((function e(t){var a,i,o,u,p;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new c.Contract(t,le,r),i=s.yearn.services.helper.assetStrategiesAddresses(t).then((function(e){return e.map((function(e){return{address:e}}))})),e.next=4,Promise.all([i,a.token()]);case 4:return u=(o=e.sent)[0],p=new c.Contract(o[1],fe,r),e.next=10,p.symbol();case 10:return e.abrupt("return",s.fetchVaultStrategiesMetadata(u,n,a,e.sent));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a).then((function(e){return e.flatMap((function(e){return e?[e]:[]}))})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.fetchVaultStrategiesMetadata=function(){var e=y(L.mark((function e(t,n,r,a){var s;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,Promise.all(t.map(function(){var e=y(L.mark((function e(t){var s,i,o,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.strategies(t.address);case 3:o=e.sent.debtRatio,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",void 0);case 10:if(!o.lte(d.BigNumber.from("0"))){e.next=12;break}return e.abrupt("return",void 0);case 12:return u=n.find((function(e){return e.addresses.includes(t.address)})),(c={address:t.address,name:(null==u?void 0:u.name)||t.name||"Strategy",description:null!=(s=null==u?void 0:u.description)?s:"I don't have a description for this strategy yet",protocols:null!=(i=null==u?void 0:u.protocols)?i:[]}).description=null==c?void 0:c.description.replace(/{{token}}/g,a),e.abrupt("return",{data:c,debtRatio:o});case 16:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e.flatMap((function(e){return e?[e]:[]})).sort((function(e,t){return e.debtRatio.lt(t.debtRatio)?1:e.debtRatio.eq(t.debtRatio)?0:-1})).map((function(e){return e.data}))}));case 4:if(0!==(s=e.sent).length){e.next=7;break}return e.abrupt("return",void 0);case 7:return e.abrupt("return",{vaultAddress:r.address,strategiesMetadata:s});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),n.fetchVaultsData=function(){var e=y(L.mark((function e(){var t;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("https://api.yearn.finance/v1/chains/"+this.chainId+"/vaults/all");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("An error has occured fetching vaults data: "+t.status);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(z),ye=["function approve(address _spender, uint256 _value) public"],me=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).cachedFetcherSupported=new F("tokens/supported",t.ctx,t.chainId),t.cachedFetcher=new F("tokens/metadata",t.ctx,t.chainId),t}w(n,e);var r=n.prototype;return r.price=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.yearn.services.oracle.getPriceFromRouter(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.priceUsdc=function(){var e=y(L.mark((function e(t,n){var r=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=5;break}return e.next=3,Promise.all(t.map(function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.yearn.services.oracle.getPriceUsdc(t,n);case 2:return e.abrupt("return",[t,e.sent]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",Object.fromEntries(e.sent));case 5:return e.abrupt("return",this.yearn.services.oracle.getPriceUsdc(t,n));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.balances=function(){var e=y(L.mark((function e(t){var n,r,a,s,i;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.vaults.balances(t).then((function(e){return e.filter((function(e){return"0"!==e.balance}))}));case 2:if(n=e.sent,1!==this.chainId&&1337!==this.chainId){e.next=10;break}return e.next=6,this.yearn.services.zapper.balances(t);case 6:return r=e.sent,a=new Set(n.map((function(e){return e.address}))),r=r.filter((function(e){return!a.has(e.address)})),e.abrupt("return",r.concat(n));case 10:if(250!==this.chainId&&42161!==this.chainId){e.next=17;break}return e.next=13,this.yearn.ironBank.balances(t);case 13:return s=e.sent,i=new Set(n.map((function(e){return e.address}))),s=s.filter((function(e){return!i.has(e.address)})),e.abrupt("return",s.concat(n));case 17:throw new _("the chain "+this.chainId+" hasn't been implemented yet");case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.supported=function(){var e=y(L.mark((function e(){var t,n,r,a=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherSupported.fetch();case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:if(1!==this.chainId&&1337!==this.chainId){e.next=13;break}return e.next=8,this.yearn.services.zapper.supportedTokens();case 8:return n=e.sent,e.next=11,this.yearn.services.asset.ready.then((function(){return a.yearn.services.asset.icon(n.map((function(e){return e.address})))}));case 11:return r=e.sent,e.abrupt("return",n.map((function(e){var t=r[e.address];return t?b({},e,{icon:t}):e})));case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.approve=function(){var e=y(L.mark((function e(n,r,a,s){var i,o,p,d,l;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X!==r){e.next=2;break}return e.abrupt("return",!0);case 2:if(i=this.ctx.provider.write.getSigner(s),n.token!==r){e.next=9;break}return o=new c.Contract(r,ye,i),e.next=7,o.populateTransaction.approve(n.address,a);case 7:return e.abrupt("return",this.yearn.services.transaction.sendTransaction(e.sent));case 9:return e.next=11,this.yearn.services.zapper.gas();case 11:return p=new u(e.sent.fast).times(new u(Math.pow(10,9))),d=ae.includes(n.address)?t.ZapProtocol.PICKLE:t.ZapProtocol.YEARN,e.next=16,this.yearn.services.zapper.zapInApprovalState(s,r,d);case 16:if(e.sent.isApproved){e.next=23;break}return e.next=20,this.yearn.services.zapper.zapInApprovalTransaction(s,r,p.toString(),d);case 20:return e.abrupt("return",i.sendTransaction({to:(l=e.sent).to,from:l.from,gasPrice:l.gasPrice,data:l.data}));case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),r.approveZapOut=function(){var e=y(L.mark((function e(t,n,r){var a,s,i,o;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.ctx.provider.write.getSigner(r),t.token!==n){e.next=16;break}return e.next=4,this.yearn.services.zapper.gas();case 4:return s=new u(e.sent.fast).times(new u(Math.pow(10,9))),i=n,e.next=9,this.yearn.services.zapper.zapOutApprovalState(r,i);case 9:if(e.sent.isApproved){e.next=16;break}return e.next=13,this.yearn.services.zapper.zapOutApprovalTransaction(r,i,s.toString());case 13:return e.abrupt("return",a.sendTransaction({to:(o=e.sent).to,from:o.from,gasPrice:o.gasPrice,data:o.data}));case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.icon=function(e){return this.yearn.services.asset.icon(e)},r.metadata=function(){var e=y(L.mark((function e(t){var n,r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcher.fetch();case 2:if(!(r=e.sent)){e.next=7;break}n=r,e.next=10;break;case 7:return e.next=9,this.yearn.services.meta.tokens();case 9:n=e.sent;case 10:if(!t){e.next=14;break}return e.abrupt("return",n.filter((function(e){return t.includes(e.address)})));case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n}(z),ve=["function deposit(uint256 amount) public","function withdraw(uint256 amount) public"],be=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).cachedFetcherGet=new F("vaults/get",t.ctx,t.chainId),t.cachedFetcherGetDynamic=new F("vaults/getDynamic",t.ctx,t.chainId),t.cachedFetcherTokens=new F("vaults/tokens",t.ctx,t.chainId),t}w(n,e);var r=n.prototype;return r.get=function(){var e=y(L.mark((function e(t,n){var r,a,s,i,o,u,c,p,d,l,f,h,m,v,w,g,x,k,A=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherGet.fetch();case 2:if(!(r=e.sent)){e.next=9;break}if(!t){e.next=8;break}return e.abrupt("return",r.filter((function(e){return t.includes(e.address)})));case 8:return e.abrupt("return",r);case 9:return a=this.yearn.services.meta.vaults().catch((function(e){return console.error(e),Promise.resolve([])})),e.next=12,Promise.all([a,this.getStatic(t,n)]);case 12:return i=(s=e.sent)[0],o=s[1],u=[],e.prev=16,e.next=19,this.getDynamic();case 19:u=e.sent,e.next=30;break;case 22:return e.prev=22,e.t0=e.catch(16),c=o.map((function(e){return e.address})),p=re(c,30),d=p.map(function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getDynamic(t,i,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=29,Promise.all(d).then((function(e){return e.flat()}));case 29:u=e.sent;case 30:return l=this.yearn.strategies.vaultsStrategiesMetadata(u.map((function(e){return e.address}))).catch((function(e){return console.error(e),Promise.resolve([])})),f=this.yearn.earnings.assetsHistoricEarnings().catch((function(e){return console.error(e),Promise.resolve([])})),e.next=34,Promise.all([l,f]);case 34:m=(h=e.sent)[0],v=h[1],w=[],g=function(){var e,t,n=k.value,r=u.find((function(e){return n.address===e.address}));if(!r)throw new _("Dynamic asset does not exist for "+n.address);var a=i.find((function(e){return e.address===n.address}));if(null!=a&&a.hideAlways)return"continue";var s=null!=(e=null==a?void 0:a.order)?e:Math.max();r.metadata.displayName=r.metadata.displayName||n.name,r.metadata.strategies=m.find((function(e){return e.vaultAddress===n.address})),r.metadata.historicEarnings=null==(t=v.find((function(e){return e.assetAddress===n.address})))?void 0:t.dayData,w.push({vault:b({},n,r),order:s})},x=E(o);case 40:if((k=x()).done){e.next=46;break}if("continue"!==g()){e.next=44;break}return e.abrupt("continue",44);case 44:e.next=40;break;case 46:return e.abrupt("return",w.sort((function(e,t){return e.order-t.order})).map((function(e){return e.vault})));case 47:case"end":return e.stop()}}),e,this,[[16,22]])})));return function(t,n){return e.apply(this,arguments)}}(),r.getStatic=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(this.yearn.services.lens.adapters.vaults),e.next=3,Promise.all(r.map(function(){var e=y(L.mark((function e(r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.assetsStatic(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e.flat()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.getDynamic=function(){var e=y(L.mark((function e(t,n,r){var a,s,i,o=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherGetDynamic.fetch();case 2:if(!(a=e.sent)){e.next=5;break}return e.abrupt("return",t?a.filter((function(e){return t.includes(e.address)})):a);case 5:if(!n){e.next=9;break}e.t0=n,e.next=12;break;case 9:return e.next=11,this.yearn.services.meta.vaults().catch((function(e){return console.error(e),Promise.resolve([])}));case 11:e.t0=e.sent;case 12:return s=e.t0,i=Object.values(this.yearn.services.lens.adapters.vaults),e.next=16,Promise.all(i.map(function(){var e=y(L.mark((function e(n){var a,i;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.assetsDynamic(t,r);case 2:return a=e.sent,e.next=5,o.yearn.services.vision.apy(a.map((function(e){return e.address})));case 5:return i=e.sent,e.abrupt("return",a.map((function(e){var t=s.find((function(t){return t.address===e.address}));if(e.metadata.apy=i[e.address],e.tokenId===K){var n,r=null!=(n=o.yearn.services.asset.icon(X))?n:"";e.metadata.displayIcon=r,e.metadata.displayName="ETH",e.metadata.defaultDisplayToken=X}else{var a,u=null!=(a=o.yearn.services.asset.icon(e.tokenId))?a:"";e.metadata.displayIcon=u;var c=o.yearn.services.asset.alias(e.tokenId);e.metadata.displayName=c?c.symbol:"",e.metadata.defaultDisplayToken=e.tokenId}return t&&o.fillMetadataOverrides(e,t),e})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e.flat()}));case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.positionsOf=function(){var e=y(L.mark((function e(t,n,r){var a,s=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.values(this.yearn.services.lens.adapters.vaults),e.next=3,Promise.all(a.map(function(){var e=y(L.mark((function e(a){var i,o,u;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.positionsOf(t,n,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!n){e.next=12;break}i=n,e.next=15;break;case 12:return e.next=14,s.getStatic(n,r).then((function(e){return e.map((function(e){return e.address}))}));case 14:i=e.sent;case 15:return o=re(i,30),u=o.map(function(){var e=y(L.mark((function e(n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.positionsOf(t,n,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=19,Promise.all(u).then((function(e){return e.flat()}));case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e.flat()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.summaryOf=function(){var e=y(L.mark((function e(t){var n;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.earnings.accountAssetsData(t);case 2:return e.abrupt("return",{earnings:(n=e.sent).earnings,holdings:n.holdings,grossApy:n.grossApy,estimatedYearlyYield:n.estimatedYearlyYield});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.metadataOf=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.yearn.earnings.accountAssetsData(t);case 2:if(r=e.sent.earningsAssetData,n){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",r.filter((function(e){return n.includes(e.assetAddress)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.balances=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tokens();case 2:return r=e.sent,e.next=5,this.yearn.services.helper.tokenBalances(t,r.map((function(e){return e.address})),n);case 5:return e.abrupt("return",e.sent.map((function(e){var t=r.find((function(t){return t.address===e.address}));if(!t)throw new _("Token does not exist for Balance("+e.address+")");return b({},e,{token:t})})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.tokens=function(){var e=y(L.mark((function e(t){var n,r,a=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cachedFetcherTokens.fetch();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return r=Object.values(this.yearn.services.lens.adapters.vaults),e.next=8,this.yearn.services.asset.ready;case 8:return e.next=10,Promise.all(r.map(function(){var e=y(L.mark((function e(n){var r,s,i,o,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.tokens(t);case 2:return s=a.yearn.services.asset.icon((r=e.sent).concat(X)),i=a.yearn.services.helper.tokens(r,t),o=a.yearn.tokens.metadata(r),e.next=8,Promise.all([i,o]);case 8:return c=(u=e.sent)[1],e.abrupt("return",Promise.all(u[0].map(function(){var e=y(L.mark((function e(n){var r,i,o,u;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.find((function(e){return e.address===n.address})),e.t0=b,e.t1={},e.t2=n,e.t3=s[n.address],e.t4={},e.next=8,a.yearn.services.oracle.getPriceUsdc(n.address,t);case 8:return e.t5=e.sent,e.t6=i,e.t7={icon:e.t3,supported:e.t4,priceUsdc:e.t5,metadata:e.t6},o=(0,e.t0)(e.t1,e.t2,e.t7),(u=null==(r=a.yearn.services.asset.alias(n.address))?void 0:r.symbol)&&(o.symbol=u),i&&a.fillTokenMetadataOverrides(o,i),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e.flat()}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.deposit=function(){var e=y(L.mark((function e(n,r,a,s,i,o){var u,p,d=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i={}),void 0===o&&(o={}),u=this.ctx.provider.write.getSigner(s),!ae.includes(n)){e.next=6;break}return e.abrupt("return",this.zapIn(n,r,a,s,i,t.ZapProtocol.PICKLE,o));case 6:return e.next=8,this.getStatic([n],o);case 8:if(e.sent[0].token!==r){e.next=20;break}if(r!==X){e.next=15;break}throw new _("deposit:v2:eth not implemented");case 15:return p=new c.Contract(n,ve,u),e.abrupt("return",this.executeVaultContractTransaction(function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.populateTransaction.deposit(a,t);case 2:return e.abrupt("return",d.yearn.services.transaction.sendTransaction(e.sent));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o));case 18:e.next=21;break;case 20:return e.abrupt("return",this.zapIn(n,r,a,s,i,t.ZapProtocol.YEARN,o));case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i){return e.apply(this,arguments)}}(),r.withdraw=function(){var e=y(L.mark((function e(t,n,r,a,s,i){var o,u,p,l,f,h=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s={}),void 0===i&&(i={}),e.next=4,this.getStatic([t],i);case 4:if(o=e.sent[0],u=this.ctx.provider.write.getSigner(a),o.token!==n){e.next=13;break}return p=new c.Contract(t,ve,u),e.abrupt("return",this.executeVaultContractTransaction(function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.populateTransaction.withdraw(r,t);case 2:return e.abrupt("return",h.yearn.services.transaction.sendTransaction(e.sent));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i));case 13:if(void 0!==s.slippage){e.next=15;break}throw new _("zap operations should have a slippage set");case 15:return e.next=17,this.yearn.services.zapper.zapOut(a,n,r,t,"0",s.slippage,!1,void 0,s.signature);case 17:return f={to:(l=e.sent).to,from:l.from,gasPrice:d.BigNumber.from(l.gasPrice),gasLimit:d.BigNumber.from(l.gas),data:l.data,value:d.BigNumber.from(l.value)},e.abrupt("return",this.executeZapperTransaction(f,i,d.BigNumber.from(l.gasPrice)));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i){return e.apply(this,arguments)}}(),r.zapIn=function(){var e=y(L.mark((function e(n,r,a,s,i,o,u){var c,p;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i={}),void 0===o&&(o=t.ZapProtocol.YEARN),void 0===u&&(u={}),void 0!==i.slippage){e.next=5;break}throw new _("zap operations should have a slippage set");case 5:return e.next=7,this.yearn.services.zapper.zapIn(s,r,a,n,"0",i.slippage,!1,o);case 7:return p={to:(c=e.sent).to,from:c.from,data:c.data,value:d.BigNumber.from(c.value),gasLimit:d.BigNumber.from(c.gas)},e.abrupt("return",this.executeZapperTransaction(p,u,d.BigNumber.from(c.gasPrice)));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i,o){return e.apply(this,arguments)}}(),r.executeZapperTransaction=function(){var e=y(L.mark((function e(t,n,r){var a,s;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=b({},t,n)).gasPrice=void 0,e.next=5,this.yearn.services.transaction.sendTransaction(a);case 5:case 17:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(0),-32602!==e.t0.code){e.next=18;break}return(s=b({},t,n)).maxFeePerGas=void 0,s.maxPriorityFeePerGas=void 0,s.gasPrice=n.gasPrice||r,e.next=17,this.yearn.services.transaction.sendTransaction(s);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.executeVaultContractTransaction=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.gasPrice,e.prev=1,n.gasPrice=void 0,e.next=5,t(n);case 5:case 17:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),-32602!==e.t0.code){e.next=19;break}return n.maxFeePerGas=void 0,n.maxPriorityFeePerGas=void 0,n.gasPrice=r,e.next=17,t(n);case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),r.fillTokenMetadataOverrides=function(e,t){t.tokenIconOverride&&(e.icon=t.tokenIconOverride),t.tokenSymbolOverride&&(e.symbol=t.tokenSymbolOverride),t.tokenNameOverride&&(e.name=t.tokenNameOverride)},r.fillMetadataOverrides=function(e,t){t.displayName&&(e.metadata.displayName=t.displayName),t.vaultSymbolOverride&&(e.metadata.symbol=t.vaultSymbolOverride),t.vaultIconOverride&&(e.metadata.displayIcon=t.vaultIconOverride),t.apyTypeOverride&&(e.metadata.apy||(e.metadata.apy=this.makeEmptyApy()),e.metadata.apy.type=t.apyTypeOverride),t.apyOverride&&(e.metadata.apy||(e.metadata.apy=this.makeEmptyApy()),e.metadata.apy.net_apy=t.apyOverride,e.metadata.apy.type="override"),e.metadata.depositsDisabled=t.depositsDisabled,e.metadata.withdrawalsDisabled=t.withdrawalsDisabled,e.metadata.allowZapIn=t.allowZapIn,e.metadata.allowZapOut=t.allowZapOut,e.metadata.migrationContract=t.migrationContract,e.metadata.migrationTargetVault=t.migrationTargetVault,e.metadata.vaultNameOverride=t.vaultNameOverride,e.metadata.vaultDetailPageAssets=t.vaultDetailPageAssets,e.metadata.hideIfNoDeposits=e.metadata.emergencyShutdown||t.retired||t.migrationAvailable||!1,e.metadata.migrationAvailable=e.metadata.migrationAvailable||t.migrationAvailable||!1},r.makeEmptyApy=function(){return{type:"manual_override",gross_apr:0,net_apy:0,fees:{performance:null,withdrawal:null,management:null,keep_crv:null,cvx_keep_crv:null},points:null,composite:null}},n}(z),we="tuple(\n  address address,\n  string typeId,\n  address token,\n  string name,\n  string version,\n  string symbol,\n  uint8 decimals,\n)",ge=function(e){return"tuple(\n  address address, \n  string typeId,\n  address tokenId,\n  tuple(uint256 amount, uint256 amountUsdc) underlyingTokenBalance,\n  "+e+" metadata\n)"},xe="tuple(address assetAddress, address tokenAddress, string typeId, uint256 balance,tuple(uint256 amount, uint256 amountUsdc) underlyingTokenBalance,tuple(address owner, address spender, uint256 amount)[] tokenAllowances,tuple(address owner, address spender, uint256 amount)[] assetAllowances)",ke=function(e){return["function assetsStatic() public view returns ("+we+"[] memory)","function assetsStatic(address[] memory) public view returns ("+we+"[] memory)","function assetsDynamic() public view returns ("+ge(e)+"[] memory)","function assetsDynamic(address[] memory) public view returns ("+ge(e)+"[] memory)","function assetsPositionsOf(address) public view returns ("+xe+"[] memory)","function assetsPositionsOf(address, address[] memory) public view returns ("+xe+"[] memory)","function assetsTokensAddresses() public view returns (address[] memory)"]};function Ae(e){if("object"!=typeof e)return e;var t=Object.keys(e).filter((function(e){return isNaN(Number(e))}));if(0===t.length)return Te(e);var n={};return t.forEach((function(t){var r=e[t];n[t]="object"!=typeof r||f.isBigNumberish(r)?Array.isArray(r)?r:f.isBigNumberish(r)?r.toString():r:Ae(r)})),n}function Te(e){return e.map((function(e){return Ae(e)}))}var Pe=function(e){function t(n,r){var a;return e.call(this,null!=(a=r.addresses.adapters.ironBank)?a:t.addressByChain(n),n,r)||this}w(t,e),t.addressByChain=function(e){switch(e){case 1:case 1337:return"0x5D03ad44F4Fce73407C73A1779295011691D2e1F";case 250:return"0xC31E8C238287448f0d0CCF65df40424eeF429940";case 42161:return"0x7AAd416eB4e16a27b85e7076dD56742A44E9d25B"}};var n=t.prototype;return n.assetsStatic=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),!t){e.next=5;break}return e.next=4,this.contract.read["assetsStatic(address[])"](t,n).then(Te);case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.contract.read["assetsStatic()"](n).then(Te);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.assetsDynamic=function(){var e=y(L.mark((function e(t,n){var r,a,s,i,o,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),r=t?this.contract.read["assetsDynamic(address[])"](t,n).then(Te):this.contract.read["assetsDynamic()"](n).then(Te),e.next=4,Promise.all([r,this.blocksPerYear()]);case 4:for(i=(a=e.sent)[1],o=E(s=a[0]);!(u=o()).done;)(c=u.value).metadata.lendApyBips=this.aprBipsToApyBips(c.metadata.lendAprBips,i),c.metadata.borrowApyBips=this.aprBipsToApyBips(c.metadata.borrowAprBips,i);return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.positionsOf=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),!n){e.next=5;break}return e.next=4,this.contract.read["assetsPositionsOf(address,address[])"](t,n,r).then(Te);case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.contract.read["assetsPositionsOf(address)"](t,r).then(Te);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.generalPositionOf=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.adapterPositionOf(t,n).then(Ae);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.assetsUserMetadata=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),!n){e.next=5;break}return e.next=4,this.contract.read["assetsUserMetadata(address,address[])"](t,n,r).then(Te);case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.contract.read["assetsUserMetadata(address)"](t,r).then(Te);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.tokens=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.assetsTokensAddresses(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.blocksPerYear=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.blocksPerYear(t);case 3:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.aprBipsToApyBips=function(e,t){var n=o.BigNumber.clone({POW_PRECISION:6});return new n(e).div(new n(10).pow(4)).div(t).plus(1).pow(t).minus(1).multipliedBy(new n(10).pow(4)).toFixed(0)},t}(V);Pe.abi=ke("tuple(\n  uint256 totalSuppliedUsdc,\n  uint256 totalBorrowedUsdc,\n  uint256 lendAprBips,\n  uint256 borrowAprBips,\n  uint256 liquidity,\n  uint256 liquidityUsdc,\n  uint256 totalCollateralTokens,\n  uint256 collateralFactor,\n  uint256 collateralCap,\n  bool isActive,\n  uint256 reserveFactor,\n  uint256 exchangeRate\n)").concat(["function adapterPositionOf(address) external view returns (tuple(\n  uint256 supplyBalanceUsdc,\n  uint256 borrowBalanceUsdc,\n  uint256 borrowLimitUsdc,\n  uint256 utilizationRatioBips\n) memory)","function assetsUserMetadata(address) public view returns (tuple(\n  address assetAddress,\n  bool enteredMarket,\n  uint256 supplyBalanceUsdc,\n  uint256 borrowBalanceUsdc,\n  uint256 collateralBalanceUsdc,\n  uint256 borrowLimitUsdc\n)[] memory)","function blocksPerYear() public view returns (uint256)"]);var Ee=function(e){function t(n,r){var a;return e.call(this,null!=(a=r.addresses.adapters.registryV2)?a:t.addressByChain(n),n,r)||this}w(t,e),t.addressByChain=function(e){switch(e){case 1:case 1337:return"0x240315db938d44bb124ae619f5fd0269a02d1271";case 250:return"0xF628Fb7436fFC382e2af8E63DD7ccbaa142E3cd1";case 42161:return"0x57AA88A0810dfe3f9b71a9b179Dd8bF5F956C46A"}};var n=t.prototype;return n.assetsStatic=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),!t){e.next=5;break}return e.next=4,this.contract.read["assetsStatic(address[])"](t,n).then(Te);case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.contract.read["assetsStatic()"]().then(Te);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.assetsDynamic=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),!t){e.next=5;break}return e.next=4,this.contract.read["assetsDynamic(address[])"](t,n).then(Te).then((function(e){return e.map((function(e){return b({},e,{metadata:b({controller:W,totalAssets:"0",totalSupply:"0"},e.metadata)})}))}));case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.contract.read["assetsDynamic()"]().then(Te).then((function(e){return e.map((function(e){return b({},e,{metadata:b({controller:W,totalAssets:"0",totalSupply:"0"},e.metadata)})}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.positionsOf=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),!n){e.next=5;break}return e.next=4,this.contract.read["assetsPositionsOf(address,address[])"](t,n,r).then(Te);case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this.contract.read["assetsPositionsOf(address)"](t,r).then(Te);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.tokens=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.assetsTokensAddresses(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(V);Ee.abi=ke("tuple(\n  uint256 pricePerShare,\n  bool migrationAvailable,\n  address latestVaultAddress,\n  uint256 depositLimit,\n  bool emergencyShutdown\n)");var Se=function(e,t){return"https://raw.githack.com/yearn/yearn-assets/master/icons/multichain-tokens/"+t+"/"+e+"/logo-128.png"},_e=function(e,t){return"https://raw.githack.com/yearn/yearn-assets/master/icons/multichain-tokens/"+t+"/"+e+"/logo-alt-128.png"},Oe=function(e){return"https://raw.githack.com/trustwallet/assets/master/blockchains/ethereum/assets/"+e+"/logo.png"},Ne=function(e){function t(t,n,r){var a;return(a=e.call(this,t,n)||this).alts=[K],r?(a.supported=r.supported,a.aliases=r.aliases,a.ready=Promise.resolve()):(a.supported=new Map,a.aliases=new Map,a.ready=a.initialize()),a}w(t,e),t.deserializeState=function(e){var t=JSON.parse(e);return{supported:new Map(JSON.parse(t.supported)),aliases:new Map(JSON.parse(t.aliases))}};var n=t.prototype;return n.makeSerializedState=function(){var e=y(L.mark((function e(){var t,n;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return t=JSON.stringify(Array.from(this.supported.entries())),n=JSON.stringify(Array.from(this.aliases.entries())),e.abrupt("return",JSON.stringify({supported:t,aliases:n}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.initialize=function(){var e=y(L.mark((function e(){var t,n,r,a,s,i,o,u,c;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.chainId&&1337!==this.chainId){e.next=9;break}return e.next=3,l("https://raw.githubusercontent.com/yearn/yearn-assets/master/icons/aliases.json").then(Q).then((function(e){return e.json()})).catch((function(e){return console.error(e),[]}));case 3:for(t=E(e.sent);!(n=t()).done;)this.aliases.set((r=n.value).address,r);return e.next=7,l("https://raw.githack.com/trustwallet/assets/master/blockchains/ethereum/tokenlist.json").then(Q).then((function(e){return e.json()})).then((function(e){return e.tokens})).catch((function(e){return console.error(e),[]}));case 7:for(a=E(e.sent);!(s=a()).done;)this.supported.set((i=s.value).address,Oe(i.address));case 9:return e.next=11,l((p=this.chainId,"https://api.github.com/repos/yearn/yearn-assets/contents/icons/multichain-tokens/"+p)).then(Q).then((function(e){return e.json()})).catch((function(e){return console.error(e),[]}));case 11:for(o=E(e.sent);!(u=o()).done;)this.supported.set((c=u.value).name,Se(c.name,this.chainId)),this.alts.includes(c.name)?this.supported.set(c.name,_e(c.name,this.chainId)):this.supported.set(c.name,Se(c.name,this.chainId));case 13:case"end":return e.stop()}var p}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.icon=function(e){var t=this;return Array.isArray(e)?Object.fromEntries(e.map((function(e){return[e,t.supported.get(e)]}))):this.supported.get(e)},n.alias=function(e){var t=this;return Array.isArray(e)?Object.fromEntries(e.map((function(e){return[e,t.aliases.get(e)]}))):this.aliases.get(e)},t}(j),Be=function(e){function t(n,r){var a;return e.call(this,null!=(a=r.addresses.lens)?a:t.addressByChain(n),n,r)||this}w(t,e),t.addressByChain=function(e){switch(e){case 1:case 250:case 1337:case 42161:return"0xFa58130BE296EDFA23C42a1d15549fA91449F979"}};var n=t.prototype;return n.getAdapters=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.getRegistries(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getAssets=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.getAssets(t).then(Te);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPositions=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getPositionsOf(t,n).then(Te);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getAssetsFromAdapter=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getAssetsFromAdapter(t,n).then(Te);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),v(t,[{key:"adapters",get:function(){return{vaults:{v2:new Ee(this.chainId,this.ctx)},ironBank:new Pe(this.chainId,this.ctx)}}}]),t}(V);Be.abi=["function getRegistries() external view returns (address[] memory)"];var Ie=function(e){function t(n,r){var a;return e.call(this,null!=(a=r.addresses.oracle)?a:t.addressByChain(n),n,r)||this}w(t,e),t.addressByChain=function(e){switch(e){case 1:case 1337:return"0x83d95e0D5f402511dB06817Aff3f9eA88224B030";case 250:return"0x57AA88A0810dfe3f9b71a9b179Dd8bF5F956C46A";case 42161:return"0x043518AB266485dC085a1DB095B8d9C2Fc78E9b9"}};var n=t.prototype;return n.getCalculations=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.calculations(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getPriceUsdc=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getPriceUsdcRecommended(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getNormalizedValueUsdc=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),e.next=3,this.contract.read.getNormalizedValueUsdc(t,n,r).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.getUsdcAddress=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.usdcAddress(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.isCurveLpToken=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.isCurveLpToken(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getCurvePriceUsdc=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getCurvePriceUsdc(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getBasePrice=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getBasePrice(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getVirtualPrice=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getVirtualPrice(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getCurveRegistryAddress=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.usdcAddress(t).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.isIronBankMarket=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.isIronBankMarket(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getIronBankMarketPriceUsdc=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getIronBankMarketPriceUsdc(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getIronBankMarkets=function(){var e=y(L.mark((function e(t){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),e.next=3,this.contract.read.getIronBankMarkets(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.isLpToken=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.isLpToken(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getPriceFromRouter=function(){var e=y(L.mark((function e(t,n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),e.next=3,this.contract.read.getPriceFromRouter(t,n,r).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.getPriceFromRouterUsdc=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getPriceFromRouterUsdc(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getLpTokenTotalLiquidityUsdc=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getLpTokenTotalLiquidityUsdc(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.getLpTokenPriceUsdc=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.getLpTokenPriceUsdc(t,n).then(ne);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(V);Ie.abi=["function calculations() external view returns (address[] memory)","function getPriceUsdcRecommended(address) public view returns (uint256)","function usdcAddress() public view returns (address)","function getNormalizedValueUsdc(address,uint256) view returns (uint256)","function isCurveLpToken(address) public view returns (bool)","function getCurvePriceUsdc(address) public view returns (uint256)","function getBasePrice(address) public view returns (uint256)","function getVirtualPrice(address) public view returns (uint256)","function curveRegistryAddress() public view returns (address)","function isIronBankMarket(address) public view returns (bool)","function getIronBankMarketPriceUsdc(address) public view returns (uint256)","function getIronBankMarkets() public view returns (address[] memory)","function isLpToken(address) public view returns (bool)","function getPriceFromRouter(address, address) public view returns (uint256)","function getPriceFromRouterUsdc(address) public view returns (uint256)","function getLpTokenTotalLiquidityUsdc(address) public view returns (uint256)","function getLpTokenPriceUsdc(address) public view returns (uint256)"];var De=function(e){function t(t,n){var r,a;switch(r=e.call(this,t,n)||this,t){case 1:case 1337:a="salazarguille/yearn-vaults-v2-subgraph-mainnet";break;case 250:a="yearn/yearn-vaults-v2-fantom";break;case 42161:a="yearn/yearn-vaults-v2-arbitrum";break;default:throw new _("No subgraph name for chain "+t)}return r.yearnSubgraphEndpoint="https://api.thegraph.com/subgraphs/name/"+a,r}return w(t,e),t.prototype.fetchQuery=function(){var e=y(L.mark((function e(t,n){var r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),Object.keys(n).forEach((function(e){var t=n[e];if("string"==typeof t)n[e]=t.toLowerCase();else if(Array.isArray(t))for(var r,a=E(t.entries());!(r=a()).done;){var s=r.value,i=s[1];"string"==typeof i&&(t[s[0]]=i.toLowerCase())}})),r={query:t,variables:n},e.next=5,fetch(this.yearnSubgraphEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){if(e.errors)throw new _("Subgraph Error - "+JSON.stringify(e.errors));return e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(j),Re=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.sendMessage=function(e){if(this.ctx.simulation.telegramChatId&&this.ctx.simulation.telegramBotId){var t=new URLSearchParams({chat_id:this.ctx.simulation.telegramChatId,text:e,disable_web_page_preview:"true"});fetch("https://api.telegram.org/bot"+this.ctx.simulation.telegramBotId+"/sendMessage?"+t)}},t}(j),Ue=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.apy=function(){var e=y(L.mark((function e(t){var n,r,a,s,i,o,u;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://d28fcsszptni1s.cloudfront.net/v1/chains/"+this.chainId+"/vaults/all",e.next=3,fetch(n).then(Q).then((function(e){return e.json()}));case 3:if(r=(r=e.sent).map((function(e){return e.apy&&"backscratcher"===e.apy.type?b({},e,{apy:(t=e.apy,t?b({},t,{composite:t.composite?b({},t.composite,{boost:t.composite.boost?t.composite.boost:t.composite.currentBoost,pool_apy:t.composite.pool_apy?t.composite.pool_apy:t.composite.poolApy,boosted_apr:t.composite.boosted_apr?t.composite.boosted_apr:t.composite.boostedApy,base_apr:t.composite.base_apr?t.composite.base_apr:t.composite.baseApy}):null}):void 0)}):e;var t})),!Array.isArray(t)){e.next=12;break}for(a=new Map,s=function(){var e=o.value,t=r.find((function(t){return t.address===e}));a.set(e,t?t.apy:void 0)},i=E(t);!(o=i()).done;)s();return e.abrupt("return",Object.fromEntries(a));case 12:if(!t){e.next=19;break}if(u=r.find((function(e){return e.address===t}))){e.next=16;break}return e.abrupt("return",void 0);case 16:return e.abrupt("return",u.apy);case 19:return e.abrupt("return",Object.fromEntries(r.map((function(e){return[e.address,e.apy]}))));case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(j),Me={1:"ethereum",250:"fantom",1337:"ethereum",42161:"arbitrum"},Ce=function(e){function n(){return e.apply(this,arguments)||this}w(n,e);var r=n.prototype;return r.supportedTokens=function(){var e=y(L.mark((function e(){var t,n,r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:this.ctx.zapper}),e.next=4,fetch("https://api.zapper.fi/v1/prices?"+n).then(Q).then((function(e){return e.json()}));case 4:return r=null!=(t=Me[this.chainId])?t:"ethereum",e.abrupt("return",e.sent.map((function(e){var t=e.address===W?X:i.getAddress(String(e.address)),n=!e.hide||!e.hide;return{address:t,name:e.symbol,symbol:e.symbol,icon:"https://assets.yearn.network/tokens/"+r+"/"+e.address+".png",decimals:e.decimals,priceUsdc:te(e.price),supported:{zapper:n}}})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.balances=function(){var e=y(L.mark((function e(t){var n,r;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({"addresses[]":Array.isArray(t)?t.join():t,api_key:this.ctx.zapper}),e.next=4,fetch("https://api.zapper.fi/v1/protocols/tokens/balances?"+n).then(Q).then((function(e){return e.json()}));case 4:if(r=e.sent,Object.keys(r).forEach((function(e){var t=r[e];if(delete r[e],0===t.products.length)r[i.getAddress(e)]=[];else{var n=t.products[0].assets;r[i.getAddress(e)]=n.map((function(e){var t=e.address===W?X:i.getAddress(String(e.address));return{address:t,token:{address:t,name:e.symbol,symbol:e.symbol,decimals:e.decimals},balance:e.balanceRaw,balanceUsdc:te(e.balanceUSD),priceUsdc:te(e.price)}}))}})),Array.isArray(t)){e.next=8;break}return e.abrupt("return",r[t]);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.gas=function(){var e=y(L.mark((function e(){var t;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:this.ctx.zapper}),e.next=4,fetch("https://api.zapper.fi/v1/gas-price?"+t).then(Q).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.zapInApprovalState=function(){var e=y(L.mark((function e(n,r,a){var s,i;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=t.ZapProtocol.YEARN),s="https://api.zapper.fi/v1/zap-in/vault/"+a+"/approval-state",i=new URLSearchParams({ownerAddress:n,sellTokenAddress:r,api_key:this.ctx.zapper}),e.next=5,fetch(s+"?"+i).then(Q).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.zapInApprovalTransaction=function(){var e=y(L.mark((function e(n,r,a,s){var i,o;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=t.ZapProtocol.YEARN),i="https://api.zapper.fi/v1/zap-in/vault/"+s+"/approval-transaction",o=new URLSearchParams({gasPrice:a,ownerAddress:n,sellTokenAddress:r,api_key:this.ctx.zapper}),e.next=5,fetch(i+"?"+o).then(Q).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),r.zapOutApprovalState=function(){var e=y(L.mark((function e(n,r,a){var s,i;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=t.ZapProtocol.YEARN),s="https://api.zapper.fi/v1/zap-out/vault/"+a+"/approval-state",i=new URLSearchParams({ownerAddress:n,sellTokenAddress:r,api_key:this.ctx.zapper}),e.next=5,fetch(s+"?"+i).then(Q).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.zapOutApprovalTransaction=function(){var e=y(L.mark((function e(n,r,a,s){var i,o;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=t.ZapProtocol.YEARN),i="https://api.zapper.fi/v1/zap-out/vault/"+s+"/approval-transaction",o=new URLSearchParams({gasPrice:a,ownerAddress:n,sellTokenAddress:r,api_key:this.ctx.zapper}),e.next=5,fetch(i+"?"+o).then(Q).then((function(e){return e.json()}));case 5:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),r.zapIn=function(){var e=y(L.mark((function e(n,r,a,s,i,o,u,c){var p,d,l;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===c&&(c=t.ZapProtocol.YEARN),p=r,X===r&&(p=W),d="https://api.zapper.fi/v1/zap-in/vault/"+c+"/transaction",l=new URLSearchParams({affiliateAddress:"0xFEB4acf3df3cDEA7399794D0869ef76A6EfAff52",ownerAddress:n,sellTokenAddress:p,sellAmount:a,poolAddress:s,gasPrice:i,slippagePercentage:o.toString(),api_key:this.ctx.zapper,skipGasEstimate:u?"true":"false"}),e.next=7,fetch(d+"?"+l).then(Q).then((function(e){return e.json()}));case 7:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i,o,u){return e.apply(this,arguments)}}(),r.zapOut=function(){var e=y(L.mark((function e(n,r,a,s,i,o,u,c,p){var d,l,f;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===c&&(c=t.ZapProtocol.YEARN),d=r,X===r&&(d=W),l="https://api.zapper.fi/v1/zap-out/vault/"+c+"/transaction",f=new URLSearchParams(b({affiliateAddress:"0xFEB4acf3df3cDEA7399794D0869ef76A6EfAff52",ownerAddress:n,toTokenAddress:d,sellAmount:a,poolAddress:s,gasPrice:i,slippagePercentage:o.toString(),api_key:this.ctx.zapper,shouldSellEntireBalance:"true",skipGasEstimate:u?"true":"false"},p&&{signature:p})),e.next=7,fetch(l+"?"+f).then(Q).then((function(e){return e.json()}));case 7:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,s,i,o,u,c){return e.apply(this,arguments)}}(),n}(j),Le=function(e){function t(t,n,r){return e.call(this,r,t,n)||this}return w(t,e),t.addressByChain=function(e){return 250===e?"0xD2322468e5Aa331381200754f6daAD3dF923539e":null},t.prototype.validateCalldata=function(){var e=y(L.mark((function e(n,r){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{success:!1,error:"can't validate a tx that isn't targeting an address"});case 2:if(r){e.next=4;break}return e.abrupt("return",{success:!1,error:"can't validate a tx that has no call data"});case 4:return e.prev=4,e.next=7,this.contract.read.validateCalldataByOrigin(t.originName,n,r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",{success:!1,error:"tx is not permitted by the allow list"});case 10:return e.abrupt("return",{success:!0});case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",{success:!1,error:"failed to read from the allow list whether the transaction is valid"});case 16:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}(),t}(V);Le.abi=["function validateCalldataByOrigin(string memory originName, address targetAddress, bytes calldata data) public view returns (bool)"],Le.originName="yearn.finance";var Fe=function(e){function t(n,r){var a;return e.call(this,null!=(a=r.addresses.helper)?a:t.addressByChain(n),n,r)||this}w(t,e),t.addressByChain=function(e){switch(e){case 1:case 1337:return"0x5AACD0D03096039aC4381CD814637e9FB7C34a6f";case 250:case 42161:return"0xE55Dd55b3355c261A048B3f310706C7478657d74"}};var n=t.prototype;return n.tokens=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.tokensMetadata(t,n).then(Te);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.tokenPrices=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.next=3,this.contract.read.tokensPrices(t,n).then(Te);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),n.tokenBalances=function(){var e=y(L.mark((function e(t,n,r){var a,s,i=this;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),a=re(n,30),s=a.map(function(){var e=y(L.mark((function e(n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.contract.read.tokensBalances(t,n,r).then(Te));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(s).then((function(e){return e.flat()})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),n.tokenAllowances=function(){var e=y(L.mark((function e(t,n,r,a){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a={}),e.next=3,this.contract.read.allowances(t,n,r,a).then(Te);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),n.assetStrategiesAddresses=function(){var e=y(L.mark((function e(t,n){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),e.abrupt("return",this.contract.read.assetStrategiesAddresses(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(V);Fe.abi=["function tokensMetadata(address[] memory) public view returns (tuple(address address, string name, string symbol, uint256 decimals)[] memory)","function tokensPrices(address[] memory) public view returns (tuple(address address, uint256 priceUsdc)[] memory)","function tokensBalances(address, address[] memory) public view returns (tuple(\n  address address, \n  uint256 priceUsdc, \n  uint256 balance,\n  uint256 balanceUsdc\n)[] memory)","function allowances(address, address[] memory, address[] memory) external view returns (tuple(address owner, address spender, uint256 amount, address token)[] memory)","function assetStrategiesAddresses(address) public view returns (address[])"];var je=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.tokens=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.buildUrl("tokens/{chain_id}/all")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.strategies=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.buildUrl("strategies/{chain_id}/all")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.vaults=function(){var e=y(L.mark((function e(){return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.buildUrl("vaults/{chain_id}/all")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.buildUrl=function(e){return("https://meta.yearn.network/"+e).replace("{chain_id}",this.chainId.toString())},t}(j),ze=function(e){function t(t,n,r){var a;return(a=e.call(this,t,n)||this).allowListService=r,a}w(t,e);var n=t.prototype;return n.sendTransaction=function(){var e=y(L.mark((function e(t){var n,r,a;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateTx(t);case 2:if(r=(n=e.sent).error,n.success){e.next=7;break}throw new _(r||"transaction is not valid");case 7:return a=this.ctx.provider.write.getSigner(),e.abrupt("return",a.sendTransaction(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.validateTx=function(){var e=y(L.mark((function e(t){var n,r,a;return L.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.allowListService){e.next=2;break}return e.abrupt("return",Promise.resolve({success:!0,error:void 0}));case 2:return e.next=4,Promise.all([t.to,t.data]);case 4:return r=(n=e.sent)[0],a=n[1],e.next=9,this.allowListService.validateCalldata(r,a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(j),Ge=function(){function e(e,t,n){this.context=new M(t);var r=Le.addressByChain(e),a=r?new Le(e,this.context,r):void 0;this.services={lens:new Be(e,this.context),oracle:new Ie(e,this.context),zapper:new Ce(e,this.context),asset:new Ne(e,this.context,n),vision:new Ue(e,this.context),subgraph:new De(e,this.context),pickle:new se(e,this.context),helper:new Fe(e,this.context),telegram:new Re(e,this.context),meta:new je(e,this.context),allowList:a,transaction:new ze(e,this.context,a)},this.vaults=new be(this,e,this.context),this.tokens=new me(this,e,this.context),this.earnings=new $(this,e,this.context),this.fees=new J(this,e,this.context),this.ironBank=new Y(this,e,this.context),this.simulation=new de(this,e,this.context),this.strategies=new he(this,e,this.context),this.ready=Promise.all([this.services.asset.ready])}return e.prototype.setChainId=function(e){var t=Le.addressByChain(e),n=t?new Le(e,this.context,t):void 0;this.services={lens:new Be(e,this.context),oracle:new Ie(e,this.context),zapper:new Ce(e,this.context),asset:new Ne(e,this.context),vision:new Ue(e,this.context),subgraph:new De(e,this.context),pickle:new se(e,this.context),helper:new Fe(e,this.context),telegram:new Re(e,this.context),meta:new je(e,this.context),allowList:n,transaction:new ze(e,this.context,n)},this.vaults=new be(this,e,this.context),this.tokens=new me(this,e,this.context),this.earnings=new $(this,e,this.context),this.fees=new J(this,e,this.context),this.ironBank=new Y(this,e,this.context),this.simulation=new de(this,e,this.context),this.strategies=new he(this,e,this.context),this.ready=Promise.all([this.services.asset.ready])},e}();t.AssetService=Ne,t.Context=M,t.CustomError=S,t.EarningsInterface=$,t.EthersError=B,t.FeesInterface=J,t.IronBankAdapter=Pe,t.IronBankInterface=Y,t.LensService=Be,t.OracleService=Ie,t.PriceFetchingError=R,t.RegistryV2Adapter=Ee,t.SdkError=_,t.SimulationError=O,t.SimulationInterface=de,t.StrategyInterface=he,t.SubgraphService=De,t.TelegramService=Re,t.TenderlyError=I,t.TokenInterface=me,t.VaultInterface=be,t.VisionService=Ue,t.Yearn=Ge,t.ZapperError=N,t.ZapperService=Ce},1715:function(e,t){!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,i="ArrayBuffer"in e;if(i)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=c(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[c(e)]},l.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},l.prototype.set=function(e,t){this.map[c(e)]=p(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(l.prototype[Symbol.iterator]=l.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function x(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t}function k(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},v.call(w.prototype),v.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];k.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(P){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(r,s){var i=new w(e,n);if(i.signal&&i.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:x(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new k(t,e))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&a&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",u),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",u)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=l,e.Request=w,e.Response=k),t.Headers=l,t.Request=w,t.Response=k,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}("undefined"!==typeof self?self:this)},1716:function(e,t,n){var r;!function(a){"use strict";var s,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,u=Math.floor,c="[BigNumber Error] ",p=c+"Number primitive has more than 15 significant digits: ",d=1e14,l=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,m=1e9;function v(e){var t=0|e;return e>0||e===t?t:t-1}function b(e){for(var t,n,r=1,a=e.length,s=e[0]+"";r<a;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);s+=t}for(a=s.length;48===s.charCodeAt(--a););return s.slice(0,a+1||1)}function w(e,t){var n,r,a=e.c,s=t.c,i=e.s,o=t.s,u=e.e,c=t.e;if(!i||!o)return null;if(n=a&&!a[0],r=s&&!s[0],n||r)return n?r?0:-o:i;if(i!=o)return i;if(n=i<0,r=u==c,!a||!s)return r?0:!a^n?1:-1;if(!r)return u>c^n?1:-1;for(o=(u=a.length)<(c=s.length)?u:c,i=0;i<o;i++)if(a[i]!=s[i])return a[i]>s[i]^n?1:-1;return u==c?0:u>c^n?1:-1}function g(e,t,n,r){if(e<t||e>n||e!==u(e))throw Error(c+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function x(e){var t=e.c.length-1;return v(e.e/l)==t&&e.c[t]%2!=0}function k(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function A(e,t,n){var r,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(++t>(r=e.length)){for(a=n,t-=r;--t;a+=n);e+=a}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}s=function e(t){var n,r,a,s=M.prototype={constructor:M,toString:null,valueOf:null},T=new M(1),P=20,E=4,S=-7,_=21,O=-1e7,N=1e7,B=!1,I=1,D=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz";function M(e,t){var n,s,o,c,d,h,y,m,v=this;if(!(v instanceof M))return new M(e,t);if(null==t){if(e&&!0===e._isBigNumber)return v.s=e.s,void(!e.c||e.e>N?v.c=v.e=null:e.e<O?v.c=[v.e=0]:(v.e=e.e,v.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(v.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>N?v.c=v.e=null:(v.e=c,v.c=[e]))}m=String(e)}else{if(!i.test(m=String(e)))return a(v,m,h);v.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(c=m.indexOf("."))>-1&&(m=m.replace(".","")),(d=m.search(/e/i))>0?(c<0&&(c=d),c+=+m.slice(d+1),m=m.substring(0,d)):c<0&&(c=m.length)}else{if(g(t,2,U.length,"Base"),10==t)return j(v=new M(e),P+v.e+1,E);if(m=String(e),h="number"==typeof e){if(0*e!=0)return a(v,m,h,t);if(v.s=1/e<0?(m=m.slice(1),-1):1,M.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(p+e)}else v.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=U.slice(0,t),c=d=0,y=m.length;d<y;d++)if(n.indexOf(s=m.charAt(d))<0){if("."==s){if(d>c){c=y;continue}}else if(!o&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){o=!0,d=-1,c=0;continue}return a(v,String(e),h,t)}h=!1,(c=(m=r(m,t,10,v.s)).indexOf("."))>-1?m=m.replace(".",""):c=m.length}for(d=0;48===m.charCodeAt(d);d++);for(y=m.length;48===m.charCodeAt(--y););if(m=m.slice(d,++y)){if(y-=d,h&&M.DEBUG&&y>15&&(e>f||e!==u(e)))throw Error(p+v.s*e);if((c=c-d-1)>N)v.c=v.e=null;else if(c<O)v.c=[v.e=0];else{if(v.e=c,v.c=[],d=(c+1)%l,c<0&&(d+=l),d<y){for(d&&v.c.push(+m.slice(0,d)),y-=l;d<y;)v.c.push(+m.slice(d,d+=l));d=l-(m=m.slice(d)).length}else d-=y;for(;d--;m+="0");v.c.push(+m)}}else v.c=[v.e=0]}function C(e,t,n,r){var a,s,i,o,u;if(null==n?n=E:g(n,0,8),!e.c)return e.toString();if(a=e.c[0],i=e.e,null==t)u=b(e.c),u=1==r||2==r&&(i<=S||i>=_)?k(u,i):A(u,i,"0");else if(s=(e=j(new M(e),t,n)).e,o=(u=b(e.c)).length,1==r||2==r&&(t<=s||s<=S)){for(;o<t;u+="0",o++);u=k(u,s)}else if(t-=i,u=A(u,s,"0"),s+1>o){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-o)>0)for(s+1==o&&(u+=".");t--;u+="0");return e.s<0&&a?"-"+u:u}function L(e,t){for(var n,r=1,a=new M(e[0]);r<e.length;r++){if(!(n=new M(e[r])).s){a=n;break}t.call(a,n)&&(a=n)}return a}function F(e,t,n){for(var r=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,r++);return(n=r+n*l-1)>N?e.c=e.e=null:n<O?e.c=[e.e=0]:(e.e=n,e.c=t),e}function j(e,t,n,r){var a,s,i,c,p,f,y,m=e.c,v=h;if(m){e:{for(a=1,c=m[0];c>=10;c/=10,a++);if((s=t-a)<0)s+=l,i=t,y=(p=m[f=0])/v[a-i-1]%10|0;else if((f=o((s+1)/l))>=m.length){if(!r)break e;for(;m.length<=f;m.push(0));p=y=0,a=1,i=(s%=l)-l+1}else{for(p=c=m[f],a=1;c>=10;c/=10,a++);y=(i=(s%=l)-l+a)<0?0:p/v[a-i-1]%10|0}if(r=r||t<0||null!=m[f+1]||(i<0?p:p%v[a-i-1]),r=n<4?(y||r)&&(0==n||n==(e.s<0?3:2)):y>5||5==y&&(4==n||r||6==n&&(s>0?i>0?p/v[a-i]:0:m[f-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=v[(l-t%l)%l],e.e=-t||0):m[0]=e.e=0,e;if(0==s?(m.length=f,c=1,f--):(m.length=f+1,c=v[l-s],m[f]=i>0?u(p/v[a-i]%v[i])*c:0),r)for(;;){if(0==f){for(s=1,i=m[0];i>=10;i/=10,s++);for(i=m[0]+=c,c=1;i>=10;i/=10,c++);s!=c&&(e.e++,m[0]==d&&(m[0]=1));break}if(m[f]+=c,m[f]!=d)break;m[f--]=0,c=1}for(s=m.length;0===m[--s];m.pop());}e.e>N?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function z(e){var t,n=e.e;return null===n?e.toString():(t=b(e.c),t=n<=S||n>=_?k(t,n):A(t,n,"0"),e.s<0?"-"+t:t)}return M.clone=e,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(g(n=e[t],0,m,t),P=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(g(n=e[t],0,8,t),E=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(g(n[0],-m,0,t),g(n[1],0,m,t),S=n[0],_=n[1]):(g(n,-m,m,t),S=-(_=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)g(n[0],-m,-1,t),g(n[1],1,m,t),O=n[0],N=n[1];else{if(g(n,-m,m,t),!n)throw Error(c+t+" cannot be zero: "+n);O=-(N=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(c+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(c+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(g(n=e[t],0,9,t),I=n),e.hasOwnProperty(t="POW_PRECISION")&&(g(n=e[t],0,m,t),D=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(c+t+" not an object: "+n);R=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(c+t+" invalid: "+n);U=n}}return{DECIMAL_PLACES:P,ROUNDING_MODE:E,EXPONENTIAL_AT:[S,_],RANGE:[O,N],CRYPTO:B,MODULO_MODE:I,POW_PRECISION:D,FORMAT:R,ALPHABET:U}},M.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!M.DEBUG)return!0;var t,n,r=e.c,a=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&a>=-m&&a<=m&&a===u(a)){if(0===r[0]){if(0===a&&1===r.length)return!0;break e}if((t=(a+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=d||n!==u(n))break e;if(0!==n)return!0}}}else if(null===r&&null===a&&(null===s||1===s||-1===s))return!0;throw Error(c+"Invalid BigNumber: "+e)},M.maximum=M.max=function(){return L(arguments,s.lt)},M.minimum=M.min=function(){return L(arguments,s.gt)},M.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return u(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,a,s,i,p=0,d=[],f=new M(T);if(null==e?e=P:g(e,0,m),s=o(e/l),B)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(s*=2));p<s;)(i=131072*n[p]+(n[p+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[p]=r[0],n[p+1]=r[1]):(d.push(i%1e14),p+=2);p=s/2}else{if(!crypto.randomBytes)throw B=!1,Error(c+"crypto unavailable");for(n=crypto.randomBytes(s*=7);p<s;)(i=281474976710656*(31&n[p])+1099511627776*n[p+1]+4294967296*n[p+2]+16777216*n[p+3]+(n[p+4]<<16)+(n[p+5]<<8)+n[p+6])>=9e15?crypto.randomBytes(7).copy(n,p):(d.push(i%1e14),p+=7);p=s/7}if(!B)for(;p<s;)(i=t())<9e15&&(d[p++]=i%1e14);for(s=d[--p],e%=l,s&&e&&(i=h[l-e],d[p]=u(s/i)*i);0===d[p];d.pop(),p--);if(p<0)d=[a=0];else{for(a=-1;0===d[0];d.splice(0,1),a-=l);for(p=1,i=d[0];i>=10;i/=10,p++);p<l&&(a-=l-p)}return f.e=a,f.c=d,f}}(),M.sum=function(){for(var e=1,t=arguments,n=new M(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var a,s,i=[0],o=0,u=e.length;o<u;){for(s=i.length;s--;i[s]*=t);for(i[0]+=r.indexOf(e.charAt(o++)),a=0;a<i.length;a++)i[a]>n-1&&(null==i[a+1]&&(i[a+1]=0),i[a+1]+=i[a]/n|0,i[a]%=n)}return i.reverse()}return function(r,a,s,i,o){var u,c,p,d,l,f,h,y,m=r.indexOf("."),v=P,w=E;for(m>=0&&(d=D,D=0,r=r.replace(".",""),f=(y=new M(a)).pow(r.length-m),D=d,y.c=t(A(b(f.c),f.e,"0"),10,s,e),y.e=y.c.length),p=d=(h=t(r,a,s,o?(u=U,e):(u=e,U))).length;0==h[--d];h.pop());if(!h[0])return u.charAt(0);if(m<0?--p:(f.c=h,f.e=p,f.s=i,h=(f=n(f,y,v,w,s)).c,l=f.r,p=f.e),m=h[c=p+v+1],d=s/2,l=l||c<0||null!=h[c+1],l=w<4?(null!=m||l)&&(0==w||w==(f.s<0?3:2)):m>d||m==d&&(4==w||l||6==w&&1&h[c-1]||w==(f.s<0?8:7)),c<1||!h[0])r=l?A(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(h.length=c,l)for(--s;++h[--c]>s;)h[c]=0,c||(++p,h=[1].concat(h));for(d=h.length;!h[--d];);for(m=0,r="";m<=d;r+=u.charAt(h[m++]));r=A(r,p,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,a,s,i,o=0,u=e.length,c=t%y,p=t/y|0;for(e=e.slice();u--;)o=((a=c*(s=e[u]%y)+(r=p*s+(i=e[u]/y|0)*c)%y*y+o)/n|0)+(r/y|0)+p*i,e[u]=a%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n,r){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,a,s,i,o){var c,p,f,h,y,m,b,w,g,x,k,A,T,P,E,S,_,O=r.s==a.s?1:-1,N=r.c,B=a.c;if(!N||!N[0]||!B||!B[0])return new M(r.s&&a.s&&(N?!B||N[0]!=B[0]:B)?N&&0==N[0]||!B?0*O:O/0:NaN);for(g=(w=new M(O)).c=[],O=s+(p=r.e-a.e)+1,o||(o=d,p=v(r.e/l)-v(a.e/l),O=O/l|0),f=0;B[f]==(N[f]||0);f++);if(B[f]>(N[f]||0)&&p--,O<0)g.push(1),h=!0;else{for(P=N.length,S=B.length,f=0,O+=2,(y=u(o/(B[0]+1)))>1&&(B=e(B,y,o),N=e(N,y,o),S=B.length,P=N.length),T=S,k=(x=N.slice(0,S)).length;k<S;x[k++]=0);_=B.slice(),_=[0].concat(_),E=B[0],B[1]>=o/2&&E++;do{if(y=0,(c=t(B,x,S,k))<0){if(A=x[0],S!=k&&(A=A*o+(x[1]||0)),(y=u(A/E))>1)for(y>=o&&(y=o-1),b=(m=e(B,y,o)).length,k=x.length;1==t(m,x,b,k);)y--,n(m,S<b?_:B,b,o),b=m.length,c=1;else 0==y&&(c=y=1),b=(m=B.slice()).length;if(b<k&&(m=[0].concat(m)),n(x,m,k,o),k=x.length,-1==c)for(;t(B,x,S,k)<1;)y++,n(x,S<k?_:B,k,o),k=x.length}else 0===c&&(y++,x=[0]);g[f++]=y,x[0]?x[k++]=N[T]||0:(x=[N[T]],k=1)}while((T++<P||null!=x[0])&&O--);h=null!=x[0],g[0]||g.splice(0,1)}if(o==d){for(f=1,O=g[0];O>=10;O/=10,f++);j(w,s+(w.e=f+p*l-1)+1,i,h)}else w.e=p,w.r=+h;return w}}(),a=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,i,o,u){var p,d=o?i:i.replace(a,"");if(r.test(d))s.s=isNaN(d)?null:d<0?-1:1;else{if(!o&&(d=d.replace(e,(function(e,t,n){return p="x"==(n=n.toLowerCase())?16:"b"==n?2:8,u&&u!=p?e:t})),u&&(p=u,d=d.replace(t,"$1").replace(n,"0.$1")),i!=d))return new M(d,p);if(M.DEBUG)throw Error(c+"Not a"+(u?" base "+u:"")+" number: "+i);s.s=null}s.c=s.e=null}}(),s.absoluteValue=s.abs=function(){var e=new M(this);return e.s<0&&(e.s=1),e},s.comparedTo=function(e,t){return w(this,new M(e,t))},s.decimalPlaces=s.dp=function(e,t){var n,r,a,s=this;if(null!=e)return g(e,0,m),null==t?t=E:g(t,0,8),j(new M(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((a=n.length-1)-v(this.e/l))*l,a=n[a])for(;a%10==0;a/=10,r--);return r<0&&(r=0),r},s.dividedBy=s.div=function(e,t){return n(this,new M(e,t),P,E)},s.dividedToIntegerBy=s.idiv=function(e,t){return n(this,new M(e,t),0,1)},s.exponentiatedBy=s.pow=function(e,t){var n,r,a,s,i,p,d,f,h=this;if((e=new M(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+z(e));if(null!=t&&(t=new M(t)),i=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return f=new M(Math.pow(+z(h),i?2-x(e):+z(e))),t?f.mod(t):f;if(p=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new M(NaN);(r=!p&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||i&&h.c[1]>=24e7:h.c[0]<8e13||i&&h.c[0]<=9999975e7)))return s=h.s<0&&x(e)?-0:0,h.e>-1&&(s=1/s),new M(p?1/s:s);D&&(s=o(D/l+2))}for(i?(n=new M(.5),p&&(e.s=1),d=x(e)):d=(a=Math.abs(+z(e)))%2,f=new M(T);;){if(d){if(!(f=f.times(h)).c)break;s?f.c.length>s&&(f.c.length=s):r&&(f=f.mod(t))}if(a){if(0===(a=u(a/2)))break;d=a%2}else if(j(e=e.times(n),e.e+1,1),e.e>14)d=x(e);else{if(0===(a=+z(e)))break;d=a%2}h=h.times(h),s?h.c&&h.c.length>s&&(h.c.length=s):r&&(h=h.mod(t))}return r?f:(p&&(f=T.div(f)),t?f.mod(t):s?j(f,D,E,undefined):f)},s.integerValue=function(e){var t=new M(this);return null==e?e=E:g(e,0,8),j(t,t.e+1,e)},s.isEqualTo=s.eq=function(e,t){return 0===w(this,new M(e,t))},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(e,t){return w(this,new M(e,t))>0},s.isGreaterThanOrEqualTo=s.gte=function(e,t){return 1===(t=w(this,new M(e,t)))||0===t},s.isInteger=function(){return!!this.c&&v(this.e/l)>this.c.length-2},s.isLessThan=s.lt=function(e,t){return w(this,new M(e,t))<0},s.isLessThanOrEqualTo=s.lte=function(e,t){return-1===(t=w(this,new M(e,t)))||0===t},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&0==this.c[0]},s.minus=function(e,t){var n,r,a,s,i=this,o=i.s;if(t=(e=new M(e,t)).s,!o||!t)return new M(NaN);if(o!=t)return e.s=-t,i.plus(e);var u=i.e/l,c=e.e/l,p=i.c,f=e.c;if(!u||!c){if(!p||!f)return p?(e.s=-t,e):new M(f?i:NaN);if(!p[0]||!f[0])return f[0]?(e.s=-t,e):new M(p[0]?i:3==E?-0:0)}if(u=v(u),c=v(c),p=p.slice(),o=u-c){for((s=o<0)?(o=-o,a=p):(c=u,a=f),a.reverse(),t=o;t--;a.push(0));a.reverse()}else for(r=(s=(o=p.length)<(t=f.length))?o:t,o=t=0;t<r;t++)if(p[t]!=f[t]){s=p[t]<f[t];break}if(s&&(a=p,p=f,f=a,e.s=-e.s),(t=(r=f.length)-(n=p.length))>0)for(;t--;p[n++]=0);for(t=d-1;r>o;){if(p[--r]<f[r]){for(n=r;n&&!p[--n];p[n]=t);--p[n],p[r]+=d}p[r]-=f[r]}for(;0==p[0];p.splice(0,1),--c);return p[0]?F(e,p,c):(e.s=3==E?-1:1,e.c=[e.e=0],e)},s.modulo=s.mod=function(e,t){var r,a,s=this;return e=new M(e,t),!s.c||!e.s||e.c&&!e.c[0]?new M(NaN):!e.c||s.c&&!s.c[0]?new M(s):(9==I?(a=e.s,e.s=1,r=n(s,e,0,3),e.s=a,r.s*=a):r=n(s,e,0,I),(e=s.minus(r.times(e))).c[0]||1!=I||(e.s=s.s),e)},s.multipliedBy=s.times=function(e,t){var n,r,a,s,i,o,u,c,p,f,h,m,b,w,g,x=this,k=x.c,A=(e=new M(e,t)).c;if(!k||!A||!k[0]||!A[0])return!x.s||!e.s||k&&!k[0]&&!A||A&&!A[0]&&!k?e.c=e.e=e.s=null:(e.s*=x.s,k&&A?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=v(x.e/l)+v(e.e/l),e.s*=x.s,(u=k.length)<(f=A.length)&&(b=k,k=A,A=b,a=u,u=f,f=a),a=u+f,b=[];a--;b.push(0));for(w=d,g=y,a=f;--a>=0;){for(n=0,h=A[a]%g,m=A[a]/g|0,s=a+(i=u);s>a;)n=((c=h*(c=k[--i]%g)+(o=m*c+(p=k[i]/g|0)*h)%g*g+b[s]+n)/w|0)+(o/g|0)+m*p,b[s--]=c%w;b[s]=n}return n?++r:b.splice(0,1),F(e,b,r)},s.negated=function(){var e=new M(this);return e.s=-e.s||null,e},s.plus=function(e,t){var n,r=this,a=r.s;if(t=(e=new M(e,t)).s,!a||!t)return new M(NaN);if(a!=t)return e.s=-t,r.minus(e);var s=r.e/l,i=e.e/l,o=r.c,u=e.c;if(!s||!i){if(!o||!u)return new M(a/0);if(!o[0]||!u[0])return u[0]?e:new M(o[0]?r:0*a)}if(s=v(s),i=v(i),o=o.slice(),a=s-i){for(a>0?(i=s,n=u):(a=-a,n=o),n.reverse();a--;n.push(0));n.reverse()}for((a=o.length)-(t=u.length)<0&&(n=u,u=o,o=n,t=a),a=0;t;)a=(o[--t]=o[t]+u[t]+a)/d|0,o[t]=d===o[t]?0:o[t]%d;return a&&(o=[a].concat(o),++i),F(e,o,i)},s.precision=s.sd=function(e,t){var n,r,a,s=this;if(null!=e&&e!==!!e)return g(e,1,m),null==t?t=E:g(t,0,8),j(new M(s),e,t);if(!(n=s.c))return null;if(r=(a=n.length-1)*l+1,a=n[a]){for(;a%10==0;a/=10,r--);for(a=n[0];a>=10;a/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},s.shiftedBy=function(e){return g(e,-9007199254740991,f),this.times("1e"+e)},s.squareRoot=s.sqrt=function(){var e,t,r,a,s,i=this,o=i.c,u=i.s,c=i.e,p=P+4,d=new M("0.5");if(1!==u||!o||!o[0])return new M(!u||u<0&&(!o||o[0])?NaN:o?i:1/0);if(0==(u=Math.sqrt(+z(i)))||u==1/0?(((t=b(o)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=v((c+1)/2)-(c<0||c%2),r=new M(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new M(u+""),r.c[0])for((u=(c=r.e)+p)<3&&(u=0);;)if(s=r,r=d.times(s.plus(n(i,s,p,1))),b(s.c).slice(0,u)===(t=b(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(j(r,r.e+P+2,1),e=!r.times(r).eq(i));break}if(!a&&(j(s,s.e+P+2,0),s.times(s).eq(i))){r=s;break}p+=4,u+=4,a=1}return j(r,r.e+P+1,E,e)},s.toExponential=function(e,t){return null!=e&&(g(e,0,m),e++),C(this,e,t,1)},s.toFixed=function(e,t){return null!=e&&(g(e,0,m),e=e+this.e+1),C(this,e,t)},s.toFormat=function(e,t,n){var r,a=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=R;else if("object"!=typeof n)throw Error(c+"Argument not an object: "+n);if(r=a.toFixed(e,t),a.c){var s,i=r.split("."),o=+n.groupSize,u=+n.secondaryGroupSize,p=n.groupSeparator||"",d=i[0],l=i[1],f=a.s<0,h=f?d.slice(1):d,y=h.length;if(u&&(s=o,o=u,u=s,y-=s),o>0&&y>0){for(s=y%o||o,d=h.substr(0,s);s<y;s+=o)d+=p+h.substr(s,o);u>0&&(d+=p+h.slice(s)),f&&(d="-"+d)}r=l?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):l):d}return(n.prefix||"")+r+(n.suffix||"")},s.toFraction=function(e){var t,r,a,s,i,o,u,p,d,f,y,m,v=this,w=v.c;if(null!=e&&(!(u=new M(e)).isInteger()&&(u.c||1!==u.s)||u.lt(T)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+z(u));if(!w)return new M(v);for(t=new M(T),d=r=new M(T),a=p=new M(T),m=b(w),i=t.e=m.length-v.e-1,t.c[0]=h[(o=i%l)<0?l+o:o],e=!e||u.comparedTo(t)>0?i>0?t:d:u,o=N,N=1/0,u=new M(m),p.c[0]=0;f=n(u,t,0,1),1!=(s=r.plus(f.times(a))).comparedTo(e);)r=a,a=s,d=p.plus(f.times(s=d)),p=s,t=u.minus(f.times(s=t)),u=s;return s=n(e.minus(r),a,0,1),p=p.plus(s.times(d)),r=r.plus(s.times(a)),p.s=d.s=v.s,y=n(d,a,i*=2,E).minus(v).abs().comparedTo(n(p,r,i,E).minus(v).abs())<1?[d,a]:[p,r],N=o,y},s.toNumber=function(){return+z(this)},s.toPrecision=function(e,t){return null!=e&&g(e,1,m),C(this,e,t,2)},s.toString=function(e){var t,n=this,a=n.s,s=n.e;return null===s?a?(t="Infinity",a<0&&(t="-"+t)):t="NaN":(null==e?t=s<=S||s>=_?k(b(n.c),s):A(b(n.c),s,"0"):10===e?t=A(b((n=j(new M(n),P+s+1,E)).c),n.e,"0"):(g(e,2,U.length,"Base"),t=r(A(b(n.c),s,"0"),10,e,a,!0)),a<0&&n.c[0]&&(t="-"+t)),t},s.valueOf=s.toJSON=function(){return z(this)},s._isBigNumber=!0,null!=t&&M.set(t),M}(),s.default=s.BigNumber=s,void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},1717:function(e,t,n){"use strict";var r=n(183),a=n(50),s=n(64),i=n(224),o=n(1),u=n(153),c=n(112),p=new WeakMap,d=new WeakMap,l=new WeakMap,f=Symbol("anyProducer"),h=Promise.resolve(),y=Symbol("listenerAdded"),m=Symbol("listenerRemoved");function v(e){if("string"!==typeof e&&"symbol"!==typeof e)throw new TypeError("eventName must be a string or a symbol")}function b(e){if("function"!==typeof e)throw new TypeError("listener must be a function")}function w(e,t){var n=d.get(e);return n.has(t)||n.set(t,new Set),n.get(t)}function g(e,t){var n="string"===typeof t||"symbol"===typeof t?t:f,r=l.get(e);return r.has(n)||r.set(n,new Set),r.get(n)}function x(e,t,n){var r=l.get(e);if(r.has(t)){var a,s=c(r.get(t));try{for(s.s();!(a=s.n()).done;){a.value.enqueue(n)}}catch(p){s.e(p)}finally{s.f()}}if(r.has(f)){var i,o=Promise.all([t,n]),u=c(r.get(f));try{for(u.s();!(i=u.n()).done;){i.value.enqueue(o)}}catch(p){u.e(p)}finally{u.f()}}}function k(e,t){t=Array.isArray(t)?t:[t];var n,r=!1,a=function(){},s=[],p={enqueue:function(e){s.push(e),a()},finish:function(){r=!0,a()}},d=c(t);try{for(d.s();!(n=d.n()).done;){var l=n.value;g(e,l).add(p)}}catch(f){d.e(f)}finally{d.f()}return i({next:function(){var e=this;return u(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return",{done:!0});case 2:if(0!==s.length){t.next=9;break}if(!r){t.next=6;break}return s=void 0,t.abrupt("return",e.next());case 6:return t.next=8,new Promise((function(e){a=e}));case 8:return t.abrupt("return",e.next());case 9:return t.next=11,s.shift();case 11:return t.t0=t.sent,t.abrupt("return",{done:!1,value:t.t0});case 13:case"end":return t.stop()}}),t)})))()},return:function(n){var r=arguments;return u(o.mark((function i(){var u,d,l;return o.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:s=void 0,u=c(t);try{for(u.s();!(d=u.n()).done;)l=d.value,g(e,l).delete(p)}catch(f){u.e(f)}finally{u.f()}if(a(),!(r.length>0)){i.next=11;break}return i.next=7,n;case 7:i.t1=i.sent,i.t0={done:!0,value:i.t1},i.next=12;break;case 11:i.t0={done:!0};case 12:return i.abrupt("return",i.t0);case 13:case"end":return i.stop()}}),i)})))()}},Symbol.asyncIterator,(function(){return this}))}function A(e){if(void 0===e)return E;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");var t,n=c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!E.includes(r)){if("string"!==typeof r)throw new TypeError("`methodNames` element must be a string");throw new Error("".concat(r," is not Emittery method"))}}}catch(a){n.e(a)}finally{n.f()}return e}var T=function(e){return e===y||e===m},P=function(){function e(){a(this,e),p.set(this,new Set),d.set(this,new Map),l.set(this,new Map)}return s(e,[{key:"on",value:function(e,t){b(t),e=Array.isArray(e)?e:[e];var n,r=c(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;v(a),w(this,a).add(t),T(a)||this.emit(y,{eventName:a,listener:t})}}catch(s){r.e(s)}finally{r.f()}return this.off.bind(this,e,t)}},{key:"off",value:function(e,t){b(t),e=Array.isArray(e)?e:[e];var n,r=c(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;v(a),w(this,a).delete(t),T(a)||this.emit(m,{eventName:a,listener:t})}}catch(s){r.e(s)}finally{r.f()}}},{key:"once",value:function(e){var t=this;return new Promise((function(n){var r=t.on(e,(function(e){r(),n(e)}))}))}},{key:"events",value:function(e){e=Array.isArray(e)?e:[e];var t,n=c(e);try{for(n.s();!(t=n.n()).done;){v(t.value)}}catch(r){n.e(r)}finally{n.f()}return k(this,e)}},{key:"emit",value:function(){var e=u(o.mark((function e(t,n){var a,s,i,c;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),x(this,t,n),a=w(this,t),s=p.get(this),i=r(a),c=T(t)?[]:r(s),e.next=8,h;case 8:return e.next=10,Promise.all([].concat(r(i.map(function(){var e=u(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.has(t)){e.next=2;break}return e.abrupt("return",t(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r(c.map(function(){var e=u(o.mark((function e(r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.has(r)){e.next=2;break}return e.abrupt("return",r(t,n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"emitSerial",value:function(){var e=u(o.mark((function e(t,n){var a,s,i,u,d,l,f,y,m,b;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),a=w(this,t),s=p.get(this),i=r(a),u=r(s),e.next=7,h;case 7:d=c(i),e.prev=8,d.s();case 10:if((l=d.n()).done){e.next=17;break}if(f=l.value,!a.has(f)){e.next=15;break}return e.next=15,f(n);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),d.e(e.t0);case 22:return e.prev=22,d.f(),e.finish(22);case 25:y=c(u),e.prev=26,y.s();case 28:if((m=y.n()).done){e.next=35;break}if(b=m.value,!s.has(b)){e.next=33;break}return e.next=33,b(t,n);case 33:e.next=28;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(26),y.e(e.t1);case 40:return e.prev=40,y.f(),e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[8,19,22,25],[26,37,40,43]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onAny",value:function(e){return b(e),p.get(this).add(e),this.emit(y,{listener:e}),this.offAny.bind(this,e)}},{key:"anyEvent",value:function(){return k(this)}},{key:"offAny",value:function(e){b(e),this.emit(m,{listener:e}),p.get(this).delete(e)}},{key:"clearListeners",value:function(e){e=Array.isArray(e)?e:[e];var t,n=c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"===typeof r||"symbol"===typeof r){w(this,r).clear();var a,s=g(this,r),i=c(s);try{for(i.s();!(a=i.n()).done;){a.value.finish()}}catch(b){i.e(b)}finally{i.f()}s.clear()}else{p.get(this).clear();var o,u=c(d.get(this).values());try{for(u.s();!(o=u.n()).done;){o.value.clear()}}catch(b){u.e(b)}finally{u.f()}var f,h=c(l.get(this).values());try{for(h.s();!(f=h.n()).done;){var y,m=f.value,v=c(m);try{for(v.s();!(y=v.n()).done;){y.value.finish()}}catch(b){v.e(b)}finally{v.f()}m.clear()}}catch(b){h.e(b)}finally{h.f()}}}}catch(b){n.e(b)}finally{n.f()}}},{key:"listenerCount",value:function(e){e=Array.isArray(e)?e:[e];var t,n=0,r=c(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if("string"!==typeof a){"undefined"!==typeof a&&v(a),n+=p.get(this).size;var s,i=c(d.get(this).values());try{for(i.s();!(s=i.n()).done;){n+=s.value.size}}catch(f){i.e(f)}finally{i.f()}var o,u=c(l.get(this).values());try{for(u.s();!(o=u.n()).done;){n+=o.value.size}}catch(f){u.e(f)}finally{u.f()}}else n+=p.get(this).size+w(this,a).size+g(this,a).size+g(this).size}}catch(f){r.e(f)}finally{r.f()}return n}},{key:"bindMethods",value:function(e,t){if("object"!==typeof e||null===e)throw new TypeError("`target` must be an object");t=A(t);var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(void 0!==e[a])throw new Error("The property `".concat(a,"` already exists on `target`"));Object.defineProperty(e,a,{enumerable:!1,value:this[a].bind(this)})}}catch(s){r.e(s)}finally{r.f()}}}],[{key:"mixin",value:function(t,n){return n=A(n),function(r){if("function"!==typeof r)throw new TypeError("`target` must be function");var a,s=c(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(void 0!==r.prototype[i])throw new Error("The property `".concat(i,"` already exists on `target`"))}}catch(l){s.e(l)}finally{s.f()}Object.defineProperty(r.prototype,t,{enumerable:!1,get:function(){return Object.defineProperty(this,t,{enumerable:!1,value:new e}),this[t]}});var o,u=function(e){return function(){var n;return(n=this[t])[e].apply(n,arguments)}},p=c(n);try{for(p.s();!(o=p.n()).done;){var d=o.value;Object.defineProperty(r.prototype,d,{enumerable:!1,value:u(d)})}}catch(l){p.e(l)}finally{p.f()}return r}}}]),e}(),E=Object.getOwnPropertyNames(P.prototype).filter((function(e){return"constructor"!==e}));Object.defineProperty(P,"listenerAdded",{value:y,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(P,"listenerRemoved",{value:m,writable:!1,enumerable:!0,configurable:!1}),e.exports=P},1718:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,i="ArrayBuffer"in e;if(i)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=c(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[c(e)]},l.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},l.prototype.set=function(e,t){this.map[c(e)]=p(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(l.prototype[Symbol.iterator]=l.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function x(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t}function k(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},v.call(w.prototype),v.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];k.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(P){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(r,s){var i=new w(e,n);if(i.signal&&i.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:x(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new k(t,e))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&a&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",u),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",u)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=l,e.Request=w,e.Response=k),t.Headers=l,t.Request=w,t.Response=k,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},1719:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._base16To36=t._base36To16=t.BigNumber=t.isBigNumberish=void 0;var a=r(n(336)).default.BN,s=n(2),i=n(7),o=n(1720),u=new i.Logger(o.version),c={},p=9007199254740991;t.isBigNumberish=function(e){return null!=e&&(l.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||(0,s.isHexString)(e)||"bigint"===typeof e||(0,s.isBytes)(e))};var d=!1,l=function(){function e(t,n){var r=this.constructor;u.checkNew(r,e),t!==c&&u.throwError("cannot call constructor directly; use BigNumber.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}return e.prototype.fromTwos=function(e){return h(y(this).fromTwos(e))},e.prototype.toTwos=function(e){return h(y(this).toTwos(e))},e.prototype.abs=function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this},e.prototype.add=function(e){return h(y(this).add(y(e)))},e.prototype.sub=function(e){return h(y(this).sub(y(e)))},e.prototype.div=function(t){return e.from(t).isZero()&&m("division-by-zero","div"),h(y(this).div(y(t)))},e.prototype.mul=function(e){return h(y(this).mul(y(e)))},e.prototype.mod=function(e){var t=y(e);return t.isNeg()&&m("division-by-zero","mod"),h(y(this).umod(t))},e.prototype.pow=function(e){var t=y(e);return t.isNeg()&&m("negative-power","pow"),h(y(this).pow(t))},e.prototype.and=function(e){var t=y(e);return(this.isNegative()||t.isNeg())&&m("unbound-bitwise-result","and"),h(y(this).and(t))},e.prototype.or=function(e){var t=y(e);return(this.isNegative()||t.isNeg())&&m("unbound-bitwise-result","or"),h(y(this).or(t))},e.prototype.xor=function(e){var t=y(e);return(this.isNegative()||t.isNeg())&&m("unbound-bitwise-result","xor"),h(y(this).xor(t))},e.prototype.mask=function(e){return(this.isNegative()||e<0)&&m("negative-width","mask"),h(y(this).maskn(e))},e.prototype.shl=function(e){return(this.isNegative()||e<0)&&m("negative-width","shl"),h(y(this).shln(e))},e.prototype.shr=function(e){return(this.isNegative()||e<0)&&m("negative-width","shr"),h(y(this).shrn(e))},e.prototype.eq=function(e){return y(this).eq(y(e))},e.prototype.lt=function(e){return y(this).lt(y(e))},e.prototype.lte=function(e){return y(this).lte(y(e))},e.prototype.gt=function(e){return y(this).gt(y(e))},e.prototype.gte=function(e){return y(this).gte(y(e))},e.prototype.isNegative=function(){return"-"===this._hex[0]},e.prototype.isZero=function(){return y(this).isZero()},e.prototype.toNumber=function(){try{return y(this).toNumber()}catch(e){m("overflow","toNumber",this.toString())}return null},e.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch(e){}return u.throwError("this platform does not support BigInt",i.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},e.prototype.toString=function(){return arguments.length>0&&(10===arguments[0]?d||(d=!0,u.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?u.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",i.Logger.errors.UNEXPECTED_ARGUMENT,{}):u.throwError("BigNumber.toString does not accept parameters",i.Logger.errors.UNEXPECTED_ARGUMENT,{})),y(this).toString(10)},e.prototype.toHexString=function(){return this._hex},e.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},e.from=function(t){if(t instanceof e)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(c,f(t)):t.match(/^-?[0-9]+$/)?new e(c,f(new a(t))):u.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&m("underflow","BigNumber.from",t),(t>=p||t<=-p)&&m("overflow","BigNumber.from",t),e.from(String(t));var n,r=t;if("bigint"===typeof r)return e.from(r.toString());if((0,s.isBytes)(r))return e.from((0,s.hexlify)(r));if(r)if(r.toHexString){if("string"===typeof(n=r.toHexString()))return e.from(n)}else if(null==(n=r._hex)&&"BigNumber"===r.type&&(n=r.hex),"string"===typeof n&&((0,s.isHexString)(n)||"-"===n[0]&&(0,s.isHexString)(n.substring(1))))return e.from(n);return u.throwArgumentError("invalid BigNumber value","value",t)},e.isBigNumber=function(e){return!(!e||!e._isBigNumber)},e}();function f(e){if("string"!==typeof e)return f(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&u.throwArgumentError("invalid hex","value",e),"0x00"===(e=f(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function h(e){return l.from(f(e))}function y(e){var t=l.from(e).toHexString();return"-"===t[0]?new a("-"+t.substring(3),16):new a(t.substring(2),16)}function m(e,t,n){var r={fault:e,operation:t};return null!=n&&(r.value=n),u.throwError(e,i.Logger.errors.NUMERIC_FAULT,r)}t.BigNumber=l,t._base36To16=function(e){return new a(e,36).toString(16)},t._base16To36=function(e){return new a(e,16).toString(36)}},1720:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="bignumber/5.6.0"},1721:function(e){e.exports=JSON.parse('[{"inputs":[{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Batcher.Transaction[]","name":"txns","type":"tuple[]"}],"name":"batchCall","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},1722:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"contract IADXToken","name":"token","type":"address"},{"internalType":"contract IUniswapSimple","name":"uni","type":"address"},{"internalType":"contract IChainlink","name":"oracle","type":"address"},{"internalType":"address","name":"guardianAddr","type":"address"},{"internalType":"address","name":"validatorStakingWallet","type":"address"},{"internalType":"address","name":"governanceAddr","type":"address"},{"internalType":"address","name":"claimToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"tokenAddr","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amountInUSD","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"burnedValidatorShares","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usedADX","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalADX","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalShares","type":"uint256"}],"name":"LogClaim","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"unlocksAt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maxTokens","type":"uint256"}],"name":"LogLeave","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newGuardian","type":"address"}],"name":"LogNewGuardian","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"burnedADX","type":"uint256"}],"name":"LogPenalize","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maxTokens","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"receivedTokens","type":"uint256"}],"name":"LogRageLeave","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"unlocksAt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"maxTokens","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"receivedTokens","type":"uint256"}],"name":"LogWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"ADXToken","outputs":[{"internalType":"contract IADXToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ADXUSDOracle","outputs":[{"internalType":"contract IChainlink","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"remaining","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"commitments","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"enter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"enterTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"guardian","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"bool","name":"skipMint","type":"bool"}],"name":"leave","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"limitLastReset","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"limitRemaining","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lockedShares","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxDailyPenaltiesPromilles","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"adxAmount","type":"uint256"}],"name":"penalize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"bool","name":"skipMint","type":"bool"}],"name":"rageLeave","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rageReceivedPromilles","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"max","type":"uint256"}],"name":"setDailyPenaltyMax","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"setGovernance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newGuardian","type":"address"}],"name":"setGuardian","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rageReceived","type":"uint256"}],"name":"setRageReceived","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"time","type":"uint256"}],"name":"setTimeToUnbond","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"bool","name":"whitelisted","type":"bool"}],"name":"setWhitelistedClaimToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"shareValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"timeToUnbond","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"uint256","name":"unlocksAt","type":"uint256"}],"name":"unbondingCommitmentWorth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"uniswap","outputs":[{"internalType":"contract IUniswapSimple","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"validator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"whitelistedClaimTokens","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"uint256","name":"unlocksAt","type":"uint256"},{"internalType":"bool","name":"skipMint","type":"bool"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},1723:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ADX","outputs":[{"internalType":"contract IADXToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CAP","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newSupplyController","type":"address"}],"name":"changeSupplyController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"governance","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"incentiveLastMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"incentivePerSecond","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IADXToken","name":"token","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"mintIncentive","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"mintableIncentive","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint8","name":"level","type":"uint8"}],"name":"setGovernance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint256","name":"amountPerSecond","type":"uint256"}],"name":"setIncentive","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},1725:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_supplyController","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"prev","type":"address"},{"indexed":true,"internalType":"address","name":"current","type":"address"}],"name":"SupplyControllerChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"remaining","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newSupplyController","type":"address"}],"name":"changeSupplyController","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"supplyController","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},1758:function(e,t,n){"use strict";var r=n(1),a=n.n(r),s=n(4),i=n(659),o=n(85),u=n(117),c=n(22),p=n(264),d=new c.Interface(i),l=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s,i,c,l){var f,h,y,m,v=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=v.length>7&&void 0!==v[7]?v[7]:o.constants.MaxUint256,e.prev=1,h=t.toLowerCase().replace(/' '/g,"_"),y=Object(p.a)(n),m=new u.Contract(i,d,y),e.next=7,m.allowance(r,s);case 7:e.sent.lt(f)&&c("".concat(h,"_approve_").concat(Date.now()),{to:i,value:"0x0",data:d.encodeFunctionData("approve",[s,f])}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),l("".concat(t," Approve Error: ").concat(e.t0.message||e.t0),{error:!0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r,a,s,i,o){return e.apply(this,arguments)}}(),f=l;t.a=f},45:function(e,t,n){"use strict";n.r(t);var r=n(32);n.d(t,"BigNumber",(function(){return r.a}));var a=n(419);n.d(t,"formatFixed",(function(){return a.c})),n.d(t,"FixedFormat",(function(){return a.a})),n.d(t,"FixedNumber",(function(){return a.b})),n.d(t,"parseFixed",(function(){return a.d})),n.d(t,"_base16To36",(function(){return r.b})),n.d(t,"_base36To16",(function(){return r.c}))},659:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')}}]);
//# sourceMappingURL=17.07370fb1.chunk.js.map