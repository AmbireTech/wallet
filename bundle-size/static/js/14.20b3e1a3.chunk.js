(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[14],{1366:function(e,t,r){(function(t){var n=r(358),a=r(619),c=r(86).keccak256;function i(e){if(e.length<1)throw new Error("evmPush: no data");if(e.length>32)throw new Error("evmPush: data too long");var r=e.length+95,n=t.alloc(1);return n.writeUInt8(r,0),t.concat([n,e])}function o(e,r,n,o,s){var u=a.rawEncode([r,o],[n,e]),l=c(u);return t.concat([i("string"===typeof s?t.from(s.slice(2),"hex"):s),i(t.from(l,"hex")),t.from("55","hex")])}e.exports={evmPush:i,sstoreCode:o,getProxyDeployBytecode:function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{privSlot:0},c=a.privSlot,s=void 0===c?0:c;if(r.length>3)throw new Error("getProxyDeployBytecode: max 3 privLevels");var u=t.concat(r.map((function(e){var r=n(e,2),a=r[0],c=r[1];return!0!==c?o(s,"address",a,"bytes32",c):o(s,"address",a,"bool",t.from("01","hex"))}))),l=t.from("3d602d80","hex"),d=u.length+l.length+6;if(d>256)throw new Error("getProxyDeployBytecode: internal: offset>256");var f=t.concat([u,l,i(t.from([d]))]),p=t.from(e.slice(2).replace(/^(00)+/,""),"hex");if(p>20)throw new Error("invalid address");return"0x".concat(f.toString("hex"),"3d3981f3363d3d373d3d3d363d").concat(i(p).toString("hex"),"5af43d82803e903d91602b57fd5bf3")},getStorageSlotsFromArtifact:function(e){var t=e.ast.nodes.find((function(e){var t=e.name;return"ContractDefinition"===e.nodeType&&"Identity"===t}));assert.ok(t,"Identity contract definition not found");var r=t.nodes.filter((function(e){return"VariableDeclaration"===e.nodeType&&!e.constant&&e.stateVariable})).findIndex((function(e){return"privileges"===e.name}));return assert.notEqual(r,-1,"privSlot was not found"),{privSlot:r}}}}).call(this,r(25).Buffer)},1502:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0);function a(e){return Object(n.a)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.984V2h-.09c-.313 0-.616.062-.909.185a2.33 2.33 0 0 0-.775.53 2.23 2.23 0 0 0-.493.753v.001a3.542 3.542 0 0 0-.198.83v.002a6.08 6.08 0 0 0-.024.863c.012.29.018.58.018.869 0 .203-.04.393-.117.572v.001a1.504 1.504 0 0 1-.765.787 1.376 1.376 0 0 1-.558.115H2v.984h.09c.195 0 .38.04.556.121l.001.001c.178.078.329.184.455.318l.002.002c.13.13.233.285.307.465l.001.002c.078.18.117.368.117.566 0 .29-.006.58-.018.869-.012.296-.004.585.024.87v.001c.033.283.099.558.197.824v.001c.106.273.271.524.494.753.223.23.482.407.775.53.293.123.596.185.91.185H6v-.984h-.09c-.2 0-.387-.038-.563-.115a1.613 1.613 0 0 1-.457-.32 1.659 1.659 0 0 1-.309-.467c-.074-.18-.11-.37-.11-.573 0-.228.003-.453.011-.672.008-.228.008-.45 0-.665a4.639 4.639 0 0 0-.055-.64 2.682 2.682 0 0 0-.168-.609A2.284 2.284 0 0 0 3.522 8a2.284 2.284 0 0 0 .738-.955c.08-.192.135-.393.168-.602.033-.21.051-.423.055-.64.008-.22.008-.442 0-.666-.008-.224-.012-.45-.012-.678a1.47 1.47 0 0 1 .877-1.354 1.33 1.33 0 0 1 .563-.121H6zm4 10.032V14h.09c.313 0 .616-.062.909-.185.293-.123.552-.3.775-.53.223-.23.388-.48.493-.753v-.001c.1-.266.165-.543.198-.83v-.002c.028-.28.036-.567.024-.863-.012-.29-.018-.58-.018-.869 0-.203.04-.393.117-.572v-.001a1.502 1.502 0 0 1 .765-.787 1.38 1.38 0 0 1 .558-.115H14v-.984h-.09c-.196 0-.381-.04-.557-.121l-.001-.001a1.376 1.376 0 0 1-.455-.318l-.002-.002a1.415 1.415 0 0 1-.307-.465v-.002a1.405 1.405 0 0 1-.118-.566c0-.29.006-.58.018-.869a6.174 6.174 0 0 0-.024-.87v-.001a3.537 3.537 0 0 0-.197-.824v-.001a2.23 2.23 0 0 0-.494-.753 2.331 2.331 0 0 0-.775-.53 2.325 2.325 0 0 0-.91-.185H10v.984h.09c.2 0 .387.038.562.115.174.082.326.188.457.32.127.134.23.29.309.467.074.18.11.37.11.573 0 .228-.003.452-.011.672-.008.228-.008.45 0 .665.004.222.022.435.055.64.033.214.089.416.168.609a2.285 2.285 0 0 0 .738.955 2.285 2.285 0 0 0-.738.955 2.689 2.689 0 0 0-.168.602c-.033.21-.051.423-.055.64a9.15 9.15 0 0 0 0 .666c.008.224.012.45.012.678a1.471 1.471 0 0 1-.877 1.354 1.33 1.33 0 0 1-.563.121H10z"}}]})(e)}},1596:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",(function(){return L}));var n=r(7),a=r(2),c=r.n(a),i=r(11),o=r(8),s=(r(976),r(3)),u=r(69),l=r(728),d=r(670),f=r.n(d),p=r(651),b=r(662),g=r(684),h=r(21),v=r(101),m=r(232),j=r(1366),y=r(85),x=r(151),O=r(44),w=r(769),k=r(37),A=r(79),S=r(620),C=r(155),D=r(1502),P=r(817),E=r(780),F=r(781),I=r(4);function L(t){var r=t.relayerURL,a=t.onAddAccount,d=t.utmTracking,L=t.pluginData,N=Object(s.useState)(null),T=Object(o.a)(N,2),z=T[0],M=T[1],B=Object(s.useState)(""),K=Object(o.a)(B,2),R=K[0],q=K[1],U=Object(s.useState)(""),W=Object(o.a)(U,2),J=W[0],H=W[1],G=Object(s.useState)(!1),_=Object(o.a)(G,2),V=_[0],$=_[1],Y=Object(O.a)().addToast,Q=Object(k.f)().showModal,Z=function(){var e=Object(i.a)(c.a.mark((function e(t){var r,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(n.length>1&&void 0!==n[1])||n[1],$(r),e.prev=2,e.next=5,t();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0),H("Unexpected error: ".concat(e.t0.message||e.t0));case 11:$(!1);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(""),e.prev=1,e.next=4,t();case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),$(!1),H("Unexpected error: ".concat(e.t0.message||e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var t=Object(i.a)(c.a.mark((function t(i){var o,s,u,l,f,p,b,g,O,w,k,A,S,C,D,P,E,F,I;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q(""),t.next=3,new Promise((function(e){return setTimeout(e,0)}));case 3:return o=Object(h.id)(i.email+":"+Date.now()+":"+Math.random()+":"+("object"===typeof performance&&performance.now())),s=v.Wallet.createRandom({extraEntropy:o}),u=v.Wallet.createRandom({extraEntropy:o}).mnemonic.phrase.split(" ").slice(0,6).join(" ")+" "+i.email,t.next=8,Object(y.d)("".concat(r,"/second-key"),{secondKeySecret:u});case 8:if((l=t.sent).address){t.next=11;break}throw new Error("second-key returned no address, error: ".concat(l.message||l));case 11:return f=x.a.salt,p=x.a.baseIdentityAddr,b=x.a.identityFactoryAddr,g=x.a.quickAccManager,O=x.a.quickAccTimelock,w=[O,s.address,l.address],k={quickAccManager:g,timelock:w[0],one:w[1],two:w[2]},A=new h.AbiCoder,S=Object(h.keccak256)(A.encode(["tuple(uint, address, address)"],[w])),C=[[g,S]],D=Object(j.getProxyDeployBytecode)(p,C,{privSlot:0}),P=Object(h.getAddress)("0x"+Object(m.generateAddress2)(e.from(b.slice(2),"hex"),e.from(f.slice(2),"hex"),e.from(D.slice(2),"hex")).toString("hex")),t.t0=JSON,t.next=22,s.encrypt(i.passphrase,x.a.encryptionOpts);case 22:return t.t1=t.sent,E=t.t0.stringify.call(t.t0,t.t1),F=d.getLatestUtmData(),t.next=27,Object(y.d)("".concat(r,"/identity/").concat(P),Object(n.a)({email:i.email,primaryKeyBackup:i.backupOptout?void 0:E,secondKeySecret:u,salt:f,identityFactoryAddr:b,baseIdentityAddr:p,privileges:C,quickAccSigner:k},F.length&&{utm:F}));case 27:if((I=t.sent).success&&d.resetUtm(),"EMAIL_ALREADY_USED"!==I.message){t.next=32;break}return q("An account with this email already exists"),t.abrupt("return");case 32:if(I.success){t.next=36;break}return console.log(I),q("Unexpected sign up error: ".concat(I.message||"unknown")),t.abrupt("return");case 36:a({id:P,email:i.email,primaryKeyBackup:E,salt:f,identityFactoryAddr:b,baseIdentityAddr:p,bytecode:D,signer:k,cloudBackupOptout:!!i.backupOptout,backupOptout:!!i.backupOptout,emailConfRequired:!0},{select:!0,isNew:!0});case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=Object(s.useCallback)(function(){var t=Object(i.a)(c.a.mark((function t(a,i){var o,s,u,l,f,p,b,g;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[[Object(h.getAddress)(a),Object(h.hexZeroPad)("0x01",32)]],s=x.a.salt,u=x.a.baseIdentityAddr,l=x.a.identityFactoryAddr,f=Object(j.getProxyDeployBytecode)(u,o,{privSlot:0}),p=Object(h.getAddress)("0x"+Object(m.generateAddress2)(e.from(l.slice(2),"hex"),e.from(s.slice(2),"hex"),e.from(f.slice(2),"hex")).toString("hex")),b=d.getLatestUtmData(),!r){t.next=12;break}return t.next=8,Object(y.d)("".concat(r,"/identity/").concat(p),Object(n.a)({salt:s,identityFactoryAddr:l,baseIdentityAddr:u,privileges:o,signerType:i},b.length&&{utm:b}));case 8:if((g=t.sent).success&&d.resetUtm(),g.success||g.message&&g.message.includes("already exists")){t.next=12;break}throw g;case 12:return t.abrupt("return",{id:p,salt:s,identityFactoryAddr:l,baseIdentityAddr:u,bytecode:f,signer:{address:Object(h.getAddress)(a)}});case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r,d]);function re(){return ne.apply(this,arguments)}function ne(){return(ne=Object(i.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window.ethereum){e.next=2;break}throw new Error("MetaMask not available");case 2:return t=window.ethereum,e.next=5,t.request({method:"eth_requestAccounts"});case 5:if((r=e.sent).length){e.next=8;break}throw new Error("No accounts connected");case 8:if(1!==r.length){e.next=10;break}return e.abrupt("return",ve(r[0],{type:"Web3"}));case 10:M({addresses:r,signerName:"Web3"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=Object(s.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,i,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)("".concat(r,"/identity/").concat(t)).then((function(e){return e.json()}));case 2:if(a=e.sent,i=a.salt,o=a.identityFactoryAddr,s=a.baseIdentityAddr,u=a.bytecode,i&&o&&s&&u){e.next=9;break}throw new Error("Incomplete data from relayer for ".concat(t));case 9:return e.abrupt("return",{id:t,salt:i,identityFactoryAddr:o,baseIdentityAddr:s,bytecode:u,signer:{address:n}});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r]),ce=Object(s.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all(t.map(function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)("".concat(r,"/identity/any/by-owner/").concat(t,"?includeFormerlyOwned=true"));case 2:return a=e.sent,e.t0=Object,e.next=6,a.json();case 6:e.t1=e.sent,e.t0.entries.call(e.t0,e.t1).forEach((function(e){var r=Object(o.a)(e,2),a=r[0];r[1];return n[a]=Object(h.getAddress)(t)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.next=5,Promise.all(Object.entries(n).map((function(e){var t=Object(o.a)(e,2),r=t[0],n=t[1];return ae(r,n)})));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ae,r]),ie=function(e){var t=e.addresses,r=e.deviceId,n=e.commKey,a=e.isPaired;M({addresses:t,signerName:"Lattice",signerExtra:{type:"Lattice",deviceId:r,commKey:n,isPaired:a}})};function oe(){return se.apply(this,arguments)}function se(){return(se=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(Object(I.jsx)(F.a,{addresses:ie}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=Object(i.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.TrezorSubprovider({trezorConnectClientApi:f.a}),e.next=3,t.getAccountsAsync(50);case 3:r=e.sent,M({addresses:r,signerName:"Trezor",signerExtra:{type:"trezor",info:JSON.parse(JSON.stringify(t._initialDerivedKeyInfo))}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return fe.apply(this,arguments)}function fe(){return(fe=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(C.a)()){e.next=5;break}return e.next=3,pe();case 3:e.next=7;break;case 5:return e.next=7,ge();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return be.apply(this,arguments)}function be(){return(be=Object(i.a)(c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.LedgerSubprovider({networkId:0,ledgerEthereumClientFactoryAsync:g.ledgerEthereumBrowserClientFactoryAsync,baseDerivationPath:S.a}),e.next=3,t.getAccountsAsync(50);case 3:return r=e.sent,e.next=6,t._initialDerivedKeyInfoAsync().then((function(e){return{type:"ledger",info:JSON.parse(JSON.stringify(e))}}));case 6:n=e.sent,M({addresses:r,signerName:"Ledger",signerExtra:n});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return he.apply(this,arguments)}function he(){return(he=Object(i.a)(c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,Object(S.b)();case 4:r=e.sent,n={type:"ledger",transportProtocol:"webHID"},1===r.length?ve(r[0],n):M({addresses:r,signerName:"Ledger",signerExtra:n}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t=e.t0.statusCode&&"InvalidChannel"===e.t0.id?"Invalid channel":e.t0.statusCode&&25873===e.t0.statusCode?"Please make sure your ledger is connected and the ethereum app is open":e.t0.message;case 13:t&&H("Ledger error: ".concat(t.message||t));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var ve=Object(s.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,i){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e,t){return a(Object(n.a)(Object(n.a)({},e),{},{signerExtra:i}),t)},r){e.next=8;break}return e.t0=o,e.next=5,te(t,i.type);case 5:return e.t1=e.sent,e.t2={select:!0},e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 8:return e.next=10,ce([t]);case 10:if((s=e.sent).length){e.next=20;break}return e.t3=o,e.next=15,te(t,i.type);case 15:e.t4=e.sent,e.t5={select:!0,isNew:!0},(0,e.t3)(e.t4,e.t5),e.next=22;break;case 20:Y("Found ".concat(s.length," existing accounts with signer ").concat(t),{timeout:15e3}),s.forEach((function(e,t){return o(e,{select:0===t})}));case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[Y,te,ce,a,r]),me=Object(s.useCallback)((function(e){X((function(){return ve(e.address,z.signerExtra)})),M(null)}),[ve,z]),je=Object(s.useCallback)((function(){return M(null)}),[]);Object(s.useEffect)((function(){z&&Q(Object(I.jsx)(w.a,{signersToChoose:z.addresses,onSignerAddressClicked:me,description:"Signer address is the ".concat(z.signerName," address you will use to sign transactions on Ambire Wallet.\n                    \u0410 new account will be created using this signer if you don\u2019t have one."),isCloseBtnShown:!0,onCloseBtnClicked:je}))}),[je,me,Q,z]);var ye=Object(s.useCallback)((function(e,t){var r=new FileReader;if(t.length&&Y("".concat(t[0].file.path," - ").concat((t[0].file.size/1024).toFixed(2)," KB. ").concat(t[0].errors[0].message),{error:!0}),e.length){var n=e[0];r.readAsText(n,"UTF-8"),r.onload=function(e){var t=e.target.result,r=JSON.parse(t),n=Object(E.b)(r);n.success?a(r,{select:!0}):Y(n.message,{error:!0})}}}),[Y,a]),xe=Object(P.a)({onDrop:ye,noClick:!0,noKeyboard:!0,accept:"application/json",maxFiles:1,validator:E.a}),Oe=xe.getInputProps,we=xe.open,ke=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("button",{onClick:function(){return Z(ue,"hwwallet")},children:[Object(I.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/trezor.png)"}}),"Trezor"]}),Object(I.jsxs)("button",{onClick:function(){return Z(de,"hwwallet")},children:[Object(I.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/ledger.png)"}}),"Ledger"]}),Object(I.jsxs)("button",{onClick:function(){return Z(oe,"hwwallet")},children:[Object(I.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/grid-plus.png)"}}),"Grid+ Lattice1"]}),Object(I.jsxs)("button",{onClick:function(){return X(re)},children:[Object(I.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/metamask.png)"}}),"Metamask / Browser"]}),Object(I.jsxs)("button",{onClick:function(){return X(we)},children:[Object(I.jsx)("div",{className:"icon",children:Object(I.jsx)(D.a,{size:25})}),"Import from JSON"]}),Object(I.jsx)("input",Object(n.a)({},Oe()))]});return r?Object(I.jsxs)("div",{className:"loginSignupWrapper",children:[Object(I.jsx)("div",Object(n.a)({id:"logo"},L?{style:{backgroundImage:"url(".concat(L.iconUrl,")")}}:{})),L&&Object(I.jsxs)("div",{id:"plugin-info",children:[Object(I.jsx)("div",{className:"name",children:L.name}),Object(I.jsx)("div",{children:L.description})]}),Object(I.jsxs)("section",{id:"addAccount",children:[Object(I.jsxs)("div",{id:"loginEmail",children:[Object(I.jsx)("h3",{children:"Create a new account"}),Object(I.jsx)(l.a,{inProgress:"email"===V,onAccRequest:function(e){return Z((function(){return ee(e)}),"email")},action:"SIGNUP"}),R?Object(I.jsx)("p",{className:"error",children:R}):Object(I.jsx)(I.Fragment,{})]}),Object(I.jsxs)("div",{id:"loginSeparator",children:[Object(I.jsx)("div",{className:"verticalLine"}),Object(I.jsx)("span",{children:"or"}),Object(I.jsx)("div",{className:"verticalLine"})]}),Object(I.jsxs)("div",{id:"loginOthers",children:[Object(I.jsx)("h3",{children:"Add an account"}),"hwwallet"!==V?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(u.b,{to:"/email-login",children:Object(I.jsxs)("button",{children:[Object(I.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/envelope.png)"}}),"Email login"]})}),ke,J?Object(I.jsx)("p",{className:"error",children:J}):Object(I.jsx)(I.Fragment,{})]}):Object(I.jsx)("div",{className:"accountLoader",children:Object(I.jsx)(A.m,{})})]})]})]}):Object(I.jsxs)("div",{className:"loginSignupWrapper",children:[Object(I.jsx)("div",{id:"logo"}),Object(I.jsx)("section",{id:"addAccount",children:Object(I.jsxs)("div",{id:"loginOthers",children:[Object(I.jsx)("h3",{children:"Add an account"}),ke,Object(I.jsx)("h3",{children:"NOTE: You can enable email/password login by connecting to a relayer."}),J?Object(I.jsx)("p",{className:"error",style:{maxWidth:"800px"},children:J}):Object(I.jsx)(I.Fragment,{})]})})]})}f.a.manifest({email:"contactus@ambire.com",appUrl:"https://www.ambire.com"})}.call(this,r(25).Buffer)},613:function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return b})),r.d(t,"d",(function(){return g})),r.d(t,"b",(function(){return h})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return j}));var n=r(7),a=r(2),c=r.n(a),i=r(11),o=r(626),s=r(52),u=r(616),l=r(612),d=2147483648,f={startPath:[2147483692,2147483708,d,0,0],n:10},p=function(e){var t={name:"Ambire Wallet",crypto:l,privKey:e};return new o.Client(t)},b=function(){var e=Object(i.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.connect(r,(function(t,r){t?n("Lattice connect: ".concat(t," Or check if the DeviceID is correct.")):e({isPaired:!!r,errConnect:!1})}))})).catch((function(e){return console.error(e),{isPaired:!1,errConnect:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.pair(r,(function(t,r){t?n("Lattice connect: ".concat(t)):e({hasActiveWallet:r,errPair:!1})}))})).catch((function(e){return console.error(e),{hasActiveWallet:!1,errPair:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.getAddresses(f,(function(t,n){if(t)r("Lattice get addresses: ".concat(t));else{if(!n)throw new Error("Lattice could not get the addresses.");e({res:n,errGetAddresses:!1})}}))})).catch((function(e){return console.error(e),{res:null,errGetAddresses:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={protocol:"signPersonal",payload:s.ethers.utils.hexlify(r),signerPath:[2147483692,2147483708,d,0,0]},a={currency:"ETH_MSG",data:n},e.next=4,new Promise((function(e,r){t.sign(a,(function(t,n){if(t)r(t);else{if(!n)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+n.sig.r+n.sig.s+n.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(t,r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={currency:"ETH_MSG",data:{signerPath:[2147483692,2147483708,d,0,0],protocol:"eip712",payload:r}},e.next=3,new Promise((function(e,r){t.sign(n,(function(t,n){if(t)r(t);else{if(!n)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+n.sig.r+n.sig.s+n.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(c.a.mark((function e(t,r,a){var i,o,s,l,f,p,b,g,h,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.to,o=r.data,s=r.gas,l=r.gasPrice,f=r.nonce,p=r.value,b=void 0===p?0:p,delete(g=Object(n.a)(Object(n.a)({},r),{},{gasLimit:r.gasLimit||r.gas,chainId:a})).from,delete g.gas,h={nonce:f,gasLimit:s||r.gasLimit,gasPrice:l,to:i,value:b,data:o||"",signerPath:[2147483692,2147483708,d,0,0],chainId:a,useEIP155:!0},v={currency:"ETH",data:h},e.next=8,new Promise((function(e,r){t.sign(v,(function(t,n){if(t)r(t);else{if(!n)throw new Error("Lattice could not sign the message.");delete g.v;var a=Object(u.a)(g,{r:"0x"+n.sig.r,s:"0x"+n.sig.s,v:n.sig.v[0].toString(16)});e({serializedSigned:a,errSignTxn:!1})}}))})).catch((function(e){return console.error(e),{serializedSigned:null,errSignTxn:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},620:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h})),r.d(t,"e",(function(){return O})),r.d(t,"c",(function(){return k})),r.d(t,"d",(function(){return S}));var n=r(7),a=r(2),c=r.n(a),i=r(11),o=r(690),s=r(691),u=r(616),l=r(232),d=r(606),f=null,p="44'/60'/0'/0";function b(){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.list();case 2:if(!(f=e.sent).length){e.next=11;break}if(!f[0].opened){e.next=8;break}return e.abrupt("return",new o.a(f[0]));case 8:return e.abrupt("return",o.a.open(f[0]));case 9:e.next=22;break;case 11:return e.prev=11,e.next=14,o.a.request();case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(11),!e.t0.message.includes("reading 'open'")){e.next=21;break}throw new Error("ledger WebHID request denied");case 21:throw new Error("Could not request WebHID ledger: "+e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,e.next=5,m(t);case 5:return r=e.sent,t.close(),e.abrupt("return",r.map((function(e){return e.address})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(c.a.mark((function t(r){var n,a,i,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="m/".concat(p),t.next=3,y(r,n).then((function(e){return e})).catch((function(e){throw 25871===e.statusCode||27404===e.statusCode?Error("Please make sure your ledger is unlocked and running the Ethereum app. "+e.message):Error("Could not get address from ledger : "+e)}));case 3:return a=t.sent,(i=new d).publicKey=e.from(a.publicKey,"hex"),i.chainCode=e.from(a.chainCode,"hex"),o=P(i),s={hdKey:i,address:o,derivationPath:n,baseDerivationPath:p},t.abrupt("return",D(s,1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(e,t){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(c.a.mark((function e(t,r){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new s.a(t),i=new Promise((function(e,t){n=setTimeout((function(){return t(new Error("Device took too long to respond..."))}),1e4)})),e.abrupt("return",Promise.race([a.getAddress(r,!1,!0),i]).then((function(e){return clearTimeout(n),e})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(c.a.mark((function e(t,r){var a,i,o,l,d,f,p,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return a=e.sent,i=t.from,delete(o=Object(n.a)(Object(n.a)({},t),{},{gasLimit:t.gasLimit||t.gas,chainId:r})).from,delete o.gas,l=Object(u.a)(o),e.next=10,m(a);case 10:if(d=e.sent,d[0].address.toLowerCase()!==i.toLowerCase()){e.next=30;break}return e.prev=13,e.next=16,new s.a(a).signTransaction(d[0].derivationPath,l.substr(2));case 16:p=e.sent,e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(13),new Error("Could not sign transaction "+e.t0);case 22:if(g=parseInt(p.v,16),Math.floor((g-35)/2)===r){e.next=26;break}throw new Error("Invalid returned V 0x"+p.v);case 26:delete o.v,f=Object(u.a)(o,{r:"0x"+p.r,s:"0x"+p.s,v:g}),e.next=31;break;case 30:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 31:return a.close(),e.abrupt("return",f);case 33:case"end":return e.stop()}}),e,null,[[13,19]])})))).apply(this,arguments)}function k(e,t){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(c.a.mark((function e(t,r){var n,a,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return n=e.sent,e.next=5,m(n);case 5:if(a=e.sent,(i=a[0]).address.toLowerCase()!==r.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new s.a(n).signPersonalMessage(i.derivationPath,t.substr(2));case 11:u=e.sent,o="0x"+u.r+u.s+u.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return n.close(),e.abrupt("return",o);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function S(e,t,r){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(c.a.mark((function e(t,r,n){var a,i,o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return a=e.sent,e.next=5,m(a);case 5:if(i=e.sent,(o=i[0]).address.toLowerCase()!==n.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new s.a(a).signEIP712HashedMessage(o.derivationPath,t,r);case 11:l=e.sent,u="0x"+l.r+l.s+l.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return a.close(),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function D(e,t){for(var r=[],n=0;n<t;n++){var a="m/".concat(e.baseDerivationPath,"/").concat(n),c="m/".concat(n),i=e.hdKey.derive(c),o={address:P(i),hdKey:i,baseDerivationPath:e.baseDerivationPath,derivationPath:a};r.push(o)}return r}function P(e){var t=e.publicKey,r=l.publicToAddress(t,!0).toString("hex");return l.addHexPrefix(r).toLowerCase()}}).call(this,r(25).Buffer)},664:function(e,t){},673:function(e,t){},674:function(e,t){},675:function(e,t){},676:function(e,t){},677:function(e,t){},679:function(e,t){},680:function(e,t){},681:function(e,t){},683:function(e,t){},685:function(e,t){},688:function(e,t){},728:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(7),a=r(8),c=r(3),i=r(151),o=r(79),s=r(4);function u(e){var t=e.action,r=void 0===t?"LOGIN":t,u=e.onAccRequest,l=e.inProgress,d=Object(c.useRef)(null),f=Object(c.useState)({email:"",passphrase:"",passphraseConfirm:"",action:r}),p=Object(a.a)(f,2),b=p[0],g=p[1],h=function(e){var t=Object(n.a)(Object(n.a)({},b),e);g(t);var r="SIGNUP"===t.action&&t.passphrase!==t.passphraseConfirm;d.current&&d.current.setCustomValidity(r?"Passwords must match":"")},v="SIGNUP"===b.action,m=Math.ceil(i.a.quickAccTimelock/86400),j="In case you forget your password or lose your backup, you will have to wait ".concat(m," days and pay the recovery fee to restore access to your account."),y=b.backupOptout?Object(s.jsx)(o.g,{label:j,required:!0}):Object(s.jsx)(s.Fragment,{}),x=function(e){var t=e.href,r=e.children;return Object(s.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:r})},O=v?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",{type:"password",required:!0,minLength:8,placeholder:"Password",value:b.passphrase,onChange:function(e){return h({passphrase:e.target.value})}}),Object(s.jsx)("input",{ref:d,required:!0,minLength:8,type:"password",placeholder:"Confirm password",value:b.passphraseConfirm,onChange:function(e){return h({passphraseConfirm:e.target.value})}}),Object(s.jsx)(o.g,{label:Object(s.jsxs)(s.Fragment,{children:["I agree to the ",Object(s.jsx)(x,{href:"https://www.ambire.com/Ambire%20ToS%20and%20PP%20(26%20November%202021).pdf",children:"Terms of Service and Privacy policy"}),"."]}),required:!0}),Object(s.jsx)(o.g,{label:Object(s.jsxs)(s.Fragment,{children:["Backup on ",Object(s.jsx)(x,{href:"https://help.ambire.com/hc/en-us/articles/4410892186002-What-is-Ambire-Cloud-",children:"Ambire Cloud"}),"."]}),checked:!b.backupOptout,onChange:function(e){return h({backupOptout:!e.target.checked})}}),y]}):Object(s.jsx)(s.Fragment,{});return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u({action:b.action,accType:"QUICK",email:b.email,passphrase:b.passphrase,backupOptout:b.backupOptout})},children:[Object(s.jsx)("input",{type:"email",required:!0,placeholder:"Email",value:b.email,onChange:function(e){return h({email:e.target.value})}}),v?Object(s.jsx)(s.Fragment,{}):Object(s.jsx)("input",{type:"password",style:{display:"none"}}),O,Object(s.jsx)("input",{type:"submit",disabled:l,value:v?l?"Signing up...":"Sign up":l?"Logging in...":"Log in"})]})}},769:function(e,t,r){"use strict";var n=r(8),a=(r(770),r(3)),c=r(37),i=r(79),o=r(625),s=r(36),u=r(4);t.a=function(e){var t,r=e.signersToChoose,l=e.onSignerAddressClicked,d=e.selectedNetwork,f=void 0===d?{explorerUrl:"https://etherscan.io"}:d,p=e.description,b=void 0===p?"":p,g=e.isCloseBtnShown,h=void 0===g||g,v=e.onCloseBtnClicked,m=Object(c.f)().hideModal,j=Object(a.useState)(0),y=Object(n.a)(j,2),x=y[0],O=y[1],w=[];t=5,w=r.reduce((function(e,r,n){var a=Math.floor(n/t);return(e[a]||(e[a]=[])).push(r),e}),[]);var k=function(e){return e.slice(0,5)+"..."+e.slice(e.length-4,e.length)},A=0===x,S=x===w.length-1;return Object(u.jsxs)(i.n,{id:"select-signer-modal",title:"Select a signer account",isCloseBtnShown:h,onClose:v,children:[Object(u.jsx)("div",{className:"intro",children:b}),Object(u.jsxs)("div",{className:"loginSignupWrapper chooseSigners",children:[Object(u.jsx)("ul",{id:"signersToChoose",children:r?w[x].map((function(e,t){return Object(u.jsxs)("li",{className:t%2?"":" odd-rows-bg",onClick:function(){return function(e,t){l({address:e,index:t}),m()}(e,5*x+t)},children:[Object(u.jsx)("span",{className:"index-row",children:5*x+t+1}),Object(u.jsx)("span",{children:k(e)}),Object(u.jsx)("a",{href:f.explorerUrl+"/address/"+e,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:Object(u.jsx)(o.c,{size:25})})]},e)})):null}),Object(u.jsxs)("div",{className:"pages",children:[x+1,"/",w.length]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(i.e,{disabled:A,icon:Object(u.jsx)(s.w,{}),small:!0,clear:!0,type:"button",onClick:function(){0!==x&&O((function(e){return e-1}))},children:"Previous page"}),Object(u.jsx)(i.e,{disabled:S,iconAfter:Object(u.jsx)(s.x,{}),small:!0,clear:!0,type:"button",onClick:function(){x!==w.length-1&&O((function(e){return e+1}))},children:"Next page"})]})]})]})}},770:function(e,t,r){},779:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),c=a.replace(/\/.*$/,"");return r.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?c===t.replace(/\/.*$/,""):a===t}))}return!0}},780:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return d}));var n=r(21),a=/^([0-9]+\.?[0-9]*)$/,c=["salt","identityFactoryAddr","baseIdentityAddr","bytecode","signer"],i=function(e){if(!e||!l(e))return{success:!1,message:"The imported file does not contain needed account data."};if(!e.id||!o(e.id))return{success:!1,message:"Failed to import JSON file: invalid id"};if(!e.signer||!o(e.signer.address||e.signer.quickAccManager))return{success:!1,message:"JSON file: invalid signer address"};if(e.signer.quickAccManager){if(!e.signer.timelock||!s(e.signer.timelock))return{success:!1,message:"Failed to import JSON file: invalid signer timelock"};if(!e.signer.one||!o(e.signer.one))return{success:!1,message:"Failed to import JSON file: invalid signer one"};if(!e.signer.two||!o(e.signer.two))return{success:!1,message:"Failed to import JSON file: invalid signer two"}}return e.salt&&u(e.salt)?e.identityFactoryAddr&&o(e.identityFactoryAddr)?e.baseIdentityAddr&&o(e.baseIdentityAddr)?{success:!0}:{success:!1,message:"JSON file: invalid base Identity Address"}:{success:!1,message:"JSON file: invalid identity Factory Address"}:{success:!1,message:"JSON file: invalid salt"}},o=function(e){try{return Object(n.getAddress)(e)===e}catch(t){return!1}},s=function(e){return a.test(e)&&6===e.toString().length},u=function(e){return 32===Object(n.hexDataLength)(e)},l=function(e){return c.every((function(t){return Object.keys(e).includes(t)}))},d=function(e){return e.size>3072?{code:"file-size-too-large",message:"The file size is larger than ".concat(3..toFixed(2)," KB.")}:null}},781:function(e,t,r){"use strict";var n=r(2),a=r.n(n),c=r(11),i=r(8),o=(r(782),r(79)),s=r(3),u=r(44),l=r(613),d=r(612),f=r.n(d),p=r(4),b=f.a.randomBytes(32).toString("hex");t.a=function(e){var t=e.addresses,r=Object(u.a)().addToast,n=Object(s.useState)(!1),d=Object(i.a)(n,2),f=d[0],g=d[1],h=Object(s.useState)(""),v=Object(i.a)(h,2),m=v[0],j=v[1],y=Object(s.useState)(!1),x=Object(i.a)(y,2),O=x[0],w=x[1],k=Object(s.useState)(null),A=Object(i.a)(k,2),S=A[0],C=A[1],D=Object(s.useRef)(null);Object(s.useEffect)((function(){O&&D.current.focus()}),[O]);var P=Object(l.c)(b),E=function(){var e=Object(c.a)(a.a.mark((function e(){var n,c,i,o,s,u,d,f,p,h,v,j,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g((function(e){return!e})),e.next=3,Object(l.a)(P,m);case 3:if(n=e.sent,c=n.isPaired,!(i=n.errConnect)){e.next=10;break}return g((function(e){return!e})),r("Lattice: ".concat(i," Or check if the Device ID is correct."),{error:!0}),e.abrupt("return");case 10:if(c){e.next=41;break}return w((function(e){return!e})),e.next=14,new Promise((function(e,t){C((function(){return e}))}));case 14:if(""===(o=e.sent)){e.next=39;break}return w((function(e){return!e})),e.next=19,Object(l.d)(P,o);case 19:if(s=e.sent,u=s.hasActiveWallet,!(d=s.errPair)){e.next=26;break}return g((function(e){return!e})),r(d,{error:!0}),e.abrupt("return");case 26:if(u){e.next=29;break}return r("Lattice has no active wallet!"),e.abrupt("return");case 29:return e.next=31,Object(l.b)(P);case 31:if(f=e.sent,p=f.res,!(h=f.errGetAddresses)){e.next=38;break}return g((function(e){return!e})),r(h,{error:!0}),e.abrupt("return");case 38:p&&(t({addresses:p,deviceId:m,commKey:b,isPaired:!0}),g(!1));case 39:e.next=51;break;case 41:return e.next=43,Object(l.b)(P);case 43:if(v=e.sent,j=v.res,!(y=v.errGetAddresses)){e.next=50;break}return g(!1),r("Lattice: ".concat(y),{error:!0}),e.abrupt("return");case 50:j&&(t({addresses:j,deviceId:m,commKey:b,isPaired:!0}),g(!1));case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(o.n,{title:"Connect to Lattice Device",children:Object(p.jsx)("div",{id:"grid-plus",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{children:["The device ID is listed on your Lattice under"," ",Object(p.jsx)("strong",{children:"Settings"}),"."]}),Object(p.jsx)("h4",{children:"Device ID"}),Object(p.jsx)(o.w,{disabled:O,placeholder:"Enter the device ID",onInput:function(e){var t;6===(t=e).length&&j(t)}}),O&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h4",{children:"Secret"}),Object(p.jsx)(o.w,{ref:D,placeholder:"Enter secret",style:{textTransform:"uppercase"},onInput:function(e){return function(e){var t=e.toUpperCase();8===t.length&&S(t)}(e)}})]}),f&&!O?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"It may takes a while."}),Object(p.jsx)("h3",{children:"Please wait..."})]}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)("div",{className:"buttons",children:f?Object(p.jsx)(o.e,{disabled:!0,children:Object(p.jsx)(o.m,{})}):Object(p.jsx)(o.e,{onClick:E,children:"Connect to Wallet"})})]})})})}},782:function(e,t,r){},817:function(e,t,r){"use strict";r.d(t,"a",(function(){return oe}));var n=r(3),a=r.n(n),c=r(49),i=r.n(c);function o(e,t,r,n){return new(r||(r=Promise))((function(a,c){function i(e){try{s(n.next(e))}catch(t){c(t)}}function o(e){try{s(n.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}s((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,a,c,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function o(c){return function(o){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(o){c=[6,o],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}}Object.create;function u(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,c=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=c.next()).done;)i.push(n.value)}catch(o){a={error:o}}finally{try{n&&!n.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}return i}Object.create;var l=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function d(e,t){var r=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var r=t.split(".").pop().toLowerCase(),n=l.get(r);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof r.path){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:"string"===typeof t?t:"string"===typeof n&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}var f=[".DS_Store","Thumbs.db"];function p(e){return(null!==e.target&&e.target.files?h(e.target.files):[]).map((function(e){return d(e)}))}function b(e,t){return o(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return e.items?(r=h(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,r]:[4,Promise.all(r.map(v))]):[3,2];case 1:return[2,g(m(n.sent()))];case 2:return[2,g(h(e.files).map((function(e){return d(e)})))]}}))}))}function g(e){return e.filter((function(e){return-1===f.indexOf(e.name)}))}function h(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function v(e){if("function"!==typeof e.webkitGetAsEntry)return j(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?x(t):j(e)}function m(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}(e,Array.isArray(t)?m(t):[t])}),[])}function j(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var r=d(t);return Promise.resolve(r)}function y(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return[2,e.isDirectory?x(e):O(e)]}))}))}function x(e){var t=e.createReader();return new Promise((function(e,r){var n=[];!function a(){var c=this;t.readEntries((function(t){return o(c,void 0,void 0,(function(){var c,i,o;return s(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return c=s.sent(),e(c),[3,4];case 3:return i=s.sent(),r(i),[3,4];case 4:return[3,6];case 5:o=Promise.all(t.map(y)),n.push(o),a(),s.label=6;case 6:return[2]}}))}))}),(function(e){r(e)}))}()}))}function O(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return[2,new Promise((function(t,r){e.file((function(r){var n=d(r,e.fullPath);t(n)}),(function(e){r(e)}))}))]}))}))}var w=r(779),k=r.n(w);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,c=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(s){o=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C="file-invalid-type",D="file-too-large",P="file-too-small",E="too-many-files",F=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:C,message:"File type must be ".concat(t)}},I=function(e){return{code:D,message:"File is larger than ".concat(e," bytes")}},L=function(e){return{code:P,message:"File is smaller than ".concat(e," bytes")}},N={code:E,message:"Too many files"};function T(e,t){var r="application/x-moz-file"===e.type||k()(e,t);return[r,r?null:F(t)]}function z(e,t,r){if(M(e.size))if(M(t)&&M(r)){if(e.size>r)return[!1,I(r)];if(e.size<t)return[!1,L(t)]}else{if(M(t)&&e.size<t)return[!1,L(t)];if(M(r)&&e.size>r)return[!1,I(r)]}return[!0,null]}function M(e){return void 0!==e&&null!==e}function B(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,c=e.multiple,i=e.maxFiles;return!(!c&&t.length>1||c&&i>=1&&t.length>i)&&t.every((function(e){var t=A(T(e,r),1)[0],c=A(z(e,n,a),1)[0];return t&&c}))}function K(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function R(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function q(e){e.preventDefault()}function U(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function W(e){return-1!==e.indexOf("Edge/")}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return U(e)||W(e)}function H(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.some((function(t){return!K(e)&&t&&t.apply(void 0,[e].concat(n)),K(e)}))}}var G=["children"],_=["open"],V=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$=["refKey","onChange","onClick"];function Y(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,c=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(s){o=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return c}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"===typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ae=Object(n.forwardRef)((function(e,t){var r=e.children,c=oe(ne(e,G)),i=c.open,o=ne(c,_);return Object(n.useImperativeHandle)(t,(function(){return{open:i}}),[i]),a.a.createElement(n.Fragment,null,r(te(te({},o),{},{open:i})))}));ae.displayName="Dropzone";var ce={disabled:!1,getFilesFromEvent:function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return[2,(r=e,r.dataTransfer&&e.dataTransfer?b(e.dataTransfer,e.type):p(e))];var r}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};ae.defaultProps=ce,ae.propTypes={children:i.a.func,accept:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)]),multiple:i.a.bool,preventDropOnDocument:i.a.bool,noClick:i.a.bool,noKeyboard:i.a.bool,noDrag:i.a.bool,noDragEventsBubbling:i.a.bool,minSize:i.a.number,maxSize:i.a.number,maxFiles:i.a.number,disabled:i.a.bool,getFilesFromEvent:i.a.func,onFileDialogCancel:i.a.func,onDragEnter:i.a.func,onDragLeave:i.a.func,onDragOver:i.a.func,onDrop:i.a.func,onDropAccepted:i.a.func,onDropRejected:i.a.func,validator:i.a.func};var ie={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=te(te({},ce),e),r=t.accept,a=t.disabled,c=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,s=t.multiple,u=t.maxFiles,l=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,p=t.onDrop,b=t.onDropAccepted,g=t.onDropRejected,h=t.onFileDialogCancel,v=t.preventDropOnDocument,m=t.noClick,j=t.noKeyboard,y=t.noDrag,x=t.noDragEventsBubbling,O=t.validator,w=Object(n.useRef)(null),k=Object(n.useRef)(null),A=Object(n.useReducer)(se,ie),S=Q(A,2),C=S[0],D=S[1],P=C.isFocused,E=C.isFileDialogActive,F=C.draggedFiles,I=Object(n.useCallback)((function(){k.current&&(D({type:"openDialog"}),k.current.value=null,k.current.click())}),[D]),L=function(){E&&setTimeout((function(){k.current&&(k.current.files.length||(D({type:"closeDialog"}),"function"===typeof h&&h()))}),300)};Object(n.useEffect)((function(){return window.addEventListener("focus",L,!1),function(){window.removeEventListener("focus",L,!1)}}),[k,E,h]);var M=Object(n.useCallback)((function(e){w.current&&w.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),I()))}),[w,k]),U=Object(n.useCallback)((function(){D({type:"focus"})}),[]),W=Object(n.useCallback)((function(){D({type:"blur"})}),[]),G=Object(n.useCallback)((function(){m||(J()?setTimeout(I,0):I())}),[k,m]),_=Object(n.useRef)([]),Z=function(e){w.current&&w.current.contains(e.target)||(e.preventDefault(),_.current=[])};Object(n.useEffect)((function(){return v&&(document.addEventListener("dragover",q,!1),document.addEventListener("drop",Z,!1)),function(){v&&(document.removeEventListener("dragover",q),document.removeEventListener("drop",Z))}}),[w,v]);var X=Object(n.useCallback)((function(e){e.preventDefault(),e.persist(),fe(e),_.current=[].concat(Y(_.current),[e.target]),R(e)&&Promise.resolve(c(e)).then((function(t){K(e)&&!x||(D({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e))}))}),[c,l,x]),ee=Object(n.useCallback)((function(e){e.preventDefault(),e.persist(),fe(e);var t=R(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(r){}return t&&f&&f(e),!1}),[f,x]),ae=Object(n.useCallback)((function(e){e.preventDefault(),e.persist(),fe(e);var t=_.current.filter((function(e){return w.current&&w.current.contains(e)})),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),_.current=t,t.length>0||(D({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),R(e)&&d&&d(e))}),[w,d,x]),oe=Object(n.useCallback)((function(e){e.preventDefault(),e.persist(),fe(e),_.current=[],R(e)&&Promise.resolve(c(e)).then((function(t){if(!K(e)||x){var n=[],a=[];t.forEach((function(e){var t=Q(T(e,r),2),c=t[0],s=t[1],u=Q(z(e,o,i),2),l=u[0],d=u[1],f=O?O(e):null;if(c&&l&&!f)n.push(e);else{var p=[s,d];f&&(p=p.concat(f)),a.push({file:e,errors:p.filter((function(e){return e}))})}})),(!s&&n.length>1||s&&u>=1&&n.length>u)&&(n.forEach((function(e){a.push({file:e,errors:[N]})})),n.splice(0)),D({acceptedFiles:n,fileRejections:a,type:"setFiles"}),p&&p(n,a,e),a.length>0&&g&&g(a,e),n.length>0&&b&&b(n,e)}})),D({type:"reset"})}),[s,r,o,i,u,c,p,b,g,x,O]),ue=function(e){return a?null:e},le=function(e){return j?null:ue(e)},de=function(e){return y?null:ue(e)},fe=function(e){x&&e.stopPropagation()},pe=Object(n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,n=e.onKeyDown,c=e.onFocus,i=e.onBlur,o=e.onClick,s=e.onDragEnter,u=e.onDragOver,l=e.onDragLeave,d=e.onDrop,f=ne(e,V);return te(te(re({onKeyDown:le(H(n,M)),onFocus:le(H(c,U)),onBlur:le(H(i,W)),onClick:ue(H(o,G)),onDragEnter:de(H(s,X)),onDragOver:de(H(u,ee)),onDragLeave:de(H(l,ae)),onDrop:de(H(d,oe))},r,w),a||j?{}:{tabIndex:0}),f)}}),[w,M,U,W,G,X,ee,ae,oe,j,y,a]),be=Object(n.useCallback)((function(e){e.stopPropagation()}),[]),ge=Object(n.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.onChange,c=e.onClick,i=ne(e,$),o=re({accept:r,multiple:s,type:"file",style:{display:"none"},onChange:ue(H(a,oe)),onClick:ue(H(c,be)),autoComplete:"off",tabIndex:-1},n,k);return te(te({},o),i)}}),[k,r,s,oe,a]),he=F.length,ve=he>0&&B({files:F,accept:r,minSize:o,maxSize:i,multiple:s,maxFiles:u}),me=he>0&&!ve;return te(te({},C),{},{isDragAccept:ve,isDragReject:me,isFocused:P&&!a,getRootProps:pe,getInputProps:ge,rootRef:w,inputRef:k,open:ue(I)})}function se(e,t){switch(t.type){case"focus":return te(te({},e),{},{isFocused:!0});case"blur":return te(te({},e),{},{isFocused:!1});case"openDialog":return te(te({},e),{},{isFileDialogActive:!0});case"closeDialog":return te(te({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var r=t.isDragActive,n=t.draggedFiles;return te(te({},e),{},{draggedFiles:n,isDragActive:r});case"setFiles":return te(te({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return te({},ie);default:return e}}},976:function(e,t,r){}}]);
//# sourceMappingURL=14.20b3e1a3.chunk.js.map