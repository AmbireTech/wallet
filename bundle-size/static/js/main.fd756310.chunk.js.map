{"version":3,"sources":["config/index.js","hooks/onClickOutside.js","hooks/useConstants.js","lib/humanizers/UniRouters.js","lib/humanizers/ERC20.js","lib/humanizers/AaveLendingPoolV2.js","lib/humanizers/ERC721.js","lib/humanizers/WETH.js","lib/humanizers/AmbireIdentity.js","lib/humanizers/YearnTesseractVault.js","lib/humanizers/Movr.js","lib/humanizers/OpenSea.js","lib/humanizers/WALLETSupplyController.js","lib/humanizers/AmbireBatcher.js","lib/humanizers/WALLETStakingPool.js","lib/humanizers/AaveWethGatewayV2.js","lib/humanizers/index.js","lib/humanReadableTransactions.js","lib/isFirefox.js","components/ModalProvider/ModalProvider.js","hooks/accounts.js","hooks/walletconnect.js","components/ToastProvider/ToastProvider.js","components/ConstantsProvider/ConstantsProvider.js","hooks/oneTimeQueryParam.js","lib/unstoppableDomains.js","lib/ensDomains.js","components/common/Button/Button.js","components/common/Loading/AmbireLoading.js","hooks/useLocalStorage.js","components/common/TextInput/TextInput.js","resources/icon.png","components/common/AddressBook/AddressList/AddressList.js","lib/humanizers/AmbireFactory.js","hooks/portfolio.js","hooks/relayerData.js","hooks/addressBook.js","hooks/attentionGrabber.js","hooks/modals.js","hooks/permissions.js","hooks/privateMode.js","hooks/dragAndDrop.js","hooks/checkMobileScreen.js","hooks/utmTracking.js","hooks/toasts.js","lib/GnosisConnector.js","hooks/notifications.js","App.js","hooks/useGnosisSafe.js","reportWebVitals.js","index.js","consts/networks.js","lib/provider.js","components/common/AddressBook/AddressBook.js","components/common/AddressWarning/AddressWarning.js","components/common/Chart/Chart.js","components/common/Checkbox/Checkbox.js","components/common/DropDown/DropDown.js","components/common/Loading/Loading.js","components/common/Loading/Borders.js","components/common/Loading/Skeleton.js","components/common/Modal/Modal.js","components/common/Radios/Radios.js","components/common/Segments/Segments.js","components/common/Select/Select.js","components/common/NumberInput/NumberInput.js","components/common/PasswordInput/PasswordInput.js","components/common/Toggle/Toggle.js","components/common/ToolTip/ToolTip.js","components/common/NoFundsPlaceholder/NoFundsPlaceholder.js","components/common/CountdownTimer/CountdownTimer.js","components/common/ErrorBoundary/ErrorBoundary.js","components/common/ErrorScreen/ErrorScreen.js","components/common/Stepper/Stepper.tsx","components/common/DAppIncompatibilityWarningMsg/DAppIncompatibilityWarningMsg.js","lib/fetch.js"],"names":["RAMP_HOST_API_KEY","process","PAYTRIE_PARTNER_URL","TRANSAK_API_KEY","TRANSAK_ENV","ZAPPER_API_KEY","ZAPPER_API_ENDPOINT","OPENSEA_FRAME_URL","VELCRO_API_ENDPOINT","SUSHI_SWAP_FRAME","SUSHI_SWAP_FRAME_EXCEPTIONS","JSON","parse","useOnClickOutside","ref","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","useConstants","context","useContext","ConstantsContext","Error","recipientText","recipient","txnFrom","extended","toLowerCase","type","address","deadlineText","deadlineSecs","mined","minute","diff","Date","now","Math","floor","toExtended","fromToken","toToken","expires","atLeast","upTo","parsePath","pathBytes","path","i","length","push","substr","uniV3Mapping","humanizerInfo","ifaceV3","Interface","abis","UniV3Router","getSighash","txn","network","args","parseTransaction","parsed","map","data","sigHash","slice","humanizer","flat","filter","x","opts","params","token","tokenIn","amountIn","tokenOut","amountOutMinimum","from","deadline","amountInMaximum","amountOut","amountMin","nativeToken","uniV32Mapping","ifaceV32","UniV3Router2","calls","concat","toNumber","amountInMax","to","amountOutMin","mapping","iface","UniV2Router","outputAsset","value","tokenA","tokenB","amountADesired","amountBDesired","amountTokenDesired","amountAMin","amountBMin","amountTokenMin","amountETHMin","uniV2Mapping","ERC20Mapping","ERC20","approvedAddress","amount","name","getName","tokenName","eq","constants","MaxUint256","allowed","onBehalfText","onBehalf","action","word","AaveMapping","AaveLendingPoolV2","asset","fromText","tokenId","id","toString","ERC721Mapping","tokenList","ERC721","isInTokenList","find","t","operator","approved","WETHMapping","WETH","require","IdentityMapping","addr","privLevel","isQuickAccManager","accountPresets","quickAccManager","privilegesOptions","false","true","vaultNames","ethereum","polygon","tokenPrefixes","addTokenPrefix","split","join","toExtendedRich","vaultInfo","baseToken","symbol","YearnTesseractMapping","yearnVaults","tesseractVaults","YearnVault","getVaultInfo","getNetwork","chainId","networks","n","Number","MovrMapping","MovrAnyswapInterface","MovrAnyswap","MovrRouterInterface","MovrRouter","middlewareInputToken","tokenToBridge","toChainId","middlewareRequest","bridgeRequest","inputToken","outputToken","formatNativeTokenAddress","OpenSeaMapping","WyvernExchange","addrs","uints","seller","tokenAddress","price","paymentToken","collection","isExtended","details","WALLETSupplyControllerMapping","WALLETSupplyControllerABI","burnPercentage","toBurnBps","AmbireBatcher","Batcher","txns","humanizers","STAKING_POOLS","WALLETStakingPool","WalletStakingPoolABI","shares","AaveWethGatewayV2","onBehalfOf","all","UniRouters","AmbireIdentity","AmbireFactory","YearnTesseractVault","Movr","OpenSea","WALLETSupplyController","knownAliases","knownTokens","knownAddressNames","repeat","getTransactionSummary","networkId","accountAddr","tokens","names","callSummary","sendSummary","tokenInfo","parseInt","actions","e","console","error","filteredSummary","assetInfo","extendedToken","decimals","formatUnits","extendedNativeToken","nativeAssetSymbol","setKnownAddressNames","uDomains","forEach","addressLabel","setKnownAddresses","isKnown","isFirefox","navigator","userAgent","includes","ModalContext","createContext","ModalProvider","children","useState","modal","setModal","dynamicModal","setDynamicModal","beforeCloseModalHandler","setBeforeCloseModalHandler","showModal","useCallback","element","disableClose","showDynamicModal","component","props","hideModal","onHideModal","updateModal","Provider","className","onClick","useAccounts","useStorage","history","useHistory","pluginUrl","setPluginUrl","onAdd","encodeURIComponent","onRemoveLastAccount","onRemoveAccountWithoutBackingItUp","useAccountsCommon","useToasts","accounts","selectedAcc","onSelectAcc","onAddAccount","onRemoveAccount","noop","noopSessionStorage","setSession","getSession","removeSession","SUPPORTED_METHODS","UNISWAP_PERMIT_EXCEPTIONS","connectors","connectionErrors","wait","ms","a","Promise","resolve","setTimeout","checkIsOffline","uri","errors","time","useWalletConnect","account","initialUri","allNetworks","setNetwork","addToast","stateRef","useRef","isConnecting","setIsConnecting","key","stateStorage","setStateStorage","useReducer","state","connections","session","isOffline","requests","batchRequest","newRequests","ix","isBatch","request","ids","dispatch","maybeUpdateSessions","updateConnections","connector","updateSession","clearWcClipboard","getClipboardText","clipboard","isWcUri","writeText","connect","connectorOpts","WalletConnectCore","cryptoLib","sessionStorage","connected","createSession","message","onError","err","peerMeta","sessionTimeout","suggestion","test","bridge","on","payload","clearTimeout","url","rejectSession","sessionStart","approveSession","method","rejectRequest","code","dappName","signPayload","primaryType","domain","verifyingContract","functionSignature","some","ex","supportedNetwork","approveRequest","result","wcUri","notification","disconnect","killSession","wcConnect","timeout","window","tryReadClipboard","runInitEffects","resolveMany","resolution","undefined","endsWith","realId","lastIndexOf","success","readText","log","text","startsWith","ToastContext","React","ToastProvider","toasts","setToasts","removeToast","content","options","toast","createRef","position","sticky","badge","route","updateToastsPositions","toastElement","bottomToasts","style","getComputedStyle","marginBottom","body","clientWidth","y","offsetHeight","reduce","acc","curr","transform","onResize","classNames","nodeRef","open","onToastClick","isLoading","retryFetch","ConstantsProvider","fetch","endpoint","hasError","ConstantsProviderValue","useMemo","useOneTimeQueryParam","searchParam","search","useLocation","urlSearchParams","URLSearchParams","get","oneTimeQueryParam","setOneTimeQueryParam","altParams","location","href","deleteOneTimeQueryParam","has","delete","replace","Resolution","getMessage","resolveAddress","then","catch","resolveAddressMultiChain","currency","chain","multiChainAddr","resolveUDomain","nativeUDAddress","customUDAddress","provider","getProvider","resolveENSDomain","bip44Item","normalizedDomainName","normalizeDomain","getResolver","resolver","getAddress","ethAddress","resolveForCoin","addressForCoin","isCorrectAddress","normalize","coinType","getNormalisedCoinType","getBip44Items","coinTicker","item","ethers","utils","isAddress","Button","small","mini","icon","iconAfter","disabled","red","danger","clear","border","title","textOnly","secondary","apply","AmbireLoading","useLocalStorage","defaultValue","isStringStorage","setInit","storage","localStorage","TextInput","forwardRef","pattern","autoComplete","required","minLength","maxLength","placeholder","info","label","buttonLabel","password","copy","onInput","onChange","onButtonClick","ev","size","AddressList","noAccounts","addresses","onSelectAddress","removeAddress","items","isAccount","backgroundImage","FactoryMapping","salt","generateAddress2","Buffer","hexConcat","getBalances","protocol","fetchGet","usePortfolio","currentNetwork","isVisible","usePageVisibility","usePortfolioCommon","balance","otherBalances","extraTokens","hiddenTokens","protocols","collectibles","requestOtherProtocolsRefresh","onAddExtraToken","onRemoveExtraToken","onAddHiddenToken","onRemoveHiddenToken","balancesByNetworksLoading","isCurrNetworkBalanceLoading","areAllNetworksBalancesLoading","otherProtocolsByNetworksLoading","isCurrNetworkProtocolsLoading","cachedBalancesByNetworks","useRelayerData","useRelayerDataCommon","accountType","email","signerExtra","walletType","toIcon","seed","blockies","toDataURL","useAddressBook","storageAddresses","setStorageAddresses","addressList","Array","isArray","entry","isUd","setAddresses","updateAddresses","isKnownAddress","indexOf","sha256","addAddress","toUpperCase","isValidAddress","isKnownTokenOrContract","newAddresses","documentTitle","flashingTitleInterval","stickyIds","removeFlashingTitle","clearInterval","useAttentionGrabber","eligibleRequests","isSendTxnShowing","onSitckyClick","removeStickyToasts","isRouteWallet","pathname","Notification","permission","count","setInterval","showFlashingTitle","useModals","onPermissionChange","permissions","query","status","onchange","usePermissions","arePermissionsLoaded","setPermissionsLoaded","isClipboardGranted","setClipboardGranted","isNoticationsGranted","setNotificationsGranted","modalHidden","setModalHidden","checkForPermissions","clipboardState","notificationsState","usePrivateMode","isPrivateMode","setIsPrivateMode","hidePrivateValue","hidePrivateContent","togglePrivateMode","useDragAndDrop","sortingKey","onDropEnd","dragItem","dragOverItem","handle","dragStart","dragEnter","dragTarget","getElementById","drop","sortedList","copyListItems","dragItemContent","splice","list","useCheckMobileScreen","innerWidth","width","setWidth","handleWindowSizeChange","useUtmTracking","currentUtm","searchParams","p","substring","utm","_setUtm","setUtm","_utm","u","stringify","prev","identityCompleted","date","valueOf","getLatestUtmData","el","Object","keys","resetUtm","GnosisConnector","_iframeRef","_app","this","iframeRef","app","handlers","isValidMessage","msg","source","parent","sentFromIframe","knownMethod","values","Methods","canHandleMessage","Boolean","send","requestId","sdkVersion","getSDKVersion","MessageFormatter","makeErrorResponse","makeResponse","contentWindow","postMessage","handleIncomingMessage","validMessage","hasHandler","response","SUPPORTED_TYPES","currentNotifs","isLastTotalBalanceInit","lastTokensBalanceRaw","useNotifications","onShow","portfolio","sentTxn","confirmSentTx","onShowRef","onClickNotif","req","showNotification","requireInteraction","AMBIRE_ICON","onclick","focus","close","isSign","balanceRaw","lastToken","isSignificantChange","amountRecieved","newBalanceRaw","BigNumber","sub","getAmountReceived","interval","txStatusInterval","confirmed","hash","getTransactionReceipt","explorerUrl","r","EmailLogin","lazy","AddAccount","Wallet","SendTransaction","SignMessage","relayerURL","REACT_APP_RELAYRLESS","hasOwnProperty","AppInner","dappUrl","pluginData","setPluginData","addressBook","useNetwork","useGasTank","gasTankState","setGasTankState","dappsCatalog","useDapps","utmTracking","wcRequests","wcResolveMany","selectedAccount","verbose","uniqueId","getTime","initialRequests","setRequests","getSafeInfo","safeAddress","owners","threshold","rpcCall","call","callTx","getBalance","getBlockNumber","getBlockWithTransactions","getBlock","getTransaction","getCode","txs","handleSendTransactions","handlePersonalSign","estimateGas","sendTransactions","forwardId","prevRequests","signMessage","getTxBySafeTxHash","safeTxHash","res","replyData","txId","useGnosisSafe","gnosisRequests","gnosisResolveMany","gnosisConnect","gnosisDisconnect","attachMeta","WALLET_STAKING_ADDRESS","WALLET_STAKING_POOL_INTERFACE","stakingTokenContract","Contract","shareValue","rewardsData","rewards","walletTokenUsdPrice","walletUsdPrice","APY","xWALLETAPY","meta","xWallet","internalRequests","setInternalRequests","addRequest","reqs","privateMode","userSorting","setUserSorting","isEnabled","showing","sendTxnState","setSendTxnState","replaceByDefault","mustReplaceNonce","everythingToSign","setSentTxn","txHash","tx","useRewards","accountId","campaignUTM","showThankYouPage","setShowThankYouPage","handleSetShowThankYouPage","getManifestFromDappUrl","manifest","checkPluginData","fallback","totalRequests","outcome","onDismiss","replacementBundle","onBroadcastedTxn","match","isWcConnecting","showSendTxns","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","networkIconsById","avalanche","fantom","moonbeam","moonriver","arbitrum","gnosis","kucoin","optimism","andromeda","rinkeby","cronos","aurora","providersByNetwork","ensName","rpc","providers","WebSocketProvider","StaticJsonRpcProvider","AddressBook","newAddress","onClose","selectedNetwork","setAddress","setName","isOpen","setOpenMenu","openAddAddress","setOpenAddAddress","timer","uDAddress","setUDAddress","ensAddress","setEnsAddress","isAddAddressFormValid","onAddAddress","onDropDownChange","validateForm","unstoppableDomainsChain","UDAddress","AddressWarning","onAddNewAddress","setConfirmed","parsedAddr","unknownWarning","smartContractWarning","feeCollector","checked","Chart","hoveredItem","setHoveredItem","colors","height","onMouseEnter","sort","b","sortData","startAngle","strokeColor","innerRadius","selectedOffset","legend","toggled","maxHeight","backgroundColor","index","trunc","parseFloat","toFixed","Checkbox","inputElem","DropDown","closeOnClick","onOpen","transitionRef","isMenuOpen","setMenuOpen","CSSTransition","unmountOnExit","in","Loading","Borders","Skeleton","Modal","buttons","isCloseBtnShown","topLeft","maxWidth","Radios","radios","row","currentValue","setCurrentValue","controlledValue","onSelect","Segments","segments","setValue","setSegment","segment","Select","native","monospace","searchable","draggable","draggableHeader","displayDraggableHeader","hiddenTextInput","setOpen","setSearch","selectedItem","setSelectedItem","failedImg","setFailedImg","filteredItems","selectItem","getIcon","fallbackIcon","src","alt","failed","extra","onDragStart","onMouseDown","onDragEnter","onDragEnd","onDragOver","preventDefault","NumberInput","precision","button","afterDecimals","PasswordInput","peakPassword","showPassword","setShowPassword","Toggle","defaultChecked","ToolTip","htmlContent","mousePosition","setMousePosition","onMouseMove","clientY","clientX","top","left","str","NoFundsPlaceholder","CountdownTimer","seconds","setTimeIsUp","counter","setCounter","timerFormatted","setTimerFormatted","isTimeIsUp","minutes","color","ErrorBoundary","Component","ErrorScreen","origin","reload","rel","Stepper","steps","currentStep","noLabels","s","DAppIncompatibilityWarningMsg","fetchPost","headers","json","fetchCaught","resp","errMsg"],"mappings":"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","file":"static/js/main.fd756310.chunk.js","sourcesContent":["export const RAMP_HOST_API_KEY = process.env.REACT_APP_RAMP_HOST_API_KEY;\nexport const PAYTRIE_PARTNER_URL = process.env.REACT_APP_PAYTRIE_PARTNER_URL;\nexport const TRANSAK_API_KEY = process.env.REACT_APP_TRANSAK_API_KEY;\nexport const TRANSAK_ENV = process.env.REACT_APP_TRANSAK_ENV;\nexport const ZAPPER_API_KEY = process.env.REACT_APP_ZAPPER_API_KEY;\nexport const ZAPPER_API_ENDPOINT = process.env.REACT_APP_ZAPPER_API_ENDPOINT;\nexport const OPENSEA_FRAME_URL = process.env.REACT_APP_OPENSEA_FRAME_URL;\nexport const VELCRO_API_ENDPOINT = process.env.REACT_APP_VELCRO_API_ENDPOINT;\nexport const SUSHI_SWAP_FRAME = process.env.REACT_APP_SUSHI_SWAP_FRAME_URL;\nexport const SUSHI_SWAP_FRAME_EXCEPTIONS = process.env.REACT_APP_SUSHI_SWAP_FRAME_EXCEPTIONS_URL ? JSON.parse(process.env.REACT_APP_SUSHI_SWAP_FRAME_EXCEPTIONS_URL) : {};\nexport const SIGNATURE_VERIFIER_DEBUGGER = (process.env.REACT_APP_SIGNATURE_VERIFIER_DEBUGGER * 1 && true) || false\n","import { useEffect } from 'react';\n\nexport default function useOnClickOutside(ref, handler) {\n    useEffect(\n        () => {\n            const listener = (event) => {\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n                handler(event);\n            };\n            document.addEventListener(\"mousedown\", listener);\n            document.addEventListener(\"touchstart\", listener);\n                return () => {\n                    document.removeEventListener(\"mousedown\", listener);\n                    document.removeEventListener(\"touchstart\", listener);\n                };\n        },\n        [ref, handler]\n    );\n}","import { useContext } from \"react\"\nimport { ConstantsContext } from \"components/ConstantsProvider/ConstantsProvider\"\n\nexport default function useConstants() {\n  const context = useContext(ConstantsContext)\n\n  if (!context) {\n    throw new Error('useConstants must be used within an ConstantsProvider')\n  }\n\n  return context\n}","import { Interface } from 'ethers/lib/utils'\nimport { nativeToken, token } from 'lib/humanReadableTransactions'\n\nconst recipientText = (recipient, txnFrom, extended = false) => recipient.toLowerCase() === txnFrom.toLowerCase()\n  ? !extended ? ``: [] : !extended ? ` and send it to ${recipient}` : ['and send it to', { type: 'address', address: recipient }]\n\nconst deadlineText = (deadlineSecs, mined) => {\n  if (mined) return ''\n  const minute = 60000\n  const deadline = deadlineSecs * 1000\n  const diff = deadline - Date.now()\n  if (diff < 0 && diff > -minute*2) return `, expired just now`\n  // Disabled this: this is a bit of a hack cause we don't want it to show for mined txns\n  // we don't really need it for pending ones, simply because we'll show the big error message instead\n  //if (diff < 0) return `, expired ${Math.floor(-diff / minute)} minutes ago`\n  if (diff < 0) return ''\n  if (diff < minute) return `, expires in less than a minute`\n  if (diff < 10*minute) return `, expires in ${Math.floor(diff / minute)} minutes`\n  return ''\n}\n\nconst toExtended = (fromToken, toToken, recipient, expires, atLeast = true) => {\n  const upTo = !atLeast ? ['up to'] : []\n  return [[\n    'Swap',\n    ...upTo,\n    {\n      type: 'token',\n      ...fromToken\n    },\n    atLeast ? 'for at least' : 'for',\n    {\n      type: 'token',\n      ...toToken\n    },\n    ...recipient,\n    expires\n  ]]\n}\n\nconst uniV2Mapping = (humanizerInfo) =>  {\n  const iface = new Interface(humanizerInfo.abis.UniV2Router)\n\n  return {\n    // ordered in the same order as the router\n    [iface.getSighash('swapExactTokensForTokens')]: (txn, network, opts = {}) => {\n      const [ amountIn, amountOutMin, path, to, deadline ] = iface.parseTransaction(txn).args\n      const outputAsset = path[path.length - 1]\n      return !opts.extended ? \n        [`Swap ${token(humanizerInfo, path[0], amountIn)} for at least ${token(humanizerInfo, outputAsset, amountOutMin)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n        : toExtended(token(humanizerInfo, path[0], amountIn, true), token(humanizerInfo, outputAsset, amountOutMin, true), recipientText(to, txn.from, true), deadlineText(deadline, opts.mined))\n    },\n    [iface.getSighash('swapTokensForExactTokens')]: (txn, network, opts = {}) => {\n      const [ amountOut, amountInMax, path, to, deadline ] = iface.parseTransaction(txn).args\n      const outputAsset = path[path.length - 1]\n      return !opts.extended ?\n        [`Swap up to ${token(humanizerInfo, path[0], amountInMax)} for ${token(humanizerInfo, outputAsset, amountOut)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n        : toExtended(token(humanizerInfo, path[0], amountInMax, true), token(humanizerInfo, outputAsset, amountOut, true), recipientText(to, txn.from, true), deadlineText(deadline, opts.mined), false)\n    },\n    [iface.getSighash('swapExactETHForTokens')]: (txn, network, opts = {}) => {\n      const { args, value } = iface.parseTransaction(txn)\n      const [ amountOutMin, path, to, deadline ] = args\n      const outputAsset = path[path.length - 1]\n      return !opts.extended ?\n        [`Swap ${nativeToken(network, value)} for at least ${token(humanizerInfo, outputAsset, amountOutMin)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n        : toExtended(nativeToken(network, value, true), token(humanizerInfo, outputAsset, amountOutMin, true), recipientText(to, txn.from, true), deadlineText(deadline, opts.mined))\n    },\n    [iface.getSighash('swapTokensForExactETH')]: (txn, network, opts = {}) => {\n      const [ amountOut, amountInMax, path, to, deadline ] = iface.parseTransaction(txn).args\n      return !opts.extended ? \n        [`Swap up to ${token(humanizerInfo, path[0], amountInMax)} for ${nativeToken(network, amountOut)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n        : toExtended(token(humanizerInfo, path[0], amountInMax, true), nativeToken(network, amountOut, true), recipientText(to, txn.from, true), deadlineText(deadline, opts.mined), false)\n    },\n    [iface.getSighash('swapExactTokensForETH')]: (txn, network, opts = {}) => {\n      const [ amountIn, amountOutMin, path, to, deadline ] = iface.parseTransaction(txn).args\n      return !opts.extended ?\n        [`Swap ${token(humanizerInfo, path[0], amountIn)} for at least ${nativeToken(network, amountOutMin)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n        : toExtended(token(humanizerInfo, path[0], amountIn, true), nativeToken(network, amountOutMin, true), recipientText(to, txn.from, true), deadlineText(deadline, opts.mined))\n    },\n    [iface.getSighash('swapETHForExactTokens')]: (txn, network, opts = {}) => {\n      const { args, value } = iface.parseTransaction(txn)\n      const [ amountOut, path, to, deadline ] = args\n      const outputAsset = path[path.length - 1]\n      return !opts.extended ? \n        [`Swap up to ${nativeToken(network, value)} for ${token(humanizerInfo, outputAsset, amountOut)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n        : toExtended(nativeToken(network, value, true), token(humanizerInfo, outputAsset, amountOut, true), recipientText(to, txn.from, true), deadlineText(deadline, opts.mined), false)\n    },\n    // Liquidity\n    [iface.getSighash('addLiquidity')]: (txn, network, opts = {}) => {\n      const [tokenA, tokenB, amountADesired, amountBDesired, /*amountAMin*/, /*amountBMin*/, to, deadline] =  iface.parseTransaction(txn).args\n      return [`Add liquidity: ${token(humanizerInfo, tokenA, amountADesired)} and ${token(humanizerInfo, tokenB, amountBDesired)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n    },\n    [iface.getSighash('addLiquidityETH')]: (txn, network, opts = {}) => {\n      const { args, value } = iface.parseTransaction(txn)\n      const [token, amountTokenDesired, /*amountTokenMin*/, /*amountETHMin*/, to, deadline] = args\n      return [`Add liquidity: ${token(humanizerInfo, token, amountTokenDesired)} and ${nativeToken(network, value)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n    },\n    [iface.getSighash('removeLiquidity')]: (txn, network, opts = {}) => {\n      const [tokenA, tokenB, /*liquidity*/, amountAMin, amountBMin, to, deadline] =  iface.parseTransaction(txn).args\n      return [`Remove liquidity: at least ${token(humanizerInfo, tokenA, amountAMin)} and ${token(humanizerInfo, tokenB, amountBMin)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n    },\n    [iface.getSighash('removeLiquidityETH')]: (txn, network, opts = {}) => {\n      const [token, /*liquidity*/, amountTokenMin, amountETHMin, to, deadline] =  iface.parseTransaction(txn).args\n      return [`Remove liquidity: at least ${token(humanizerInfo, token, amountTokenMin)} and ${nativeToken(network, amountETHMin)}${recipientText(to, txn.from)}${deadlineText(deadline, opts.mined)}`]\n    },\n    // NOTE: We currently do not support *WithPermit functions cause they require an ecrecover signature\n    // Uniswap will detect we don't support it cause it will fail on requesting eth_signTypedData_v4\n  }\n}\n\nconst parsePath = pathBytes => {\n    // some decodePacked fun\n    // can we do this with Ethers AbiCoder? probably not\n    let path = []\n    // address, uint24\n    for (let i = 2; i < pathBytes.length; i += 46) {\n      path.push('0x' + pathBytes.substr(i, 40))\n    }\n    return path\n}\n\nconst uniV3Mapping = (humanizerInfo) => {\n  const ifaceV3 = new Interface(humanizerInfo.abis.UniV3Router)\n\n  return {\n    [ifaceV3.getSighash('multicall')]: (txn, network) => {\n      const args = ifaceV3.parseTransaction(txn).args\n      const calls = args[args.length - 1]\n      // @TODO: Multicall that outputs ETH should be detected as such and displayed as one action\n      // the current verbosity of \"Swap ..., unwrap WETH to ETH\" will be a nice pedantic quirk\n      const parsed = calls.map(data => {\n        const sigHash = data.slice(0, 10)\n        const humanizer = uniV3Mapping[sigHash]\n        return humanizer ? humanizer({ ...txn, data }, network) : null\n      }).flat().filter(x => x)\n      return parsed.length ? parsed : [`Unknown Uni V3 interaction`]\n    },\n    // NOTE: selfPermit is not supported cause it requires an ecrecover signature\n    [ifaceV3.getSighash('exactInputSingle')]: (txn, network, opts = {}) => {\n      const [ params ] = ifaceV3.parseTransaction(txn).args\n      // @TODO: consider fees\n      return [`Swap ${token(humanizerInfo, params.tokenIn, params.amountIn)} for at least ${token(humanizerInfo, params.tokenOut, params.amountOutMinimum)}${recipientText(params.recipient, txn.from)}${deadlineText(params.deadline, opts.mined)}`]\n    },\n    [ifaceV3.getSighash('exactInput')]: (txn, network, opts = {}) => {\n      const [ params ] = ifaceV3.parseTransaction(txn).args\n      const path = parsePath(params.path)\n      return [`Swap ${token(humanizerInfo, path[0], params.amountIn)} for at least ${token(humanizerInfo, path[path.length - 1], params.amountOutMinimum)}${recipientText(params.recipient, txn.from)}${deadlineText(params.deadline, opts.mined)}`]\n    },\n    [ifaceV3.getSighash('exactOutputSingle')]: (txn, network, opts = {}) => {\n      const [ params ] = ifaceV3.parseTransaction(txn).args\n      return [`Swap up to ${token(humanizerInfo, params.tokenIn, params.amountInMaximum)} for ${token(humanizerInfo, params.tokenOut, params.amountOut)}${recipientText(params.recipient, txn.from)}${deadlineText(params.deadline, opts.mined)}`]\n    },\n    [ifaceV3.getSighash('exactOutput')]: (txn, network, opts = {}) => {\n      const [ params ] = ifaceV3.parseTransaction(txn).args\n      const path = parsePath(params.path)\n      return [`Swap up to ${token(humanizerInfo, path[path.length - 1], params.amountInMaximum)} for ${token(humanizerInfo, path[0], params.amountOut)}${recipientText(params.recipient, txn.from)}${deadlineText(params.deadline, opts.mined)}`]\n    },\n    [ifaceV3.getSighash('unwrapWETH9')]: (txn, network) => {\n      const [ amountMin, recipient ] = ifaceV3.parseTransaction(txn).args\n      return [`Unwrap at least ${nativeToken(network, amountMin)}${recipientText(recipient, txn.from)}`]\n    },\n  }\n}\n\nconst uniV32Mapping = (humanizerInfo) => {\n  const ifaceV32 = new Interface(humanizerInfo.abis.UniV3Router2)\n\n  return {\n    [ifaceV32.getSighash('multicall(uint256,bytes[])')]: (txn, network, opts = {}) => {\n      const [deadline, calls] = ifaceV32.parseTransaction(txn).args\n      // @TODO: Multicall that outputs ETH should be detected as such and displayed as one action\n      // the current verbosity of \"Swap ..., unwrap WETH to ETH\" will be a nice pedantic quirk\n      const parsed = calls.map(data => {\n        const sigHash = data.slice(0, 10)\n        const humanizer = uniV32Mapping[sigHash]\n        return humanizer ? humanizer({ ...txn, data }, network) : null\n      }).flat().filter(x => x)\n      return (parsed.length ? parsed : [`Unknown Uni V3 interaction`])\n        // the .slice(2) is needed cause usuall this returns something like \", expires\"... and we concat all actions with \", \" anyway\n        .concat([deadlineText(deadline.toNumber(), opts.mined).slice(2)]).filter(x => x)\n    },\n    // NOTE: selfPermit is not supported cause it requires an ecrecover signature\n    [ifaceV32.getSighash('exactInputSingle')]: (txn, network) => {\n      const [ params ] = ifaceV32.parseTransaction(txn).args\n      // @TODO: consider fees\n      return [`Swap ${token(humanizerInfo, params.tokenIn, params.amountIn)} for at least ${token(humanizerInfo, params.tokenOut, params.amountOutMinimum)}${recipientText(params.recipient, txn.from)}`]\n    },\n    [ifaceV32.getSighash('exactInput')]: (txn, network) => {\n      const [ params ] = ifaceV32.parseTransaction(txn).args\n      const path = parsePath(params.path)\n      return [`Swap ${token(humanizerInfo, path[0], params.amountIn)} for at least ${token(humanizerInfo, path[path.length - 1], params.amountOutMinimum)}${recipientText(params.recipient, txn.from)}`]\n    },\n    [ifaceV32.getSighash('exactOutputSingle')]: (txn, network) => {\n      const [ params ] = ifaceV32.parseTransaction(txn).args\n      return [`Swap up to ${token(humanizerInfo, params.tokenIn, params.amountInMaximum)} for ${token(humanizerInfo, params.tokenOut, params.amountOut)}${recipientText(params.recipient, txn.from)}`]\n    },\n    [ifaceV32.getSighash('exactOutput')]: (txn, network) => {\n      const [ params ] = ifaceV32.parseTransaction(txn).args\n      const path = parsePath(params.path)\n      return [`Swap up to ${token(humanizerInfo, path[path.length - 1], params.amountInMaximum)} for ${token(humanizerInfo, path[0], params.amountOut)}${recipientText(params.recipient, txn.from)}`]\n    },\n    [ifaceV32.getSighash('swapTokensForExactTokens')]: (txn, network) => {\n      // NOTE: is amountInMax set when dealing with ETH? it should be... cause value and max are not the same thing\n      const { amountOut, amountInMax, path, to } = ifaceV32.parseTransaction(txn).args\n      return [`Swap up to ${token(humanizerInfo, path[0], amountInMax)} for ${token(humanizerInfo, path[path.length - 1], amountOut)}${recipientText(to, txn.from)}`]\n    },\n    [ifaceV32.getSighash('swapExactTokensForTokens')]: (txn, network) => {\n      // NOTE: is amountIn set when dealing with ETH?\n      const { amountIn, amountOutMin, path, to } = ifaceV32.parseTransaction(txn).args\n      return [`Swap ${token(humanizerInfo, path[0], amountIn)} for at least ${token(humanizerInfo, path[path.length - 1], amountOutMin)}${recipientText(to, txn.from)}`]\n    },\n    [ifaceV32.getSighash('unwrapWETH9(uint256)')]: (txn, network) => {\n      const [ amountMin ] = ifaceV32.parseTransaction(txn).args\n      return [`Unwrap at least ${nativeToken(network, amountMin)}`]\n    },\n    [ifaceV32.getSighash('unwrapWETH9(uint256,address)')]: (txn, network) => {\n      const [ amountMin, recipient ] = ifaceV32.parseTransaction(txn).args\n      return [`Unwrap at least ${nativeToken(network, amountMin)}${recipientText(recipient, txn.from)}`]\n    },\n  }\n}\n\n\nconst mapping = (humanizerInfo) => {\n  return { \n    ...uniV2Mapping(humanizerInfo), \n    ...uniV3Mapping(humanizerInfo), \n    ...uniV32Mapping(humanizerInfo)\n  }\n} \nexport default mapping","import { Interface } from 'ethers/lib/utils'\nimport { token, getName } from 'lib/humanReadableTransactions'\nimport { constants } from 'ethers'\n\nconst ERC20Mapping = (humanizerInfo) => {\n  const iface = new Interface([\n    ...humanizerInfo.abis.ERC20,\n    //2612 permit\n    \"function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)\",\n    //Dai permit\n    \"function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s)\",\n  ])\n\n  return {\n    [iface.getSighash('approve')]: (txn, network, { extended = false }) => {\n      const [ approvedAddress, amount ] = iface.parseTransaction(txn).args\n      const name = getName(humanizerInfo, approvedAddress)\n      const tokenName = getName(humanizerInfo, txn.to)\n      if (amount.eq(0)) return !extended ? [`Revoke approval for ${name} to use ${tokenName}`] : [[\n        'Revoke',\n        'approval for',\n        {\n          type: 'address',\n          address: approvedAddress,\n          name\n        },\n        'to use',\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, amount, true)\n        }\n      ]]\n\n      if (extended) return [[\n        'Approve',\n        {\n          type: 'address',\n          address: approvedAddress,\n          name\n        },\n        `to use${amount.eq(constants.MaxUint256) ? ' your' : ''}`,\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, amount, true)\n        }\n      ]]\n\n      if (amount.eq(constants.MaxUint256)) return [`Approve ${name} to use your ${tokenName}`]\n      return [`Approve ${name} to use ${token(humanizerInfo, txn.to, amount)}`]\n    },\n    [iface.getSighash('transfer')]: (txn, network, { extended }) => {\n      const [ to, amount ] = iface.parseTransaction(txn).args\n      const name = getName(humanizerInfo, to)\n\n      if (extended) return [[\n        'Send',\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, amount, true)\n        },\n        'to',\n        {\n          type: 'address',\n          address: to,\n          name\n        }\n      ]]\n\n      return [`Send ${token(humanizerInfo, txn.to, amount)} to ${to === name ? to : name+' ('+to+')'}`]\n    },\n    /*\n    // HACK: since this conflicts with ERC721 in terms of sigHash, but ERC721 is more likely to use this function from a user perspective, do not define this one\n    [iface.getSighash('transferFrom')]: (txn, network) => {\n      const [ from, to, amount ] = iface.parseTransaction(txn).args\n      return [`Send ${token(humanizerInfo, txn.to, amount)} from ${getName(humanizerInfo, from, network)} to ${getName(humanizerInfo, to, network)}`]\n    },*/\n    [iface.getSighash('permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)')]: (txn, network, { extended = false }) => {\n      const [ , approvedAddress, amount ] = iface.parseTransaction(txn).args\n      const name = getName(humanizerInfo, approvedAddress)\n      const tokenName = getName(humanizerInfo, txn.to)\n      if (amount.eq(0)) return !extended ? [`Revoke ${name} to use ${tokenName}`] : [[\n        'Permit',\n        {\n          type: 'address',\n          address: approvedAddress,\n          name\n        },\n        'to use',\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, amount, true)\n        }\n      ]]\n\n      if (extended) return [[\n        'Permit',\n        {\n          type: 'address',\n          address: approvedAddress,\n          name\n        },\n        `to use${amount.eq(constants.MaxUint256) ? ' your' : ''}`,\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, amount, true)\n        }\n      ]]\n\n      if (amount.eq(constants.MaxUint256)) return [`Permit ${name} to use your ${tokenName}`]\n      return [`Permit ${name} to use ${token(humanizerInfo, txn.to, amount)}`]\n    },\n    [iface.getSighash('permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s)')]: (txn, network, { extended = false }) => {\n      const [ , approvedAddress, , , allowed ] = iface.parseTransaction(txn).args\n      const name = getName(humanizerInfo, approvedAddress)\n      const tokenName = getName(humanizerInfo, txn.to)\n\n      if (!allowed) return !extended ? [`Revoke ${name} to use ${tokenName}`] : [[\n        'Revoke',\n        {\n          type: 'address',\n          address: approvedAddress,\n          name\n        },\n        'to use',\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, constants.MaxUint256, true)\n        }\n      ]]\n\n      if (extended) return [[\n        'Permit',\n        {\n          type: 'address',\n          address: approvedAddress,\n          name\n        },\n        `to use your`,\n        {\n          type: 'token',\n          ...token(humanizerInfo, txn.to, constants.MaxUint256, true)\n        }\n      ]]\n\n      return [`Permit ${name} to use your ${tokenName}`]\n    },\n  }\n}\nexport default ERC20Mapping\n","import { Interface } from 'ethers/lib/utils'\nimport { token } from 'lib/humanReadableTransactions'\n\nconst onBehalfText = (onBehalf, txnFrom) => onBehalf.toLowerCase() !== txnFrom.toLowerCase()\n  ? ' on behalf of '+onBehalf\n  : ''\n\nconst toExtended = (action, word, token, txn, onBehalf) => {\n  return [[\n    action,\n    {\n      type: 'token',\n      ...token\n    },\n    word,\n    {\n      type: 'address',\n      address: txn.to,\n      name: 'Aave Lending Pool'\n    },\n    onBehalf ? onBehalfText(onBehalf, txn.from) : ''\n  ]]\n}\n\nconst AaveMapping = (humanizerInfo) => {\n  const iface = new Interface(humanizerInfo.abis.AaveLendingPoolV2)\n\n  return {\n    [iface.getSighash('deposit')]: (txn, network, { extended }) => {\n      const [ asset, amount, onBehalf ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Deposit', 'to', token(humanizerInfo, asset, amount, true), txn, onBehalf)\n      return [`Deposit ${token(humanizerInfo, asset, amount)} to Aave lending pool${onBehalfText(onBehalf, txn.from)}`]\n    },\n    [iface.getSighash('withdraw')]: (txn, network, { extended }) => {\n      const [ asset, amount, onBehalf ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Withdraw', 'from', token(humanizerInfo, asset, amount, true), txn, onBehalf)\n      return [`Withdraw ${token(humanizerInfo, asset, amount)} from Aave lending pool${onBehalfText(onBehalf, txn.from)}`]\n    },\n    [iface.getSighash('repay')]: (txn, network, { extended }) => {\n      const [ asset, amount,/* rateMode */, onBehalf ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Repay', 'to', token(humanizerInfo, asset, amount, true), txn, onBehalf)\n      return [`Repay ${token(humanizerInfo, asset, amount)} to Aave lending pool${onBehalfText(onBehalf, txn.from)}`]\n    },\n    [iface.getSighash('borrow')]: (txn, network, { extended }) => {\n      const [ asset, amount ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Borrow', 'from', token(humanizerInfo, asset, amount, true), txn)\n      return [`Borrow ${token(humanizerInfo, asset, amount)} from Aave lending pool`]\n    },\n  }\n}\nexport default AaveMapping","import { Interface } from 'ethers/lib/utils'\nimport { token, getName } from 'lib/humanReadableTransactions'\n\nconst fromText = (from, txnFrom) => from.toLowerCase() !== txnFrom.toLowerCase() ? ` from ${from}` : ''\n\nconst toExtended = (humanizerInfo, tokenId, from, to, txn, network) => [[\n  'Send',\n  {\n    type: 'erc721',\n    address: txn.to,\n    network: network.id,\n    id: tokenId,\n    name: `Token #${tokenId.toString(10)}${fromText(from, txn.from)}`,\n  },\n  'to',\n  {\n    type: 'address',\n    address: to,\n    name: getName(humanizerInfo, to)\n  }\n]]\n\nconst ERC721Mapping = (humanizerInfo, tokenList) => { \n  const iface = new Interface(humanizerInfo.abis.ERC721)\n  return {\n    [iface.getSighash('transferFrom')]: (txn, network, { extended = false }) => {\n      const [ from, to, tokenId ] = iface.parseTransaction(txn).args\n\n      // hack for erc20\n      // ? in case a new network is not present in tokenList yet, so we avoid breaking the app\n      const isInTokenList = tokenList[network.id]?.find(t => t.address.toLowerCase() === txn.to.toLowerCase())\n      // ** 6 as USDC has low decimals for example\n      if (tokenId > 10 ** 6 || isInTokenList) {\n        const name = getName(humanizerInfo, to)\n        if (extended) return [[\n          'Send',\n          {\n            type: 'token',\n            ...token(humanizerInfo, txn.to, tokenId, true)\n          },\n          'to',\n          {\n            type: 'address',\n            address: to,\n            name\n          }\n        ]]\n\n        return [`Send ${token(humanizerInfo, txn.to, tokenId)} to ${to === name ? to : name+' ('+to+')'}`]\n      } else {\n        return !extended ? [`Send token #${tokenId.toString(10)}${fromText(from, txn.from)} to ${getName(humanizerInfo, to)}`] : toExtended(humanizerInfo, tokenId, from, to, txn, network)\n      }\n\n    },\n    [iface.getSighash('safeTransferFrom(address,address,uint256)')]: (txn, network, { extended = false }) => {\n      const [ from, to, tokenId ] = iface.parseTransaction(txn).args\n      return !extended ? [`Send token #${tokenId.toString(10)}${fromText(from, txn.from)} to ${getName(humanizerInfo, to)}`]\n      : toExtended(humanizerInfo, tokenId, from, to, txn, network)\n    },\n    [iface.getSighash('setApprovalForAll')]: (txn, network, { extended = false }) => {\n      const [ operator, approved ] = iface.parseTransaction(txn).args\n      const name = getName(humanizerInfo, operator, network)\n      if (approved) {\n        return extended ? [[\n          `Approve`,\n          { type: 'address', name, address: operator },\n          `to use/spend any NFT from collection`,\n          { type: 'address', name: getName(humanizerInfo, txn.to), address: txn.to }\n        ]] : [`Approve ${name} to spend NFT collection ${getName(humanizerInfo, txn.to)}`]\n      } else {\n        return extended ? [[\n          `Revoke approval for`,\n          { type: 'address', name, address: operator },\n          `to use/spend any NFT from collection`,\n          { type: 'address', name: getName(humanizerInfo, txn.to), address: txn.to }\n        ]] : [`Revoke approval for ${name} to spend NFT collection ${getName(humanizerInfo, txn.to)}`]\n      }\n    }\n  }\n}\nexport default ERC721Mapping\n","import { Interface } from 'ethers/lib/utils'\nimport { nativeToken } from 'lib/humanReadableTransactions'\n\nconst toExtended = (action, network, amount) => {\n  return [[\n      action,\n      {\n        type: 'token',\n        ...nativeToken(network, amount, true)\n      }\n    ]]\n}\n\nconst WETHMapping = (abis) => {\n  const iface = new Interface(abis.WETH)\n\n  return {\n    [iface.getSighash('deposit')]: (txn, network, { extended = false }) => {\n      const { value } = iface.parseTransaction(txn)\n      return !extended ? [`Wrap ${nativeToken(network, value)}`] : toExtended('Wrap', network, value)\n    },\n    [iface.getSighash('withdraw')]: (txn, network, { extended = false }) => {\n      const [ amount ] = iface.parseTransaction(txn).args\n      return !extended ? [`Unwrap ${nativeToken(network, amount)}`] : toExtended('Unwrap', network, amount)\n    },\n  }\n} \nexport default WETHMapping","import { Interface } from 'ethers/lib/utils'\nimport { getName } from 'lib/humanReadableTransactions'\nimport accountPresets from 'ambire-common/src/constants/accountPresets'\nimport privilegesOptions from 'ambire-common/src/constants/privilegesOptions'\n\nconst iface = new Interface(require('adex-protocol-eth/abi/Identity5.2'))\n\nconst IdentityMapping = (humanizerInfo) => {\n  return {\n    [iface.getSighash('setAddrPrivilege')]: (txn, network) => {\n      const [ addr, privLevel ] = iface.parseTransaction(txn).args\n      const name = getName(humanizerInfo, addr)\n      const isQuickAccManager = addr.toLowerCase() === accountPresets.quickAccManager.toLowerCase()\n      if (privLevel === privilegesOptions.false) {\n        if (isQuickAccManager) return [`Revoke email/password access`]\n        else return [`Revoke access for signer ${name}`]\n      } else if (privLevel === privilegesOptions.true) {\n        if (isQuickAccManager) return [`INVALID PROCEDURE - DO NOT SIGN`]\n        return [`Authorize signer ${name}`]\n      } else {\n        if (isQuickAccManager) return [`Add a new email/password signer`]\n        return [`Set special authorization for ${name}`]\n      }\n    }\n  }\n}\nexport default IdentityMapping\n","import { Interface } from 'ethers/lib/utils'\nimport { token } from 'lib/humanReadableTransactions'\n\nconst vaultNames = { ethereum: 'Yearn', polygon: 'Tesseract' }\nconst tokenPrefixes = { ethereum: 'y', polygon: 'tv' }\n// add 'y' or 'tv' prefix, eg '10 USDC' will become '10 yUSDC' to signify vault tokens\nconst addTokenPrefix = (token, network) => token.split(' ').map((x, i) => i === 1 ? tokenPrefixes[network]+x : x).join(' ')\n\nconst toExtendedRich = (humanizerInfo, action, word, vaultInfo, amount) => [[\n  action,\n  {\n    type: 'token',\n    ...token(humanizerInfo, vaultInfo.baseToken, amount, true)\n  },\n  word,\n  {\n    type: 'address',\n    name: vaultInfo.name,\n    address: vaultInfo.addr\n  }\n]]\n\nconst toExtended = (action, word, network, amount) => [[\n  action,\n  {\n    type: 'token',\n    symbol: 'units',\n    amount: amount.toString()\n  },\n  word,\n  {\n    type: 'address',\n    name: vaultNames[network.id]\n  }\n]]\n\nconst YearnTesseractMapping = (humanizerInfo) => {\n  const { abis, yearnVaults, tesseractVaults } = humanizerInfo\n  const iface = new Interface(abis.YearnVault)\n  const getVaultInfo = ({ to }) => yearnVaults.find(x => x.addr === to) || tesseractVaults.find(x => x.addr === to)\n\n  return {\n    [iface.getSighash('deposit(uint256,address)')]: (txn, network, { extended = false }) => {\n      const [ amount ] = iface.parseTransaction(txn).args\n      const vaultInfo = getVaultInfo(txn)\n      if (vaultInfo) return !extended ? [`Deposit ${token(humanizerInfo, vaultInfo.baseToken, amount)} to ${vaultInfo.name}`] : toExtendedRich(humanizerInfo, 'Deposit', 'to', vaultInfo, amount)\n      return !extended ? [`Deposit ${amount} units to ${vaultNames[network.id]}`] : toExtended('Deposit', 'to', network, amount)\n    },\n    [iface.getSighash('withdraw(uint256,address)')]: (txn, network, { extended = false }) => {\n      const [ amount ] = iface.parseTransaction(txn).args\n      const vaultInfo = getVaultInfo(txn)\n      if (vaultInfo) return !extended ? [`Withdraw ${addTokenPrefix(token(humanizerInfo, vaultInfo.baseToken, amount), network.id)} from ${vaultInfo.name}`] : toExtendedRich(humanizerInfo, 'Withdraw', 'from', vaultInfo, amount)\n      return !extended ? [`Withdraw ${amount} units from ${vaultNames[network.id]}`] : toExtended('Withdraw', 'from', network, amount)\n    },\n  }\n}\nexport default YearnTesseractMapping","import { Interface } from 'ethers/lib/utils'\nimport { formatNativeTokenAddress, token } from 'lib/humanReadableTransactions'\nimport networks from 'consts/networks'\n\nconst getNetwork = (chainId, extended = false) => {\n  const network = networks.find(n => n.chainId === Number(chainId))\n  return !extended ? network.name : network\n}\n\nconst toExtended = (fromToken, network, toToken) => {\n  return [[\n    'Transfer',\n    {\n      type: 'token',\n      ...fromToken\n    },\n    'to',\n    {\n      type: 'network',\n      ...network\n    },\n    'for',\n    {\n      type: 'token',\n      ...toToken\n    }\n  ]]\n}\n\nconst MovrMapping = (humanizerInfo) => {\n  const MovrAnyswapInterface = new Interface(humanizerInfo.abis.MovrAnyswap)\n  const MovrRouterInterface = new Interface(humanizerInfo.abis.MovrRouter)  \n  \n  return {\n    [MovrAnyswapInterface.getSighash('outboundTransferTo')]: (txn, network, { extended = false }) => {\n      const { middlewareInputToken, amount, tokenToBridge, toChainId } = MovrAnyswapInterface.parseTransaction(txn).args[0]\n      return !extended ?\n        [`Transfer ${token(humanizerInfo, middlewareInputToken, amount)} to ${getNetwork(toChainId)} for ${token(humanizerInfo, tokenToBridge)}`]\n        : toExtended(token(humanizerInfo, middlewareInputToken, amount, true), getNetwork(toChainId, true), token(humanizerInfo, tokenToBridge, null, true))\n    },\n    [MovrRouterInterface.getSighash('outboundTransferTo')]: (txn, network, { extended = false }) => {\n      const { middlewareRequest, amount, bridgeRequest, toChainId } = MovrRouterInterface.parseTransaction(txn).args[0]\n      const { inputToken } = middlewareRequest\n      const { inputToken: outputToken } = bridgeRequest\n      return !extended ?\n        [`Transfer ${token(humanizerInfo, formatNativeTokenAddress(inputToken), amount)} to ${getNetwork(toChainId)} for ${token(humanizerInfo, formatNativeTokenAddress(outputToken))}`]\n        : toExtended(token(humanizerInfo, formatNativeTokenAddress(inputToken), amount, true), getNetwork(toChainId, true), token(humanizerInfo, formatNativeTokenAddress(outputToken), null, true))\n    },\n  }\n}\nexport default MovrMapping","import { Interface } from 'ethers/lib/utils'\nimport { nativeToken, token } from 'lib/humanReadableTransactions';\n\nconst OpenSeaMapping = (humanizerInfo) => {\n    const WyvernExchange = new Interface(humanizerInfo.abis.WyvernExchange)\n\n    return {\n    [WyvernExchange.getSighash('atomicMatch_')]: (txn, network, { extended = false }) => {\n        const { addrs, uints } = WyvernExchange.parseTransaction(txn).args\n        const seller = addrs[1]\n        const tokenAddress = addrs[6]\n        const price = uints[4]\n        const paymentToken = Number(tokenAddress) === 0 ? nativeToken(network, price, true) : token(humanizerInfo, tokenAddress, price, true)\n        return !extended ?\n            [`Buy NFT from ${seller} for ${price} ETH on OpenSea`]\n            : \n            [[\n                'Buy',\n                'NFT from',\n                {\n                    type: 'address',\n                    address: seller\n                },\n                'for',\n                {\n                    type: 'token',\n                    ...paymentToken\n                },\n                'on OpenSea'\n            ]]\n    },\n    [WyvernExchange.getSighash('approveOrder_')]: (txn, network, { extended = false }) => {\n        const { addrs, uints } = WyvernExchange.parseTransaction(txn).args\n        const collection = addrs[4]\n        const tokenAddress = addrs[6]\n        const price = uints[4]\n        const paymentToken = Number(tokenAddress) === 0 ? nativeToken(network, price, true) : token(humanizerInfo, tokenAddress, price, true)\n        return !extended ?\n            [`Approve to submit an order of ${price} WETH to buy bft from ${collection} on OpenSea`]\n            : \n            [[\n                'Approve',\n                'to submit an order of',\n                {\n                    type: 'token',\n                    ...paymentToken\n                },\n                'to buy NFT from',\n                {\n                    type: 'address',\n                    address: collection\n                },\n                'on OpenSea'\n            ]]\n    },\n    }\n}\nexport default OpenSeaMapping\n","import { Interface } from 'ethers/lib/utils'\nimport WALLETSupplyControllerABI from 'ambire-common/src/constants/abis/WALLETSupplyControllerABI.json'\n\nconst toExtended = (isExtended, action, details = '') => {\n  return isExtended ? [[ action, details ]] : [action, details]\n}\n\nconst WALLETSupplyControllerMapping = () => {\n  const iface = new Interface(WALLETSupplyControllerABI)\n\n  return {\n    [iface.getSighash('claim')]: (txn, network, { extended = false }) => {\n      const { toBurnBps } = iface.parseTransaction(txn).args\n      const burnPercentage = toBurnBps.toString() / 100\n      return toExtended(extended, 'claim rewards', burnPercentage > 0 ? `with ${burnPercentage}% burn` : '')\n    },\n    [iface.getSighash('mintVesting')]: (txn, network, { extended = false }) => {\n      return toExtended(extended, 'claim vested tokens')\n    },\n  }\n}\nexport default WALLETSupplyControllerMapping\n","import { Interface } from 'ethers/lib/utils'\nimport humanizers from './'\n\nconst AmbireBatcher = (humanizerInfo, tokenList) => {\n  const { abis } = humanizerInfo\n  const iface = new Interface(abis.Batcher)\n\n  return {\n    [iface.getSighash('batchCall')]: (txn, network, opts) => {\n      const { txns } = iface.parseTransaction(txn).args\n      const { to, value, data, from } = txns[txns.length - 1]\n      const sigHash = data.slice(0, 10)\n      const humanizer = humanizers({humanizerInfo, tokenList})[sigHash]\n      return humanizer({ to, value, data, from }, network, opts)\n    },\n  }\n}\nexport default AmbireBatcher","import { Interface } from 'ethers/lib/utils'\nimport { token } from 'lib/humanReadableTransactions'\nimport WalletStakingPoolABI from 'ambire-common/src/constants/abis/WalletStakingPoolABI.json'\n\nconst STAKING_POOLS = {\n  '0x47cd7e91c3cbaaf266369fe8518345fc4fc12935': {\n    baseToken: '0x88800092ff476844f74dc2fc427974bbee2794ae',\n    name: 'WALLET Staking Pool'\n  },\n  '0xb6456b57f03352be48bf101b46c1752a0813491a': {\n    baseToken: '0xade00c28244d5ce17d72e40330b1c318cd12b7c3',\n    name: 'ADX Staking Pool'\n  },\n  //this is on polygon for tests\n  '0xec3b10ce9cabab5dbf49f946a623e294963fbb4e': {\n    baseToken: '0xe9415e904143e42007865e6864f7f632bd054a08',\n    name: 'WALLET Staking Pool (Test)'\n  }\n}\n\nconst toExtended = (action, word, token, txn) => {\n  return [[\n    action,\n    {\n      type: 'token',\n      ...token\n    },\n    word,\n    {\n      type: 'address',\n      address: txn.to,\n      name: STAKING_POOLS[txn.to].name\n    }\n  ]]\n}\n\nconst WALLETStakingPool = (humanizerInfo) => {\n  const iface = new Interface(WalletStakingPoolABI)\n  return {\n    [iface.getSighash('enter')]: (txn, network, { extended = false }) => {\n      const { amount } = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Deposit', 'to', token(humanizerInfo, STAKING_POOLS[txn.to].baseToken, amount, true), txn)\n      return [`Deposit ${token(humanizerInfo, STAKING_POOLS[txn.to].baseToken, amount)} to ${STAKING_POOLS[txn.to].name}`]\n    },\n    [iface.getSighash('leave')]: (txn, network, { extended = false }) => {\n      if (extended) return [['Leave', 'from', {\n        type: 'address',\n        address: txn.to,\n        name: STAKING_POOLS[txn.to].name\n      }]]\n      return [`Leave the WALLET Staking Pool`]\n    },\n    [iface.getSighash('withdraw')]: (txn, network, { extended = false }) => {\n      const { shares } = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Withdraw', 'from', token(humanizerInfo, txn.to, shares, true), txn)\n      return [`Withdraw ${token(humanizerInfo, txn.to, shares)} to ${STAKING_POOLS[txn.to].name}`]\n    },\n    [iface.getSighash('rageLeave')]: (txn, network, { extended = false }) => {\n      const { shares } = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Rage Leave', 'from', token(humanizerInfo, txn.to, shares, true), txn)\n      return [`Rage Leave ${token(humanizerInfo, txn.to, shares)} to ${STAKING_POOLS[txn.to].name}`]\n    },\n  }\n}\nexport default WALLETStakingPool\n","import { Interface } from 'ethers/lib/utils'\nimport { nativeToken } from 'lib/humanReadableTransactions'\n\nconst onBehalfText = (onBehalf, txnFrom) => onBehalf && (onBehalf.toLowerCase() !== txnFrom.toLowerCase())\n  ? ' on behalf of '+onBehalf\n  : ''\n\nconst toExtended = (action, word, token, txn, onBehalf) => {\n  return [[\n    action,\n    {\n      type: 'token',\n      ...token\n    },\n    word,\n    {\n      type: 'address',\n      address: txn.to,\n      name: 'Aave lending pool'\n    },\n    onBehalf ? onBehalfText(onBehalf, txn.from) : ''\n  ]]\n}\n\nconst AaveMapping = (abis) => { \n  const iface = new Interface(abis.AaveWethGatewayV2)\n\n  return {\n    [iface.getSighash('depositETH')]: (txn, network, { extended }) => {\n      const [ /*depositETH*/, /*lendingPool*/ , onBehalfOf ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Deposit', 'to', nativeToken(network, txn.value, true), txn, onBehalfOf)\n      return [`Deposit ${nativeToken(network, txn.value)} to Aave lending pool${onBehalfText(onBehalfOf, txn.from)}`]\n    },\n    [iface.getSighash('withdrawETH')]: (txn, network, { extended }) => {\n      const [ /*lendingPool*/, amount, to ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Withdraw', 'from', nativeToken(network, amount, true), txn, to)\n      return [`Withdraw ${nativeToken(network, amount)} from Aave lending pool${onBehalfText(to, txn.from)}`]\n    },\n    [iface.getSighash('repayETH')]: (txn, network, { extended }) => {\n      const [ /*repayETH*/, /*lendingPool*/, /*amount*/, /*rateMode*/, onBehalfOf ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Repay', 'to', nativeToken(network, txn.value, true), txn, onBehalfOf)\n      return [`Repay ${nativeToken(network, txn.value)} to Aave lending pool${onBehalfText(onBehalfOf, txn.from)}`]\n    },\n    [iface.getSighash('borrowETH')]: (txn, network, { extended }) => {\n      const [ /*lendingPool*/, amount ] = iface.parseTransaction(txn).args\n      if (extended) return toExtended('Borrow', 'from', nativeToken(network, amount, true), txn)\n      return [`Borrow ${nativeToken(network, amount)} from Aave lending pool`]\n    },\n  }\n}\nexport default AaveMapping\n","import UniRouters from './UniRouters'\nimport ERC20 from './ERC20'\nimport AaveLendingPoolV2 from './AaveLendingPoolV2'\nimport ERC721 from './ERC721'\nimport WETH from './WETH'\nimport AmbireIdentity from './AmbireIdentity'\nimport AmbireFactory from './AmbireFactory'\nimport YearnTesseractVault from './YearnTesseractVault'\nimport Movr from './Movr'\nimport OpenSea from './OpenSea'\nimport WALLETSupplyController from './WALLETSupplyController'\nimport AmbireBatcher from './AmbireBatcher'\nimport WALLETStakingPool from './WALLETStakingPool'\nimport AaveWethGatewayV2 from './AaveWethGatewayV2'\n\nconst all = ({humanizerInfo, tokenList}) => ({\n\t...UniRouters(humanizerInfo),\n\t...AaveLendingPoolV2(humanizerInfo),\n\t...AaveWethGatewayV2(humanizerInfo.abis),\n\t...ERC20(humanizerInfo),\n\t...ERC721(humanizerInfo, tokenList),\n\t...WETH(humanizerInfo.abis),\n\t...AmbireIdentity(humanizerInfo),\n\t...AmbireFactory(),\n\t...YearnTesseractVault(humanizerInfo),\n\t...Movr(humanizerInfo),\n\t...OpenSea(humanizerInfo),\n\t...WALLETSupplyController(),\n\t...AmbireBatcher(humanizerInfo, tokenList),\n\t...WALLETStakingPool(humanizerInfo),\n})\n\nexport default all","import { formatUnits } from 'ethers/lib/utils'\nimport { constants } from 'ethers'\nimport networks from 'consts/networks'\nimport humanizers from './humanizers'\n\n// address (lowercase) => name\nconst knownAliases = {}\n// address (lowercase) => [symbol, decimals]\nconst knownTokens = {}\n// address (lowercase) => name \nconst knownAddressNames = {}\n\nexport const formatNativeTokenAddress = address => address.toLowerCase() === `0x${'e'.repeat(40)}` ? `0x${'0'.repeat(40)}` : address.toLowerCase()\n\nexport function getTransactionSummary(humanizerInfo, tokenList, txn, networkId, accountAddr, opts = {}) {\n    const { tokens, names } = humanizerInfo\n    const [to, value, data = '0x'] = txn\n    const network = networks.find(x => x.id === networkId || x.chainId === networkId)\n    if (!network) return 'Unknown network (unable to parse)'\n\n    if (to === '0x' || !to) {\n        return 'Deploy contract'\n    }\n\n    const tokenInfo = tokens[to.toLowerCase()]\n    const name = names[to.toLowerCase()]\n\n    if (data === '0x' && to.toLowerCase() === accountAddr.toLowerCase()) {\n        // Doesn't matter what the value is, this is always a no-op\n        return !opts.extended ? `Transaction cancellation` : [[\n            'Cancel',\n            'transaction'\n        ]]\n    }\n\n    let callSummary, sendSummary\n    if (parseInt(value) > 0) sendSummary = !opts.extended ? `send ${nativeToken(network, value)} to ${name || to}` : [\n        'Send',\n        {\n            type: 'token',\n            ...nativeToken(network, value, true),\n        },\n        'to',\n        {\n            type: 'address',\n            address: to,\n            name: getName(humanizerInfo, to)\n        }\n    ]\n\n    if (data !== '0x') {\n        callSummary = !opts.extended ? `Unknown interaction with ${name || (tokenInfo ? tokenInfo[0] : to)}` : [\n            'unknown',\n            'interaction with',\n            {\n                type: 'address',\n                address: to,\n                name: name || (tokenInfo && tokenInfo[0])\n            }\n        ]\n\n        const sigHash = data.slice(0, 10)\n        const humanizer = humanizers({humanizerInfo, tokenList})[sigHash]\n        if (humanizer) {\n            try {\n                const actions = humanizer({ to, value, data, from: accountAddr }, network, opts)\n                return opts.extended === true ? actions : actions.join(', ')\n            } catch (e) {\n                callSummary = opts.extended ? callSummary.concat(['(unable to parse)']) :  callSummary + ' (unable to parse)'\n                console.error('internal tx humanization error', e)\n            }\n        }\n    }\n\n    const filteredSummary = [callSummary, sendSummary].filter(x => x)\n    return !opts.extended ? filteredSummary.join(', ') : filteredSummary\n}\n\n// Currently takes network because one day we may be seeing the same addresses used on different networks\nexport function getName(humanizerInfo, addr) {\n    const { tokens, names } = humanizerInfo\n    const address = addr.toLowerCase()\n    return names[address] \n        || (tokens[address] ? tokens[address][0] + ' token' : null) \n        || knownAliases[address] \n        || knownAddressNames[address] \n        || addr\n}\n\nexport function token(humanizerInfo, addr, amount, extended = false) {\n    const { tokens } = humanizerInfo\n    const address = addr.toLowerCase()\n    const assetInfo = tokens[address] || knownTokens[address]\n\n    if (assetInfo) {\n        const extendedToken = {\n            address,\n            symbol: assetInfo[0],\n            decimals: assetInfo[1],\n            amount: null\n        }\n\n        if (!amount) return !extended ? assetInfo[0] : extendedToken\n\n        if (constants.MaxUint256.eq(amount)) return !extended ? `maximum ${assetInfo[0]}` : {\n            ...extendedToken,\n            amount: -1\n        }\n    \n        return !extended ? `${formatUnits(amount, assetInfo[1])} ${assetInfo[0]}` : {\n            ...extendedToken,\n            amount: formatUnits(amount, assetInfo[1])\n        }\n    } else {\n        return !extended ? `${formatUnits(amount, 0)} units of unknown token` : {\n            address,\n            symbol: null,\n            decimals: null,\n            amount: formatUnits(amount, 0)\n        }\n    }\n}\n\nexport function nativeToken(network, amount, extended = false) {\n    const extendedNativeToken = {\n        address: `0x` + '0'.repeat(40),\n        symbol: 'unknown native token',\n        decimals: 18,\n    }\n\n    // All EVM chains use a 18 decimal native asset\n    if (network) {\n        return !extended ? `${formatUnits(amount, 18)} ${network.nativeAssetSymbol}` : {\n            ...extendedNativeToken,\n            symbol: network.nativeAssetSymbol,\n            amount: formatUnits(amount, 18)\n        }\n    } else {\n        return !extended ? `${formatUnits(amount, 18)} unknown native token` : {\n            ...extendedNativeToken,\n            amount: formatUnits(amount, 18)\n        }\n    }\n}\n\nexport function setKnownAddressNames(uDomains) {\n    uDomains.forEach(({ address, addressLabel }) => knownAddressNames[address.toLowerCase()] = addressLabel)\n}\n\nexport function setKnownAddresses(addrs) {\n    addrs.forEach(({ address, name }) => knownAliases[address.toLowerCase()] = name)\n}\n\nexport function setKnownTokens(tokens) {\n    tokens.forEach(({ address, symbol, decimals }) => knownTokens[address.toLowerCase()] = [symbol, decimals])\n}\n\nexport function isKnown(humanizerInfo, txn, from) {\n    const { tokens, names } = humanizerInfo\n    if (txn[0] === from) return true\n    const address = txn[0].toLowerCase()\n    return !!(knownAliases[address] || names[address] || tokens[address] || knownTokens[address])\n}\n\nexport {\n    knownAliases,\n    knownTokens\n}\n\n// @TODO\n// export function getMethodName(txn)","export function isFirefox() {\n  return typeof (navigator) !== 'undefined' && navigator.userAgent.toLowerCase().includes('firefox')\n}\n","import { createContext, useCallback, useState } from 'react'\nimport './ModalProvider.scss'\n\nconst ModalContext = createContext(null)\n\nconst ModalProvider = ({ children }) => {\n    const [modal, setModal] = useState(null)\n    const [dynamicModal, setDynamicModal] = useState(null)\n    const [beforeCloseModalHandler, setBeforeCloseModalHandler] = useState(null)\n\n    const showModal = useCallback((element, opts = { disableClose: false }) => {\n        setBeforeCloseModalHandler(null)\n        setDynamicModal(null)\n        setModal({element, opts})\n    }, [])\n\n    const showDynamicModal = useCallback((component, props, opts = { disableClose: false }) => {\n        setBeforeCloseModalHandler(null)\n        setModal(null)\n        setDynamicModal({ component, props, opts })\n    }, [])\n\n    const hideModal = useCallback(() => {\n        setModal(null)\n        setDynamicModal(null)\n        setBeforeCloseModalHandler(null)\n    }, [])\n\n    // intercept non explicit hide modal\n    const onHideModal = useCallback(() => {\n        if (beforeCloseModalHandler) {\n            beforeCloseModalHandler()\n        } else {\n            hideModal()\n        }\n    }, [hideModal, beforeCloseModalHandler])\n\n    const updateModal = useCallback(props => \n        setDynamicModal(dynamicModal => dynamicModal ? ({\n            ...dynamicModal,\n            props: {\n                ...dynamicModal.props,\n                ...props\n            }\n        }) : null)\n    , [])\n    \n    return (\n        <ModalContext.Provider value={{ showModal, showDynamicModal, hideModal, onHideModal, updateModal, beforeCloseModalHandler, setBeforeCloseModalHandler }}>\n            {\n                modal ?\n                    <div id=\"modal-container\">\n                        <div className=\"backdrop\" onClick={modal.opts.disableClose ? null : onHideModal }></div>\n                        { modal.element }\n                    </div>\n                    :\n                    null\n            }\n            {\n                dynamicModal ?\n                    <div id=\"modal-container\">\n                        <div className=\"backdrop\" onClick={dynamicModal.opts && dynamicModal.opts.disableClose ? null : onHideModal }></div>\n                        <dynamicModal.component {...dynamicModal.props} />\n                    </div>\n                    :\n                    null\n            }\n            { children }\n        </ModalContext.Provider>\n    )\n}\n\nexport { ModalContext }\nexport default ModalProvider","import { useCallback, useState } from 'react'\nimport { useToasts } from 'hooks/toasts'\nimport { useHistory } from 'react-router-dom'\nimport useAccountsCommon from 'ambire-common/src/hooks/useAccounts'\n\nexport default function useAccounts (useStorage) {\n    const history = useHistory()\n    const [pluginUrl, setPluginUrl] = useState(null)\n\n    // const onAdd = useCallback(() => history.push('/wallet/dashboard'), [history])\n    const onAdd = useCallback(() => pluginUrl ? \n      history.push(`/wallet/dapps?dappUrl=${encodeURIComponent(pluginUrl + `?${Date.now()}`)}`) \n    : history.push('/wallet/dashboard'), [history, pluginUrl])\n    const onRemoveLastAccount = useCallback(() => history.push('/add-account'), [history])\n    const onRemoveAccountWithoutBackingItUp =\n      useCallback(() => history.push('/wallet/security'), [history]);\n\n    const { accounts, selectedAcc, onSelectAcc, onAddAccount, onRemoveAccount } = useAccountsCommon({\n      useStorage,\n      useToasts,\n      onAdd,\n      onRemoveLastAccount,\n      onRemoveAccountWithoutBackingItUp\n    });\n\n    return { accounts, selectedAcc, onSelectAcc, onAddAccount, onRemoveAccount, setPluginUrl }\n  }\n","import { useCallback, useEffect, useReducer, useRef, useState } from 'react'\nimport { useToasts } from 'hooks/toasts'\nimport { isFirefox } from 'lib/isFirefox'\n\nimport WalletConnectCore from '@walletconnect/core'\nimport * as cryptoLib from '@walletconnect/iso-crypto'\n\nconst noop = () => null\nconst noopSessionStorage = { setSession: noop, getSession: noop, removeSession: noop }\n\nconst STORAGE_KEY = 'wc1_state'\nconst SUPPORTED_METHODS = ['eth_sendTransaction', 'gs_multi_send', 'personal_sign', 'eth_sign', 'eth_signTypedData_v4', 'eth_signTypedData', 'wallet_switchEthereumChain', 'ambire_sendBatchTransaction']\nconst SESSION_TIMEOUT = 10000\n\nconst getDefaultState = () => ({ connections: [], requests: [] })\n\nconst UNISWAP_PERMIT_EXCEPTIONS = [ // based on PeerMeta\n  'Uniswap', // Uniswap Interface\n  'Sushi',\n  'QuickSwap', // QuickSwap Interface\n  'PancakeSwap', // 🥞 PancakeSwap - A next evolution DeFi exchange on BNB Smart Chain (BSC)\n]\n\nlet connectors = {}\nlet connectionErrors = []\n\nasync function wait (ms) { return new Promise(resolve => setTimeout(resolve, ms)) }\n\n// Offline check: if it errored recently\nconst timePastForConnectionErr = 90 * 1000\nconst checkIsOffline = uri => {\n    const errors = connectionErrors.filter(x => x.uri === uri)\n    // if no errors, return false, else check time diff\n    return errors.length > 0 && errors.find(({ time } = {}) => time > (Date.now() - timePastForConnectionErr))\n    //return errors.length > 1 && errors.slice(-2)\n    //    .every(({ time } = {}) => time > (Date.now() - timePastForConnectionErr))\n}\n\nexport default function useWalletConnect ({ account, chainId, initialUri, allNetworks, setNetwork, useStorage }) {\n    const { addToast } = useToasts()\n\n    // This is needed cause of the WalletConnect event handlers\n    const stateRef = useRef()\n    stateRef.current = { account, chainId }\n\n    const [isConnecting, setIsConnecting] = useState(false)\n\n    const [stateStorage, setStateStorage] = useStorage({ key: STORAGE_KEY })\n\n    const [state, dispatch] = useReducer((state, action) => {\n        if (action.type === 'updateConnections') return { ...state, connections: action.connections }\n        if (action.type === 'connectedNewSession') {\n            return {\n                ...state,\n                connections: [...state.connections, { uri: action.uri, session: action.session, isOffline: false }]\n            }\n        }\n        if (action.type === 'disconnected') {\n            return {\n                ...state,\n                connections: state.connections.filter(x => x.uri !== action.uri)\n            }\n        }\n        if (action.type === 'batchRequestsAdded') {\n            if (state.requests.find(({ id }) => id === action.batchRequest.id + ':0')) return { ...state }\n\n            const newRequests = []\n            for (let ix in action.batchRequest.txns) {\n                if(action.batchRequest.txns[ix].to || action.batchRequest.txns[ix].data) {\n                    newRequests.push({\n                        ...action.batchRequest,\n                        type: 'eth_sendTransaction',\n                        isBatch: true,\n                        id: action.batchRequest.id + ':' + ix,\n                        account,\n                        txn: {\n                            ...action.batchRequest.txns[ix],\n                            from: account\n                        }\n                    })\n                } else {\n                    return { ...state }\n                }\n            }\n\n            return { ...state, requests: [...state.requests, ...newRequests] }\n        }\n        if (action.type === 'requestAdded') {\n            if (state.requests.find(({ id }) => id === action.request.id)) return { ...state }\n            return { ...state, requests: [...state.requests, action.request] }\n        }\n        if (action.type === 'requestsResolved') {\n            return {\n                ...state,\n                requests: state.requests.filter(x => !action.ids.includes(x.id))\n            }\n        }\n        return { ...state }\n    }, null, () => {\n        if (!stateStorage) return getDefaultState()\n        try {\n            return {\n                ...getDefaultState(),\n                ...stateStorage\n            }\n        } catch(e) {\n            console.error(e)\n            return getDefaultState()\n        }\n    })\n\n    // Side effects that will run on every state change/rerender\n    const maybeUpdateSessions = () => {\n        // restore connectors and update the ones that are stale\n        let updateConnections = false\n        state.connections.forEach(({ uri, session, isOffline }) => {\n            if (connectors[uri]) {\n                const connector = connectors[uri]\n                const session = connector.session\n                if (session.accounts[0] !== account || session.chainId !== chainId || checkIsOffline(uri) !== isOffline) {\n                    // NOTE: in case isOffline is different, we do not need to do this, but we're gonna leave that just in case the session is outdated anyway\n                    connector.updateSession({ accounts: [account], chainId })\n                    updateConnections = true\n                }\n            }\n        })\n\n        setStateStorage(state)\n\n        if (updateConnections) dispatch({\n            type: 'updateConnections',\n            connections: state.connections\n                .filter(({ uri }) => connectors[uri])\n                .map(({ uri }) => ({ uri, session: connectors[uri].session, isOffline: checkIsOffline(uri) }))\n        })\n    }\n    useEffect(maybeUpdateSessions, [account, chainId, state, setStateStorage])\n    // we need this so we can invoke the latest version from any event handler\n    stateRef.current.maybeUpdateSessions = maybeUpdateSessions\n\n    const clearWcClipboard = async () => {\n        const clipboard = await getClipboardText()\n\n        if (clipboard && isWcUri(clipboard)) {\n            navigator.clipboard.writeText('')\n        }\n    }\n\n    // New connections\n    const connect = useCallback(async connectorOpts => {\n        if (connectors[connectorOpts.uri]) {\n            addToast('dApp already connected')\n            return connectors[connectorOpts.uri]\n        }\n        let connector\n        try {\n            connector = connectors[connectorOpts.uri] = new WalletConnectCore({\n                connectorOpts,\n                cryptoLib,\n                sessionStorage: noopSessionStorage\n            })\n\n            if (!connector.connected) {\n                await connector.createSession();\n            }\n        } catch(e) {\n            console.error(e)\n            addToast(`Unable to connect to ${connectorOpts.uri}: ${e.message}`, { error: true })\n            return null\n        }\n\n        const onError = err => {\n            addToast(`WalletConnect error: ${(connector.session && connector.session.peerMeta && connector.session.peerMeta.name)} ${err.message || err}`, { error: true })\n            console.error('WalletConnect error', err)\n        }\n\n        let sessionStart\n        let sessionTimeout\n        if (!connector.session.peerMeta) sessionTimeout = setTimeout(() => {\n            const suggestion = /https:\\/\\/bridge.walletconnect.org/g.test(connector.session.bridge)\n                // @TODO: 'or try an alternative connection method' when we implement one\n                ? 'this dApp is using an old version of WalletConnect - please tell them to upgrade!'\n                : 'perhaps the link has expired? Refresh the dApp and try again.'\n            if (!connector.session.peerMeta) addToast(`Unable to get session from dApp - ${suggestion}`, { error: true })\n        }, SESSION_TIMEOUT)\n\n        connector.on('session_request', async (error, payload) => {\n            if (error) {\n                onError(error)\n                return\n            }\n\n            setIsConnecting(true)\n\n            // Clear the \"dApp tool too long to connect\" timeout\n            clearTimeout(sessionTimeout)\n\n            if (connector.session.peerMeta.url.includes('bridge.avax.network')) {\n                const message = 'Avalanche Bridge does not currently support smart wallets.'\n                connector.rejectSession({ message })\n                addToast(message, { error: true })\n                return\n            }\n\n            await wait(1000)\n\n            // sessionStart is used to check if dApp disconnected immediately\n            sessionStart = Date.now()\n            connector.approveSession({\n                accounts: [stateRef.current.account],\n                chainId: stateRef.current.chainId,\n            })\n\n            await wait(1000)\n\n            // On a session request, remove WC uri from the clipboard.\n            // Otherwise, in the case the user disconnects himself from the dApp, but still having the previous WC uri in the clipboard,\n            // then the app will try to connect him with the already invalidated WC uri.\n            clearWcClipboard()\n\n            // We need to make sure that we are connected to the dApp successfully,\n            // before keeping the session as connected via `connectedNewSession` dispatch.\n            // We had a case with www.chargedefi.fi, where we were immediately disconnected on a session_request,\n            // because of unsupported network selected on our end,\n            // but still storing the session in the state as a successful connection, which resulted in app crashes.\n            if (!connector.connected) {\n                setIsConnecting(false)\n\n                return\n            }\n\n            // It's safe to read .session right after approveSession because 1) approveSession itself normally stores the session itself\n            // 2) connector.session is a getter that re-reads private properties of the connector; those properties are updated immediately at approveSession\n            dispatch({ type: 'connectedNewSession', uri: connectorOpts.uri, session: connector.session })\n\n            addToast('Successfully connected to '+connector.session.peerMeta.name)\n\n            setIsConnecting(false)\n        })\n\n        connector.on('transport_error', (error, payload) => {\n            console.error('WalletConnect transport error', payload)\n            connectionErrors.push({ uri: connectorOpts.uri, event: payload.event, time: Date.now() })\n            // Keep the last 690 only\n            connectionErrors = connectionErrors.slice(-690)\n            stateRef.current.maybeUpdateSessions()\n        })\n\n        connector.on('call_request', (error, payload) => {\n            if (error) {\n                onError(error)\n                return\n            }\n\n            if (!SUPPORTED_METHODS.includes(payload.method)) {\n                addToast(`dApp requested unsupported method: ${payload.method}`, { error: true })\n                connector.rejectRequest({ id: payload.id, error: { message: 'Method not found: ' + payload.method, code: -32601 }})\n                return\n            }\n\n            const dappName = connector.session?.peerMeta?.name || ''\n\n            // @TODO: refactor into wcRequestHandler\n            // Opensea \"unlock currency\" hack; they use a stupid MetaTransactions system built into WETH on Polygon\n            // There's no point of this because the user has to sign it separately as a tx anyway; but more importantly,\n            // it breaks Ambire and other smart wallets cause it relies on ecrecover and does not depend on EIP1271\n            let txn = payload.params[0]\n            if (payload.method === 'eth_signTypedData') {\n                // @TODO: try/catch the JSON parse?\n                const signPayload = JSON.parse(payload.params[1])\n                payload = {\n                    ...payload,\n                    method: 'eth_signTypedData',\n                }\n                txn = signPayload\n                if (signPayload.primaryType === 'MetaTransaction') {\n                    payload = {\n                        ...payload,\n                        method: 'eth_sendTransaction',\n                    }\n                    txn = [{\n                        to: signPayload.domain.verifyingContract,\n                        from: signPayload.message.from,\n                        data: signPayload.message.functionSignature, // @TODO || data?\n                        value: signPayload.message.value || '0x0'\n                    }]\n                }\n            }\n            if (payload.method === 'eth_signTypedData_v4') {\n                // @TODO: try/catch the JSON parse?\n                const signPayload = JSON.parse(payload.params[1])\n                payload = {\n                    ...payload,\n                    method: 'eth_signTypedData_v4',\n                }\n                txn = signPayload\n                // Dealing with Erc20 Permits\n                if (signPayload.primaryType === 'Permit') {\n                    // If Uniswap, reject the permit and expect a graceful fallback (receiving approve eth_sendTransaction afterwards)\n                    if (UNISWAP_PERMIT_EXCEPTIONS.some(ex => dappName.toLowerCase().includes(ex.toLowerCase()))) {\n                        connector.rejectRequest({ id: payload.id, error: { message: 'Method not found: ' + payload.method, code: -32601 }})\n                        return\n                    } else {\n                        addToast(`dApp tried to sign a token permit which does not support Smart Wallets`, { error: true })\n                        return\n                    }\n                }\n            }\n            if (payload.method === 'gs_multi_send' || payload.method === 'ambire_sendBatchTransaction') {\n                dispatch({ type: 'batchRequestsAdded', batchRequest: {\n                        id: payload.id,\n                        type: payload.method,\n                        wcUri: connectorOpts.uri,\n                        txns: payload.params,\n                        chainId: connector.session.chainId,\n                        account: connector.session.accounts[0],\n                        notification: true\n                    } })\n                return\n            }\n            //FutureProof? WC does not implement it yet\n            if (payload.method === 'wallet_switchEthereumChain') {\n                const supportedNetwork = allNetworks.find(a => a.chainId === parseInt(payload.params[0].chainId, 16))\n\n                if (supportedNetwork) {\n                    setNetwork(supportedNetwork.chainId)\n                    connector.approveRequest({ id: payload.id, result: { chainId: supportedNetwork.chainId }})\n                } else {\n                    //Graceful error for user\n                    addToast(`dApp asked to switch to an unsupported chain: ${payload.params[0]?.chainId}`, { error: true })\n                    connector.rejectRequest({ id: payload.id, error: { message: 'Unsupported chain' }})\n                }\n            }\n\n            const wrongAcc = (\n                payload.method === 'eth_sendTransaction' && payload.params[0] && payload.params[0].from\n                && payload.params[0].from.toLowerCase() !== connector.session.accounts[0].toLowerCase()\n            ) || (\n                payload.method === 'eth_sign' && payload.params[1]\n                && payload.params[1].toLowerCase() !== connector.session.accounts[0].toLowerCase()\n            )\n            if (wrongAcc) {\n                addToast(`dApp sent a request for the wrong account: ${payload.params[0].from}`, { error: true })\n                connector.rejectRequest({ id: payload.id, error: { message: 'Sent a request for the wrong account' }})\n                return\n            }\n            dispatch({ type: 'requestAdded', request: {\n                id: payload.id,\n                type: payload.method,\n                wcUri: connectorOpts.uri,\n                txn,\n                chainId: connector.session.chainId,\n                account: connector.session.accounts[0],\n                notification: true\n            } })\n        })\n\n        connector.on('disconnect', (error, payload) => {\n            if (error) {\n                onError(error)\n                return\n            }\n\n            clearTimeout(sessionTimeout)\n            // NOTE the dispatch() will cause double rerender when we trigger a disconnect,\n            // cause we will call it once on disconnect() and once when the event arrives\n            // we can prevent this by checking if (!connectors[...]) but we'd rather stay safe and ensure\n            // the connection is removed\n            dispatch({ type: 'disconnected', uri: connectorOpts.uri })\n            connectors[connectorOpts.uri] = null\n\n            // NOTE: this event might be invoked 2 times when the dApp itself disconnects\n            // currently we don't dedupe that\n            if (sessionStart && (Date.now() - sessionStart) < SESSION_TIMEOUT) {\n                addToast('dApp disconnected immediately - perhaps it does not support the current network?', { error: true })\n            } else {\n                addToast(`${connector.session.peerMeta.name} disconnected: ${payload.params[0].message}`)\n            }\n        })\n\n        connector.on('error', onError)\n\n        return connector\n    }, [addToast, allNetworks, setNetwork])\n\n    const disconnect = useCallback(uri => {\n        // connector might not be there, either cause we disconnected before,\n        // or cause we failed to connect in the first place\n        if (connectors[uri]) {\n            connectors[uri].killSession()\n            connectors[uri] = null\n        }\n        dispatch({ type: 'disconnected', uri })\n    }, [])\n\n    const resolveMany = (ids, resolution) => {\n        if (ids === undefined) return\n        state.requests.forEach(({ id, wcUri, isBatch }) => {\n            if (ids.includes(id)) {\n                const connector = connectors[wcUri]\n                if (!connector) return\n                if (!isBatch || id.endsWith(':0')) {\n                    let realId = isBatch ? id.substr(0, id.lastIndexOf(':')) : id\n                    if (resolution.success) connector.approveRequest({ id: realId, result: resolution.result })\n                    else connector.rejectRequest({ id: realId, error: { message: resolution.message } })\n                }\n            }\n        })\n        dispatch({ type: 'requestsResolved', ids })\n    }\n\n    // Side effects on init\n    useEffect(() => {\n        state.connections.forEach(({ uri, session }) => {\n            if (!connectors[uri]) connect({ uri, session })\n        })\n    // we specifically want to run this only once despite depending on state\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [connect])\n\n    // Initialization effects\n    useEffect(() => runInitEffects(connect, account, initialUri, addToast), [connect, account, initialUri, addToast])\n\n    return {\n        connections: state.connections,\n        requests: state.requests,\n        resolveMany,\n        connect, disconnect, isConnecting\n    }\n}\n\n// Initialization side effects\n// Connect to the URL, read from clipboard, etc.\nfunction runInitEffects(wcConnect, account, initialUri, addToast) {\n    if (initialUri) {\n        if (account) wcConnect({ uri: initialUri })\n        else addToast('WalletConnect dApp connection request detected, please create an account and you will be connected to the dApp.', { timeout: 15000 })\n    }\n\n    // hax\n    window.wcConnect = uri => wcConnect({ uri })\n\n    // @TODO on focus and on user action\n    const tryReadClipboard = async () => {\n        if (!account) return\n\n        const clipboard = await getClipboardText()\n        if (clipboard && isWcUri(clipboard) && !connectors[clipboard]) wcConnect({ uri: clipboard })\n    }\n\n    tryReadClipboard()\n    window.addEventListener('focus', tryReadClipboard)\n    return () => window.removeEventListener('focus', tryReadClipboard)\n}\n\nconst clipboardError = e => console.log('non-fatal clipboard/walletconnect err:', e.message)\nconst getClipboardText = async () => {\n    if (isFirefox()) return false\n\n    try {\n       return await navigator.clipboard.readText()\n    } catch(e) { clipboardError(e) }\n\n    return false\n}\n\nconst isWcUri = text => text.startsWith('wc:')\n","import './ToastProvider.scss';\n\nimport React, { createRef, useState, useCallback, useEffect } from \"react\";\nimport { MdOutlineClose } from 'react-icons/md';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { useHistory } from 'react-router-dom'\n\nconst ToastContext = React.createContext(null);\n\nlet id = 0\n\nconst ToastProvider = ({ children }) => {\n    const history = useHistory()\n    const [toasts, setToasts] = useState([]);\n\n    const removeToast = useCallback(id => {\n        setToasts(toasts => toasts.filter(t => t.id !== id));\n    }, []);\n\n    const addToast = useCallback((content, options) => {\n        const defaultOptions = {\n            timeout: 8000,\n            error: false,\n            position: 'center',\n            sticky: false,\n            badge: null,\n            onClick: null,\n            url: null,\n            route: null,\n        }\n\n        const toast = {\n            id: id++,\n            content,\n            ref: createRef(),\n            ...defaultOptions,\n            ...options\n        }\n        \n        setToasts(toasts => [\n            ...toasts,\n            toast\n        ]);\n\n        !toast.sticky && setTimeout(() => removeToast(toast.id), toast.timeout)\n\n        return toast.id;\n    }, [setToasts, removeToast]);\n\n    const updateToastsPositions = useCallback(() => {\n        toasts\n            .filter(({ sticky }) => !sticky)\n            .forEach(({ id, ref }) => {\n                const toastElement = ref.current\n                if (!toastElement) return\n\n                let bottomToasts = []\n                for (let i = id; i <= toasts[toasts.length - 1].id; i++) {\n                    const element = toasts.filter(({ sticky }) => !sticky).find(({ id }) => id === i)\n                    if (element) bottomToasts.push(element)\n                }\n\n                const style = getComputedStyle(toastElement)\n                const marginBottom = parseInt(style.marginBottom)\n\n                const x = (document.body.clientWidth / 2) - (toastElement.clientWidth / 2)\n                const y = bottomToasts.map(({ ref }) => ref.current && ref.current.offsetHeight).reduce((acc, curr) => acc + curr + marginBottom, 0)\n                toastElement.style.transform = `translate(${x}px, -${y}px)`\n            })\n    }, [toasts])\n\n    useEffect(() => updateToastsPositions(), [toasts, updateToastsPositions])\n    useEffect(() => {\n        const onResize = () => updateToastsPositions()\n        window.addEventListener('resize', onResize, false);\n        return () => window.removeEventListener('resize', onResize, false);\n    }, [updateToastsPositions])\n\n    const onToastClick = (id, onClick, url, route) => {\n        if (url) window.open(url, '_blank')\n        else if (route) history.push(route)\n        onClick ? onClick() : removeToast(id)\n    }\n    \n    return (\n        <ToastContext.Provider\n            value={{\n                addToast,\n                removeToast\n            }}\n        >\n            <div id=\"toast-container\" className={!toasts.length ? 'hide' : ''}>\n                <TransitionGroup className=\"transition-group\">\n                {\n                    toasts.map(({ id, ref, url, route, error, sticky, badge, position, content, onClick }) => (\n                        <CSSTransition timeout={200} classNames=\"slide-fade\" key={id} nodeRef={ref}>\n                            <div className={`toast ${error ? 'error' : ''} ${sticky ? 'sticky' : ''} ${position ? position : ''}`} ref={ref}>\n                                <div className=\"inner\" onClick={() => onToastClick(id, onClick, url, route)}>\n                                    { badge ? <div className=\"badge\">{ badge }</div> : null }\n                                    { content }\n                                </div>\n                                {\n                                    sticky ? \n                                        <div className=\"close\" onClick={() => removeToast(id)}>\n                                            <MdOutlineClose/>\n                                        </div>\n                                        :\n                                        null\n                                }\n                            </div>\n                        </CSSTransition>\n                    ))\n                }\n                </TransitionGroup>\n            </div>\n            { children }\n        </ToastContext.Provider>\n    );\n};\n\nexport { ToastContext };\nexport default ToastProvider;","import useConstants from 'ambire-common/src/hooks/useConstants'\nimport { ErrorScreen, Loading } from 'components/common'\nimport { fetch } from 'lib/fetch'\nimport { createContext, useMemo } from 'react'\n\nconst ConstantsContext = createContext({\n  constants: null,\n  isLoading: true,\n  retryFetch: () => {}\n})\n\nexport default function ConstantsProvider({\n  children,\n}) {\n  const { constants, isLoading, retryFetch, hasError } = useConstants({ fetch, endpoint: process.env.REACT_APP_CONSTANTS_ENDPOINT })\n\n  const ConstantsProviderValue = useMemo(() => ({ constants, retryFetch, isLoading }), [constants, retryFetch, isLoading])\n\n  return (\n    <ConstantsContext.Provider value={ConstantsProviderValue}>\n      {isLoading ? <Loading /> : (!hasError && constants) ? children : <ErrorScreen />}\n    </ConstantsContext.Provider>\n  )\n}\n\nexport { ConstantsContext }","import { useEffect, useCallback, useMemo, useState } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport { useHistory } from 'react-router'\n\nexport const useOneTimeQueryParam = searchParam => {\n    const { search } = useLocation()\n    const history = useHistory()\n    const urlSearchParams = useMemo(() => new URLSearchParams(search), [search])\n    const [oneTimeQueryParam, setOneTimeQueryParam] = useState(urlSearchParams.get(searchParam))\n    const altParams = useMemo(() => new URLSearchParams(window.location.href.split('?').slice(1).join('?').split('#')[0]), [])\n\n    const deleteOneTimeQueryParam = useCallback(() => {\n        if (urlSearchParams.has(searchParam)) {\n            urlSearchParams.delete(searchParam)\n            history.replace({\n                search: urlSearchParams.toString(),\n            })\n        }\n    }, [history, urlSearchParams, searchParam])\n\n    useEffect(() => {\n        if (urlSearchParams && urlSearchParams.get(searchParam)) setOneTimeQueryParam(urlSearchParams.get(searchParam))\n        else if (altParams.get(searchParam)) setOneTimeQueryParam(altParams.get(searchParam))\n        deleteOneTimeQueryParam()\n    }, [deleteOneTimeQueryParam, urlSearchParams, altParams, searchParam])\n    \n    return oneTimeQueryParam\n}\n","import { Resolution } from '@unstoppabledomains/resolution'\nconst resolution = new Resolution();\n\nfunction getMessage(e) {\n    if (e === 'UnregisteredDomain') return 'Domain is not registered'\n    else if (e === 'RecordNotFound') return 'Crypto record is not found (or empty)'\n    else if (e === 'UnspecifiedResolver') return 'Domain is not configured (empty resolver)'\n    else if (e === 'UnsupportedDomain') return 'Domain is not supported'\n    else return 'Domain is not registered'\n}\n\nasync function resolveAddress(domain) {\n    return resolution\n        .addr(domain, 'ETH')\n        .then(addr => ({success: true, address: addr}))\n        .catch(e => ({success: false, code: e.code, message: getMessage(e.code)}))\n}\n\nasync function resolveAddressMultiChain(domain, currency, chain) {\n    return resolution\n        .multiChainAddr(domain, currency, chain)\n        .then(addr => ({success: true, address: addr}))\n        .catch(e => ({success: false, code: e.code, message: getMessage(e.code)}))\n}\n\nasync function resolveUDomain(domain, currency, chain) {\n    const [nativeUDAddress, customUDAddress] = await Promise.all([\n        resolveAddress(domain),\n        resolveAddressMultiChain(domain, currency, chain)\n    ])\n    return (customUDAddress.success ? customUDAddress.address : nativeUDAddress.success ? nativeUDAddress.address : null)\n}\n\nexport {\n    resolveUDomain\n}","import { getProvider } from './provider.js'\nimport { normalize } from '@ensdomains/eth-ens-namehash'\nimport  constants  from 'bip44-constants'\nimport { ethers } from 'ethers'\n\nconst ETH_ID = 'ethereum'\nconst BIP44_BASE_VALUE = 2147483648\nconst ADDRESS_ZERO = \"0x0000000000000000000000000000000000000000\"\n\nconst provider = getProvider(ETH_ID)\n\nasync function resolveENSDomain(domain, bip44Item) {\n\tconst normalizedDomainName = normalizeDomain(domain)\n\tif (!normalizedDomainName) return null\n\tconst resolver = await provider.getResolver(normalizedDomainName)\n\tif (!resolver) return null\n\tconst ethAddress = await resolver.getAddress()\n\tconst addressForCoin = await resolveForCoin(resolver, bip44Item).catch(e => null)\n\treturn isCorrectAddress(addressForCoin) ? addressForCoin : ethAddress\n}\n\nconst normalizeDomain = domain => {\n\ttry {\n\t\treturn normalize(domain)\n\t} catch(e) { return null }\n}\n\nasync function resolveForCoin(resolver, bip44Item) {\n\tif (bip44Item && bip44Item.length === 1) {\n\t\tconst coinType = getNormalisedCoinType(bip44Item)\n\t\tif (!coinType) return null\n\t\treturn resolver.getAddress(coinType)\n\t} else {\n\t\treturn resolver.getAddress()\n\t}\n}\n\nfunction getBip44Items(coinTicker) {\n\tif(!coinTicker) return null\n\treturn constants.filter(item => item[1] === coinTicker)\n}\n\nfunction getNormalisedCoinType(bip44Item) {\n\treturn bip44Item[0].length ? bip44Item[0][0] - BIP44_BASE_VALUE : null\n}\n\nfunction isCorrectAddress(address) {\n\treturn !(ADDRESS_ZERO === address) && ethers.utils.isAddress(address)\n}\n\nexport {\n\tresolveENSDomain,\n\tgetBip44Items\n}","import './Button.scss'\n\nconst Button = ({ children, className, small, mini, icon, iconAfter, disabled, onClick, red, danger, clear, border, title, type, textOnly, secondary }) => {\n    return (\n        <button\n            onClick={(...args) => !disabled && onClick && onClick.apply(this, args)}\n            className={`buttonComponent ${className} ${small ? 'small' : ''} ${mini ? 'mini' : ''} ${danger || red ? 'danger' : ''} ${clear ? 'clear' : ''} ${border ? 'border' : ''} ${disabled ? 'disabled' : ''} ${textOnly ? 'text-only' : ''} ${secondary ? 'secondary' : ''}`}\n            // disabled={disabled} // causing pointer-events to not trigger \n            title={title}\n            // used with <form>\n            type={type}\n        >\n            { icon ? <div className=\"icon-button\">{ icon }</div> : null }\n            { children }\n            { iconAfter ? <div className=\"icon-button\">{ iconAfter }</div> : null }\n        </button>\n    )\n}\n\nexport default Button\n","import './Loading.scss';\n\nconst AmbireLoading = () => {\n    return (\n        <div className=\"ambire-loading-animation-128\">\n        </div>\n    );\n};\n\nexport default AmbireLoading;","import useStorage from 'ambire-common/src/hooks/useStorage'\n\nexport default function useLocalStorage({ key, defaultValue, isStringStorage, setInit }) {\n  return useStorage({ storage: localStorage, key, defaultValue, isStringStorage, setInit })\n}\n","import './TextInput.scss'\n\nimport { forwardRef } from 'react';\nimport { MdContentCopy } from 'react-icons/md';\nimport { useToasts } from 'hooks/toasts';\n\nconst TextInput = forwardRef(({ value, className, title, pattern, autoComplete, required, minLength, maxLength, placeholder, info, label, buttonLabel, password, disabled, copy, small, onInput, onChange, onButtonClick, style, icon }, ref) => {\n    const { addToast } = useToasts();\n\n    const onClick = async () => {\n        await navigator.clipboard.writeText(value);\n        addToast(\"Copied to clipboard!\");\n    };\n\n    return (\n        <div className={`text-input ${copy ? 'copy' : ''} ${small ? 'small' : ''} ${className || ''}`}>\n            {\n                label ?\n                    <label>{ label }</label>\n                    :\n                    null\n            }\n            <div className={`text-input-container${icon ? ' hasIcon' : ''}`} onClick={copy ? onClick : null}>\n                {\n                    icon &&\n                    <div className='text-input-container-icon'>\n                        {icon}\n                    </div>\n                }\n                <input\n                    value={value}\n                    title={title}\n                    pattern={pattern}\n                    autoComplete={autoComplete}\n                    required={required}\n                    minLength={minLength}\n                    maxLength={maxLength}\n                    type={password ? 'password' : 'text'}\n                    placeholder={placeholder}\n                    disabled={copy || disabled}\n                    onInput={ev => onInput && onInput(ev.target.value)}\n                    onChange={ev => onChange && onChange(ev.target.value)}\n                    ref={ref}\n                    style={style}\n                />\n                {\n                    copy ?\n                        <div className=\"button\">\n                            <MdContentCopy size={20}/>\n                        </div>\n                        :\n                        null\n                }\n                {\n                    buttonLabel ?\n                        <div className=\"button\" onClick={onButtonClick}>\n                            { buttonLabel }\n                        </div>\n                        :\n                        null\n                }\n            </div>\n            {\n                info ?\n                    <div className=\"info\">\n                        { info }\n                    </div>\n                    :\n                    null\n            }\n        </div>\n    )\n})\n\nexport default TextInput","export default __webpack_public_path__ + \"static/media/icon.0334463c.png\";","import './AddressList.scss'\n\nimport { MdOutlineDelete } from 'react-icons/md'\n\nconst AddressList = ({ noAccounts, addresses, onSelectAddress, removeAddress }) => {\n    const items = addresses.filter(({ isAccount }) => !(isAccount && noAccounts))\n\n    return (\n        <div className=\"address-list\">\n            {\n                !items.length ?\n                    <div className=\"placeholder\">Your Address Book is empty</div>\n                    :\n                    items.map(({ isAccount, icon, name, address, type }) => (\n                        <div className=\"item\" key={address + name}>\n                            <div className=\"inner\" onClick={() => onSelectAddress && onSelectAddress(address)}>\n                                <div className=\"icon\" style={{ backgroundImage: `url(${icon})`}}></div>\n                                <div className=\"details\">\n                                    <label>{ name }</label>\n                                    <div className=\"address\">{ address }</div>\n                                </div>\n                            </div>\n                            {\n                                !isAccount ? \n                                    <div className=\"button\" onClick={() => removeAddress(name, address, type)}>\n                                        <MdOutlineDelete/>\n                                    </div>\n                                    :\n                                    null\n                            }\n                        </div>\n                    ))\n            }\n        </div>\n    )\n}\n\nexport default AddressList","import { Interface, getAddress, hexConcat } from 'ethers/lib/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\n\n// the factory can be used for deploying contracts from Ambire\n\nconst FactoryMapping = () => {\n  const iface = new Interface(require('adex-protocol-eth/abi/IdentityFactory'))\n  return {\n    [iface.getSighash('deploy')]: (txn, network) => {\n      const [ code, salt ] = iface.parseTransaction(txn).args\n      const addr = getAddress('0x' + generateAddress2(\n        // Converting to buffer is required in ethereumjs-util version: 7.1.3\n        Buffer.from(txn.to.slice(2), 'hex'),\n        Buffer.from(hexConcat([salt]).slice(2), 'hex'),\n        Buffer.from(code.slice(2), 'hex')\n      ).toString('hex'))\n      return [`Deploy contract with address ${addr}`]\n    }\n  }\n}\nexport default FactoryMapping\n","import { usePageVisibility } from 'react-page-visibility';\nimport usePortfolioCommon from 'ambire-common/src/hooks/usePortfolio'\n\nimport { ZAPPER_API_KEY } from 'config';\nimport { fetchGet } from 'lib/fetch';\nimport { ZAPPER_API_ENDPOINT } from 'config'\nimport { useToasts } from 'hooks/toasts'\nimport { VELCRO_API_ENDPOINT } from 'config'\nimport useConstants from './useConstants';\n\nconst getBalances = (network, protocol, address, provider) =>\n    fetchGet(`${provider === 'velcro' ?\n        VELCRO_API_ENDPOINT :\n        ZAPPER_API_ENDPOINT}/protocols/${protocol}/balances?addresses[]=${address}&network=${network}&api_key=${ZAPPER_API_KEY}&newBalances=true`\n    )\n\nexport default function usePortfolio({ currentNetwork, account, useStorage }) {\n    const isVisible = usePageVisibility()\n\n    const {\n        balance,\n        otherBalances,\n        tokens,\n        extraTokens,\n        hiddenTokens,\n        protocols,\n        collectibles,\n        requestOtherProtocolsRefresh,\n        onAddExtraToken,\n        onRemoveExtraToken,\n        onAddHiddenToken,\n        onRemoveHiddenToken,\n        balancesByNetworksLoading,\n        isCurrNetworkBalanceLoading,\n        areAllNetworksBalancesLoading,\n        otherProtocolsByNetworksLoading,\n        isCurrNetworkProtocolsLoading,\n        cachedBalancesByNetworks,\n      } = usePortfolioCommon({\n        useConstants,\n        currentNetwork,\n        account,\n        useStorage,\n        isVisible,\n        useToasts,\n        getBalances\n    })\n\n    return {\n        balance,\n        otherBalances,\n        tokens,\n        extraTokens,\n        hiddenTokens,\n        protocols,\n        collectibles,\n        requestOtherProtocolsRefresh,\n        onAddExtraToken,\n        onRemoveExtraToken,\n        onAddHiddenToken,\n        onRemoveHiddenToken,\n        balancesByNetworksLoading,\n        isCurrNetworkBalanceLoading,\n        areAllNetworksBalancesLoading,\n        otherProtocolsByNetworksLoading,\n        isCurrNetworkProtocolsLoading,\n        cachedBalancesByNetworks\n    }\n}\n","import useRelayerDataCommon from 'ambire-common/src/hooks/useRelayerData'\n\nconst useRelayerData = (props) => useRelayerDataCommon({ fetch, ...props })\n\nexport default useRelayerData\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useToasts } from './toasts'\nimport * as blockies from 'blockies-ts'\nimport { isValidAddress, isKnownTokenOrContract } from 'ambire-common/src/services/address'\nimport { setKnownAddresses } from 'lib/humanReadableTransactions'\nimport { sha256 } from 'ethers/lib/utils'\n\nconst accountType = ({ email, signerExtra }) => {\n    const walletType = signerExtra && signerExtra.type === 'ledger' ? 'Ledger' : signerExtra && signerExtra.type === 'trezor' ? 'Trezor' : 'Web3'\n    return email ? `Ambire account for ${email}` : `Ambire account (${walletType})`\n}\nconst toIcon = seed => blockies.create({ seed }).toDataURL()\n\nconst useAddressBook = ({ accounts, useStorage }) => {\n    const { addToast } = useToasts()\n    const [storageAddresses, setStorageAddresses] = useStorage({ key: 'addresses', defaultValue: [] })\n\n    const addressList = useMemo(() => {\n        try {\n            const addresses = storageAddresses\n            if (!Array.isArray(addresses)) throw new Error('Address Book: incorrect format')\n            return [\n                ...accounts.map(account => ({\n                    isAccount: true,\n                    name: accountType(account),\n                    address: account.id,\n                    icon: toIcon(account.id)\n                })),\n                ...addresses.map(entry => ({\n                    ...entry,\n                    icon: toIcon(entry.address),\n                    type: entry.type || (entry.isUd ? 'ud' : 'pub')\n                }))\n            ]\n        } catch (e) {\n            console.error('Address Book parsing failure', e)\n            return []\n        }\n    }, [accounts, storageAddresses])\n\n    const [addresses, setAddresses] = useState(() => addressList)\n\n    const updateAddresses = useCallback(addresses => {\n        setAddresses(addresses.map(entry => ({\n            ...entry,\n            icon: toIcon(entry.address)\n        })))\n        setStorageAddresses(addresses.filter(({ isAccount }) => !isAccount))\n    }, [setAddresses, setStorageAddresses])\n\n    const isKnownAddress = useCallback(address => { \n        return [\n            ...addresses.map(({ address }) => {\n                return (address.startsWith('0x') && (address.indexOf('.') === -1)) ? sha256(address) : address\n            }),\n            ...accounts.map(({ id }) => sha256(id))\n        ].includes((address.startsWith('0x') && (address.indexOf('.') === -1)) ? sha256(address) : address)\n    }, [addresses, accounts])\n\n    const addAddress = useCallback((name, address, { type }) => {\n        if (!name || !address) throw new Error('Address Book: invalid arguments supplied')\n        if (type === 'ens' || type === 'ud') {\n            const isFound = addresses.find(item => item.address.toLowerCase() === address.toLowerCase())\n            if (isFound) return addToast(`Address Book: The ${type.toUpperCase()} is already added to the Address book`, { error: true })\n        } else {\n            const isFound = addresses.find(item => item.address.toLowerCase() === address.toLowerCase())\n            if (isFound) return addToast('Address Book: The address is already added to the Address book', { error: true })\n            if (!isValidAddress(address)) throw new Error('Address Book: invalid address format')\n            if (isKnownTokenOrContract(address)) return addToast('The address you\\'re trying to add is a smart contract.', { error: true })\n        }\n        \n        const newAddresses = [\n            ...addresses,\n            {\n                name,\n                address,\n                type\n            }\n        ]\n        \n        updateAddresses(newAddresses)\n\n        addToast(`${address} added to your Address Book.`)\n    }, [addresses, addToast, updateAddresses])\n\n    const removeAddress = useCallback((name, address, type) => {\n        if (!name || !address) throw new Error('Address Book: invalid arguments supplied')\n        if (type !== 'ud' && type !== 'ens') {\n            if (!isValidAddress(address)) throw new Error('Address Book: invalid address format')\n        }\n        \n        const newAddresses = addresses\n            .filter(a => !(a.name === name && a.address === address))\n\n        updateAddresses(newAddresses)\n\n        addToast(`${address} removed from your Address Book.`)\n    }, [addresses, addToast, updateAddresses])\n\n    useEffect(() => { setAddresses(addressList) }, [accounts, addressList])\n\n    // a bit of a 'cheat': update the humanizer with the latest known addresses\n    // this is breaking the react patterns cause the humanizer has a 'global' state, but that's fine since it simply constantly learns new addr aliases,\n    // so there's no 'inconsistent state' there, the more the better\n    useEffect(() => setKnownAddresses(addresses), [addresses])\n\n    return {\n        addresses,\n        addAddress,\n        removeAddress,\n        isKnownAddress\n    }\n}\n\nexport default useAddressBook\n","import { useEffect, useCallback, useMemo } from 'react'\nimport { useLocation } from \"react-router-dom\";\nimport { useToasts} from './toasts'\n\nlet documentTitle = document.title\nlet flashingTitleInterval = null\nlet stickyIds = []\n\nconst showFlashingTitle = () => {\n    let count = 0\n    clearInterval(flashingTitleInterval)\n    flashingTitleInterval = setInterval(() => {\n        document.title = (count % 2 === 0 ? '⚠️' : '🔥') + ' PENDING SIGNING REQUEST'\n        count++\n    }, 500)\n}\n\nconst removeFlashingTitle = () => {\n    clearInterval(flashingTitleInterval)\n    document.title = documentTitle\n}\n\nconst useAttentionGrabber = ({ eligibleRequests, isSendTxnShowing, onSitckyClick }) => {\n    const location = useLocation()\n    const { addToast, removeToast } = useToasts()\n\n    const removeStickyToasts = useCallback(() => stickyIds.forEach(id => removeToast(id)), [removeToast])\n    const isRouteWallet = useMemo(() => location.pathname.startsWith('/wallet'), [location.pathname])\n    \n    useEffect(() => {\n        if (eligibleRequests.length && isRouteWallet) {\n            if (isSendTxnShowing) removeStickyToasts()\n            else {\n                stickyIds.push(addToast('Transactions waiting to be signed', {\n                    position: 'right',\n                    sticky: true,\n                    badge: eligibleRequests.length,\n                    onClick: () => onSitckyClick()\n                }))\n            }\n\n            !(window.Notification && Notification.permission !== 'denied') ? showFlashingTitle() : removeFlashingTitle()\n        } else {\n            removeStickyToasts()\n            removeFlashingTitle()\n        }\n\n        return () => clearInterval(flashingTitleInterval)\n    }, [removeStickyToasts, eligibleRequests, isSendTxnShowing, onSitckyClick, addToast, removeToast, isRouteWallet])\n}\n\nexport default useAttentionGrabber\n\n","import { useContext } from 'react'\nimport { ModalContext } from 'components/ModalProvider/ModalProvider'\n\nconst useModals = () => useContext(ModalContext)\nexport default useModals","import { useEffect, useState } from 'react'\nimport { isFirefox } from 'lib/isFirefox'\nimport { useLocalStorage } from 'hooks'\n\nconst onPermissionChange = async (name, listener) => {\n    try {\n        const status = await navigator.permissions.query({ name })\n        status.onchange = () => listener(status.state === 'granted')\n        return status.state === 'granted'\n    } catch(e) {\n        console.error(e);\n        return false\n    }\n}\n\nconst usePermissions = () => {\n    const [arePermissionsLoaded, setPermissionsLoaded] = useState(false)\n    const [isClipboardGranted, setClipboardGranted] = useState(false)\n    const [isNoticationsGranted, setNotificationsGranted] = useState(false)\n    const [modalHidden, setModalHidden] = useLocalStorage({ key: 'permissionsModalHidden' })\n\n    const checkForPermissions = async () => {\n\tif (isFirefox()) {\n\t\tsetClipboardGranted(false)\n\t} else {\n\t\tconst clipboardState = await onPermissionChange('clipboard-read', state => setClipboardGranted(state))\n\t\tsetClipboardGranted(clipboardState)\n\t}\n\n        const notificationsState = await onPermissionChange('notifications', state => setNotificationsGranted(state))\n        setNotificationsGranted(notificationsState)\n\n        setPermissionsLoaded(true)\n    }\n\n    useEffect(() => checkForPermissions(), [])\n\n    return {\n        isClipboardGranted,\n        isNoticationsGranted,\n        arePermissionsLoaded,\n        modalHidden,\n        setModalHidden\n    }\n}\n\nexport default usePermissions\n","export default function usePrivateMode(useStorage) {\n    const [ isPrivateMode, setIsPrivateMode ] = useStorage({ key: 'isPrivateMode' })\n\n    const togglePrivateMode = () => {\n        setIsPrivateMode(!isPrivateMode)\n    }\n\n    const hidePrivateValue = (value) => isPrivateMode ?\n\t\t(typeof value === 'string' && value.startsWith('0x') ? value.replace(/./gi, '*') : '**')\n\t\t: value;\n    const hidePrivateContent = (content) => isPrivateMode ? <div className='private-content'>{content}</div> : content;\n\n    return {\n        isPrivateMode,\n        hidePrivateValue,\n        hidePrivateContent,\n        togglePrivateMode\n    }\n}\n","import { useRef } from 'react'\n\nconst useDragAndDrop = (sortingKey, onDropEnd) => {    \n    const dragItem = useRef();\n    const dragOverItem = useRef();\n    const target = useRef();\n    const handle = useRef();\n\n    const dragStart = (e, position) => dragItem.current = position; \n\n    const dragTarget = (e, position) => {\n        handle.current = document.getElementById(`${position}-handle`)\n        target.current = e.target;\n    }\n\n    const dragEnter = (e, position) => dragOverItem.current = position;\n\n    const drop = (sortedList) => {\n        const copyListItems = [...sortedList];\n        const dragItemContent = copyListItems[dragItem.current];\n\n        copyListItems.splice(dragItem.current, 1);\n        copyListItems.splice(dragOverItem.current, 0, dragItemContent);\n\n        dragItem.current = null;\n        dragOverItem.current = null;\n\n        const list = copyListItems.map(item => item[sortingKey])\n\n        onDropEnd(list)\n    };\n\n    return {\n        dragStart,\n        dragEnter,\n        dragTarget,\n        drop,\n        target,\n        handle\n    }\n}\n\nexport default useDragAndDrop;","import { useEffect, useState } from \"react\"\n\nconst useCheckMobileScreen = () => {\n    const [width, setWidth] = useState(window.innerWidth);\n    const handleWindowSizeChange = () => {\n            setWidth(window.innerWidth);\n    }\n\n    useEffect(() => {\n        window.addEventListener('resize', handleWindowSizeChange);\n        return () => {\n            window.removeEventListener('resize', handleWindowSizeChange);\n        }\n    }, []);\n\n    return (width <= 768);\n}\n\nexport default useCheckMobileScreen","import { useCallback, useEffect, useMemo } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nexport default function useUtmTracking ({ useStorage }) {\n    const { search } = useLocation()\n    \n    const currentUtm = useMemo(() => {\n        const searchParams = new URLSearchParams(search)\n        const current = {}        \n        for (const p of searchParams) {\n            if (p && p[0].startsWith('utm_')) {\n                const key = p[0].substring(p[0].indexOf('utm_')+4)            \n                current[key] = p[1];\n            }\n        }\n        return current\n    }, [search])\n    \n    const [utm, _setUtm] = useStorage({\n        key: 'utm',\n        defaultValue: []\n    })\n    \n    const setUtm = useCallback(_utm => {        \n        const isTracked = utm.some(u =>  {\n            return JSON.stringify(u, (key, value) => {\n                if (key === 'date' || key === 'identityCompleted') return undefined\n                return value\n            }) === JSON.stringify(_utm)\n        })\n        if (isTracked) return\n\n        _setUtm((prev) => [\n            ...prev,\n            {\n                ..._utm,\n                identityCompleted: false,\n                date: new Date().valueOf()\n            }\n        ])\n    }, [_setUtm, utm])\n\n    const resetUtm = () => {\n        _setUtm([])\n    }\n\n    const getLatestUtmData = useCallback(() => utm.length && utm.map((el, i) => i === utm.length-1 ? { ...el, identityCompleted: true } : el), [utm])\n    \n    useEffect(() => {\n        if (Object.keys(currentUtm).length) {\n            setUtm(currentUtm)\n        }\n    }, [currentUtm, search, setUtm])\n\n    return { utm, resetUtm, getLatestUtmData }\n}\n","import { useContext } from 'react';\nimport { ToastContext } from 'components/ToastProvider/ToastProvider';\n\nconst useToasts = () => {\n    return useContext(ToastContext);\n};\n\nexport { useToasts };","import {\n  getSDKVersion,\n  MessageFormatter,\n  Methods\n} from '@gnosis.pm/safe-apps-sdk'\n\nfunction GnosisConnector(_iframeRef, _app) {\n  this.iframeRef = _iframeRef\n  this.app = _app\n  this.handlers = {}\n\n  this.on = (method, handler) => {\n    this.handlers[method] = handler\n  }\n\n  this.isValidMessage = (msg) => {\n    // @ts-expect-error .parent doesn't exist on some possible types\n    if (!msg?.source?.parent) {\n      return false\n    }\n    const sentFromIframe = msg.source.parent === window.parent\n    const knownMethod = Object.values(Methods).includes(msg.data.method)\n\n    return sentFromIframe && knownMethod\n  }\n\n  this.canHandleMessage = (msg) => {\n    return Boolean(this.handlers[msg.data.method])\n  }\n\n  this.send = (data, requestId, error) => {\n    const sdkVersion = getSDKVersion()\n    const msg = error\n      ? MessageFormatter.makeErrorResponse(requestId, error, sdkVersion)\n      : MessageFormatter.makeResponse(requestId, data, sdkVersion)\n\n    if (this.iframeRef) {\n      //console.log(\"Posting to child\")\n      //console.log(msg)\n      this.iframeRef.current?.contentWindow?.postMessage(msg, '*')\n    } else {\n      console.log('Iframe not referenced ')\n    }\n  }\n\n  this.handleIncomingMessage = async (msg) => {\n\n    const validMessage = this.isValidMessage(msg)\n    const hasHandler = this.canHandleMessage(msg)\n\n    if (validMessage && hasHandler) {\n      const handler = this.handlers[msg.data.method]\n      try {\n        // @ts-expect-error Handler existence is checked in this.canHandleMessage\n        const response = await handler(msg)\n\n        // If response is not returned, it means the response will be send somewhere else\n        if (typeof response !== 'undefined') {\n          this.send(response, msg.data.id)\n        }\n      } catch (err) {\n        console.error(\"GS : \" + err);\n        this.send(null, msg.data.id, err.message)\n        /*trackError(Errors._901, err.message, {\n          contexts: {\n            safeApp: this.app,\n            request: msg.data,\n          },\n        })*/\n      }\n    }\n  }\n\n  this.clear = () => {\n    //console.log('removeListener...')\n    window.removeEventListener('message', this.handleIncomingMessage)\n  }\n\n  console.log('new appCommunicator')\n  window.addEventListener('message', this.handleIncomingMessage)\n}\n\nexport {GnosisConnector}\n","import { useCallback, useRef, useEffect } from 'react'\nimport { getTransactionSummary } from 'lib/humanReadableTransactions'\nimport { BigNumber } from 'ethers'\nimport { formatUnits } from 'ethers/lib/utils'\nimport { useToasts } from './toasts'\nimport networks from 'consts/networks'\nimport AMBIRE_ICON from 'resources/icon.png'\nimport { getProvider } from 'lib/provider'\nimport useConstants from './useConstants'\n\nconst REQUEST_TITLE_PREFIX = 'Ambire Wallet: '\nconst SUPPORTED_TYPES =  ['eth_sendTransaction', 'personal_sign']\nconst BALANCE_TRESHOLD = 1.00002\nlet currentNotifs = []\nlet isLastTotalBalanceInit = false\nlet lastTokensBalanceRaw = []\n\nconst getAmountReceived = (lastToken, newBalanceRaw, decimals) => {\n    try {\n        const amountRecieved = lastToken\n            ? (BigNumber.from(newBalanceRaw.toString(10)).sub(BigNumber.from(lastToken.balanceRaw.toString(10))))\n            : newBalanceRaw\n        return formatUnits(amountRecieved, decimals)\n    } catch(e) {\n        console.error('Notifications: ' + e);\n    }\n}\n\nexport default function useNotifications (requests, onShow, portfolio, selectedAcc, network, sentTxn, confirmSentTx) {\n    const { constants: { humanizerInfo, tokenList } } = useConstants() \n    const { addToast } = useToasts()\n    const onShowRef = useRef({})\n    onShowRef.current.onShow = onShow\n\n    useEffect(() => {\n        // hack because for whatever reason it doesn't work when we access the ref directly\n        window.onClickNotif = req => onShowRef.current.onShow(req)\n    }, [])\n    \n    // Shared code for all notifications\n    const showNotification = useCallback(({ id, title, body, requireInteraction, request, onClick }) => {\n        try{    \n            const notification = new Notification(title, {\n                requireInteraction: requireInteraction || false,\n                body,\n                icon: AMBIRE_ICON,\n            })\n            //notification.onclose = \n            notification.onclick = onClick || (() => {\n                if (request && request.type === 'eth_sendTransaction') window.onClickNotif(request)\n                window.focus()\n                notification.close()\n            })\n            currentNotifs.push({ id, notification })\n        }catch(e){\n            console.error(e)\n        }\n    }, [])\n\n    // Signing request notifications\n    requests.forEach(request => {\n        // only requests we actually want a notification for\n        if (!request.notification) return\n        if (!SUPPORTED_TYPES.includes(request.type)) return\n        if (currentNotifs.find(n => n.id === request.id)) return\n        if (!request.txn) return\n        const isSign = request.type === 'personal_sign'\n        const network = networks.find(x => x.chainId === request.chainId)\n        const title = REQUEST_TITLE_PREFIX+(\n            isSign\n                ? 'you have a new message to sign'\n                : `new transaction request on ${network ? network.name : 'unknown network'}`\n        )\n        const body = isSign ? 'Click to preview' : getTransactionSummary(humanizerInfo, tokenList, [request.txn.to, request.txn.value, request.txn.data], request.chainId, request.account)\n        showNotification({\n            id: request.id,\n            title,\n            body,\n            request,\n            requireInteraction: true\n        })\n    })\n\n    // Balance notifications\n    useEffect(() => {\n        try {\n            if (!portfolio.isCurrNetworkBalanceLoading && portfolio.balance) {\n                if (!isLastTotalBalanceInit) {\n                    isLastTotalBalanceInit = true\n                    lastTokensBalanceRaw = portfolio.tokens.map(({ address, balanceRaw }) => ({ address, balanceRaw }))\n                }\n\n                const changedAmounts = portfolio.tokens.filter(({ address, balanceRaw }) => {\n                    const lastToken = lastTokensBalanceRaw.find(token => token.address === address)\n                    const isSignificantChange = lastToken && ((balanceRaw / lastToken.balanceRaw) > BALANCE_TRESHOLD)\n                    return !lastToken || isSignificantChange\n                })\n\n                changedAmounts.forEach(({ address, symbol, decimals, balanceRaw }) => {\n                    const lastToken = lastTokensBalanceRaw.find(token => token.address === address)\n                    const amountRecieved = getAmountReceived(lastToken, balanceRaw, decimals)\n\n                    showNotification({\n                        id: `received_amount_${Date.now()}`,\n                        title: `${amountRecieved} ${symbol} Received.`,\n                        body: `Your ${symbol} balance increased by ${amountRecieved} ${symbol}`\n                    })\n\n                    lastToken ? lastTokensBalanceRaw = [\n                        ...lastTokensBalanceRaw.filter(token => token.address !== address),\n                        { address, balanceRaw }\n                    ] : lastTokensBalanceRaw.push({ address, balanceRaw })\n                })\n            }\n        } catch(e) {\n            console.error(e)\n            addToast(e.message | e, { error: true })\n        }\n    }, [portfolio, addToast, showNotification])\n\n    // Tx mined notifications\n    useEffect(() => {\n        const interval = network.id === 'ethereum' ? 30000 : 10000\n        const txStatusInterval = setInterval(() => {\n            sentTxn\n                .filter(({ confirmed }) => !confirmed)\n                .forEach(async ({ hash }) => {\n                    const provider = getProvider(network.id)\n                    try {\n                        const txReceipt = await provider.getTransactionReceipt(hash)\n                        if (!txReceipt) return\n\n                        confirmSentTx(hash)\n                        showNotification({\n                            id: `confirmed_tx_${Date.now()}`,\n                            title: `Ambire Transaction Confirmed`,\n                            body: `Your transaction was successfully confirmed!`,\n                            onClick: () => window.open(network.explorerUrl+'/tx/'+hash, '_blank')\n                        })\n                    } catch(e) {\n                        console.error(e);\n                    }\n                })\n        }, interval)\n        return () => clearInterval(txStatusInterval)\n    }, [sentTxn, network, showNotification, confirmSentTx])\n\n    useEffect(() => {\n        isLastTotalBalanceInit = false\n        lastTokensBalanceRaw = []\n    }, [selectedAcc, network])\n\n    currentNotifs = currentNotifs.filter(({ id, notification }) => {\n        if (!requests.find(r => r.id === id)) {\n            notification.close()\n            return false\n        }\n        return true\n    })\n  }\n  \n","import useGasTank from 'ambire-common/src/hooks/useGasTank'\n\nimport './App.scss'\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  Prompt\n} from 'react-router-dom'\nimport { useState, useEffect, useMemo, useCallback, lazy, Suspense } from 'react'\nimport ToastProvider from './components/ToastProvider/ToastProvider'\nimport ModalProvider from './components/ModalProvider/ModalProvider'\nimport useAccounts from './hooks/accounts'\nimport useNetwork from 'ambire-common/src/hooks/useNetwork'\nimport useWalletConnect from './hooks/walletconnect'\nimport useGnosisSafe from './hooks/useGnosisSafe'\nimport useNotifications from './hooks/notifications'\nimport { useAttentionGrabber, \n  usePortfolio, \n  useAddressBook, \n  useRelayerData, \n  usePrivateMode, \n  useLocalStorage,\n  useUtmTracking,\n} from './hooks'\nimport { useToasts } from './hooks/toasts'\nimport { useOneTimeQueryParam } from './hooks/oneTimeQueryParam'\nimport WalletStakingPoolABI from 'ambire-common/src/constants/abis/WalletStakingPoolABI.json'\nimport useRewards from 'ambire-common/src/hooks/useRewards'\nimport { Contract, utils } from 'ethers'\nimport { getProvider } from './lib/provider'\nimport allNetworks from './consts/networks'\nimport { Loading } from 'components/common'\nimport ConstantsProvider from 'components/ConstantsProvider/ConstantsProvider'\nimport useDapps from 'ambire-common/src/hooks/useDapps'\nimport { getManifestFromDappUrl } from 'ambire-common/src/services/dappCatalog'\nimport { fetch } from 'lib/fetch'\n\nconst EmailLogin = lazy(() => import('./components/EmailLogin/EmailLogin'))\nconst AddAccount = lazy(() => import('./components/AddAccount/AddAccount'))\nconst Wallet = lazy(() => import('./components/Wallet/Wallet'))\nconst SendTransaction = lazy(() => import('./components/SendTransaction/SendTransaction'))\nconst SignMessage = lazy(() => import('./components/SignMessage/SignMessage'))\n\nconst relayerURL = process.env.REACT_APP_RELAYRLESS === 'true' \n                  ? null \n                  : process.env.hasOwnProperty('REACT_APP_RELAYER_URL')\n                    ? process.env.REACT_APP_RELAYER_URL \n                    : 'http://localhost:1934'\n\nsetTimeout(() => {\n  //console.warn('☢️ If you do, malicious code could steal your funds! ☢️')\n  //console.error('Only use the console if you are an experienced developer who knows what he\\'s doing')\n  console.log(\" ✋ Hey...! Slow down you ambitious adventurer! You want to keep your funds safe! 🦄\")\n  console.error('       💀 DO NOT PASTE ANY CODE HERE ! 💀')\n  console.error(' _          ___   ___  _  _   ___  ___  ___         _')\n  console.error('| |        |   \\\\ /   \\\\| \\\\| | / __|| __|| _ \\\\       | |')\n  console.error('|_|        | |) || - || .  || (_ || _| |   /       |_|')\n  console.error('(_)        |___/ |_|_||_|\\\\_| \\\\___||___||_|_\\\\       (_)')\n  console.log('At Ambire, we care about our users 💜. Safety is our top priority! DO NOT PASTE ANYTHING HERE or it could result in the LOSS OF YOUR FUNDS!')\n}, 4000)\n\nfunction AppInner() { \n  // basic stuff: currently selected account, all accounts, currently selected network\n  const dappUrl = useOneTimeQueryParam('dappUrl')\n  const [pluginData, setPluginData] = useState(null)\n  const { accounts, selectedAcc, onSelectAcc, onAddAccount, onRemoveAccount, setPluginUrl } = useAccounts(useLocalStorage, pluginData?.url)\n  const addressBook = useAddressBook({ accounts, useStorage: useLocalStorage })\n  const { network, setNetwork } = useNetwork({ useStorage: useLocalStorage })\n  const { gasTankState, setGasTankState } = useGasTank({ selectedAcc, useStorage: useLocalStorage })\n  const { addToast } = useToasts()\n  const dappsCatalog = useDapps({useStorage: useLocalStorage, fetch})\n  const wcUri = useOneTimeQueryParam('uri')\n  const utmTracking = useUtmTracking({ useStorage: useLocalStorage })\n\n  // Signing requests: transactions/signed msgs: all requests are pushed into .requests\n  const { connections, connect, disconnect, isConnecting, requests: wcRequests, resolveMany: wcResolveMany } = useWalletConnect({\n    account: selectedAcc,\n    chainId: network.chainId,\n    initialUri: wcUri,\n    allNetworks,\n    setNetwork,\n    useStorage: useLocalStorage\n  })\n\n  const { requests: gnosisRequests, resolveMany: gnosisResolveMany, connect: gnosisConnect, disconnect: gnosisDisconnect } = useGnosisSafe({\n    selectedAccount: selectedAcc,\n    network: network,\n    useStorage: useLocalStorage\n  }, [selectedAcc, network])\n\n  // Attach meta data to req, if needed\n  const attachMeta = async req => {\n    let meta\n\n    const WALLET_TOKEN_ADDRESS = '0x88800092ff476844f74dc2fc427974bbee2794ae'\n    const WALLET_STAKING_ADDRESS = '0x47cd7e91c3cbaaf266369fe8518345fc4fc12935'\n\n    //polygon tests\n    // const WALLET_TOKEN_ADDRESS = '0xe9415e904143e42007865e6864f7f632bd054a08'\n    // const WALLET_STAKING_ADDRESS = '0xec3b10ce9cabab5dbf49f946a623e294963fbb4e'\n\n    const shouldAttachMeta =  [WALLET_TOKEN_ADDRESS, WALLET_STAKING_ADDRESS].includes(req.txn.to.toLowerCase())\n\n    if (shouldAttachMeta) {\n      const WALLET_STAKING_POOL_INTERFACE = new utils.Interface(WalletStakingPoolABI)\n      const provider = getProvider(network.id)\n      const stakingTokenContract = new Contract(WALLET_STAKING_ADDRESS, WALLET_STAKING_POOL_INTERFACE, provider)\n      const shareValue = await stakingTokenContract.shareValue()\n      const { walletUsdPrice: walletTokenUsdPrice, xWALLETAPY: APY } = rewardsData.rewards\n\n      meta = {\n        xWallet: {\n          APY,\n          shareValue,\n          walletTokenUsdPrice,\n        },\n      }\n    }\n\n    if (!meta) return req\n\n    return { ...req, meta: { ...req.meta && req.meta, ...meta }}\n  }\n\n  // Internal requests: eg from the Transfer page, Security page, etc. - requests originating in the wallet UI itself\n  // unlike WalletConnect or SafeSDK requests, those do not need to be persisted\n  const [internalRequests, setInternalRequests] = useState([])\n  const addRequest = async req => {\n    const request = await attachMeta(req)\n\n    return setInternalRequests(reqs => [...reqs, request])\n  }\n\n  // Merge all requests\n  const requests = useMemo(\n    () => [...internalRequests, ...wcRequests, ...gnosisRequests]\n      .filter(({ account }) => accounts.find(({ id }) => id === account)),\n    [wcRequests, internalRequests, gnosisRequests, accounts]\n  )\n  const resolveMany = (ids, resolution) => {\n    wcResolveMany(ids, resolution)\n    gnosisResolveMany(ids, resolution)\n    setInternalRequests(reqs => reqs.filter(x => !ids.includes(x.id)))\n  }\n\n  // Portfolio: this hook actively updates the balances/assets of the currently selected user\n  const portfolio = usePortfolio({\n    currentNetwork: network.id,\n    account: selectedAcc,\n    useStorage: useLocalStorage\n  })\n\n  const privateMode = usePrivateMode(useLocalStorage)\n\n  const [userSorting, setUserSorting] = useLocalStorage({\n    key: 'userSorting',\n    defaultValue: {}\n  })\n  \n  // Gas Tank: Adding default state when the account is changed or created\n  if (gasTankState.length && !gasTankState.find(i => i.account === selectedAcc)) {\n    setGasTankState([...gasTankState, { account: selectedAcc, isEnabled: false }])\n  } \n\n\n  // Handling transaction signing requests\n  // Show the send transaction full-screen modal if we have a new txn\n  const eligibleRequests = useMemo(() => requests\n    .filter(({ type, chainId, account }) =>\n      type === 'eth_sendTransaction'\n      && chainId === network.chainId\n      && account === selectedAcc\n    ), [requests, network.chainId, selectedAcc])\n  // Docs: the state is { showing: bool, replacementBundle, replaceByDefault: bool, mustReplaceNonce: number }\n  // mustReplaceNonce is set when the end goal is to replace a particular transaction, and if that txn gets mined we should stop the user from doing anything\n  // mustReplaceNonce must always be used together with either replaceByDefault: true or replacementBundle\n  const [sendTxnState, setSendTxnState] = useState(() => ({ showing: !!eligibleRequests.length }))\n  useEffect(\n    () => setSendTxnState(prev => ({\n      showing: !!eligibleRequests.length,\n      // we only keep those if there are transactions, otherwise zero them\n      replaceByDefault: eligibleRequests.length ? prev.replaceByDefault : null,\n      mustReplaceNonce: eligibleRequests.length ? prev.mustReplaceNonce : null,\n    })),\n    [eligibleRequests.length]\n  )\n  const showSendTxns = (replacementBundle, replaceByDefault = false) => setSendTxnState({ showing: true, replacementBundle, replaceByDefault })\n  // keep values such as replaceByDefault and mustReplaceNonce; those will be reset on any setSendTxnState/showSendTxns\n  // we DONT want to keep replacementBundle - closing the dialog means you've essentially dismissed it\n  // also, if you used to be on a replacementBundle, we DON'T want to keep those props\n  const onDismissSendTxns = () => setSendTxnState(prev => (prev.replacementBundle ? { showing: false } : {\n    showing: false,\n    replaceByDefault: prev.replaceByDefault,\n    mustReplaceNonce: prev.mustReplaceNonce\n  }))\n\n  // Handling message signatures\n  // Network shouldn't matter here\n  const everythingToSign = useMemo(() => requests\n    .filter(({ type, account }) => (type === 'personal_sign' || type === 'eth_sign' || type === 'eth_signTypedData_v4' || type === 'eth_signTypedData')\n      && account === selectedAcc\n    ), [requests, selectedAcc])\n\n  // Handling the back button\n  // When the user presses back, we first hide the SendTransactions dialog (keeping the queue)\n  // Then, signature requests will need to be dismissed one by one, starting with the oldest\n  const onPopHistory = () => {\n    if (sendTxnState.showing) {\n      setSendTxnState({ showing: false })\n      return false\n    }\n    if (everythingToSign.length) {\n      resolveMany([everythingToSign[0].id], { message: 'Ambire user rejected the signature request' })\n      return false\n    }\n    return true\n  }\n\n  // Keeping track of sent transactions\n  const [sentTxn, setSentTxn] = useState([])\n  const onBroadcastedTxn = hash => {\n    if (!hash) {\n      addToast('Transaction successfully signed and will be broadcasted to the network later', { timeout: 15000 })\n      return\n    }\n    setSentTxn(sentTxn => [...sentTxn, { confirmed: false, hash }])\n    addToast((\n      <span>Transaction signed and sent successfully!\n        &nbsp;Click to view on block explorer.\n      </span>\n    ), { url: network.explorerUrl + '/tx/' + hash, timeout: 15000 })\n  }\n  const confirmSentTx = txHash => setSentTxn(sentTxn => {\n    const tx = sentTxn.find(tx => tx.hash === txHash)\n    tx.confirmed = true\n    return [\n      ...sentTxn.filter(tx => tx.hash !== txHash),\n      tx\n    ]\n  })\n\n  // Show notifications for all requests\n  useNotifications(requests, request => {\n    onSelectAcc(request.account)\n    setNetwork(request.chainId)\n    setSendTxnState(state => ({ ...state, showing: true }))\n  }, portfolio, selectedAcc, network, sentTxn, confirmSentTx)\n\n  useAttentionGrabber({\n    eligibleRequests,\n    isSendTxnShowing: sendTxnState.showing,\n    onSitckyClick: useCallback(() => setSendTxnState({ showing: true }), [])\n  })\n\n  const rewardsData = useRewards({ relayerURL, accountId: selectedAcc, useRelayerData })\n\n  // Checks if Thank you page needs to be shown\n  const campaignUTM = useOneTimeQueryParam('utm_campaign')\n  const [showThankYouPage, setShowThankYouPage] = useLocalStorage({\n      key: 'showThankYouPage',\n      defaultValue: false\n  })\n  const handleSetShowThankYouPage = useCallback(() => setShowThankYouPage(true), [setShowThankYouPage])\n  useEffect(() => campaignUTM && handleSetShowThankYouPage(), [handleSetShowThankYouPage, campaignUTM])\n\n  useEffect(() => {\n    if(!dappUrl) return\n    async function checkPluginData() {\n      const manifest = await getManifestFromDappUrl(fetch, dappUrl)\n      if(manifest) { \n        setPluginData(manifest)\n        setPluginUrl(manifest.url)\n      }\n    }\n    checkPluginData()\n      .catch(e => {\n        console.error('checkPluginData:', e)\n      })\n  }, [dappUrl, setPluginUrl])\n\n  return (<>\n    <Prompt\n      message={(location, action) => {\n        if (action === 'POP') return onPopHistory()\n        return true\n      }}\n    />\n\n    <Suspense fallback={<Loading />}>\n      {!!everythingToSign.length && (<SignMessage\n        selectedAcc={selectedAcc}\n        account={accounts.find(x => x.id === selectedAcc)}\n        everythingToSign={everythingToSign}\n        totalRequests={everythingToSign.length}\n        connections={connections}\n        relayerURL={relayerURL}\n        network={network}\n        resolve={outcome => resolveMany([everythingToSign[0].id], outcome)}\n      ></SignMessage>)}\n\n      {sendTxnState.showing ? (\n        <SendTransaction\n          accounts={accounts}\n          selectedAcc={selectedAcc}\n          network={network}\n          requests={eligibleRequests}\n          resolveMany={resolveMany}\n          relayerURL={relayerURL}\n          onDismiss={onDismissSendTxns}\n          replacementBundle={sendTxnState.replacementBundle}\n          replaceByDefault={sendTxnState.replaceByDefault}\n          mustReplaceNonce={sendTxnState.mustReplaceNonce}\n          onBroadcastedTxn={onBroadcastedTxn}\n          gasTankState={gasTankState}\n        ></SendTransaction>\n      ) : (<></>)}\n    </Suspense>\n\n    <Suspense fallback={<Loading />}>\n      <Switch>\n        <Route path=\"/add-account\">\n          <AddAccount relayerURL={relayerURL} onAddAccount={onAddAccount} utmTracking={utmTracking} pluginData={pluginData}></AddAccount>\n        </Route>\n\n        <Route path=\"/email-login\">\n          <EmailLogin relayerURL={relayerURL} onAddAccount={onAddAccount}></EmailLogin>\n        </Route>\n\n        {selectedAcc ?\n          <Route path=\"/wallet\">\n            <Wallet\n              match={{ url: \"/wallet\" }}\n              accounts={accounts}\n              selectedAcc={selectedAcc}\n              addressBook={addressBook}\n              portfolio={portfolio}\n              onSelectAcc={onSelectAcc}\n              onRemoveAccount={onRemoveAccount}\n              allNetworks={allNetworks}\n              network={network}\n              setNetwork={setNetwork}\n              addRequest={addRequest}\n              connections={connections}\n              // needed by the top bar to disconnect/connect dapps\n              connect={connect}\n              disconnect={disconnect}\n              isWcConnecting={isConnecting}\n              // needed by the gnosis plugins\n              gnosisConnect={gnosisConnect}\n              gnosisDisconnect={gnosisDisconnect}\n              // required for the security and transactions pages\n              relayerURL={relayerURL}\n              // required by the transactions page\n              eligibleRequests={eligibleRequests}\n              showSendTxns={showSendTxns}\n              setSendTxnState={setSendTxnState}\n              onAddAccount={onAddAccount}\n              rewardsData={rewardsData}\n              privateMode={privateMode}\n              useStorage={useLocalStorage}\n              userSorting={userSorting}\n              setUserSorting={setUserSorting}\n              gasTankState={gasTankState}\n              setGasTankState={setGasTankState}\n              showThankYouPage={showThankYouPage}\n              dappsCatalog={dappsCatalog}\n            >\n            </Wallet>\n          </Route> :\n          <Redirect to={\"/add-account\"} />\n        }\n\n        <Route path=\"/\">\n          <Redirect to={selectedAcc ? \"/wallet/dashboard\" : \"/add-account\"}/>\n        </Route>\n\n      </Switch>\n    </Suspense>\n  </>)\n}\n\n// handles all the providers so that we can use provider hooks inside of AppInner\nexport default function App() {\n  return (\n    <Router>\n      <ConstantsProvider>\n        <ToastProvider>\n          <ModalProvider>\n            <AppInner/>\n          </ModalProvider>\n        </ToastProvider>\n      </ConstantsProvider>\n    </Router>\n  )\n}\n","import {useCallback, useRef, useMemo} from 'react'\nimport {useToasts} from 'hooks/toasts'\n\nimport {Methods} from '@gnosis.pm/safe-apps-sdk'\nimport {GnosisConnector} from 'lib/GnosisConnector'\nimport { getProvider } from 'lib/provider'\n\nconst STORAGE_KEY = 'gnosis_safe_state'\n\nexport default function useGnosisSafe({selectedAccount, network, verbose = 0, useStorage}) {\n  // One connector at a time\n  const connector = useRef(null)\n\n  const uniqueId = useMemo(() => new Date().getTime() + ' ' + network.chainId + ' ' + selectedAccount, [selectedAccount, network])\n\n  const {addToast} = useToasts()\n\n  // This is needed cause of the Gnosis Safe event handlers (listeners)\n  const stateRef = useRef()\n  stateRef.current = {\n    selectedAccount,\n    network\n  }\n\n  const [requests, setRequests] = useStorage({\n    key: STORAGE_KEY,\n    defaultValue: [],\n    setInit: initialRequests => !Array.isArray(initialRequests) ? [] : initialRequests\n  })\n\n  const connect = useCallback(connectorOpts => {\n    verbose > 1 && console.log(\"GS: creating connector\")\n\n    try {\n      connector.current = new GnosisConnector(\n        connectorOpts.iframeRef,\n        connectorOpts.app,\n        uniqueId\n      )\n    } catch (e) {\n      addToast(`Unable to connect to ${connectorOpts.app.url}: ${e.message}`)\n      return null\n    }\n\n    // reply back to iframe with safe data\n    connector.current.on(Methods.getSafeInfo, () => {\n      return {\n        safeAddress: stateRef.current.selectedAccount,\n        network: stateRef.current.network.id,\n        chainId: stateRef.current.network.chainId,\n        owners: [stateRef.current.selectedAccount],\n        threshold: 1, //Number of confirmations (not used in ambire)\n      }\n    })\n\n    //reply back to iframe with safe data\n\n    // connector.current.on(Methods.getSafeBalances, async (msg) => {\n    //   verbose>0 && console.log(\"DApp requested getSafeBalances\") && console.log(msg)\n\n    //TODO later\n    //await portfolio.updatePortfolio(\"polygon\", selectedAccount, true)//not this because it does NOT return the updated state anyway\n    //console.log(portfolio)\n\n    //struct template\n    /*connector.current.on(Methods.getSafeBalances, () => {\n      return {\n        \"fiatTotal\": \"0.18072\",\n          \"items\": [\n          {\n            \"tokenInfo\": {\n              \"type\": \"NATIVE_TOKEN\",\n              \"address\": \"0x0000000000000000000000000000000000000000\",\n              \"decimals\": 18,\n              \"symbol\": \"MATIC\",\n              \"name\": \"Matic\",\n              \"logoUri\": \"https://safe-transaction-assets.staging.gnosisdev.com/chains/137/currency_logo.png\"\n            },\n            \"balance\": \"100000000000000000\",\n            \"fiatBalance\": \"0.18072\",\n            \"fiatConversion\": \"1.8072\"\n          }\n        ]\n      }\n     })*/\n\n    connector.current.on(Methods.rpcCall, async (msg) => {\n      verbose > 0 && console.log(\"DApp requested rpcCall\", msg)\n\n      if (!msg?.data?.params) {\n        throw new Error(\"invalid call object\")\n      }\n      const method = msg.data.params.call\n      const callTx = msg.data.params.params\n\n      const provider = getProvider(stateRef.current.network.id)\n      let result\n      if (method === \"eth_call\") {\n        result = await provider.call(callTx[0], callTx[1]).catch(err => {\n          throw err\n        })\n      } else if (method === \"eth_getBalance\") {\n        result = await provider.getBalance(callTx[0], callTx[1]).catch(err => {\n          throw err\n        })\n      } else if (method === \"eth_blockNumber\") {\n        result = await provider.getBlockNumber().catch(err => {\n          throw err\n        })\n      } else if (method === \"eth_getBlockByNumber\" || method === \"eth_getBlockByHash\") {\n        if (callTx[1]) {\n          result = await provider.getBlockWithTransactions(callTx[0]).catch(err => {\n            throw err\n          })\n        } else {\n          result = await provider.getBlock(callTx[0]).catch(err => {\n            throw err\n          })\n        }\n      } else if (method === \"eth_getTransactionByHash\") {\n        result = await provider.getTransaction(callTx[0]).catch(err => {\n          throw err\n        })\n      } else if (method === \"eth_getCode\") {\n        result = await provider.getCode(callTx[0], callTx[1]).catch(err => {\n          throw err\n        })\n      } else if (method === \"eth_getBlockByNumber\") {\n        result = await provider.getBlock(callTx[0], callTx[1]).catch(err => {\n          throw err\n        })\n      } else if (method === \"eth_getTransactionReceipt\") {\n        result = await provider.getTransactionReceipt(callTx[0]).catch(err => {\n          throw err\n        })\n      //requires custom from calls from SDK but are not implemented in gnosis SDK\n      } else if (method === 'gs_multi_send' || method === 'ambire_sendBatchTransaction') {\n        //As future proof as possible (tested with a tweaked eth_call)\n        msg.data.params.txs = callTx[0]\n        await handleSendTransactions(msg).catch(err => {\n          throw err\n        })\n      } else if (method === 'personal_sign') {\n        result = await handlePersonalSign(msg).catch(err => {\n          throw err\n        })\n      } else if (method === 'eth_estimateGas') {\n        result = await provider.estimateGas(callTx).catch(err => {\n          throw err\n        })\n      } \n      else {\n        throw new Error('Method not found: ' + method)\n      }\n      return result\n    })\n\n    connector.current.on(Methods.sendTransactions, (msg) => {\n      handleSendTransactions(msg)\n    })\n\n    const handleSendTransactions = (msg) => {\n      verbose > 0 && console.log('DApp requested sendTx', msg)\n\n      const data = msg?.data\n      if (!data) {\n        console.error('GS: no data')\n        return\n      }\n\n      const txs = data?.params?.txs\n      if (txs?.length) {\n        for (let i in txs) {\n          if (!txs[i].from) txs[i].from = stateRef.current.selectedAccount\n        }\n      } else {\n        console.error('GS: no txs in received payload')\n        return\n      }\n\n      for (let ix in txs) {\n        const id = 'gs_' + data.id + ':' + ix\n        const request = {\n          id,\n          forwardId: msg.data.id,\n          type: 'eth_sendTransaction',\n          isBatch: txs.length > 1,\n          txn: txs[ix], //if anyone finds a dapp that sends a bundle, please reach me out\n          chainId: stateRef.current.network.chainId,\n          account: stateRef.current.selectedAccount\n        }\n        //is reducer really needed here?\n        setRequests(prevRequests => prevRequests.find(x => x.id === request.id) ? prevRequests : [...prevRequests, request])\n      }\n    }\n\n    const handlePersonalSign = (msg) => {\n      verbose > 0 && console.log('DApp requested signMessage', msg)\n\n      const data = msg?.data\n      if (!data) {\n        console.error('GS: no data')\n        return\n      }\n\n      const id = 'gs_' + data.id\n      const message = data?.params?.message\n      if (!message) {\n        console.error('GS: no message in received payload')\n        return\n      }\n\n      const request = {\n        id,\n        forwardId: msg.data.id,\n        type: 'personal_sign',\n        txn: message,\n        chainId: stateRef.current.network.chainId,\n        account: stateRef.current.selectedAccount\n      }\n\n      setRequests(prevRequests => prevRequests.find(x => x.id === request.id) ? prevRequests : [...prevRequests, request])\n    }\n\n    connector.current.on(Methods.signMessage, (msg) => handlePersonalSign(msg))\n\n    connector.current.on(Methods.getTxBySafeTxHash, async (msg) => {\n      const {safeTxHash} = msg.data.params\n      const provider = getProvider(stateRef.current.network.id)\n      try {\n        const res = await provider.getTransaction(safeTxHash)\n\n        return res\n      } catch (e) {\n        console.error(\"GS: Err getting transaction \" + safeTxHash)\n        console.log(e)\n        return {}\n      }\n    })\n  }, [uniqueId, addToast, verbose, setRequests])\n\n\n  const disconnect = useCallback(() => {\n    verbose > 1 && console.log(\"GS: disconnecting connector\")\n    connector.current?.clear()\n  }, [verbose])\n\n\n  const resolveMany = (ids, resolution) => {\n    for (let req of requests.filter(x => ids.includes(x.id))) {\n      if (!req.isBatch || req.id.endsWith(':0')) {\n        const replyData = {\n          id: req.forwardId,\n          success: null,\n          txId: null,\n          error: null\n        }\n        if (!resolution) {\n          replyData.error = 'Nothing to resolve'\n          replyData.success = false\n        } else if (!resolution.success) {\n          replyData.error = resolution.message\n          replyData.success = false\n        } else { //onSuccess\n          replyData.success = true\n          replyData.txId = resolution.result\n          replyData.safeTxHash = resolution.result\n        }\n        if (!connector.current) {\n          //soft error handling: sendTransaction has issues\n          //throw new Error(\"gnosis safe connector not set\")\n          console.error('gnosis safe connector not set')\n        } else {\n          console.log('gnosis reply', replyData)\n          connector.current.send(replyData, req.forwardId, replyData.error)\n        }\n      }\n    }\n\n    setRequests(prevRequests => prevRequests.filter(x => !ids.includes(x.id)))\n  }\n\n  return {\n    requests,\n    resolveMany,\n    connect,\n    disconnect\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { ErrorBoundary } from './components/common';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <App />\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import networks from 'ambire-common/src/constants/networks'\n\n/**\n * Maps each network (by its `id`) to a web-specific icon.\n * Note: In case of adding a new network, don't forget to map it's icon here 🤞\n * @enum {string}\n */\n export const networkIconsById = {\n  ethereum: '/resources/networks/ethereum.png',\n  polygon: '/resources/networks/polygon.png',\n  avalanche: '/resources/networks/avalanche.png',\n  'binance-smart-chain': '/resources/networks/bsc.png',\n  fantom: '/resources/networks/fantom.png',\n  moonbeam: '/resources/networks/moonbeam.png',\n  moonriver: '/resources/networks/moonriver.png',\n  arbitrum: '/resources/networks/arbitrum.svg',\n  gnosis: '/resources/networks/gnosis.png',\n  kucoin: '/resources/networks/kucoin.svg',\n  optimism: '/resources/networks/optimism.jpg',\n  andromeda: '/resources/networks/andromeda.svg',\n  rinkeby: '/resources/networks/rinkeby.png',\n  cronos: '/resources/networks/cronos.png',\n  aurora: '/resources/networks/aurora.png',\n}\n\nexport default networks.map(network => ({ ...network, icon: networkIconsById[network.id]}))\n","import networks from 'consts/networks'\nimport { providers } from 'ethers'\n\n// Cache provider instances by a network id\n// For instance: { 'ethereum': new providers.StaticJsonRpcProvider }\nconst providersByNetwork = {}\n\nexport function getProvider (networkId) {\n  const network = networks.find(({ id }) => id === networkId)\n  if (!network) throw new Error(`getProvider called with non-existent network: ${networkId}`)\n\n  // If the provider instance is already created, just reuse the cached instance,\n  // instead of creating the same object again.\n  if (providersByNetwork[networkId]) return providersByNetwork[networkId]\n\n  const { id: name, chainId, ensName } = network\n  const url = network.rpc\n\n  if (url.startsWith('wss:')) {\n    providersByNetwork[networkId] = new providers.WebSocketProvider(url, { name: ensName || name, chainId })\n  } else {\n    providersByNetwork[networkId] = new providers.StaticJsonRpcProvider(url, { name: ensName || name, chainId })\n  }\n\n  return providersByNetwork[networkId]\n}\n\n","import './AddressBook.scss'\n\nimport { FaAddressCard } from 'react-icons/fa'\nimport { MdOutlineAdd, MdClose } from 'react-icons/md'\nimport { Button, DropDown, TextInput } from 'components/common'\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport AddressList from './AddressList/AddressList'\nimport { resolveUDomain } from 'lib/unstoppableDomains'\nimport { resolveENSDomain } from 'lib/ensDomains'\n\nconst AddressBook = ({ addresses, addAddress, removeAddress, newAddress, onClose, onSelectAddress, selectedNetwork }) => {\n    const [address, setAddress] = useState('')\n    const [name, setName] = useState('')\n    const [isOpen, setOpenMenu] = useState(false)\n    const [openAddAddress, setOpenAddAddress] = useState(false)\n    const timer = useRef(null)\n    const [uDAddress, setUDAddress] = useState('')\n    const [ensAddress, setEnsAddress] = useState('')\n\n    const selectAddress = address => {\n        onSelectAddress && onSelectAddress(uDAddress ? uDAddress : ensAddress ? ensAddress : address)\n        setOpenMenu(false)\n    }\n\n    const isAddAddressFormValid = (address.length && name.length && /^0x[a-fA-F0-9]{40}$/.test(uDAddress ? uDAddress : ensAddress ? ensAddress : address))\n    const onAddAddress = useCallback(() => {\n        setOpenMenu(false)\n        setOpenAddAddress(false)\n        addAddress(name, address, uDAddress ? { type: 'ud' } : ensAddress ? { type: 'ens' } : { type: 'pub' })\n    }, [addAddress, name, address, uDAddress, ensAddress])\n\n    const onDropDownChange = useCallback(state => {\n        setOpenMenu(state)\n        if (!state) {\n            setName('')\n            setAddress('')\n        }\n    }, [])\n\n    useEffect(() => !isOpen && onClose ? onClose() : null, [isOpen, onClose])\n\n    useEffect(() => {\n        if (newAddress) {\n            setAddress(newAddress)\n            setOpenMenu(true)\n            setOpenAddAddress(true)\n        }\n    }, [newAddress])\n\n    useEffect(() => {\n        if (timer.current) {\n            clearTimeout(timer.current)\n        }\n\n        const validateForm = async () => {\n            const UDAddress = await resolveUDomain(address, null, selectedNetwork.unstoppableDomainsChain)\n            const ensAddress = await resolveENSDomain(address)\n\n            if (UDAddress) setUDAddress(UDAddress)\n            else if (ensAddress) setEnsAddress(ensAddress)\n            else {\n                setUDAddress('')\n                setEnsAddress('')\n            }\n            \n            timer.current = null\n        }\n\n        timer.current = setTimeout(async () => {\n            return validateForm().catch(console.error)\n        }, 500)\n    }, [address, selectedNetwork.unstoppableDomainsChain])\n\n    return (\n        <DropDown title={<><FaAddressCard />Address Book</>} className=\"address-book\" open={isOpen} onChange={onDropDownChange}>\n            <div className=\"heading\">\n                <div className=\"title\">\n                    <FaAddressCard /> Address Book\n                </div>\n                {\n                    !openAddAddress ?\n                        <div className=\"button\" onClick={() => setOpenAddAddress(true)}>\n                            <MdOutlineAdd />\n                        </div>\n                        :\n                        <div className=\"button\" onClick={() => setOpenAddAddress(false)}>\n                            <MdClose />\n                        </div>\n                }\n            </div>\n            {\n                openAddAddress ?\n                    <div id=\"add-address\" className=\"content\">\n                        <div className=\"fields\">\n                            <TextInput autoComplete=\"nope\" placeholder=\"Name\" value={name} onInput={value => setName(value)} />\n                            <TextInput autoComplete=\"nope\" placeholder=\"Address\" value={address} onInput={value => setAddress(value)} />\n                        </div>\n                        <Button clear small disabled={!isAddAddressFormValid} onClick={onAddAddress}>\n                            <MdOutlineAdd /> Add Address\n                        </Button>\n                    </div>\n                    :\n                    !addresses.length ?\n                        <div className=\"content\">\n                            Your Address Book is empty.\n                        </div>\n                        :\n                        <div className=\"content\">\n                            <AddressList\n                                addresses={addresses}\n                                onSelectAddress={selectAddress}\n                                removeAddress={removeAddress}\n                            />\n                        </div>\n            }\n        </DropDown>\n    )\n}\n\nexport default AddressBook","import './AddressWarning.scss'\n\nimport { MdOutlineAdd } from 'react-icons/md'\nimport { Checkbox } from 'components/common'\nimport { useEffect, useMemo, useState } from 'react'\nimport { isValidAddress, isKnownTokenOrContract } from 'ambire-common/src/services/address'\nimport accountPresets from 'ambire-common/src/constants/accountPresets'\n\nconst AddressWarning = ({ address, onChange, onAddNewAddress, isKnownAddress, uDAddress, ensAddress }) => {\n    const [confirmed, setConfirmed] = useState(false)\n    const parsedAddr = uDAddress ? uDAddress : ensAddress ? ensAddress : address\n    const unknownWarning = useMemo(() => isValidAddress(parsedAddr) && !isKnownAddress(parsedAddr), [parsedAddr, isKnownAddress])\n    const smartContractWarning = useMemo(() => isKnownTokenOrContract(parsedAddr), [parsedAddr])\n\n    useEffect(() => {\n        if (onChange) onChange(confirmed)\n    }, [confirmed, onChange])\n\n    return (\n        <>\n            {\n                (!smartContractWarning && unknownWarning) && (address !== accountPresets.feeCollector) ?\n                    <div id=\"unknown-address-warning\">\n                        <Checkbox\n                            label=\"Confirm sending to a previously unknown address\"\n                            checked={confirmed}\n                            onChange={({ target }) => setConfirmed(target.checked)}\n                        />\n                        <div className=\"button\" onClick={onAddNewAddress}>\n                            <MdOutlineAdd/>\n                            Add it to the address book\n                        </div>\n                    </div>\n                    :\n                    null\n            }\n        </>\n    )\n}\n\nexport default AddressWarning","import './Chart.scss';\n\nimport DonutChart from \"react-donut-chart\";\nimport { useState } from 'react';\n\nconst Chart = ({ data, size }) => {\n    const [hoveredItem, setHoveredItem] = useState({});\n\n    const colors = [\n        \"#AA6AFF\",\n        \"#80FFDB\",\n        \"#8088FF\",\n        \"#E680FF\",\n        \"#A5FF80\",\n        \"#E6FF80\",\n        \"#FFC480\",\n        \"#FF8080\",\n    ];\n    \n    const strokeColor = \"transparent\";\n    const innerRadius = 0.5;\n    const selectedOffset = 0.05;\n\n    const onMouseEnter = (item) => {\n        setHoveredItem(item.label);\n    };\n\n    const onClick = (item, toggled) => {\n        if (toggled) {\n            console.log(item);\n        }\n    };\n\n    const sortData = data => {\n        return data.sort((a, b) => b.value - a.value);\n    };\n\n    const getItemColor = index => {\n        const colorCount = colors.length - 1;\n        return index > colorCount ? colors[index - (colors.length * Math.trunc(index / colors.length))] : colors[index];\n    };\n\n    return (\n        <div className=\"chart\">\n            <DonutChart\n                className=\"donut\"\n                height={size}\n                width={size}\n                onMouseEnter={(item) => onMouseEnter(item)}\n                data={sortData(data)}\n                colors={colors}\n                startAngle={-90}\n                strokeColor={strokeColor}\n                innerRadius={innerRadius}\n                selectedOffset={selectedOffset}\n                legend={false}\n                onClick={(item, toggled) => onClick(item, toggled)}\n            />\n            <div className=\"legend\" style={{maxHeight: size}}>\n                {\n                    data.map((item, i) => (\n                        <div className={`item ${hoveredItem === item.label ? 'active' : ''}`} key={`item-${i}`}>\n                            <div className=\"color\" style={{backgroundColor: getItemColor(i)}}/>\n                            <label>{ item.label }</label>\n                            <div className=\"separator\"></div>\n                            <div className=\"percent\">\n                                { parseFloat(item.value).toFixed(2) }%\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default Chart;","import React, { forwardRef } from 'react';\nimport './Checkbox.scss'\n\nconst Checkbox = forwardRef((props, ref) => {\n    const inputElem =  (\n        <input type=\"checkbox\" checked={props.checked} required={props.required} onChange={props.onChange} ref={ref}/>\n    )\n\n    return props.label ? (<label className={`checkbox-container ${props.disabled ? 'disabled': ''}`}>\n        {inputElem}\n        <div className=\"checkbox-mark\"></div>\n        <div className=\"checkbox-label\">{props.label}</div>\n    </label>) : (<>\n        {inputElem}\n        <div className=\"checkbox-mark\"></div>\n    </>)\n})\n\nexport { Checkbox as default }","import './DropDown.scss'\n\nimport { useEffect, useRef, useState } from 'react';\nimport { BsChevronDown } from 'react-icons/bs'\nimport { Borders as LoadingBorders } from 'components/common'\nimport { CSSTransition } from 'react-transition-group';\nimport useOnClickOutside from 'hooks/onClickOutside';\n\nexport default function DropDown({ children, id, icon, className, title, badge, open, closeOnClick, onChange, onOpen, onClose, style, isLoading }) {\n    const ref = useRef();\n    const transitionRef = useRef();\n    const [isMenuOpen, setMenuOpen] = useState(false);\n\n    useEffect(() => setMenuOpen(open), [open]);\n    useEffect(() => onChange && onChange(isMenuOpen), [onChange, isMenuOpen]);\n    useEffect(() => !isMenuOpen && onClose && onClose(), [isMenuOpen, onClose]);\n    useEffect(() => isMenuOpen && onOpen && onOpen(), [isMenuOpen, onOpen])\n    useOnClickOutside(ref, () => setMenuOpen(false));\n\n    return (\n        <div id={id} style={style} className={`dropdown ${className}`} ref={ref}>\n            <div className=\"content\" onClick={() => setMenuOpen(!isMenuOpen)}>\n                {\n                    icon ?\n                        <div className=\"icon\" style={{backgroundImage: `url(${icon})`}} />\n                        :\n                        null\n                }\n                <div className=\"title\">{ title }</div>\n                {\n                    badge ?\n                        <div className=\"badge\">\n                            { badge > 9 ? '9+' : badge }\n                        </div>\n                        :\n                        null\n                }\n                <div className=\"separator\"></div>\n                <div className={`handle ${isMenuOpen ? 'open' : ''}`}>\n                    <BsChevronDown size={20}></BsChevronDown>\n                </div>\n\n                { isLoading && <LoadingBorders /> }\n            </div>\n            <CSSTransition unmountOnExit in={isMenuOpen} timeout={200} classNames=\"fade\" nodeRef={transitionRef}>\n                <div className=\"menu\" ref={transitionRef} onClick={closeOnClick ? () => setMenuOpen(false) : null}>\n                    { children }\n                </div>\n            </CSSTransition>\n        </div>\n    )\n}\n","import './Loading.scss';\n\nimport { AiOutlineLoading } from 'react-icons/ai';\n\nconst Loading = () => {\n    return (\n        <div className=\"loading\">\n            <div className=\"icon\">\n                <AiOutlineLoading size={35}/>\n            </div>\n        </div>\n    );\n};\n\nexport default Loading;","import './Loading.scss'\n\nconst Borders = () => {\n    return (\n      <div className='loading-borders'>\n        <span />\n        <span />\n        <span />\n        <span />\n      </div>\n    )\n}\n\nexport default Borders\n","import './Loading.scss';\n\nconst Skeleton = ({children}) => {\n    return (\n        <div className=\"Skeleton\">\n            <div className=\"\">\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default Skeleton;","import './Modal.scss'\n\nimport { MdClose } from 'react-icons/md'\nimport { useModals } from 'hooks'\n\nconst Modal = ({ children, id, title, buttons, isCloseBtnShown = true, onClose, topLeft }) => {\n    const { onHideModal } = useModals()\n\n    const onCloseModal = () => {\n        onHideModal()\n        onClose && onClose()\n    }\n\n    return (\n        <div id={id} className={`modal ${buttons ? 'buttons' : ''}`}>\n            <div className=\"heading\">\n                <div className=\"title\"  style={topLeft ? { maxWidth: '360px' } : {}}>{ title }</div>\n                {topLeft && <div className=\"top-left\">{ topLeft }</div>}\n                {isCloseBtnShown ? (<div className=\"close\" onClick={onCloseModal}>\n                    <MdClose/>\n                </div>) : <></>}\n            </div>\n            <div className=\"content\">{ children }</div>\n            { buttons ? \n                <div className=\"buttons\">{ buttons }</div>\n            : null}\n        </div>\n    )\n}\n\nexport default Modal\n","import './Radios.scss'\n\nimport { useState } from 'react'\n\nconst Radios = ({ radios, defaultValue, onChange, value, row }) => {\n    const [currentValue, setCurrentValue] = useState(defaultValue || null)\n    const controlledValue = value || currentValue\n\n    const onSelect = value => {\n        setCurrentValue(value)\n        onChange && onChange(value)\n    }\n\n    return (\n        <div className={`radios-container${row ? ' row' : ''}`}>\n            {\n                radios.map(({label, value, disabled }, i) => (\n                    <div className={`radio-container ${value === controlledValue ? 'active' : ''} ${disabled ? 'disabled' : ''}`} key={`radio-${i}`} onClick={() => !disabled && onSelect(value)}>\n                        <div className=\"radio\"></div>\n                        <label>{ label }</label>\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Radios","import { useCallback, useEffect, useState } from 'react'\nimport './Segments.scss'\n\nconst Segments = ({ small, defaultValue, segments, onChange, hidePrivateValue }) => {\n    const [value, setValue] = useState(defaultValue);\n\n    const setSegment = useCallback(value => {\n        setValue(value)\n        onChange(value)\n    }, [onChange])\n\n    useEffect(() => {\n        setSegment(defaultValue)\n    }, [defaultValue, setSegment])\n\n    return (\n        <div className={`segments ${small ? 'small': ''}`}>\n            {\n                segments.map(segment => (\n                    <div className={`segment ${segment.value === value ? 'active' : ''}`} key={segment.value} onClick={() => setSegment(segment.value)}>\n                        {\n                            segment.icon ?\n                                <div className=\"icon\">{ segment.icon }</div>\n                                :\n                                null\n                        }\n                        { segment.value }\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Segments","import './Select.scss';\n\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { BsChevronDown } from 'react-icons/bs'\nimport { CSSTransition } from 'react-transition-group';\nimport useOnClickOutside from 'hooks/onClickOutside';\nimport { TextInput } from 'components/common';\nimport { MdOutlineClose, MdDragIndicator } from 'react-icons/md';\n\nconst Select = ({ children, native, monospace, searchable, disabled, label, defaultValue, items, onChange, className, draggable, dragStart, dragEnter, dragTarget, drop, draggableHeader, displayDraggableHeader }) => {\n    const ref = useRef();\n    const hiddenTextInput = useRef();\n    const transitionRef = useRef();\n    const [isOpen, setOpen] = useState();\n    const [search, setSearch] = useState('');\n    const [selectedItem, setSelectedItem] = useState({\n        label: null,\n        value: null,\n        icon: null,\n    });\n    const [failedImg, setFailedImg] = useState([])\n\n    const filteredItems = search.length ? items.filter(({ label }) => label.toLowerCase().includes(search.toLowerCase())) : items\n\n    const selectItem = useCallback(item => {\n        setOpen(false)\n        setSearch('')\n        setSelectedItem(item)\n        onChange(item)\n    }, [onChange])\n\n    useEffect(() => {\n        const item = items.find(item => item.value === defaultValue) || items[0]\n        if (item && (selectedItem.value !== item.value)) selectItem(item)\n    }, [items, defaultValue, selectedItem, selectItem])\n\n    useEffect(() => {\n        if (!items.length) return setSelectedItem({})\n    }, [items])\n\n    useEffect(() => {\n        if (isOpen && searchable) {\n            hiddenTextInput.current.focus()\n            setSearch('')\n        }\n    }, [isOpen, searchable])\n\n    useOnClickOutside(ref, () => setOpen(false));\n\n    const getIcon = ({ icon, fallbackIcon, label }) => {\n        if (!icon) return null\n        const url = failedImg.includes(icon) && fallbackIcon ? fallbackIcon : icon\n        return (\n            failedImg.includes(url)\n                ? < div className=\"icon\" />\n                : <img\n                    className=\"icon\"\n                    src={url}\n                    draggable=\"false\"\n                    alt={label}\n                    onError={() => setFailedImg(failed => [...failed, url])}\n                />\n        )\n    }\n\n    return (\n        !native ?\n            <div className={`select ${monospace ? 'monospace' : ''} ${disabled ? 'disabled' : ''} ${searchable ? 'searchable' : ''} ${className || ''}`} ref={ref}>\n                {\n                    label ?\n                        <label>{label}</label>\n                        :\n                        null\n                }\n                {\n                    selectedItem ?\n                        <div className=\"select-container\">\n                            <div className=\"select-input\" onClick={() => setOpen(!isOpen)}\n                                >\n                                {getIcon(selectedItem)}\n                                <div className=\"label\">{selectedItem.label || selectedItem.value}</div>\n                                {selectedItem.extra && <div className=\"extra\">{selectedItem.extra}</div>}\n                                {/* <div className=\"separator\"></div> */}\n                                <div className={`handle ${isOpen ? 'open' : ''}`}>\n                                    <BsChevronDown size={20}></BsChevronDown>\n                                </div>\n                            </div>\n                            {\n                                <CSSTransition unmountOnExit in={isOpen} timeout={200} classNames=\"fade\" nodeRef={transitionRef}>\n                                    <div className=\"select-menu\" ref={transitionRef}>\n                                        {displayDraggableHeader && draggableHeader}\n                                        {\n                                            searchable ?\n                                                <TextInput\n                                                    className=\"select-search-input\"\n                                                    disabled={disabled}\n                                                    placeholder=\"Search\"\n                                                    value={search}\n                                                    ref={hiddenTextInput}\n                                                    buttonLabel={search.length ? <MdOutlineClose /> : null}\n                                                    onInput={value => setSearch(value)}\n                                                    onButtonClick={() => setSearch('')}\n                                                />\n                                                :\n                                                null\n                                        }\n                                        {\n                                            filteredItems.map((item, i) => (\n                                                <div\n                                                    className={`option ${(item.value === selectedItem.value) && (item.label === selectedItem.label) ? 'active' : ''} ${item.disabled ? 'disabled' : ''}`}\n                                                    key={item.value + item.label}\n                                                    onClick={() => !item.disabled && selectItem(item)}\n                                                    draggable={draggable}\n                                                    onDragStart={(e) => draggable && dragStart(e, i)}\n                                                    onMouseDown={(e) => draggable && dragTarget(e, i)}\n                                                    onDragEnter={(e) => draggable && dragEnter(e, i)}\n                                                    onDragEnd={() => draggable && drop(filteredItems)}\n                                                    onDragOver={(e) => e.preventDefault()}\n                                                >\n                                                    {draggable && <MdDragIndicator className='drag-handle' id={`${i}-handle`} />}\n                                                    {getIcon(item)}\n                                                    <div className=\"label\">{item.label || item.value}</div>\n                                                    {item.extra && <div className=\"extra\">{item.extra}</div>}\n                                                </div>\n                                            ))\n                                        }\n                                        {children}\n                                    </div>\n                                </CSSTransition>\n                            }\n                        </div>\n                        :\n                        null\n                }\n            </div>\n            :\n            <select className=\"select\" disabled={disabled} onChange={ev => onChange(ev.target.value)} defaultValue={defaultValue}>\n                {\n                    items.map(item => (\n                        <option key={item.value + item.label} value={item.value} disabled={item.disabled ? 'disabled' : undefined}>\n                            {item.label || item.value}\n                        </option>\n                    ))\n                }\n            </select>\n    );\n};\n\nexport default Select;","import './NumberInput.scss'\n\nconst NumberInput = ({ disabled, precision, label, value, button, onButtonClick, onInput }) => {\n    const onInputValue = ({ target }) => {\n        if (!onInput) return\n        if (!target.value.length) return onInput('')\n\n        const afterDecimals = target.value.split('.')[1] \n        if (afterDecimals && afterDecimals.length > precision) return\n\n        const isIntOrFloat = /^[0-9]+\\.{0,1}[0-9]*$/g.test(target.value)\n        isIntOrFloat && onInput(target.value)\n    }\n\n    return (\n        <div className={`number-input ${disabled ? 'disabled' : ''}`}>\n            {\n                label ?\n                    <label>{ label }</label>\n                    :\n                    null\n            }\n            <div className=\"input\">\n                <input\n                    type=\"text\"\n                    disabled={disabled}\n                    value={value}\n                    onInput={onInputValue}\n                />\n                {\n                    button ?\n                        <div className=\"button\" onClick={onButtonClick}>\n                            { button }\n                        </div>\n                        :\n                        null\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default NumberInput","import './PasswordInput.scss'\n\nimport { forwardRef, useState } from 'react'\nimport { MdOutlineRemoveRedEye, MdRemoveRedEye } from 'react-icons/md'\n\nconst PasswordInput = forwardRef(({ label, placeholder, autoComplete, peakPassword, disabled, value, onInput, onChange }, ref) => {\n    const [showPassword, setShowPassword] = useState()\n\n    return (\n        <div className=\"password-input\">\n            {\n                label ?\n                    <label>{ label }</label>\n                    :\n                    null\n            }\n            <div className=\"input-container\">\n                <input\n                    value={value}\n                    autoComplete={autoComplete}\n                    type={!showPassword ? 'password' : 'text'}\n                    placeholder={placeholder}\n                    disabled={disabled}\n                    onInput={ev => onInput && onInput(ev.target.value)}\n                    onChange={ev => onChange && onChange(ev.target.value)}\n                    ref={ref}\n                />\n                {\n                    peakPassword ?\n                        !showPassword ?\n                            <div className=\"button\" onClick={() => setShowPassword(true)}>\n                                <MdOutlineRemoveRedEye size={20}/>\n                            </div>\n                            :\n                            <div className=\"button\" onClick={() => setShowPassword(false)}>\n                                <MdRemoveRedEye size={20}/>\n                            </div>\n                        :\n                        null\n                }\n            </div>\n        </div>\n    )\n})\n\nexport default PasswordInput","import './Toggle.scss'\n\nconst Toggle = ({ defaultChecked, checked, onChange }) => {\n    return (\n        <label className=\"toggle\">\n            <input type=\"checkbox\" defaultChecked={defaultChecked} checked={checked} onChange={onChange}/>\n            <span className=\"slider\"></span>\n        </label>\n    )\n}\n\nexport default Toggle","import { useState } from 'react';\nimport './ToolTip.scss'\n\nconst ToolTip = ({ children, label, htmlContent, disabled, className }) => {\n    const [mousePosition, setMousePosition] = useState({ x: 0, y: 0})\n\n    const screenBorder = 300\n    const margin = 15\n    const onMouseMove = ({ clientY, clientX }) => {\n        if (clientX > window.innerWidth - screenBorder) clientX = clientX - screenBorder\n        setMousePosition({ x: clientX + margin, y: clientY + margin })\n    }\n\n    const newLineText = text => {\n        return text.split('\\n').map((str, key) => <div key={key}>{str}</div>)\n    }\n\n    return (\n        <div\n            className={`tooltip ${className ? className : ''}`}\n            onMouseMove={onMouseMove}\n        >\n            { children }\n            {\n                !disabled ?\n                    <div className=\"tooltip-label\" style={{top: mousePosition.y, left: mousePosition.x}}>{ htmlContent || newLineText(label) }</div>\n                    :\n                    null\n            }\n        </div>\n    )\n}\n\nexport default ToolTip\n","import './NoFundsPlaceholder.scss'\n\nimport { GiReceiveMoney } from 'react-icons/gi'\nimport { NavLink } from 'react-router-dom'\nimport { Button } from 'components/common'\n\nconst NoFundsPlaceholder = () => {\n    return (\n        <div id=\"no-funds-placeholder\">\n            <label>You don't have any funds on this account.</label>\n            <NavLink to=\"/wallet/deposit\">\n                <Button small icon={<GiReceiveMoney/>}>Deposit</Button>\n            </NavLink>\n        </div>\n    )\n}\n\nexport default NoFundsPlaceholder","import './CountdownTimer.scss'\n\nimport { useState, useEffect } from 'react'\nimport { MdOutlineAvTimer } from 'react-icons/md'\n\nconst CountdownTimer = ({ seconds, setTimeIsUp }) => {\n    const [counter, setCounter] = useState(seconds)\n    const [timerFormatted, setTimerFormatted] = useState('')\n\n    const isTimeIsUp = timerFormatted === '0:00'\n    \n    useEffect(() => {\n        const timer =\n            counter > 0 && setInterval(() => setCounter(counter - 1), 1000)\n        const minutes = Math.floor(counter / 60)\n        let seconds = counter - minutes * 60\n        if (seconds < 10) {\n            seconds = `0${seconds}`\n        }\n\n        if (isTimeIsUp) setTimeIsUp(true)\n        setTimerFormatted(`${minutes}:${seconds}`)\n\n        return () => clearInterval(timer)\n    }, [counter, isTimeIsUp, setTimeIsUp])\n\n    return (\n        <div\n            id=\"countdown-timer\"\n            style={isTimeIsUp ? { color: 'red' } : {}}\n        >\n            <MdOutlineAvTimer /> {timerFormatted}\n        </div>\n    )\n}\n\nexport default CountdownTimer\n","import React from 'react'\nimport { ErrorScreen } from 'components/common'\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    console.log(error)\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  render() {\n    // In case of error, show a helpful UI\n    if (this.state.hasError) {\n      return <ErrorScreen />\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","import './ErrorScreen.scss'\nimport { Button } from 'components/common'\n\nconst ErrorScreen = () => {\n  const refresh = (e) => {\n    e.preventDefault()\n    window.location.reload(true)\n  } \n  return (\n    <div className=\"error-screen\">\n      <div className=\"error-screen-content panel\">\n        <a href={window.location.origin}>\n          <div className=\"logo\" />\n        </a>\n        <h1>Something went wrong, but your funds are safe!</h1>\n        <p>Please try to <a href=\"/\" className=\"error-screen-content-refresh-btn\" onClick={refresh}>refresh</a> the current page.</p>\n        <p>If the problem persists,<br />please contact us via our Help Center.</p>\n        <div className=\"error-screen-buttons\">\n          <a href=\"https://help.ambire.com/hc/en-us/categories/4404980091538-Ambire-Wallet\" target=\"_blank\" rel=\"noreferrer\">\n            <Button title=\"Visit the Help center\" small>Help center</Button>\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ErrorScreen","import './Stepper.scss'\nimport {FC} from \"react\";\n\ninterface Step {\n  name: string;\n}\n\ntype props = {\n  steps: Step[]\n  currentStep: Number\n  noLabels: boolean\n}\n\n//step\nconst Stepper: FC<props> = ({steps, currentStep, noLabels = false}) => {\n\n  return (\n    <div className='stepper'>\n      {\n        steps.map((s, index) => {\n          return (\n            <div className={`step step${currentStep > index ? 'Prev' : (currentStep === index ? 'Current' : 'Next')}`} key={index}>\n              <span className='stepStatus'></span>\n              {\n                !noLabels &&\n                <span className='stepName'>{s.name}</span>\n              }\n              {\n                index > 0 &&\n                <span className='stepBar stepBarPrev'></span>\n              }\n\n              {\n                index < steps.length - 1 &&\n                <span className='stepBar stepBarNext'></span>\n              }\n            </div>)\n        })\n      }\n    </div>\n  )\n}\n\nexport default Stepper\n","import './DAppIncompatibilityWarningMsg.scss'\n\nimport { IoIosWarning } from 'react-icons/io'\n\nexport default function DAppIncompatibilityWarningMsg({title = 'Warning'}) {\n    return (<div id='dangerMsg'>\n    <div className='err-title'><IoIosWarning/>{title}</div>\n    <div className='error-message'>\n      We detected that this dApp intentionally blocks smart contract calls. This is a highly disruptive practice, as it breaks support for all smart wallets (Ambire, Gnosis Safe and others). We recommend you report this to the dApp ASAP and ask them to fix it.\n    </div>\n  </div>) \n}","export const fetch = require('node-fetch')\n\nexport async function fetchPost (url, body) {\n\tconst r = await fetch(url, {\n\t\theaders: { 'content-type': 'application/json' },\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify(body)\n\t})\n\treturn r.json()\n}\n\nexport const fetchGet = async url => {\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  if (response.status !== 200) throw new Error('Failed to fetch')\n  return response.json()\n}\n\nexport async function fetchCaught (url, params) {\n    let resp\n    try {\n      resp = await fetch(url, params)\n    } catch (e) {\n      console.error(e)\n      return { errMsg: `Unexpected error: ${e && e.message}` }\n    }\n    let body\n    try {\n      body = await resp.json()\n    } catch(e) {\n      console.error(e)\n      return { errMsg: `Unexpected error: ${resp.status}, ${e && e.message}`, resp }\n    }\n    return { body, resp, errMsg: '' }\n}"],"sourceRoot":""}