(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[30],{1630:function(e,a,t){e.exports={signatures:"Signatures_signatures__26K2K",title:"Signatures_title__1_dIL",mainContainer:"Signatures_mainContainer__2zIg9",colDapp:"Signatures_colDapp__15VA_",colSigtype:"Signatures_colSigtype__1_9l9",colDate:"Signatures_colDate__2gYWV",colExpand:"Signatures_colExpand__38JJ1",headerContainer:"Signatures_headerContainer__C-ZIO",subContainer:"Signatures_subContainer__1sq0O",subContainerVisible:"Signatures_subContainerVisible__y8Lc7",dapp:"Signatures_dapp__1yP9H",dappIcon:"Signatures_dappIcon__gtPHA",signatureExpand:"Signatures_signatureExpand__2W_nu",subContainerExpanded:"Signatures_subContainerExpanded__1BJdH",messageContent:"Signatures_messageContent__3lpWT"}},1650:function(e,a,t){"use strict";t.r(a);var s=t(11),n=t(7),i=t(9),c=t(1630),r=t.n(c),d=t(37),l=t(85),o=t(2),j=t(20),g=t(213),u=t(148),b=t(34),p=t(27),O=t.n(p),m=t(4);function x(e){if(Object(j.isHexString)(e))try{return Object(j.toUtf8String)(e)}catch(a){return e}return(null===e||void 0===e?void 0:e.toString)?e.toString():e+""}a.default=function(e){var a=e.selectedAcc,t=e.selectedNetwork,c=e.privateMode,p=Object(d.e)({storage:d.e,key:"signedMessages",defaultValue:[]}),_=Object(i.a)(p,2),h=_[0],v=_[1],S=Object(o.useMemo)((function(){return h.filter((function(e){return e.accountId===a&&e.networkId===t.chainId})).sort((function(e,a){return a.date-e.date}))}),[h,t,a]),N=Object(o.useState)({}),C=Object(i.a)(N,2),f=C[0],y=C[1],D=Object(b.useParams)().page,w=localStorage.signedMessages;Object(o.useEffect)((function(){try{v(JSON.parse(w))}catch(e){console.error("SignedMessages localstorage: invalid format")}}),[v,w]);var E=Object(o.useState)([]),P=Object(i.a)(E,2),I=P[0],k=P[1];return Object(m.jsxs)("div",{className:O()(r.a.signatures),children:[Object(m.jsxs)("div",{className:O()(r.a.title),children:[Object(m.jsx)("h2",{children:"Signed Messages History"}),Object(m.jsx)(l.r,{items:S,setPaginatedItems:k,itemsPerPage:8,url:"/wallet/messages/{p}",parentPage:D})]}),S.length?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:O()(r.a.mainContainer),children:[Object(m.jsxs)("div",{className:O()(r.a.headerContainer),children:[Object(m.jsx)("div",{className:O()(r.a.dapp,r.a.colDapp),children:Object(m.jsx)("div",{className:O()(r.a.dappTitle),children:"Dapp"})}),Object(m.jsx)("div",{className:O()(r.a.colSigtype),children:"Type"}),Object(m.jsx)("div",{className:O()(r.a.colDate),children:"Signed on"}),Object(m.jsx)("div",{className:O()(r.a.colExpand,r.a.signatureExpand)})]}),I&&I.map((function(e,a){var t,i,c=Object(j.id)(JSON.stringify(e));return Object(m.jsxs)("div",{className:O()(r.a.subContainer),children:[Object(m.jsxs)("div",{className:O()(r.a.subContainerVisible),children:[Object(m.jsxs)("div",{className:O()(r.a.dapp,r.a.colDapp),children:[Object(m.jsx)("div",{className:O()(r.a.dappIcon),children:(null===(t=e.dApp)||void 0===t?void 0:t.icons[0])?Object(m.jsx)(l.m,{src:e.dApp.icons[0],size:32}):Object(m.jsx)(g.a,{style:{opacity:.5}})}),Object(m.jsx)("div",{className:O()(r.a.dappTitle),children:(null===(i=e.dApp)||void 0===i?void 0:i.name)||"Unknown dapp"})]}),Object(m.jsx)("div",{className:O()(r.a.colSigtype),children:e.typed?"1271 TypedData":"Standard"}),Object(m.jsx)("div",{className:O()(r.a.colDate),children:"".concat(new Date(e.date).toLocaleDateString()," ").concat(new Date(e.date).toLocaleTimeString())}),Object(m.jsx)("div",{className:O()(r.a.colExpand,r.a.signatureExpand),onClick:function(){y((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(s.a)({},c,!e[c]))}))},children:f[c]?Object(m.jsx)(u.e,{}):Object(m.jsx)(u.c,{})})]}),f[c]&&Object(m.jsxs)("div",{className:O()(r.a.subContainerExpanded),children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Signer"}),Object(m.jsx)("div",{className:O()(r.a.messageContent),children:e.signer.address||e.signer.quickAcc})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Message"}),Object(m.jsx)("div",{className:O()(r.a.messageContent),children:e.typed?Object(m.jsx)("div",{children:JSON.stringify(e.message,null," ")}):Object(m.jsx)("div",{children:x(e.message)})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Signature"}),Object(m.jsx)("div",{className:O()(r.a.messageContent),children:e.signature})]})]})]},a)}))]}),Object(m.jsx)(l.r,{items:S,setPaginatedItems:k,itemsPerPage:8,url:"/wallet/messages/{p}",parentPage:D})]}):Object(m.jsxs)("div",{className:O()(r.a.mainContainer),children:["No messages signed with the account ",c.hidePrivateValue(a)," yet on ",t.id]})]})}}}]);
//# sourceMappingURL=30.12f5b59e.chunk.js.map