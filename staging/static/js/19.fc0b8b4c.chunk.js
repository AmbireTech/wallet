(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[19],{1578:function(e,t,a){e.exports={transferButton:"Send_transferButton__11xeZ",wrapper:"Send_wrapper__22j17",confirmations:"Send_confirmations__3pBT1",validationError:"Send_validationError__f9914",content:"Send_content__2WlaZ",amountLabel:"Send_amountLabel__Oa2V0",separator:"Send_separator__27pbS",gasTankMsg:"Send_gasTankMsg__1bNA-",gasTankConvertMsg:"Send_gasTankConvertMsg__2hTnp",recipientField:"Send_recipientField__1ejHB",recipientInput:"Send_recipientInput__3iQR1",dropdown:"Send_dropdown__1D7Lq",udomainsLogo:"Send_udomainsLogo__359bF",udomainsLogoActive:"Send_udomainsLogoActive__3_M1J",ensLogo:"Send_ensLogo__9dZju",ensLogoActive:"Send_ensLogoActive__2loey",binanceAddressWarning:"Send_binanceAddressWarning__X8yPH",checkBoxLabel:"Send_checkBoxLabel__2m7tQ"}},1581:function(e,t,a){e.exports={wrapper:"Sell_wrapper__1yYqN",provider:"Sell_provider__2chW1",logo:"Sell_logo__z0Q48",details:"Sell_details__2bFOP",type:"Sell_type__1jzeb",fees:"Sell_fees__2D6NA",limits:"Sell_limits__mjYuK",currencies:"Sell_currencies__1F86P",disabled:"Sell_disabled__1zZ4u",networkWarning:"Sell_networkWarning__15hzn"}},1582:function(e,t,a){e.exports={addressesButton:"Addresses_addressesButton__2gw1d",wrapper:"Addresses_wrapper__2fkD9",addressList:"Addresses_addressList__1oXX6",title:"Addresses_title__dwjZC",separator:"Addresses_separator__1OSZH",item:"Addresses_item__2G0-3",details:"Addresses_details__3NAv3",address:"Addresses_address__1RlKw",button:"Addresses_button__235kc"}},1583:function(e,t,a){e.exports={panel:"Transfer_panel__3xc_N",wrapper:"Transfer_wrapper__1zpDw"}},1584:function(e,t,a){e.exports={tabs:"Tabs_tabs__1TQob",button:"Tabs_button__2_ceT",active:"Tabs_active__1xX0X"}},1658:function(e,t,a){"use strict";a.r(t);var s=a(7),n=a(9),r=a(34),c=a(2),o=a(147),i=a(100),d=a(11),u=a(15),l=a(3),b=a.n(l),m=a(12),p=a(535),f=a(52),j=a(62),v=a(20),O=a(46),h=a(85),g=a(623),_=a(217),y=a(57),x=a(504),w=a(517),k=a(218),A=a(786),S=a(37),T=a(27),N=a.n(T),C=a(1578),L=a.n(C),D=a(4),F=new v.Interface(a(509)),U=["Binance","Huobi","KuCoin","Gate.io","FTX"],M=function(e){var t=e.history,a=e.portfolio,s=e.selectedAcc,r=e.selectedNetwork,o=e.addRequest,i=e.addressBook,l=e.relayerURL,v=e.address,T=e.setAddress,C=e.gasTankDetails,M=e.asset,B=e.setAsset,R=e.tokenAddress,I=e.selectedAsset,E=i.addresses,P=i.addAddress,z=i.removeAddress,G=i.isKnownAddress,W=Object(A.a)({relayerURL:l,selectedAcc:s,network:r,portfolio:a,useRelayerData:S.j}).feeAssetsRes,Y=W&&W.length&&W.filter((function(e){return e.network===r.id&&!e.disableGasTankDeposit})),X=Object(O.a)().addToast,J=Object(c.useState)(0),V=Object(n.a)(J,2),Z=V[0],H=V[1],K=Object(c.useState)(""),q=Object(n.a)(K,2),Q=q[0],$=q[1],ee=Object(c.useState)(""),te=Object(n.a)(ee,2),ae=te[0],se=te[1],ne=Object(c.useState)(""),re=Object(n.a)(ne,2),ce=re[0],oe=re[1],ie=Object(c.useState)(!0),de=Object(n.a)(ie,2),ue=de[0],le=de[1],be=Object(c.useState)(!1),me=Object(n.a)(be,2),pe=me[0],fe=me[1],je=Object(c.useState)(!1),ve=Object(n.a)(je,2),Oe=ve[0],he=ve[1],ge=Object(c.useState)(""),_e=Object(n.a)(ge,2),ye=_e[0],xe=_e[1],we=Object(c.useState)({success:{amount:!1,address:!1},messages:{amount:"",address:""}}),ke=Object(n.a)(we,2),Ae=ke[0],Se=ke[1],Te=Object(c.useState)(""),Ne=Object(n.a)(Te,2),Ce=Ne[0],Le=Ne[1],De=Object(c.useRef)(null),Fe=((null===C||void 0===C?void 0:C.isTopUp)?a.tokens.filter((function(e){return Y&&(null===Y||void 0===Y?void 0:Y.some((function(t){return t.address.toLowerCase()===e.address.toLowerCase()})))})):a.tokens).map((function(e){var t=e.label,a=e.symbol,s=e.address,n=e.img,r=e.tokenImageUrl,c=e.network;return{label:t||a,value:s,icon:n||r,fallbackIcon:Object(x.a)(c,s)}})),Ue=Object(c.useMemo)((function(){if(!I)return{maxAmount:"0",maxAmountFormatted:"0.00"};var e=I.balanceRaw,t=I.decimals,a=I.balance;return{maxAmount:j.ethers.utils.formatUnits(e,t),maxAmountFormatted:Object(w.a)(a,!0,t)}}),[I]),Me=Ue.maxAmount,Be=Ue.maxAmountFormatted,Re=Object(c.useMemo)((function(){return!C&&0===Number(R)&&y.a.map((function(e){return e.id})).filter((function(e){return"ethereum"!==e})).includes(r.id)}),[C,R,r.id]),Ie=function(e){if(e){var t=I.decimals,a=j.ethers.utils.parseUnits(e,t).toHexString();$(a)}H(e)};Object(c.useEffect)((function(){if(Le(""),null===C||void 0===C?void 0:C.isTopUp){var e=Y&&Y.find((function(e){var t,a;return(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null===I||void 0===I||null===(a=I.address)||void 0===a?void 0:a.toLowerCase())}));if(null===e||void 0===e?void 0:e.baseToken){var t=Y&&Y.find((function(t){return t.address.toLowerCase()===e.baseToken.toLowerCase()}));Le("Token ".concat(e.symbol.toUpperCase()," will be converted to ").concat(t.symbol.toUpperCase()," without additional fees."))}}}),[Y,null===C||void 0===C?void 0:C.isTopUp,I]),Object(c.useEffect)((function(){H(0),$(""),he(!1)}),[M,r.id]),Object(c.useEffect)((function(){I&&t.replace({pathname:"/wallet/transfer/".concat(0!==Number(M)?M:I.symbol)})}),[M,t,I]),Object(c.useEffect)((function(){var e=Object(g.d)(Z,I);if(v.startsWith("0x")&&-1===v.indexOf(".")){""!==ae&&se(""),""!==ce&&oe("");var t=Object(g.c)(v,s,pe,G);Se({success:{amount:e.success,address:t.success},messages:{amount:e.message?e.message:"",address:t.message?t.message:""}}),le(!t.success||!e.success||Re&&!Oe)}else{De.current&&clearTimeout(De.current);var a=function(){var t=Object(m.a)(b.a.mark((function t(){var a,n,c,o,i,d,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.a)(v,I?I.symbol:null,r.unstoppableDomainsChain);case 2:return a=t.sent,n=Object(k.a)(I?I.symbol:null),t.next=6,Object(k.b)(v,n);case 6:c=t.sent,De.current=null,o=!!a,d="",d=(i=!!c)?c:o?a:v,u=Object(g.c)(d,s,pe,G,o,i),se(a),oe(c),Se({success:{amount:e.success,address:u.success},messages:{amount:e.message?e.message:"",address:u.message?u.message:""}}),le(!u.success||!e.success||Re&&!Oe);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();De.current=setTimeout(Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a().catch(console.error));case 1:case"end":return e.stop()}}),e)}))),300)}return function(){return clearTimeout(De.current)}}),[v,Z,s,I,pe,Re,Oe,G,X,r,P,ae,ue,ce]);var Ee=Object(D.jsxs)("div",{className:L.a.amountLabel,children:["Available Amount: ",Object(D.jsxs)("span",{children:[Be," ",null===I||void 0===I?void 0:I.symbol]})]}),Pe=[].concat(Object(u.a)(Fe.filter((function(e){return"wallet"===e.label.toLowerCase()}))),Object(u.a)(Fe.filter((function(e){return"wallet"!==e.label.toLowerCase()})).sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1}))));return a.isCurrNetworkBalanceLoading?Object(D.jsx)(h.n,{}):Pe.length?Object(D.jsxs)("div",{className:L.a.wrapper,children:[Object(D.jsxs)("div",{className:L.a.content,children:[Object(D.jsx)(h.w,{searchable:!0,defaultValue:M,items:Pe,onChange:function(e){var t=e.value;return B(t)}}),Ce?Object(D.jsxs)("p",{className:L.a.gasTankConvertMsg,children:[Object(D.jsx)(f.N,{})," ",Ce]}):Object(D.jsx)(D.Fragment,{}),Object(D.jsx)(h.q,{label:Ee,value:Z,precision:null===I||void 0===I?void 0:I.decimals,onInput:Ie,button:"MAX",onButtonClick:function(){return Ie(Me)}}),Ae.messages.amount&&Object(D.jsxs)("div",{className:L.a.validationError,children:[Object(D.jsx)(p.k,{size:12}),"\xa0",Ae.messages.amount]}),C?Object(D.jsxs)("p",{className:L.a.gasTankMsg,children:[Object(D.jsx)(f.N,{})," ",null===C||void 0===C?void 0:C.gasTankMsg]}):Object(D.jsxs)("div",{className:L.a.recipientField,children:[Object(D.jsx)(h.z,{placeholder:"Recipient",info:"Please double-check the recipient address, blockchain transactions are not reversible.",value:v,onInput:T,className:L.a.recipientInput,inputContainerClass:L.a.textInputContainer}),Object(D.jsx)(h.B,{label:ce?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(D.jsx)("div",{className:N()(L.a.ensLogo,Object(d.a)({},L.a.ensLogoActive,ce))})}),Object(D.jsx)(h.B,{label:ae?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(D.jsx)("div",{className:N()(L.a.udomainsLogo,Object(d.a)({},L.a.udomainsLogoActive,ae))})}),Object(D.jsx)(h.a,{addresses:E.filter((function(e){return e.address!==s})),addAddress:P,removeAddress:z,newAddress:ye,onClose:function(){return xe(null)},onSelectAddress:function(e){return T(e)},selectedNetwork:r,className:L.a.dropdown})]}),Object(D.jsxs)("div",{className:L.a.confirmations,children:[Ae.messages.address&&Object(D.jsxs)("div",{className:L.a.validationError,children:[Object(D.jsx)(p.k,{size:12}),"\xa0",Ae.messages.address]}),Object(D.jsx)(h.b,{address:v,onAddNewAddress:function(){return xe(v)},onChange:function(e){return fe(e)},isKnownAddress:G,uDAddress:ae,ensAddress:ce}),Re?Object(D.jsx)("div",{className:L.a.binanceAddressWarning,children:Object(D.jsx)(h.g,{label:Object(D.jsxs)("span",{children:["I confirm this address is not a ",U.join(" / ")," address: ",Object(D.jsx)("br",{}),"These platforms do not support $",null===I||void 0===I?void 0:I.symbol," deposits from smart wallets",Object(D.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415473743506-Statement-on-MATIC-BNB-deposits-to-Binance",target:"_blank",rel:"noreferrer",children:Object(D.jsx)(f.n,{size:20})})]}),labelClassName:L.a.checkBoxLabel,checked:Oe,onChange:function(e){var t=e.target;return he(t.checked)}})}):null]})]}),Object(D.jsx)(h.e,{primaryGradient:!0,disabled:ue,onClick:function(){var e=ae||(ce||v);if(Q)try{var t={to:I.address,value:"0",data:F.encodeFunctionData("transfer",[e,Q])};0===Number(I.address)&&(t.to=e,t.value=Q,t.data="0x");var a={id:"transfer_".concat(Date.now()),type:"eth_sendTransaction",chainId:r.chainId,account:s,txn:t,meta:null};ae?a.meta={addressLabel:{addressLabel:v,address:ae}}:ce&&(a.meta={addressLabel:{addressLabel:v,address:ce}}),o(a),H(0)}catch(n){console.error(n),X("Error: ".concat(n.message||n),{error:!0})}},className:L.a.transferButton,children:"Send"})]}):Object(D.jsx)(h.p,{})},B=a(941),R=a(942),I=a(1581),E=a.n(I),P=function(e){var t=e.walletAddress,a=e.networkDetails,s=e.relayerURL,n=e.portfolio,r=Object(B.a)({walletAddress:t,selectedNetwork:a.id,relayerURL:s,portfolio:n}),c=r.openGuardarian,o=r.isLoading;return Object(D.jsx)("div",{className:E.a.wrapper,children:Object(D.jsxs)("div",{className:N()(E.a.provider,Object(d.a)({},E.a.disabled,!function(e){return e.includes(a.id)}(["ethereum","polygon","binance-smart-chain","fantom"]))),onClick:function(){return c("sell")},children:[Object(D.jsx)("div",{className:E.a.logo,children:Object(D.jsx)("img",{src:R.a,alt:"guardarian-logo"})}),o.includes("Guardarian")?Object(D.jsx)("div",{children:Object(D.jsx)(h.n,{})}):Object(D.jsxs)("div",{className:E.a.details,children:[Object(D.jsx)("div",{className:E.a.type,children:"Buy with Bank Transfer, Credit/Debit Card, Sell Crypto"}),Object(D.jsx)("div",{className:E.a.fees,children:"Fees: from 2%"}),Object(D.jsx)("div",{className:E.a.limits,children:"Limits: up to 15k EUR/monthly on and off ramp"}),Object(D.jsx)("div",{className:E.a.currencies,children:"Currencies: GBP, EUR, USD and many more"})]})]})})},z=a(1582),G=a.n(z),W=a(294),Y=a(660),X=function(e){var t=e.addresses,a=e.addAddress,s=e.removeAddress,r=e.onSelectAddress,c=e.selectedNetwork,o=Object(S.f)().showModal,d=[{inputType:"name",label:"Name",placeholder:"Address title"},{inputType:"address",label:"Address / Unstoppable domains\u24c7 / ENS\u24c7",placeholder:"Address / Unstoppable Domains / ENS",validate:function(e){return Object(i.b)(e)}}],u=Object(D.jsx)(Y.a,{title:"Add New Address",selectedNetwork:c,inputs:d,onClose:function(e){var t=Object(n.a)(e,3),s=t[0],r=t[1],c=t[2];return a(s,r,c)}});return Object(D.jsxs)(h.s,{title:"Address Book",titleClassName:G.a.title,className:G.a.wrapper,children:[Object(D.jsx)(W.a,{noAccounts:!0,addresses:t,removeAddress:s,onSelectAddress:r,className:G.a.addressList}),Object(D.jsx)(h.e,{onClick:function(){return o(u)},className:G.a.addressesButton,children:"Add Address"})]})},J=a(1583),V=a.n(J),Z=a(233),H=a(1584),K=a.n(H),q=function(e){var t=e.firstTabLabel,a=e.secondTabLabel,s=e.firstTab,r=e.secondTab,o=e.panelClassName,i=Object(c.useState)(1),u=Object(n.a)(i,2),l=u[0],b=u[1];return Object(D.jsxs)(Z.a,{className:N()(o),children:[Object(D.jsxs)("div",{className:K.a.tabs,children:[Object(D.jsx)("button",{onClick:function(){return b(1)},className:N()(K.a.button,Object(d.a)({},K.a.active,1===l)),children:t}),Object(D.jsx)("button",{onClick:function(){return b(2)},className:N()(K.a.button,Object(d.a)({},K.a.active,2===l)),children:a})]}),1===l?s:r]})};t.default=Object(r.withRouter)((function(e){var t,a=e.portfolio,d=e.selectedNetwork,u=e.addressBook,l=e.selectedAcc,b=e.relayerURL,m=u.addresses,p=u.addAddress,f=u.removeAddress,j=y.a.find((function(e){return e.id===d.id})),v=Object(r.useLocation)().state,O=Object(r.useParams)().tokenAddressOrSymbol,h=Object(i.b)(O)?O:(null===(t=a.tokens.find((function(e){return e.symbol===O})))||void 0===t?void 0:t.address)||null,g=Object(c.useState)(h),_=Object(n.a)(g,2),x=_[0],w=_[1],k=Object(c.useState)(v||null),A=Object(n.a)(k,1)[0],S=Object(c.useState)(A?o.a.feeCollector:""),T=Object(n.a)(S,2),N=T[0],C=T[1],L=null===a||void 0===a?void 0:a.tokens.find((function(e){return e.address===x}));return Object(D.jsxs)("div",{className:V.a.wrapper,style:{justifyContent:A?"center":""},children:[Object(D.jsx)(q,{firstTabLabel:"Send",secondTabLabel:"Sell Crypto",firstTab:Object(D.jsx)(M,Object(s.a)(Object(s.a)({},e),{},{address:N,setAddress:C,gasTankDetails:A,asset:x,setAsset:w,tokenAddress:h,selectedAsset:L})),secondTab:Object(D.jsx)(P,{walletAddress:l,networkDetails:j,relayerURL:b,portfolio:a}),panelClassName:V.a.panel}),!A&&Object(D.jsx)(X,{selectedAsset:L,selectedNetwork:d,addresses:m,addAddress:p,removeAddress:f,onSelectAddress:function(e){return C(e)}})]})}))},504:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},n="https://storage.googleapis.com/zapper-fi-assets/tokens";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.toLowerCase(),r=e.toLowerCase();return s[a]||"".concat(n,"/").concat(r,"/").concat(a,".png")}},509:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},513:function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},517:function(e,t,a){"use strict";function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var s=Math.min(2,a||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(s,a),minimumFractionDigits:s})}catch(n){return console.error(n),e}}a.d(t,"a",(function(){return s}))},529:function(e,t,a){var s=a(513);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}e.exports=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},623:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return d}));var s=a(20),n=a(100),r=a(147),c=function(e){return e&&e.length?e&&Object(n.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},o=function(e,t){var a=c(e);return a.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:a},i=function(e,t,a,s,o,i){var d=c(e);return d.success?e&&e===r.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(n.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||s(e)||a||o||i?!e||s(e)||a||!o&&!i?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(o?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:d},d=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var a=e.slice(0,e.indexOf(".")+t.decimals+1),n=Object(s.parseUnits)(a,t.decimals);if(n&&t.balanceRaw&&n.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(r){console.error(r)}return{success:!0}},u=function(e,t,a,s,n,r,c,o,d){var u,l=i(e,t,a,s,o,d);return l.success?n&&t&&(null===(u=n.owner)||void 0===u?void 0:u.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:r&&c&&r.id!==c?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:l}},660:function(e,t,a){"use strict";var s=a(3),n=a.n(s),r=a(12),c=a(7),o=a(9),i=(a(753),a(2)),d=a(52),u=a(37),l=a(85),b=a(217),m=a(218),p=a(4);t.a=function(e){var t=e.title,a=e.inputs,s=e.selectedNetwork,f=e.onClose,j=Object(u.f)().hideModal,v=Object(i.useState)(!0),O=Object(o.a)(v,2),h=O[0],g=O[1],_=Object(i.useState)(""),y=Object(o.a)(_,2),x=y[0],w=y[1],k=Object(i.useState)(""),A=Object(o.a)(k,2),S=A[0],T=A[1],N=Object(i.useRef)(null),C=Object(i.useMemo)((function(){return a.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{ref:Object(i.createRef)()})}))}),[a]),L=function(){var e=Object(r.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(t,null,s.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){N.current&&clearTimeout(N.current);var e=function(){var e=Object(r.a)(n.a.mark((function e(){var t,a,s,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.find((function(e){return"address"===e.inputType})),a=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(s=null,r=null,!t){e.next=15;break}return e.next=9,L(a);case 9:return s=e.sent,e.next=12,Object(m.b)(a);case 12:r=e.sent,N.current=null,s?w(s):r&&T(r);case 15:c=C.map((function(e){var t=e.ref,a=e.validate,n="address"===e.inputType,c=n&&s?s:n&&r?r:t.current.value;return a?a(c):!!c})).every((function(e){return!0===e})),g(!c);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();N.current=setTimeout(Object(r.a)(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},F=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.e,{clear:!0,small:!0,icon:Object(p.jsx)(d.f,{}),onClick:j,children:"Cancel"}),Object(p.jsx)(l.e,{small:!0,icon:Object(p.jsx)(d.d,{}),disabled:h,onClick:function(){var e=C.map((function(e){return e.ref.current.value}));x?e.push({type:"ud"}):S?e.push({type:"ens"}):e.push({type:"pub"}),f&&f(e),j()},children:"Confirm"})]});return Object(p.jsx)(l.o,{id:"input-modal",title:t,buttons:F,children:C.map((function(e){var t=e.id,a=e.label,s=e.placeholder,n=e.ref,r=e.type;return Object(p.jsxs)("div",{children:[Object(p.jsx)(l.z,{label:a,placeholder:s,onInput:D,ref:n,className:"address-input"}),"address"===r&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.B,{label:x?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(p.jsx)("span",{id:"udomains-logo",className:x?"ud-logo-active ":""})}),Object(p.jsx)(l.B,{label:S?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(p.jsx)("div",{id:"ens-logo",className:S?"ens-logo-active ":""})})]})]},t+a)}))})}},753:function(e,t,a){},786:function(e,t,a){"use strict";var s=a(7),n=a(20),r=a(2);function c(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var o=a(219),i=a(509),d=a(30),u=a(147),l=["txId","txns","submittedAt","gasTankFee","identity"],b=new n.Interface(i),m=b.getSighash(b.getFunction("transfer").format()),p=u.a.feeCollector;function f(e){return e[0]===p||!(!e[2].startsWith(m)||function(e){try{var t=b.decodeFunctionData("transfer",e);return Object(s.a)({value:d.a.from(t._value)},t)}catch(a){return console.error(a),{}}}(e[2])._to!==p)}var j=a(225);t.a=function(e){var t=e.relayerURL,a=e.selectedAcc,i=e.network,u=e.portfolio,v=e.useRelayerData,O=Object(j.a)().cacheBreak,h=u.tokens,g=t?"".concat(t,"/gas-tank/").concat(a,"/getBalance?cacheBreak=").concat(O):null,_=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(O):null,y=t?"".concat(t,"/identity/").concat(a,"/").concat(null===i||void 0===i?void 0:i.id,"/transactions"):null,x=v({url:g}),w=x.data,k=x.isLoading,A=v({url:_}).data,S=v({url:y}).data,T=Object(r.useMemo)((function(){return w&&w.length&&w.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0)}),[w]),N=Object(r.useMemo)((function(){return S&&S.txns.length&&S.txns.filter((function(e){return!!e.gasTankFee}))}),[S]),C=Object(r.useMemo)((function(){return A&&A.length&&A.filter((function(e){return e.network===(null===i||void 0===i?void 0:i.id)}))}),[A,null===i||void 0===i?void 0:i.id]),L=S&&S.txns.length&&S.txns,D=Object(r.useMemo)((function(){return L&&L.length&&function(e){var t=[];return e.forEach((function(e){var a=e.txId,n=e.txns,r=e.submittedAt,c=e.gasTankFee,i=e.identity,u=Object(o.a)(e,l),j=n.filter((function(e,t){return f(e)&&(c||t<n.length-1)})).map((function(e){return e[0]===p?Object(s.a)({submittedAt:r,address:"0x0000000000000000000000000000000000000000",value:d.a.from(e[1]),identity:i,txId:a},u):e[2].startsWith(m)&&b.decodeFunctionData("transfer",e[2])._to===p?Object(s.a)({submittedAt:r,address:e[0],value:d.a.from(b.decodeFunctionData("transfer",e[2])._value),identity:i,txId:a},u):null}));j.length&&t.push(j[0])})),t}(L)}),[L]),F=Object(r.useMemo)((function(){return null===C||void 0===C?void 0:C.map((function(e){var t=null===h||void 0===h?void 0:h.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));return t?Object(s.a)(Object(s.a)({},t),{},{tokenImageUrl:e.icon,decimals:e.decimals,symbol:e.symbol,balance:t.balance,disableGasTankDeposit:!!e.disableGasTankDeposit,balanceUSD:parseFloat(t.balance)*parseFloat(C.find((function(e){return e.address.toLowerCase()===t.address.toLowerCase()})).price||0)}):Object(s.a)(Object(s.a)({},e),{},{tokenImageUrl:e.icon,balance:0,balanceUSD:0,decimals:0,address:e.address.toLowerCase(),symbol:e.symbol.toUpperCase()})}))}),[C,h]),U=Object(r.useMemo)((function(){return N&&N.length&&N.map((function(e){var t=A?A.find((function(t){return t.symbol===e.feeToken})):null,a=t?c(t):null;return{saved:a?e.feeInUSDPerGas*a:0,cashback:e.gasTankFee&&e.gasTankFee.cashback?Object(n.formatUnits)(e.gasTankFee.cashback.toString(),null===t||void 0===t?void 0:t.decimals).toString()*(null===t||void 0===t?void 0:t.price):0}}))}),[A,N]);return{balancesRes:w,gasTankBalances:T,isLoading:k,gasTankTxns:N,feeAssetsRes:A,gasTankFilledTxns:D,totalSavedResult:U,availableFeeAssets:F}}}}]);
//# sourceMappingURL=19.fc0b8b4c.chunk.js.map