(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[12],{1519:function(e,t,c){},1520:function(e,t,c){},1522:function(e,t,c){},1523:function(e,t,c){},1524:function(e,t,c){},1526:function(e,t,c){},1527:function(e,t,c){},1529:function(e,t,c){},1532:function(e){e.exports=JSON.parse('{"v":"5.1.5","fr":30,"ip":0,"op":30,"w":32,"h":32,"nm":"System-states-Sin conexi\xf3n","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"! contornos","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[100,100,100],"e":[130,130,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[130,130,100],"e":[100,100,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.442,0],[0,-0.443],[-0.442,0],[0,0.441]],"o":[[-0.442,0],[0,0.441],[0.442,0],[0,-0.443]],"v":[[0,-0.8],[-0.8,0],[0,0.8],[0.8,0]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,12.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.221,0],[0,0.221],[0,0],[0.221,0],[0,-0.221],[0,0]],"o":[[0.221,0],[0,0],[0,-0.221],[-0.221,0],[0,0],[0,0.221]],"v":[[0,2.544],[0.4,2.144],[0.4,-2.144],[0,-2.544],[-0.4,-2.144],[-0.4,2.144]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,7.194],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 2","np":2,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.3176470588235294,0.3176470588235294,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Sombra contornos","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":8.4,"s":[100],"e":[0]},{"t":23.8000009693939}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[8.25,8.25,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.847,0.847,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"n":["0p847_1_1_0","0p847_1_1_0","0p667_1_0p333_0"],"t":0,"s":[100,100,100],"e":[180,180,100]},{"i":{"x":[0,0,0.667],"y":[1,1,1]},"o":{"x":[0.127,0.127,0.333],"y":[0,0,0]},"n":["0_1_0p127_0","0_1_0p127_0","0p667_1_0p333_0"],"t":21,"s":[180,180,100],"e":[100,100,100]},{"t":42.0000017106951}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.416],[-4.416,0],[0,4.416],[4.416,0]],"o":[[0,4.416],[4.416,0],[0,-4.416],[-4.416,0]],"v":[[-8,0],[0,8],[8,0],[0,-8]],"c":true},"ix":2},"nm":"Trazado 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.3176470588235294,0.3176470588235294,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Relleno 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[8.25,8.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transformar"}],"nm":"Grupo 3","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3597.00014650881,"st":0,"bm":0}],"markers":[]}')},1534:function(e,t,c){},1535:function(e,t,c){},1536:function(e,t,c){},1537:function(e,t,c){},1539:function(e,t,c){},1540:function(e,t,c){},1616:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return ye}));var n=c(2),a=c.n(n),s=c(11),r=c(7),i=c(8),o=(c(1519),c(3)),l=c(30),d=c(17),u=c(37),j=(c(952),c(723)),b=c(34),p=(c(1520),c(79)),m=c(4),O=function(e){var t=e.title,c=e.inputs,n=e.onClose,a=Object(b.f)().hideModal,s=Object(o.useState)(!0),l=Object(i.a)(s,2),d=l[0],j=l[1],O=c.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{ref:Object(o.createRef)()})})),h=function(){var e=O.map((function(e){var t=e.ref,c=e.validate;return t.current.value&&(!c||c(t.current.value))})).every((function(e){return!0===e}));j(!e)},x=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.e,{clear:!0,small:!0,icon:Object(m.jsx)(u.i,{}),onClick:a,children:"Cancel"}),Object(m.jsx)(p.e,{small:!0,icon:Object(m.jsx)(u.g,{}),disabled:d,onClick:function(){var e=O.map((function(e){return e.ref.current.value}));n&&n(e),a()},children:"Confirm"})]});return Object(m.jsx)(p.n,{id:"input-modal",title:t,buttons:x,children:O.map((function(e){var t=e.id,c=e.label,n=e.placeholder,a=e.ref;return Object(m.jsx)(p.w,{label:c,placeholder:n,onInput:h,ref:a},t||c)}))})},h=[{id:"localhost",name:"LocalTest",url:"http://localhost:3002",logo:"http://localhost:3002/logo-test.png",desc:"Local dapp test with some lorem ipsum stuff"},{id:"txbuilder",name:"TxBuilder",url:"https://safe-apps.dev.gnosisdev.com/tx-builder/",logo:"https://safe-apps.dev.gnosisdev.com/tx-builder/logo.svg",desc:"Local dapp test with some lorem ipsum stuff"},{name:"ParaSwap",url:"https://paraswap.io",logo:"https://paraswap.io/paraswap.svg",desc:"ParaSwap allows dApps and traders to get the best DEX liquidity by aggregating multiple markets and offering the best rates"},{name:"0xPlasma Finance",url:"https://apy.plasma.finance",logo:"https://apy.plasma.finance/logo.svg",desc:"Cross-chain DeFi & DEX aggregator, farming, asset management, fiat on-ramp"},{id:"mew",name:"MEW",url:"https://www.myetherwallet.com/wallet/sign",logo:"https://www.myetherwallet.com/wallet/sign/logo.svg",desc:"MEW as dapp"},{id:"opensea",name:"Opensea",url:"https://opensea-temp.ambire.com/staging/",logo:"https://opensea.io/static/images/logos/opensea.svg",desc:"Opensea NFT Marketplace"}];function x(e){var t=e.network,c=e.selectedAcc,n=e.gnosisConnect,a=e.gnosisDisconnect,s=Object(b.f)().showModal,r=window.location.hash.split("/"),l=r.length>2?h.find((function(e){return e.id===r.slice(-1)[0]})):null,x=Object(o.useState)(null),f=Object(i.a)(x,2),v=f[0],g=f[1],k=Object(b.e)({key:"gnosisCustomApps",defaultValue:[]}),w=Object(i.a)(k,2),N=w[0],y=w[1],C=function(){window.location.href="/#/wallet/gnosis/plugins"},A=Object(o.useCallback)((function(e,t){var c={name:e,url:t,customId:Date.now()},n=[].concat(Object(d.a)(N),[c]);y(n),g(c),C()}),[N,y]),R=Object(o.useCallback)((function(e){var t=Object(d.a)(N.filter((function(t){return t.customId!==e})));y(t)}),[N,y]),S=Object(m.jsx)(O,{title:"Add New Address",inputs:[{label:"Name",placeholder:"Plugin name",validate:function(e){return!!e}},{label:"URL",placeholder:"https://plugyourpluginifyouwantplug",validate:function(e){return!!e}}],onClose:function(e){var t=Object(i.a)(e,2),c=t[0],n=t[1];return A(c,n)}});return Object(o.useEffect)((function(){l&&g(l)}),[l]),Object(m.jsxs)("div",{id:"plugin-gnosis-container",children:[Object(m.jsxs)("ul",{id:"dapps-container",className:v?"small-thumbs":"",children:[Object(m.jsx)("li",{className:"add-plugin",children:Object(m.jsx)(p.e,{mini:!0,icon:Object(m.jsx)(u.C,{}),onClick:function(){return s(S)},children:"Add plugin"})}),[].concat(h,Object(d.a)(N)).map((function(e,t){return Object(m.jsxs)("li",{onClick:function(){g(e),C()},className:v&&e.url===v.url?"selected":"",children:[e.customId&&Object(m.jsx)(p.e,{className:"remove-btn",mini:!0,red:!0,icon:Object(m.jsx)(u.Y,{}),onClick:function(){return R(e.customId)}}),Object(m.jsx)("div",{className:"logo-container",style:{backgroundImage:"url(".concat(e.logo,")")}}),Object(m.jsx)("div",{className:"dapp-name",children:e.name}),Object(m.jsx)("div",{className:"dapp-desc",children:e.desc})]},t)}))]}),v&&Object(m.jsx)(j.a,{network:t,selectedApp:v,selectedAcc:c,removeApp:R,gnosisConnect:n,gnosisDisconnect:a})]})}var f=c(155),v=c(1521),g=(c(1522),c(69)),k=(c(1523),c(230)),w=c(233),N=c(44),y=function(e){var t,c=e.accounts,n=e.selectedAddress,l=e.onSelectAcc,j=e.onRemoveAccount,O=e.hidePrivateValue,h=e.userSorting,x=e.setUserSorting,f=Object(N.a)().addToast,v=Object(o.useState)(!1),y=Object(i.a)(v,2),C=y[0],A=y[1],R=Object(o.useState)(!1),S=Object(i.a)(R,2),T=S[0],_=S[1],E=Object(b.c)(),P=(null===(t=h.accounts)||void 0===t?void 0:t.sortType)||"default",D=Object(b.d)("id",(function(e){x((function(t){return Object(r.a)(Object(r.a)({},t),{},{accounts:{sortType:"custom",items:e}})}))})),L=D.dragStart,U=D.dragEnter,I=D.dragTarget,M=D.target,W=D.handle,B=D.drop,q=Object(d.a)(c).sort((function(e,t){var n,a;return"custom"===P&&(null===(n=h.accounts)||void 0===n||null===(a=n.items)||void 0===a?void 0:a.length)?h.accounts.items.indexOf(e.id)-h.accounts.items.indexOf(t.id):c.indexOf(e.id)-c.indexOf(t.id)})),V=function(e){return e.slice(0,5)+"..."+e.slice(-3)},F=function(e){return e===n?"active":""},G=function(e){return w.create({seed:e}).toDataURL()},z=function(e){return e&&"ledger"===e.type?"Ledger":e&&"trezor"===e.type?"Trezor":"Web3"},Y=function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:f("Copied to clipboard!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(p.j,{id:"accounts",icon:G(n),title:O(V(n)),open:T,onOpen:function(){return _(!1)},children:[Object(m.jsxs)("div",{className:"list",children:[!E&&Object(m.jsxs)("div",{className:"sort-buttons",children:[Object(m.jsx)(p.y,{label:"Sorted accounts by drag and drop",children:Object(m.jsx)(u.n,{color:"custom"===P?"#80ffdb":"",cursor:"pointer",onClick:function(){return x((function(e){return Object(r.a)(Object(r.a)({},e),{},{accounts:Object(r.a)(Object(r.a)({},e.accounts),{},{sortType:"custom"})})}))}})}),Object(m.jsx)(p.y,{label:"Sorted accounts by default",children:Object(m.jsx)(u.W,{color:"default"===P?"#80ffdb":"",cursor:"pointer",onClick:function(){return x((function(e){return Object(r.a)(Object(r.a)({},e),{},{accounts:Object(r.a)(Object(r.a)({},e.accounts),{},{sortType:"default"})})}))}})})]}),q.map((function(e,t){var c,n=e.id,a=e.email,s=e.signer,r=e.signerExtra;return C!==n?Object(m.jsxs)("div",{className:"account ".concat(F(n)),draggable:q.length>1&&"custom"===P&&!E,onDragStart:function(e){W.current===M.current||W.current.contains(M.current)?L(e,t):e.preventDefault()},onMouseDown:function(e){return I(e,t)},onDragEnter:function(e){return U(e,t)},onDragEnd:function(e){return B(q)},onDragOver:function(e){return e.preventDefault()},children:[Object(m.jsxs)("div",{className:"inner",onClick:function(){return function(e){l(e),_(!0)}(n)},children:[q.length>1&&"custom"===P&&!E&&Object(m.jsx)(u.n,{className:"drag-handle",id:"".concat(t,"-handle")}),Object(m.jsx)("div",{className:"icon",style:(c=n,{backgroundImage:"url(".concat(G(c),")")})}),Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("div",{className:"address",children:n}),Object(m.jsx)("label",{children:a?"Email/Password account (".concat(a,")"):"".concat(z(r)," (").concat(V(s.address),")")})]})]}),Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)("div",{className:"button",onClick:function(){return Y(n)},children:Object(m.jsx)(u.J,{})}),Object(m.jsx)("div",{className:"button",onClick:function(){return A(n)},children:Object(m.jsx)(u.z,{})})]})]},n):Object(m.jsxs)("div",{id:"confirm-delete-account",className:"account ".concat(F(n)),children:[Object(m.jsx)("div",{className:"message",children:"Are you sure you want to log out from this account ?"}),Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)("div",{className:"button danger",onClick:function(){A(!1),j(n)},children:Object(m.jsx)(u.H,{})}),Object(m.jsx)("div",{className:"button",onClick:function(){return A(!1)},children:Object(m.jsx)(u.I,{})})]})]},n)}))]}),Object(m.jsx)("div",{id:"add-account",children:Object(m.jsx)(g.c,{to:"/add-account",children:Object(m.jsx)(p.e,{icon:Object(m.jsx)(k.f,{}),small:!0,children:"Add Account"})})})]})},C=function(e){var t,c=e.network,n=e.setNetwork,a=e.allNetworks,s=e.userSorting,i=e.setUserSorting,o=e.dappsCatalog,l=e.dapModeTopBar,j=(null===(t=s.networks)||void 0===t?void 0:t.sortType)||"default",O=Object(b.c)(),h=Object(b.d)("value",(function(e){i((function(t){return Object(r.a)(Object(r.a)({},t),{},{networks:{sortType:"custom",items:e}})}))})),x=h.dragStart,f=h.dragEnter,v=h.dragTarget,g=h.handle,k=h.target,w=h.drop,N=Object(d.a)(a).sort((function(e,t){var c,n;return"custom"===j&&(null===s||void 0===s||null===(c=s.networks)||void 0===c||null===(n=c.items)||void 0===n?void 0:n.length)?s.networks.items.indexOf(e.id)-s.networks.items.indexOf(t.id):a.indexOf(e.id)-a.indexOf(t.id)})),y=N.filter((function(e){return c.id===e.id&&c.hide})),C=N.filter((function(e){return!e.hide})).concat(y).map((function(e){var t,c,n=e.id;return{label:e.name,value:n,icon:e.icon,disabled:l&&!(null===o||void 0===o||null===(t=o.currentDappData)||void 0===t||null===(c=t.networks)||void 0===c?void 0:c.includes(n))}}));return Object(m.jsx)(p.t,{defaultValue:c.id,draggable:"custom"===j&&!O,dragEnter:f,drop:w,dragStart:function(e,t){g.current===k.current||g.current.contains(k.current)?x(e,t):e.preventDefault()},dragTarget:v,items:C,displayDraggableHeader:!O,onChange:function(e){var t=e.value;return n(t)},draggableHeader:Object(m.jsxs)("div",{className:"sort-buttons",children:[Object(m.jsx)(p.y,{label:"Sorted networks by drag and drop",children:Object(m.jsx)(u.n,{color:"custom"===j?"#80ffdb":"",cursor:"pointer",onClick:function(){return i((function(e){return Object(r.a)(Object(r.a)({},e),{},{networks:Object(r.a)(Object(r.a)({},e.networks),{},{sortType:"custom"})})}))}})}),Object(m.jsx)(p.y,{label:"Sorted networks by default",children:Object(m.jsx)(u.W,{color:"default"===j?"#80ffdb":"",cursor:"pointer",onClick:function(){return i((function(e){return Object(r.a)(Object(r.a)({},e),{},{networks:Object(r.a)(Object(r.a)({},e.networks),{},{sortType:"default"})})}))}})})]})})},A=c(60),R=(c(1524),c(1525)),S=c(724),T=function(){var e=Object(s.a)(a.a.mark((function e(t,c){var n,s,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,navigator.permissions.query({name:t,allowWithoutGesture:!1});case 4:if(s=e.sent,"granted"!==(r=s.state)){e.next=8;break}return e.abrupt("return",!0);case 8:if("prompt"!==r){e.next=16;break}if(!c){e.next=15;break}return e.next=12,c;case 12:return e.abrupt("return",T(t));case 15:return e.abrupt("return",!1);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Error while trying to query permissions",e.t0);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,c){return e.apply(this,arguments)}}(),_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!Object(f.a)()&&(e?T("clipboard-read",navigator.clipboard.readText()):T("clipboard-read"))},E=function(){var e=Object(s.a)(a.a.mark((function e(t){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"clipboard-read"!==t){e.next=5;break}return e.next=4,navigator.clipboard.readText();case 4:return e.abrupt("return",!0);case 5:if("notifications"!==t){e.next=10;break}return e.next=8,Notification.requestPermission();case 8:return c=e.sent,e.abrupt("return","granted"===c||"default"===c);case 10:return e.abrupt("return",!1);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Permission ".concat(t," blocked")),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),P=c(85),D=function(){var e=Object(s.a)(a.a.mark((function e(t){var c,n,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.b)(t,{method:"HEAD"});case 2:return n=e.sent,s=null===n||void 0===n||null===(c=n.resp)||void 0===c?void 0:c.ok,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=e.connections,c=e.connect,n=e.disconnect,r=e.isWcConnecting,d=Object(l.useHistory)(),j=Object(o.useState)(!1),b=Object(i.a)(j,2),O=b[0],h=b[1],x=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return t=e.sent,h(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(o.useCallback)(Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=7;break}return e.next=3,navigator.clipboard.readText();case 3:(t=e.sent).startsWith("wc:")&&c({uri:t}),e.next=9;break;case 7:(n=prompt("Enter WalletConnect URI"))&&c({uri:n});case 9:case"end":return e.stop()}}),e)}))),[c,O]),v=function(e){var t=e.bridge;return/https:\/\/bridge.walletconnect.org/g.test(t)},g=Object(m.jsxs)("div",{className:"ddWcTitle",children:[Object(m.jsx)("img",{src:"./resources/walletconnect.svg",alt:"wc-logo"}),"WalletConnect"]}),w=Object(o.useCallback)(function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:e.sent?d.push("/wallet/dapps?dappUrl=".concat(encodeURIComponent(t+"?".concat(Date.now())))):window.open(t,"_blank");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]);return Object(m.jsxs)(p.j,{id:"dApps",title:g,badge:t.length,onOpen:function(){return x()},isLoading:O&&r,children:[Object(m.jsxs)("div",{id:"connect-dapp",children:[Object(m.jsxs)("div",{className:"heading",children:[Object(m.jsx)(p.e,{small:!0,icon:Object(m.jsx)(S.d,{}),disabled:O,onClick:f,children:"Connect dApp"}),Object(m.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4410889965842",target:"_blank",rel:"noreferrer",children:Object(m.jsx)(R.a,{size:30})})]}),O?Object(m.jsx)("label",{children:"Automatic connection enabled, just copy a WalletConnect URL and come back to this tab."}):null]}),Object(m.jsx)("div",{className:"dappList",children:t.map((function(e){var t=e.session,c=e.uri,a=e.isOffline;return Object(m.jsxs)("div",{className:"item dapps-item",children:[Object(m.jsxs)("div",{className:"icon",children:[Object(m.jsx)("div",{className:"icon-overlay",style:{backgroundImage:"url(".concat(t.peerMeta.icons.filter((function(e){return!e.endsWith("favicon.ico")}))[0],")")}}),Object(m.jsx)(u.c,{})]}),Object(m.jsx)("span",{onClick:function(){return w(t.peerMeta.url)},children:Object(m.jsxs)("div",{className:"details",children:[v(t)?Object(m.jsx)(p.y,{className:"session-warning",label:"dApp uses legacy WalletConnect bridge which is unreliable and often doesn't work. Please tell the dApp to update to the latest WalletConnect version.",children:Object(m.jsx)(u.X,{})}):null,a?Object(m.jsx)(p.y,{className:"session-error",label:"WalletConnect connection may be offline. Check again later. If this warning persist try to disconnect and connect WalletConnect.",children:Object(m.jsx)(k.d,{})}):null,Object(m.jsx)("div",{className:"name",children:t.peerMeta.name})]})}),Object(m.jsx)("div",{className:"separator"}),Object(m.jsx)("button",{onClick:function(){return n(c)},children:"Disconnect"})]},t.key)}))})]})},U=(c(1526),c(152)),I=c(242),M=function(){var e=Object(I.a)({key:"linksViewed",defaultValue:!1}),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(m.jsxs)(p.j,{id:"help-dropdown",className:"".concat(c?"viewed":""),title:Object(m.jsx)(u.L,{}),onOpen:function(){n(!0)},children:[Object(m.jsxs)("a",{className:"item",href:"https://help.ambire.com/hc/en-us/categories/4404980091538-Ambire-Wallet",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(u.B,{})," Help Center"]}),Object(m.jsxs)("a",{className:"item",href:"https://help.ambire.com/hc/en-us/requests/new",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(u.f,{})," Report an issue"]}),Object(m.jsxs)("a",{className:"item",href:"https://discord.gg/nMBGJsb",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(U.j,{})," Discord"]}),Object(m.jsxs)("a",{className:"item",href:"https://twitter.com/AmbireWallet",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(U.o,{})," Twitter"]}),Object(m.jsxs)("a",{className:"item",href:"https://t.me/AmbireOfficial",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(U.n,{})," Telegram"]}),Object(m.jsxs)("a",{className:"item",href:"https://www.ambire.com/Ambire%20ToS%20and%20PP%20(26%20November%202021).pdf",target:"_blank",rel:"noreferrer",children:[Object(m.jsx)(u.N,{})," ToS"]})]})},W=c(170),B=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=Object(o.useContext)(W.a),s=a.showDynamicModal,i=a.updateModal,l=Object(o.useRef)(c);return Object(o.useEffect)((function(){JSON.stringify(l.current)!==JSON.stringify(c)&&(i(c),l.current=c)}),[c,i]),function(){return s(e,Object(r.a)(Object(r.a)({},t),c),n)}},q=(c(1527),c(1610)),V=c(1528),F=function(e){var t=e.rewards,c=Object(o.useMemo)((function(){return V.a.map((function(e){var c=t.multipliers&&t.multipliers.map((function(e){return e.name})).includes(e.id);return Object(r.a)(Object(r.a)({},e),{},{active:c})}))}),[t]);return Object(m.jsx)("div",{className:"badges",children:c.map((function(e){var t=e.id,c=e.name,n=e.icon,a=e.color,s=e.multiplier,r=e.link,i=e.active;return Object(m.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:Object(m.jsx)(p.y,{label:"You ".concat(i?"are receiving":"do not have"," the ").concat(c," x").concat(s," multiplier"),children:Object(m.jsxs)("div",{className:"badge ".concat(i?"active":""),style:{backgroundColor:a,borderColor:a},children:[Object(m.jsx)("div",{className:"icon",children:n}),Object(m.jsxs)("div",{className:"multiplier",children:["x ",s]})]})})},t)}))})},G=c(955),z=function(e){var t=e.accountId,c=e.claimableWalletToken,n=e.rewards,a=Object(o.useState)(!1),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(b.f)().hideModal,j=Object(q.a)({accountId:t}).stakedAmount,O=c.vestingEntry,h=c.currentClaimStatus,x=c.claimableNow,f=c.disabledReason,v=c.claimDisabledReason,g=c.claimEarlyRewards,k=c.claimVesting,w=c.claimableNowUsd,N=c.mintableVestingUsd,y=c.shouldDisplayMintableVesting,C=n.walletTokenAPYPercentage,A=n.adxTokenAPYPercentage,R=n.xWALLETAPYPercentage,S=Object(m.jsx)(p.e,{clear:!0,icon:Object(m.jsx)(u.I,{}),onClick:function(){return d()},children:"Close"});return Object(m.jsxs)(p.n,{id:"wallet-token-modal",title:"WALLET token distribution",buttons:S,children:[Object(m.jsx)(G.a,{isVisible:r,hideModal:function(){return l(!1)},text:"This procedure will claim only 50% of your outstanding  rewards as $WALLET, and permanently burn the rest.  Are you sure?",onClick:function(){return g(!1)}}),Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("label",{children:"Early users Incentive: Total"}),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("div",{className:"amount",children:Object(m.jsx)("span",{className:"primary-accent",children:n["balance-rewards"]})}),Object(m.jsxs)("div",{className:"amount apy",children:[C," ",Object(m.jsx)("span",{children:"APY"})]})]})]}),Object(m.jsx)("div",{className:"actions"})]}),Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("label",{children:"ADX Staking Bonus: Total"}),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("div",{className:"amount",children:Object(m.jsx)("span",{className:"primary-accent",children:n["adx-rewards"]})}),Object(m.jsxs)("div",{className:"amount apy",children:[A," ",Object(m.jsx)("span",{children:"APY"})]})]})]}),Object(m.jsx)("div",{className:"actions"})]}),Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("label",{children:"Claimable now: early users + ADX Staking bonus"}),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("div",{className:"amount",children:Object(m.jsx)("span",{className:"primary-accent",children:h.loading?"...":x})}),Object(m.jsxs)("div",{className:"amount usd",children:[Object(m.jsx)("span",{className:"secondary-accent",children:"$"}),w]})]})]}),Object(m.jsxs)("div",{className:"actions",children:[Object(m.jsx)(p.y,{label:v||f||"This procedure will claim 50% of your outstanding rewards as $WALLET, and permanently burn the other 50%",children:Object(m.jsx)(p.e,{className:"claim-rewards-with-burn",small:!0,clear:!0,onClick:function(){return l(!0)},disabled:!(!v&&!f),children:"Claim with burn"})}),Object(m.jsx)(p.y,{label:v||f||"Claim all of your outstanding rewards as staked $WALLET (xWALLET)",children:Object(m.jsx)(p.e,{className:"claim-rewards-x-wallet",small:!0,clear:!0,onClick:g,disabled:!(!v&&!f),children:"CLAIM IN xWALLET"})})]})]}),y&&Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("label",{children:"Claimable early supporters vesting"}),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("div",{className:"amount",children:Object(m.jsx)("span",{className:"primary-accent",children:h.mintableVesting})}),Object(m.jsxs)("div",{className:"amount usd",children:[Object(m.jsx)("span",{className:"secondary-accent",children:"$"}),N]})]})]}),Object(m.jsx)("div",{className:"actions",children:Object(m.jsx)(p.y,{label:f||"Linearly vested over approximately ".concat(Math.ceil((O.end-O.start)/86400)," days"),children:Object(m.jsx)(p.e,{small:!0,clear:!0,onClick:k,disabled:!!f,children:"CLAIM"})})})]}),!!j&&Object(m.jsx)("div",{className:"item",children:Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("label",{children:"Staked WALLET"}),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("div",{className:"amount",children:Object(m.jsx)("span",{className:"primary-accent",children:j})}),Object(m.jsxs)("div",{className:"amount apy",children:[R," ",Object(m.jsx)("span",{children:"APY"})]})]})]})}),Object(m.jsx)(F,{rewards:n}),Object(m.jsxs)("div",{id:"info",children:["You are receiving $WALLETs for holding funds on your Ambire wallet as an early user. ",Object(m.jsx)("a",{href:"https://blog.ambire.com/announcing-the-wallet-token-a137aeda9747",target:"_blank",rel:"noreferrer",children:"Read More"})]})]})},Y=c(1608),H=function(e){var t=e.rewardsData,c=e.account,n=void 0===c?{}:c,a=e.network,s=e.hidePrivateValue,r=e.addRequest,i=e.relayerURL,o=e.useRelayerData,l=Object(Y.a)({relayerURL:i,useRelayerData:o,accountId:n.id,network:a,addRequest:r,totalLifetimeRewards:t.rewards.totalLifetimeRewards,walletUsdPrice:t.rewards.walletUsdPrice}),d=l.currentClaimStatus,u=l.pendingTokensTotal,j=t.isLoading,b=t.errMsg,O=j||d.loading,h=B(z,{claimableWalletToken:l,accountId:n.id},{rewards:t.rewards});return O||!b&&!d.error?Object(m.jsxs)(p.e,{small:!0,border:!0,disabled:O,onClick:h,children:[O?"...":s(u)," WALLET"]}):Object(m.jsx)(p.y,{label:"WALLET rewards are not available without a connection to the relayer",children:Object(m.jsx)(p.e,{small:!0,border:!0,disabled:!0,onClick:h,children:"Unavailable"})})},J=c.p+"static/media/dapps.cec88e8a.svg",K=function(e){var t,c=e.useRelayerData,n=e.relayerURL,a=e.connections,s=e.connect,r=e.disconnect,d=e.isWcConnecting,j=e.onSelectAcc,b=e.onRemoveAccount,O=e.selectedAcc,h=e.accounts,x=e.network,f=e.setNetwork,v=e.allNetworks,k=e.rewardsData,N=e.privateMode,R=N.isPrivateMode,S=N.togglePrivateMode,T=N.hidePrivateValue,_=e.addRequest,E=e.userSorting,P=e.setUserSorting,D=e.dappsCatalog,U=Object(o.useState)(!1),I=Object(i.a)(U,2),W=I[0],B=I[1],q=Object(l.useRouteMatch)("/wallet/dapps"),V=D.isDappMode,F=D.toggleSideBarOpen,G=D.currentDappData,z=D.loadCurrentDappData,Y=Object(o.useMemo)((function(){return V&&q&&G}),[G,V,q]),K=h.find((function(e){return e.id===O})),$=w.create({seed:K?K.id:null}).toDataURL(),X="dev"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSEA_FRAME_URL:"https://opensea-plugin-ambire-opensea.vercel.app",REACT_APP_RELAYER_URL:"https://relayer.ambire.com",REACT_APP_VELCRO_API_ENDPOINT:"https://velcro.ambire.com/v1",REACT_APP_TRANSAK_ENV:"PRODUCTION",REACT_APP_TRANSAK_API_KEY:"85fdedd7-0077-4c6d-8499-52039c64353c",REACT_APP_CONSTANTS_ENDPOINT:"https://jason.ambire.com",REACT_APP_RAMP_HOST_API_KEY:"jfmvma5hxecxjht293qmbu7bc7jx3sc9tg48a2so",REACT_APP_PAYTRIE_PARTNER_URL:"https://app.paytrie.com/?app=876454",REACT_APP_ZAPPER_API_KEY:"96e0cc51-a62e-42ca-acee-910ea7d2a241",REACT_APP_ZAPPER_API_ENDPOINT:"https://api.zapper.fi/v1",REACT_APP_SUSHI_SWAP_FRAME_URL:"https://sushiswap-interface-ten.vercel.app/swap",REACT_APP_SUSHI_SWAP_FRAME_EXCEPTIONS_URL:'{"optimism":"https://sushiswap-interface-2qi6v54m6-ambire.vercel.app/swap", "andromeda": "https://sushiswap-interface-2qi6v54m6-ambire.vercel.app/swap"}',REACT_APP_SIGNATURE_VERIFIER_DEBUGGER:"0"}).REACT_APP_VISUAL_ENV?"dev":new URL(document.URL).pathname.startsWith("/staging/")?"staging":null;return Object(m.jsxs)("div",{id:"topbar",className:(X?"visual-env visual-env-"+X:"")+(Y?" dapp-mode":""),children:[X&&Object(m.jsxs)("div",{className:"env-bar",children:["dev"===X&&Object(m.jsx)(m.Fragment,{children:"Development mode"}),"staging"===X&&Object(m.jsx)(m.Fragment,{children:"Staging mode"})]}),Object(m.jsxs)("div",{id:"mobile-menu",onClick:function(){return B(!W)},children:[Object(m.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat($,")")}}),Object(m.jsx)(u.F,{}),Object(m.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(A.b[x.id],")")}}),Object(m.jsx)("div",{id:"menu-button",children:W?Object(m.jsx)(u.I,{}):Object(m.jsx)(u.P,{})})]}),Y?Object(m.jsx)("div",{className:"dapp-menu",children:Object(m.jsxs)("div",{className:"dapp-menu-btns",children:[Object(m.jsx)(p.y,{label:"Open Ambire Wallet menu",children:Object(m.jsx)(p.e,{className:"ambire-menu-btn",border:!0,mini:!0,icon:Object(m.jsx)(u.A,{size:23}),onClick:function(){return F()}})}),Object(m.jsxs)("div",{className:"dapp-data",children:[Object(m.jsx)(p.y,{label:"Connected with ".concat(null===G||void 0===G?void 0:G.connectionType," -  see/find out more on our blog"),children:Object(m.jsx)("a",{className:"info-btn",href:"https://blog.ambire.com/connect-to-any-dapp-with-ambire-wallet-and-walletconnect-c1bc096a531e",target:"_blank",rel:"noreferrer noopener",children:Object(m.jsx)(u.u,{size:23})})}),Object(m.jsx)(p.y,{label:"Connected to ".concat(null===G||void 0===G?void 0:G.name," with Ambire Wallet"),children:Object(m.jsx)("a",{href:(null===G||void 0===G||null===(t=G.providedBy)||void 0===t?void 0:t.url)||(null===G||void 0===G?void 0:G.url),target:"_blank",rel:"noreferrer noopener",children:Object(m.jsx)("img",{className:"dapp-logo",src:(null===G||void 0===G?void 0:G.iconUrl)||J,alt:null===G||void 0===G?void 0:G.name})})}),Object(m.jsx)(p.y,{label:"Exit from ".concat(null===G||void 0===G?void 0:G.name),children:Object(m.jsx)(p.e,{className:"dapp-exit-btn",secondary:!0,mini:!0,icon:Object(m.jsx)(u.r,{size:15}),onClick:function(){return z(null)},children:"Exit"})})]})]})}):Object(m.jsxs)(g.c,{to:"/wallet/dashboard",children:[Object(m.jsx)("div",{id:"logo"}),Object(m.jsx)("div",{id:"icon"})]}),Object(m.jsxs)("div",{className:"container ".concat(W?"open":""),children:[O&&Object(m.jsx)(H,{useRelayerData:c,relayerURL:n,rewardsData:k,account:K,network:x,hidePrivateValue:T,addRequest:_}),R?Object(m.jsx)(u.cb,{cursor:"pointer",size:28,onClick:S}):Object(m.jsx)(u.Z,{cursor:"pointer",size:28,onClick:S}),Object(m.jsx)(L,{connections:a,connect:s,disconnect:r,isWcConnecting:d}),Object(m.jsx)(y,{accounts:h,selectedAddress:O,onSelectAcc:j,onRemoveAccount:b,hidePrivateValue:T,userSorting:E,setUserSorting:P}),Object(m.jsx)(C,{setNetwork:f,network:x,allNetworks:v,userSorting:E,setUserSorting:P,dappsCatalog:D,dapModeTopBar:Y}),Object(m.jsx)(M,{})]})]})},$=(c(1534),c(151)),X=function(e){return"You blocked the ".concat(e," permission. Check your browser permissions tab.")},Z=function(e){var t=e.relayerIdentityURL,c=e.account,n=e.onAddAccount,l=e.isCloseBtnShown,d=e.isBackupOptout,j=e.showThankYouPage,O=Object(b.f)().hideModal,h=Object(b.g)(),x=h.isNoticationsGranted,v=h.isClipboardGranted,g=h.modalHidden,w=h.setModalHidden,y=Object(N.a)().addToast,C=Object(o.useState)(!1),A=Object(i.a)(C,2),R=A[0],T=A[1],_=Object(o.useState)(!1),D=Object(i.a)(_,2),L=D[0],U=D[1],I=Object(o.useState)(d),M=Object(i.a)(I,2),W=M[0],B=M[1],q=Object(o.useState)(6e4),V=Object(i.a)(q,2),F=V[0],G=V[1],z=Math.ceil($.a.quickAccTimelock/86400),Y=!Object(f.a)()&&!v||!x,H=c.emailConfRequired&&!R,J=H||!g&&Y,K=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(P.c)(t+"/resend-verification-email");case 3:if(e.sent.success){e.next=6;break}throw new Error("Relayer did not return success.");case 6:y("Verification email sent!"),U(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),y("Could not resend verification email."+e.t0.message||!1,{error:!0}),U(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Z=Object(o.useCallback)(Object(s.a)(a.a.mark((function e(){var s,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(P.c)(t);case 3:(s=e.sent)&&(i=s.meta.emailConfirmed,T(o=!!i),o&&c.emailConfRequired&&n(Object(r.a)(Object(r.a)({},c),{},{emailConfRequired:!1}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),y("Could not check email confirmation.",{error:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t,c,n,y]),Q=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("notifications");case 2:e.sent||y(X("Notifications"),{error:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("clipboard-read");case 2:e.sent||y(X("Clipboard"),{error:!0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!R&&Z();var e=setInterval((function(){return!R&&Z()}),3e3);return function(){return clearInterval(e)}}),[R,Z]);var te=function(){O(),j&&ce()},ce=function(){return window.open("https://www.ambire.com/thankyou","_blank")},ne=W?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.e,{clear:!0,small:!0,icon:Object(m.jsx)(u.i,{}),disabled:H,onClick:te,children:"Ignore"}),Object(m.jsx)(p.e,{small:!0,icon:Object(m.jsx)(u.g,{}),disabled:J,onClick:te,children:"Done"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.e,{clear:!0,small:!0,icon:Object(m.jsx)(u.i,{}),disabled:!0,onClick:te,children:"Ignore"}),Object(m.jsx)(p.e,{small:!0,icon:Object(m.jsx)(u.g,{}),disabled:!0,onClick:te,children:"Done"})]});return Object(o.useEffect)((function(){var e=setInterval((function(){return G((function(e){return e>0?e-1e3:0}))}),1e3);return function(){return clearTimeout(e)}}),[]),Object(m.jsxs)(p.n,{id:"permissions-modal",title:"We need a few things \ud83d\ude4f",buttons:ne,isCloseBtnShown:l,onClose:function(){j&&ce()},children:[c.email?Object(m.jsxs)("div",{className:"permission",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("div",{className:"name",children:"Email Verification"}),Object(m.jsxs)("div",{className:"description",children:[Object(m.jsx)("b",{children:"Confirming your email is mandatory so that we can make sure your account can be recovered in case access is lost."}),"\xa0We already sent an email, please check your inbox."]})]}),Object(m.jsxs)("div",{className:"status",children:[R?Object(m.jsx)("span",{className:"check-icon",children:Object(m.jsx)(u.H,{})}):Object(m.jsxs)("label",{children:["Waiting for",Object(m.jsx)("br",{}),"your confirmation"]}),R||L?null:Object(m.jsx)(p.y,{label:"Will be available in ".concat(F/1e3," seconds"),disabled:0===F,children:Object(m.jsx)(p.e,{mini:!0,clear:!0,icon:Object(m.jsx)(k.g,{}),disabled:0!==F,onClick:K,children:"Resend"})})]})]}):null,Object(m.jsxs)("div",{className:"permission",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("div",{className:"name",children:"Notifications Permission"}),Object(m.jsxs)("div",{className:"description",children:["Needed to draw your attention to Ambire Wallet when there is a transaction signing request.",Object(m.jsx)("br",{}),"You can also click the notifications to go directly to the Ambire tab.",Object(m.jsx)("br",{}),"We do not send any other notifications."]})]}),Object(m.jsx)(p.x,{checked:x,onChange:function(){return Q()}})]}),Object(m.jsxs)("div",{className:"permission ".concat(Object(f.a)()?"disabled":""),children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsxs)("div",{className:"name",children:["Clipboard Permission ",Object(f.a)()?Object(m.jsx)("span",{className:"unavailable",children:"(Unavailable in Firefox)"}):null]}),Object(m.jsx)("div",{className:"description",children:"Needed so that dApps can be connected automatically just by copying their WalletConnect URL."}),Object(f.a)()?Object(m.jsx)("div",{className:"unavailable",children:"Without this, you can still use Ambire, but you will have to paste URLs manually"}):null]}),Object(m.jsx)(p.x,{checked:v,onChange:function(){return ee()}})]}),!d&&Object(m.jsxs)("div",{className:"permission",children:[Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("div",{className:"name",children:"Download a backup"}),Object(m.jsxs)("div",{className:"description",children:["In case you forget your password or lose your backup, ",Object(m.jsx)("br",{}),"you will have to wait ",z," days and pay the recovery fee to restore access to your account."]})]}),Object(m.jsx)("div",{className:"status",children:W?Object(m.jsx)("span",{className:"check-icon",children:Object(m.jsx)(u.H,{})}):Object(m.jsx)(p.e,{onClick:function(){B(!0);var e=Object(r.a)({},c);console.log("copiedAcc",e),"undefined"!==typeof e.emailConfRequired&&delete e.emailConfRequired,"undefined"!==typeof e.backupOptout&&delete e.backupOptout,"undefined"!==typeof e.cloudBackupOptout&&delete e.cloudBackupOptout,function(e){var t=e.data,c=e.fileName,n=e.fileType,a=new Blob([t],{type:n}),s=document.createElement("a");s.download=c,s.href=window.URL.createObjectURL(a);var r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});s.dispatchEvent(r),s.remove()}({data:JSON.stringify(e),fileName:"".concat(e.id,".json"),fileType:"text/json"}),n(Object(r.a)(Object(r.a)({},c),{},{backupOptout:!1}))},icon:Object(m.jsx)(S.a,{}),children:"Export"})})]}),H?Object(m.jsx)(m.Fragment,{}):Object(m.jsx)(p.g,{label:"I understand, do not show this again.",checked:g,onChange:function(e){var t=e.target;return w(t.checked)}}),d?null:Object(m.jsx)("p",{className:"download-backup",children:"You have to download a backup of you profile before you can continue"})]})},Q=(c(1535),function(e){var t=e.connections,c=e.disconnect,n=e.advancedModeList,a=e.onContinue,s=Object(b.f)().hideModal,r=Object(o.useState)(!1),l=Object(i.a)(r,2),j=l[0],O=l[1],h=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.e,{clear:!0,icon:Object(m.jsx)(u.i,{}),onClick:function(){t.map((function(e){var t=e.uri;return c(t)})),s()},children:"Cancel"}),Object(m.jsx)(p.e,{disabled:!j,onClick:function(){a([].concat(Object(d.a)(n),Object(d.a)(t.map((function(e){return e.session.peerMeta.url}))))),s()},children:"Continue"})]});return Object(m.jsxs)(p.n,{id:"unsupported-dapps",title:"Unsupported dApps",buttons:h,isCloseBtnShown:!1,children:[Object(m.jsx)("div",{className:"message",children:"These dApps does not fully support smart wallets and/or WalletConnect:"}),Object(m.jsx)("div",{className:"dapps-list",children:t.map((function(e,t){var c=e.session;return Object(m.jsxs)("a",{className:"dapp",href:c.peerMeta.url,target:"_blank",rel:"noreferrer",children:[Object(m.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(c.peerMeta.icons[0],")")},children:Object(m.jsx)(u.c,{})}),Object(m.jsx)("div",{className:"name",children:c.peerMeta.name})]},"dapp-".concat(t))}))}),Object(m.jsx)(p.i,{}),Object(m.jsxs)("div",{className:"message",children:["For more information on why these dApps do not support Ambire, please read ",Object(m.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415496135698-Which-dApps-are-supported-by-Ambire-Wallet-",target:"_blank",rel:"noreferrer",children:"this article"}),"."]}),Object(m.jsx)("div",{className:"separator"}),Object(m.jsxs)("div",{className:"advanced-mode",children:[Object(m.jsx)("label",{className:"advanced-mode-label",children:"Advanced mode:"}),Object(m.jsx)(p.g,{label:"I know what I'm doing and I accept the risks",checked:j,onChange:function(e){var t=e.target;return O(t.checked)}})]})]})}),ee=(c(1536),c(229)),te=c(1538),ce=(c(1537),c(953)),ne=ce.a.find((function(e){return"ERC20: Transfer"===e.name})).gas+ce.b,ae=function(e){var t,c=e.selectedNetwork,n=e.relayerURL,a=e.match,s=Object(o.useState)(null),r=Object(i.a)(s,2),l=r[0],d=r[1],u=Object(o.useState)((function(){return Date.now()})),j=Object(i.a)(u,2),b=j[0],p=j[1];return Object(o.useEffect)((function(){Date.now()-b>5e3&&p(Date.now());var e=setTimeout((function(){return p(Date.now())}),6e4);return function(){return clearTimeout(e)}}),[b]),Object(o.useEffect)((function(){if(!c.relayerlessOnly){var e=!1,t="".concat(n,"/gasPrice/").concat(c.id,"?cacheBreak=").concat(b);return Object(P.c)(t).then((function(t){e||d(t.data)})).catch((function(t){e||console.log("fetch error",t)})),function(){return e=!0}}}),[n,c,b]),l?Object(m.jsxs)("div",{className:"gas-info",children:[Object(m.jsxs)("span",{className:"native-price",children:[null===(t=A.a.find((function(e){return e.id===c.id})))||void 0===t?void 0:t.nativeAssetSymbol,": ",Number(l.gasFeeAssets.native).toLocaleString("en-US",{minimumFractionDigits:2})]}),Object(m.jsx)(g.b,{to:a.url+"/gas-tank",children:Object(m.jsxs)("span",{className:"gas-price",children:[Object(m.jsx)(ee.a,{})," $",((l.gasPrice&&l.gasPrice.maxPriorityFeePerGas?l.gasPrice.maxPriorityFeePerGas.medium+l.gasPrice.medium:l.gasPrice.medium)*ne/Math.pow(10,18)*l.gasFeeAssets.native).toFixed(2)]})})]}):null},se=function(e){var t=e.match,c=e.portfolio,n=e.hidePrivateValue,a=e.relayerURL,s=e.selectedNetwork,r=e.dappsCatalog,d=Object(o.useRef)(),j=Object(o.useState)(0),b=Object(i.a)(j,2),O=b[0],h=b[1],x=r.isDappMode,f=r.sideBarOpen,v=r.toggleSideBarOpen,w=r.toggleDappMode,N=Object(l.useRouteMatch)("/wallet/dapps"),y=Object(o.useMemo)((function(){return x&&N}),[x,N]),C=Object(o.useCallback)((function(){var e={3:"2em",5:"1.5em",7:"1.3em",9:"1.2em",11:"1em"},t=c.balance.total.truncated.length,n=Object.keys(e).reduce((function(e,c){return Math.abs(c-t)<Math.abs(e-t)?c:e}));h(e[n])}),[c.balance.total]);Object(o.useEffect)((function(){return C()}),[C]);var A=Object(o.useCallback)((function(){y&&w()}),[y,w]);return Object(m.jsxs)("div",{id:"sidebar",className:(y?"dapp-mode":"")+(f?" open":""),ref:d,children:[y&&f&&Object(m.jsx)("div",{className:"outside-handler",onClick:function(){return v()}}),y&&Object(m.jsxs)("div",{className:"ambire-logo",children:[Object(m.jsx)("div",{className:"logo"}),Object(m.jsx)("div",{className:"icon"}),Object(m.jsx)(p.e,{clear:!0,icon:Object(m.jsx)(u.i,{size:23}),mini:!0,border:!0,onClick:function(){return v()}})]}),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("label",{children:"Balance"}),c.isCurrNetworkBalanceLoading?Object(m.jsx)("div",{className:"loaderContainer",children:Object(m.jsx)(p.m,{})}):Object(m.jsxs)("div",{className:"balanceDollarAmount",style:{fontSize:O},children:[Object(m.jsx)("span",{className:"dollarSign highlight",children:"$"}),n(c.balance.total.truncated),Object(m.jsxs)("span",{className:"highlight",children:[".",n(c.balance.total.decimals)]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(ae,{relayerURL:a,selectedNetwork:s,match:t})})]}),Object(m.jsxs)("nav",{children:[Object(m.jsx)(g.c,{to:t.url+"/dashboard",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(u.l,{}),"Dashboard"]})}),Object(m.jsx)(g.c,{to:t.url+"/deposit",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(ee.c,{}),"Deposit"]})}),Object(m.jsx)(g.c,{to:t.url+"/transfer",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(S.c,{}),"Transfer"]})}),Object(m.jsx)(g.c,{to:t.url+"/swap",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(U.i,{}),"Swap"]})}),Object(m.jsx)(g.c,{to:t.url+"/dapps",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",onClick:A,children:[Object(m.jsx)(k.c,{}),"dApps"]})}),Object(m.jsx)(g.c,{to:t.url+"/gas-tank",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(ee.a,{}),"Gas Tank"]})}),Object(m.jsx)(g.c,{to:t.url+"/cross-chain",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(te.a,{}),"Cross-Chain"]})}),Object(m.jsx)(g.c,{to:t.url+"/earn",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(U.m,{}),"Earn"]})}),Object(m.jsx)(g.c,{to:t.url+"/transactions",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(u.j,{}),"Transactions"]})}),Object(m.jsx)(g.c,{to:t.url+"/security",activeClassName:"selected",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)(u.y,{}),"Security"]})}),Object(m.jsx)("div",{className:"separator"}),Object(m.jsx)("a",{href:"https://help.ambire.com/hc/en-us/categories/4404980091538-Ambire-Wallet",target:"_blank",rel:"noreferrer",children:Object(m.jsxs)("div",{className:"item",id:"help-center",children:[Object(m.jsx)(u.s,{}),"Help Center"]})})]})]})},re=(c(1539),c(309)),ie=(c(1540),c(169)),oe=c(1606),le=function(e){var t,c,n,r,l,j=e.dappsCatalog,O=e.dappUrl,h=void 0===O?"":O,x=Object(N.a)().addToast,f=Object(b.f)().hideModal,v=j.addCustomDapp,g=j.isDappInCatalog,k=Object(o.useState)(""),w=Object(i.a)(k,2),y=w[0],C=w[1],R=Object(o.useState)(""),S=Object(i.a)(R,2),T=S[0],_=S[1],E=Object(o.useState)(""),D=Object(i.a)(E,2),L=D[0],U=D[1],I=Object(o.useState)(null),M=Object(i.a)(I,2),W=M[0],B=M[1],q=Object(o.useState)(""),V=Object(i.a)(q,2),F=V[0],G=V[1],z=Object(o.useState)(!1),Y=Object(i.a)(z,2),H=Y[0],K=Y[1],$=Object(o.useState)(null),X=Object(i.a)($,2),Z=X[0],Q=X[1],ee=Object(o.useState)(null),te=Object(i.a)(ee,2),ce=te[0],ne=te[1],ae=Object(o.useState)(null),se=Object(i.a)(ae,2),re=se[0],le=se[1],de=Object(o.useState)(null),ue=Object(i.a)(de,2),je=ue[0],be=ue[1],pe=Object(o.useState)([]),me=Object(i.a)(pe,2),Oe=me[0],he=me[1],xe=Object(o.useState)({}),fe=Object(i.a)(xe,2),ve=fe[0],ge=fe[1],ke=Object(o.useState)(!1),we=Object(i.a)(ke,2),Ne=we[0],ye=we[1],Ce=Object(o.useMemo)((function(){return!ve.success||Ne||H}),[ve.success,Ne,H]),Ae=Object(o.useCallback)(Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(!0),v({id:Object(ie.b)(y),name:y,url:T,description:L,iconUrl:re?"":W,connectionType:F,networks:Oe}),x("".concat(y," added to Ambire Wallet dApp catalog")),K(!1),f();case 5:case"end":return e.stop()}}),e)}))),[v,x,F,L,f,W,re,y,Oe,T]),Re=Object(o.useCallback)(Object(s.a)(a.a.mark((function e(){var t,c,n,s,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",c=Object(ie.d)(t),_(c),C(""),U(""),B(""),G(""),ne(""),le(""),be(""),K(!0),Object(oe.b)(c)){e.next=18;break}return Q(c?"Invalid Url":null),K(!1),e.abrupt("return");case 18:Q(null);case 19:return n=g(c),ye(n),e.next=23,Object(ie.c)(P.a,c);case 23:(s=e.sent)?(C(s.name),U(s.description),B(s.iconUrl),G(s.connectionType),he(s.networks||[]),ne(n?"".concat(c," is already in your wallet catalog"):""),be((null===s||void 0===s||null===(r=s.networks)||void 0===r?void 0:r.length)?"":"Supported networks not detected! Please select manually.")):ne("Can't find dApp data \u2014 make sure it supports Gnosis Safe apps or WalletConnect"),K(!1);case 26:case"end":return e.stop()}}),e)}))),[g]),Se=Object(o.useCallback)((function(e){G(e)}),[]),Te=Object(o.useMemo)((function(){return[{label:"Gnosis Safe App",value:"gnosis",disabled:!T||Z},{label:"WalletConnect",value:"walletconnect",disabled:!T||Z}]}),[T,Z]);Object(o.useEffect)((function(){h&&Re(h)}),[]);var _e=Object(o.useMemo)((function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.e,{clear:!0,icon:Object(m.jsx)(u.I,{}),onClick:function(){return f()},children:"Close"}),Object(m.jsx)(p.e,{icon:Object(m.jsx)(u.C,{}),disabled:Ce,onClick:Ae,children:"Add"})]})}),[Ae,Ce,f]);return Object(o.useEffect)((function(){ge(T?Object(oe.a)({id:Object(ie.b)(y||""),name:y,url:T,description:L,iconUrl:re?"":W,connectionType:F,networks:Oe}):{})}),[F,L,W,re,y,Oe,T]),Object(m.jsxs)(p.n,{id:"add-custom-dapp-modal",title:Object(m.jsxs)("div",{className:"custom-dapp-title",children:[Object(m.jsx)(p.y,{label:"Click here to see how create dApp for Ambire Wallet catalog",children:Object(m.jsx)("a",{className:"info-btn",href:"https://github.com/AmbireTech/wallet-dapp-catalog#readme",target:"_blank",rel:"noreferrer noopener",children:Object(m.jsx)(u.d,{size:32})})}),Object(m.jsx)("div",{children:"Add custom dApp"})]}),buttons:_e,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(p.w,{value:T,label:"URL",onInput:function(e){return Re(e)},className:"dapp-input",placeholder:"https://some.dapp.com"}),Object(m.jsx)("div",{className:"input-err",children:Z||(null===ve||void 0===ve||null===(t=ve.errors)||void 0===t?void 0:t.url)||ce})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(p.w,{small:!0,label:"Name",value:y,onInput:function(e){return C(e)},className:"dapp-input"}),Object(m.jsx)("div",{className:"input-err",children:null===ve||void 0===ve||null===(c=ve.errors)||void 0===c?void 0:c.name})]}),Object(m.jsx)("div",{children:Object(m.jsx)(p.w,{small:!0,label:"Description",value:L,onInput:function(e){return U(e)},className:"dapp-input"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"icon-input",children:[Object(m.jsx)(p.w,{small:!0,label:"Icon URL",value:W,onInput:function(e){B(e),le("")},className:"dapp-input"}),Object(m.jsx)("div",{className:"icon-wrapper",children:W&&!re?Object(m.jsx)("img",{width:46,height:46,src:W||J,alt:(y||"no")+" logo",onError:function(){le("Invalid icon URL, please update it or default dApp icon will be displayed")}}):re?Object(m.jsx)(u.q,{size:40}):Object(m.jsx)(u.t,{size:40})})]}),Object(m.jsx)("div",{className:"input-err",children:(null===ve||void 0===ve||null===(n=ve.errors)||void 0===n?void 0:n.iconUrl)||re})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"connection-radios",children:[Object(m.jsx)("div",{children:"Connection Type"}),Object(m.jsx)(p.r,{radios:Te,value:F,onChange:Se,row:!0})]}),Object(m.jsx)("div",{className:"input-err",children:null===ve||void 0===ve||null===(r=ve.errors)||void 0===r?void 0:r.connectionType})]}),Object(m.jsxs)("div",{className:"networks",children:[Object(m.jsxs)("div",{children:["Supported networks (",Oe.length," selected)"]}),Object(m.jsx)("div",{className:"networks-container",children:A.a.map((function(e){return Object(m.jsx)(p.y,{label:e.name,children:Object(m.jsx)("span",{className:"network-tag".concat(Oe.includes(e.id)?" selected":""),style:{backgroundImage:"url(".concat(e.icon,")")},onClick:function(){return t=e.id,void he((function(e){var c=e.indexOf(t),n=Object(d.a)(e);return c>=0?n.splice(c,1):n.push(t),n}));var t}})},e.id)}))}),Object(m.jsx)("div",{className:"input-err",children:je||(null===ve||void 0===ve||null===(l=ve.errors)||void 0===l?void 0:l.networks)})]})]})},de=c(181),ue={walletconnect:"WalletConnect"},je={walletconnect:"WalletConnect"},be=function(e){var t=e.network,c=e.dappsCatalog,n=e.selectedAcc,d=e.gnosisConnect,O=e.gnosisDisconnect,h=Object(de.a)("dappUrl"),x=c.addCustomDapp,f=c.loadDappFromUrl,v=c.isDappMode,g=c.currentDappData,w=c.toggleFavorite,N=c.favorites,y=c.filteredCatalog,C=c.onCategorySelect,R=c.categoryFilter,S=c.search,T=c.onSearchChange,_=c.categories,E=c.loadCurrentDappData,D=c.removeCustomDapp,L=Object(b.f)().showModal,U=Object(o.useState)(""),I=Object(i.a)(U,2),M=I[0],W=I[1],B=Object(l.useHistory)();Object(o.useEffect)((function(){W(h)}),[h]);var q=Object(o.useCallback)((function(e){return e.map((function(e){var c,n;return Object(r.a)(Object(r.a)({},e),{},{supported:!(null===(c=e.networks)||void 0===c?void 0:c.length)||!!(null===(n=e.networks)||void 0===n?void 0:n.find((function(e){return e===t.id})))})})).sort((function(e,t){return t.supported-e.supported}))}),[t]),V=Object(o.useCallback)((function(e){return Object(m.jsx)("div",{className:"tooltipNetworks",children:null===e||void 0===e?void 0:e.map((function(e){var t=A.a.find((function(t){return t.id===e}));return t?Object(m.jsxs)("div",{className:"tooltipNetwork",children:[Object(m.jsx)("span",{className:"tooltipNetwork-icon",style:{backgroundImage:"url(".concat(t.iconUrl,")")}}),Object(m.jsx)("span",{children:t.name})]},t.id):null})).filter((function(e){return e}))})}),[]),F=Object(o.useCallback)((function(e,t){w(t),e.stopPropagation()}),[w]),G=Object(o.useCallback)(function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="gnosis"===t.connectionType&&!t.custom||t.forceInternal,e.t0){e.next=5;break}return e.next=4,Object(ie.a)(P.a,t.url);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=9;break}E(t),e.next=10;break;case 9:window.open(t.url,"_blank");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E]),z=Object(o.useCallback)((function(e,t){e.stopPropagation(),e.preventDefault(),D(t)}),[D]),Y=Object(o.useCallback)((function(e,t){L(Object(m.jsx)(le,{dappsCatalog:c,dappUrl:t}))}),[c,L]);return Object(o.useEffect)((function(){if(M){n||B.push("/add-account?dappUrl=".concat(M));var e=f(M);if(W(""),!e){var t=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.c)(P.a,M);case 2:(t=e.sent)&&t.isWalletPlugin?x(t):Y(null,M);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t().catch((function(e){console.error("tryAutoLoad:",e)}))}}}),[M,f,n]),Object(m.jsx)("section",{id:"dappCatalog",children:v&&g?Object(m.jsx)(j.a,{className:"dapp-iframe",network:t,selectedApp:g,selectedAcc:n,gnosisConnect:d,gnosisDisconnect:O}):Object(m.jsxs)(o.Fragment,{children:[Object(m.jsxs)("div",{className:"filter-section",children:[Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)(p.w,{value:S,onChange:T,placeholder:"Search filter",icon:Object(m.jsx)(u.ab,{})})}),Object(m.jsx)("div",{className:"categories",children:_.map((function(e){return Object(m.jsx)("span",{className:"category category-".concat(e.name).concat((null===R||void 0===R?void 0:R.name)===e.name?" selected":""),onClick:function(){return C(e)},children:je[e.name]||e.name},e.name)}))})]}),Object(m.jsxs)("div",{className:"catalogItems",children:[Object(m.jsxs)("div",{className:"catalogItem add-custom-dapp",children:[Object(m.jsxs)("div",{className:"tools",children:[Object(m.jsx)(p.y,{label:"Click here to see how create dApp for Ambire Wallet catalog",children:Object(m.jsx)("a",{className:"info-btn",href:"https://github.com/AmbireTech/wallet-dapp-catalog#readme",target:"_blank",rel:"noreferrer noopener",children:Object(m.jsx)(u.d,{size:23})})}),Object(m.jsx)("img",{className:"custom-dapp",src:J,alt:"add custom dapps"})]}),Object(m.jsx)("div",{className:"custom-dapp-icon-wrapper",children:Object(m.jsx)("img",{className:"custom-dapp-icon",src:J,alt:"add custom dapps icon"})}),Object(m.jsx)(p.e,{border:!0,mini:!0,onClick:Y,children:"Add custom dApp"})]}),q(y).map((function(e){var c,n,a;return Object(m.jsxs)("div",{className:"catalogItem".concat(e.supported?"":" not-supported"),onClick:function(){return e.supported&&G(e)},children:[Object(m.jsxs)("div",{className:"tools",children:[e.featured&&Object(m.jsx)(p.y,{label:"Hot dApp",children:Object(m.jsx)("img",{className:"icon hot-dapp",src:re.a,alt:"hot dApp icon"})}),e.custom&&Object(m.jsx)(p.y,{label:"Remove ".concat(e.name," from your catalog"),children:Object(m.jsx)(u.m,{className:"icon remove-dapp",onClick:function(t){return z(t,e)}})}),e.custom&&Object(m.jsx)("img",{className:"custom-dapp icon",src:J,alt:"custom dapp icon"}),Object(m.jsx)(p.y,{label:"".concat(N[e.url]?"Remove":"Add"," ").concat(e.name," ").concat(N[e.url]?"from":"to"," favorites"),children:Object(m.jsxs)("span",{className:"favorite".concat(N[e.url]?" selected":""),onClick:function(t){return F(t,e)},children:[" ",N[e.url]?Object(m.jsx)(k.a,{className:"icon"}):Object(m.jsx)(k.j,{className:"icon"})]})})]}),Object(m.jsxs)("div",{className:"base-info",children:[Object(m.jsxs)("div",{className:"logoSplit",children:[Object(m.jsx)("div",{className:"logo",children:Object(m.jsx)("img",{src:e.iconUrl||J,alt:e.name})}),Object(m.jsx)("div",{className:"content",children:Object(m.jsx)("span",{className:"title",children:e.name})})]}),Object(m.jsx)("div",{className:"description",children:e.description})]}),Object(m.jsxs)("div",{children:[!e.supported&&Object(m.jsx)("div",{className:"tag-row unsupported",children:Object(m.jsxs)("span",{className:"tag unsupported",children:[t.id," unsupported"]})}),Object(m.jsxs)("div",{className:"aligned-tag-rows",children:[!!(null===(c=e.networks)||void 0===c?void 0:c.length)&&Object(m.jsx)(p.y,{htmlContent:V(e.networks),children:Object(m.jsxs)("div",{className:"tag-row network-tag-row",children:[(null===(n=e.networks)||void 0===n?void 0:n.length)>3&&Object(m.jsx)("span",{className:"tag network-tag network-tag-more",children:"..."}),null===(a=e.networks)||void 0===a?void 0:a.slice(0,3).reverse().map((function(e){var t=A.a.find((function(t){return t.id===e}));return t?Object(m.jsx)("span",{className:"tag network-tag",style:{backgroundImage:"url(".concat(t.icon,")")}},t.id):null}))]})}),Object(m.jsx)("div",{className:"tag-row tag-types",children:Object(m.jsx)("span",{className:"tag type-tag type-tag-".concat(e.category),children:ue[e.category]||e.category})})]})]})]},e.id)}))]}),!y.length&&Object(m.jsx)("div",{className:"no-dapp-found",children:"No dApp found in our list matching your criteria"}),Object(m.jsxs)("div",{className:"info-wc",children:[Object(m.jsx)(u.u,{})," Note: any dApp that supports WalletConnect can be connected as well"]})]})})},pe=Object(o.lazy)((function(){return c.e(18).then(c.bind(null,1625))})),me=Object(o.lazy)((function(){return Promise.all([c.e(0),c.e(1),c.e(2),c.e(3),c.e(10)]).then(c.bind(null,1618))})),Oe=Object(o.lazy)((function(){return c.e(27).then(c.bind(null,1626))})),he=Object(o.lazy)((function(){return Promise.all([c.e(16),c.e(21)]).then(c.bind(null,1617))})),xe=Object(o.lazy)((function(){return Promise.all([c.e(0),c.e(1),c.e(2),c.e(3),c.e(9)]).then(c.bind(null,1621))})),fe=Object(o.lazy)((function(){return Promise.all([c.e(0),c.e(2),c.e(3),c.e(5),c.e(15)]).then(c.bind(null,1614))})),ve=Object(o.lazy)((function(){return c.e(25).then(c.bind(null,1627))})),ge=Object(o.lazy)((function(){return Promise.all([c.e(0),c.e(22)]).then(c.bind(null,1622))})),ke=Object(o.lazy)((function(){return c.e(26).then(c.bind(null,1615))})),we=Object(o.lazy)((function(){return Promise.all([c.e(1),c.e(13),c.e(4),c.e(20)]).then(c.bind(null,1619))})),Ne=Object(o.lazy)((function(){return Promise.all([c.e(0),c.e(17)]).then(c.bind(null,1624))}));function ye(e){var t=Object(b.f)().showModal,c=Object(b.g)(),n=c.isClipboardGranted,d=c.isNoticationsGranted,u=c.arePermissionsLoaded,j=c.modalHidden,O=Object(l.useLocation)().pathname,h=Object(o.useRef)(),g=e.dappsCatalog.isDappMode,k=Object(l.useRouteMatch)("/wallet/dapps"),w=Object(o.useMemo)((function(){return g&&k}),[g,k]),N=Object(o.useMemo)((function(){return e.accounts.length>0}),[e.accounts]),y=Object(b.e)({key:"dAppsAdvancedMode",defaultValue:[]}),C=Object(i.a)(y,2),A=C[0],R=C[1],S=[{path:"/dashboard/:tabId?/:page?",component:Object(m.jsx)(me,{portfolio:e.portfolio,selectedNetwork:e.network,selectedAccount:e.selectedAcc,accounts:e.accounts,setNetwork:e.setNetwork,privateMode:e.privateMode,rewardsData:e.rewardsData,addRequest:e.addRequest,relayerURL:e.relayerURL,useStorage:e.useStorage,userSorting:e.userSorting,setUserSorting:e.setUserSorting,match:e.match,showSendTxns:e.showSendTxns})},{path:"/deposit",component:Object(m.jsx)(we,{selectedAcc:e.selectedAcc,selectedNetwork:e.network,accounts:e.accounts,addRequest:e.addRequest,relayerURL:e.relayerURL,portfolio:e.portfolio,useStorage:e.useStorage})},{path:"/transfer/:tokenAddressOrSymbol?",component:Object(m.jsx)(pe,{portfolio:e.portfolio,selectedAcc:e.selectedAcc,selectedNetwork:Object(r.a)({},e.network),addRequest:e.addRequest,accounts:e.accounts,addressBook:e.addressBook,relayerURL:e.relayerURL})},{path:"/cross-chain",component:Object(m.jsx)(ge,{addRequest:e.addRequest,selectedAccount:e.selectedAcc,portfolio:e.portfolio,network:e.network,relayerURL:e.relayerURL})},{path:"/earn",component:Object(m.jsx)(he,{portfolio:e.portfolio,selectedNetwork:Object(r.a)({},e.network),selectedAcc:e.selectedAcc,rewardsData:e.rewardsData,addRequest:e.addRequest})},{path:"/security",component:Object(m.jsx)(xe,{relayerURL:e.relayerURL,selectedAcc:e.selectedAcc,selectedNetwork:e.network,accounts:e.accounts,addRequest:e.addRequest,showSendTxns:e.showSendTxns,onAddAccount:e.onAddAccount})},{path:"/transactions/:page?",component:Object(m.jsx)(fe,{relayerURL:e.relayerURL,selectedAcc:e.selectedAcc,selectedNetwork:e.network,addRequest:e.addRequest,eligibleRequests:e.eligibleRequests,showSendTxns:e.showSendTxns,setSendTxnState:e.setSendTxnState})},{path:"/swap",component:Object(m.jsx)(Oe,{gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc,network:e.network})},{path:"/dapps",component:Object(m.jsx)(be,{network:e.network,dappsCatalog:e.dappsCatalog,gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc})},{path:"/opensea",component:Object(m.jsx)(ke,{gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc,network:e.network})},{path:"/nft/:network/:collectionAddr/:tokenId",component:Object(m.jsx)(ve,{selectedAcc:e.selectedAcc,selectedNetwork:Object(r.a)({},e.network),addRequest:e.addRequest,accounts:e.accounts,addressBook:e.addressBook})},{path:"/gnosis/plugins/:plugin?",component:Object(m.jsx)(x,{gnosisConnect:e.gnosisConnect,gnosisDisconnect:e.gnosisDisconnect,selectedAcc:e.selectedAcc,network:e.network})},{path:"/gas-tank",component:Object(m.jsx)(Ne,{selectedNetwork:Object(r.a)({},e.network),relayerURL:e.relayerURL,portfolio:e.portfolio,selectedAccount:e.selectedAcc,userSorting:e.userSorting,setUserSorting:e.setUserSorting,setGasTankState:e.setGasTankState,gasTankState:e.gasTankState})}],T=function(){return N?null:Object(m.jsx)(l.Redirect,{to:"/add-account"})},_=Object(o.useCallback)(Object(s.a)(a.a.mark((function c(){var s,r,i,o,l,b,p,O;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s=e.accounts.find((function(t){return t.id===e.selectedAcc}))){c.next=3;break}return c.abrupt("return");case 3:r="".concat(e.relayerURL,"/identity/").concat(s.id),i=u&&(!Object(f.a)()&&!n||!d),o=i&&!j,l=!!s.emailConfRequired,b=s.backupOptout,p=Object(m.jsx)(Z,{relayerIdentityURL:r,account:s,onAddAccount:e.onAddAccount,isCloseBtnShown:!b,isBackupOptout:!b,showThankYouPage:e.showThankYouPage}),O=navigator.platform.includes("Android")||navigator.platform.includes("iOS"),(l||o||b)&&!O&&t(p,{disableClose:!0});case 11:case"end":return c.stop()}}),c)}))),[e.accounts,e.relayerURL,e.onAddAccount,e.showThankYouPage,e.selectedAcc,u,n,d,j,t]);return Object(o.useEffect)((function(){return _()}),[_]),Object(o.useEffect)((function(){var e=setTimeout((function(){return h.current&&h.current.scrollTo({top:0,behavior:"smooth"})}),0);return function(){return clearTimeout(e)}}),[O]),Object(o.useEffect)((function(){var c=e.connections.filter((function(e){var t=e.session;return t&&t.peerMeta&&v.a.includes(t.peerMeta.url)&&!A.includes(t.peerMeta.url)}));c.length&&t(Object(m.jsx)(Q,{connections:c,disconnect:e.disconnect,advancedModeList:A,onContinue:R}))}),[e.connections,e.disconnect,t,A,R]),Object(m.jsxs)("div",{id:"wallet",children:[Object(m.jsx)(se,{match:e.match,portfolio:e.portfolio,hidePrivateValue:e.privateMode.hidePrivateValue,relayerURL:e.relayerURL,selectedNetwork:e.network,dappsCatalog:e.dappsCatalog}),Object(m.jsx)(K,Object(r.a)({},e)),Object(m.jsx)("div",{id:"wallet-container",className:w?"dapp-mode":"",ref:h,children:Object(m.jsx)("div",{id:"wallet-container-inner",children:Object(m.jsx)(o.Suspense,{fallback:Object(m.jsx)(p.m,{}),children:Object(m.jsxs)(l.Switch,{children:[S.map((function(t){var c=t.path,n=t.component;return Object(m.jsxs)(l.Route,{exact:!0,path:e.match.url+c,children:[Object(m.jsx)(T,{}),n||null]},c)})),Object(m.jsx)(l.Route,{path:e.match.url+"/*",children:Object(m.jsx)(l.Redirect,{to:e.match.url+"/dashboard"})}),Object(m.jsx)(l.Route,{path:e.match.url,children:Object(m.jsx)(T,{})})]})})})})]})}},723:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(8),a=(c(952),c(3)),s=c(79),r=c(4);function i(e){var t=e.selectedApp,c=void 0===t?{}:t,i=e.title,o=void 0===i?"Ambire Plugin":i,l=e.network,d=e.selectedAcc,u=e.gnosisConnect,j=e.gnosisDisconnect,b=e.className,p=(l||{}).chainId,m=(c||{}).url,O=Object(a.useState)(!0),h=Object(n.a)(O,2),x=h[0],f=h[1],v=Object(a.useState)(""),g=Object(n.a)(v,2),k=g[0],w=g[1],N=Object(a.useRef)(null);return Object(a.useEffect)((function(){w(m+p+d)}),[p,d,m]),Object(a.useEffect)((function(){f(!0)}),[k]),Object(a.useEffect)((function(){return u({selectedAcc:d,iframeRef:N,app:c}),function(){j()}}),[c,l,d,N,u,j]),Object(r.jsxs)("div",{id:"plugin-gnosis-container",className:b,children:[x&&Object(r.jsx)("div",{className:"iframe-placeholder",children:Object(r.jsx)(s.u,{children:Object(r.jsx)(s.c,{})})}),m&&Object(r.jsx)("iframe",{id:k,ref:N,title:o,src:m,onLoad:function(){return f(!1)},style:x?{display:"none"}:{}},k)]})}},952:function(e,t,c){},955:function(e,t,c){"use strict";c(1529);var n=c(129),a=c(79),s=c(37),r=c(1530),i=c.n(r),o=c(1532),l=c.p+"static/media/circle.ee8bb2e5.svg",d=c(4);t.a=function(e){var t=e.isVisible,c=e.hideModal,r=e.text,u=e.onClick,j=document.getElementById("root");return t?Object(n.createPortal)(Object(d.jsx)("div",{id:"unbond-modal",children:Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"danger-animation-wrapper",children:[Object(d.jsx)(i.a,{className:"danger-animation",animationData:o,background:"transparent",speed:"1",loop:!0,autoplay:!0}),Object(d.jsx)("img",{src:l,alt:"circle",className:"danger-animation-circle"})]}),Object(d.jsx)("span",{className:"warning-title",children:"Warning"}),Object(d.jsx)("p",{className:"warning-text",children:r})]}),Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)(a.e,{className:"button",danger:!0,onClick:u,children:"Yes, Claim anyway"}),Object(d.jsx)(a.e,{className:"button",clear:!0,icon:Object(d.jsx)(s.I,{}),onClick:c,children:"Close"})]})]})}),j):null}}}]);
//# sourceMappingURL=12.7cf39593.chunk.js.map