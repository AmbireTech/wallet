(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[19],{1552:function(e,t,a){e.exports={transferButton:"Transfer_transferButton__1rMpZ",wrapper:"Transfer_wrapper__1zpDw",amountLabel:"Transfer_amountLabel__2FfXd",recipientField:"Transfer_recipientField__38BwH",recipientInput:"Transfer_recipientInput__1fRT1",dropdown:"Transfer_dropdown__1iOox",udomainsLogo:"Transfer_udomainsLogo__2kvpB",udomainsLogoActive:"Transfer_udomainsLogoActive__1yiB2",ensLogo:"Transfer_ensLogo__3Mty8",ensLogoActive:"Transfer_ensLogoActive__3lBQM",panel:"Transfer_panel__3xc_N",form:"Transfer_form__vDDvB",separator:"Transfer_separator__2LFW-",gasTankMsg:"Transfer_gasTankMsg__1e4vi",gasTankConvertMsg:"Transfer_gasTankConvertMsg__2WccI",binanceAddressWarning:"Transfer_binanceAddressWarning__2UP0i"}},1553:function(e,t,a){e.exports={"addresses-button":"Addresses_addresses-button__3nLP7",wrapper:"Addresses_wrapper__2fkD9",separator:"Addresses_separator__1OSZH",item:"Addresses_item__2G0-3",details:"Addresses_details__3NAv3",address:"Addresses_address__1RlKw",button:"Addresses_button__235kc"}},1554:function(e,t,a){},1633:function(e,t,a){"use strict";a.r(t);var n=a(11),s=a(15),r=a(3),o=a.n(r),c=a(12),i=a(9),u=a(1552),d=a.n(u),l=a(534),b=a(48),m=a(33),f=a(2),p=a(62),j=a(21),v=a(46),h=a(85),g=a(628),O=a(214),y=a(100),x=a(1553),w=a.n(x),_=a(286),k=a(8),A=(a(1554),a(37)),T=a(215),N=a(4),C=function(e){var t=e.title,a=e.inputs,n=e.selectedNetwork,s=e.onClose,r=Object(A.f)().hideModal,u=Object(f.useState)(!0),d=Object(i.a)(u,2),l=d[0],m=d[1],p=Object(f.useState)(""),j=Object(i.a)(p,2),v=j[0],g=j[1],y=Object(f.useState)(""),x=Object(i.a)(y,2),w=x[0],_=x[1],C=Object(f.useRef)(null),L=Object(f.useMemo)((function(){return a.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{ref:Object(f.createRef)()})}))}),[a]),S=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(t,null,n.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){C.current&&clearTimeout(C.current);var e=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.find((function(e){return"address"===e.inputType})),a=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(n=null,s=null,!t){e.next=15;break}return e.next=9,S(a);case 9:return n=e.sent,e.next=12,Object(T.b)(a);case 12:s=e.sent,C.current=null,n?g(n):s&&_(s);case 15:r=L.map((function(e){var t=e.ref,a=e.validate,r="address"===e.inputType,o=r&&n?n:r&&s?s:t.current.value;return a?a(o):!!o})).every((function(e){return!0===e})),m(!r);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C.current=setTimeout(Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},F=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(h.e,{clear:!0,small:!0,icon:Object(N.jsx)(b.f,{}),onClick:r,children:"Cancel"}),Object(N.jsx)(h.e,{small:!0,icon:Object(N.jsx)(b.d,{}),disabled:l,onClick:function(){var e=L.map((function(e){return e.ref.current.value}));v?e.push({type:"ud"}):w?e.push({type:"ens"}):e.push({type:"pub"}),s&&s(e),r()},children:"Confirm"})]});return Object(N.jsx)(h.n,{id:"input-modal",title:t,buttons:F,children:L.map((function(e){var t=e.id,a=e.label,n=e.placeholder,s=e.ref,r=e.type;return Object(N.jsxs)("div",{children:[Object(N.jsx)(h.x,{label:a,placeholder:n,onInput:M,ref:s,className:"address-input"}),"address"===r&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(h.z,{label:v?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(N.jsx)("span",{id:"udomains-logo",className:v?"ud-logo-active ":""})}),Object(N.jsx)(h.z,{label:w?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(N.jsx)("div",{id:"ens-logo",className:w?"ens-logo-active ":""})})]})]},t+a)}))})},L=function(e){var t=e.addresses,a=e.addAddress,n=e.removeAddress,s=e.onSelectAddress,r=e.selectedNetwork,o=Object(A.f)().showModal,c=[{inputType:"name",label:"Name",placeholder:"Address title"},{inputType:"address",label:"Address / Unstoppable domains\u24c7 / ENS\u24c7",placeholder:"Address / Unstoppable Domains / ENS",validate:function(e){return Object(y.b)(e)}}],u=Object(N.jsx)(C,{title:"Add New Address",selectedNetwork:r,inputs:c,onClose:function(e){var t=Object(i.a)(e,3),n=t[0],s=t[1],r=t[2];return a(n,s,r)}});return Object(N.jsxs)(h.q,{title:"Address Book",className:w.a.wrapper,children:[Object(N.jsx)(_.a,{noAccounts:!0,addresses:t,removeAddress:n,onSelectAddress:s}),Object(N.jsx)("div",{className:w.a.separator}),Object(N.jsx)(h.e,{onClick:function(){return o(u)},className:w.a["addresses-button"],children:"Add Address"})]})},S=a(57),M=a(506),F=a(519),U=a(146),I=a(767),D=a(34),R=a.n(D),B=new j.Interface(a(516)),E=["Binance","Huobi","KuCoin","Gate.io","FTX"];t.default=Object(m.withRouter)((function(e){var t,a=e.history,r=e.portfolio,u=e.selectedAcc,j=e.selectedNetwork,x=e.addRequest,w=e.addressBook,_=e.relayerURL,k=w.addresses,C=w.addAddress,D=w.removeAddress,z=w.isKnownAddress,G=Object(I.a)({relayerURL:_,selectedAcc:u,network:j,portfolio:r,useRelayerData:A.j}).feeAssetsRes,W=G&&G.length&&G.filter((function(e){return e.network===j.id&&!e.disableGasTankDeposit})),Y=Object(m.useParams)().tokenAddressOrSymbol,J=Object(v.a)().addToast,P=Object(m.useLocation)().state,V=Object(f.useState)(P||null),H=Object(i.a)(V,1)[0],K=Object(y.b)(Y)?Y:(null===(t=r.tokens.find((function(e){return e.symbol===Y})))||void 0===t?void 0:t.address)||null,X=Object(f.useState)(K),q=Object(i.a)(X,2),Z=q[0],Q=q[1],$=Object(f.useState)(0),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(f.useState)(""),se=Object(i.a)(ne,2),re=se[0],oe=se[1],ce=Object(f.useState)(H?U.a.feeCollector:""),ie=Object(i.a)(ce,2),ue=ie[0],de=ie[1],le=Object(f.useState)(""),be=Object(i.a)(le,2),me=be[0],fe=be[1],pe=Object(f.useState)(""),je=Object(i.a)(pe,2),ve=je[0],he=je[1],ge=Object(f.useState)(!0),Oe=Object(i.a)(ge,2),ye=Oe[0],xe=Oe[1],we=Object(f.useState)(!1),_e=Object(i.a)(we,2),ke=_e[0],Ae=_e[1],Te=Object(f.useState)(!1),Ne=Object(i.a)(Te,2),Ce=Ne[0],Le=Ne[1],Se=Object(f.useState)(""),Me=Object(i.a)(Se,2),Fe=Me[0],Ue=Me[1],Ie=Object(f.useState)({success:{amount:!1,address:!1},messages:{amount:"",address:""}}),De=Object(i.a)(Ie,2),Re=De[0],Be=De[1],Ee=Object(f.useState)(""),ze=Object(i.a)(Ee,2),Ge=ze[0],We=ze[1],Ye=Object(f.useRef)(null),Je=((null===H||void 0===H?void 0:H.isTopUp)?r.tokens.filter((function(e){return W&&(null===W||void 0===W?void 0:W.some((function(t){return t.address.toLowerCase()===e.address.toLowerCase()})))})):r.tokens).map((function(e){var t=e.label,a=e.symbol,n=e.address,s=e.img,r=e.tokenImageUrl,o=e.network;return{label:t||a,value:n,icon:s||r,fallbackIcon:Object(M.a)(o,n)}})),Pe=r.tokens.find((function(e){return e.address===Z})),Ve=Object(f.useMemo)((function(){if(!Pe)return{maxAmount:"0",maxAmountFormatted:"0.00"};var e=Pe.balanceRaw,t=Pe.decimals,a=Pe.balance;return{maxAmount:p.ethers.utils.formatUnits(e,t),maxAmountFormatted:Object(F.a)(a,!0,t)}}),[Pe]),He=Ve.maxAmount,Ke=Ve.maxAmountFormatted,Xe=Object(f.useMemo)((function(){return!H&&0===Number(K)&&S.a.map((function(e){return e.id})).filter((function(e){return"ethereum"!==e})).includes(j.id)}),[H,K,j.id]),qe=function(e){if(e){var t=Pe.decimals,a=p.ethers.utils.parseUnits(e,t).toHexString();oe(a)}ae(e)};Object(f.useEffect)((function(){if(We(""),null===H||void 0===H?void 0:H.isTopUp){var e=W&&W.find((function(e){var t,a;return(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null===Pe||void 0===Pe||null===(a=Pe.address)||void 0===a?void 0:a.toLowerCase())}));if(null===e||void 0===e?void 0:e.baseToken){var t=W&&W.find((function(t){return t.address.toLowerCase()===e.baseToken.toLowerCase()}));We("Token ".concat(e.symbol.toUpperCase()," will be converted to ").concat(t.symbol.toUpperCase()," without additional fees."))}}}),[W,null===H||void 0===H?void 0:H.isTopUp,Pe]),Object(f.useEffect)((function(){ae(0),oe(""),Le(!1)}),[Z,j.id]),Object(f.useEffect)((function(){Pe&&a.replace({pathname:"/wallet/transfer/".concat(0!==Number(Z)?Z:Pe.symbol)})}),[Z,a,Pe]),Object(f.useEffect)((function(){var e=Object(g.d)(te,Pe);if(ue.startsWith("0x")&&-1===ue.indexOf(".")){""!==me&&fe(""),""!==ve&&he("");var t=Object(g.c)(ue,u,ke,z);Be({success:{amount:e.success,address:t.success},messages:{amount:e.message?e.message:"",address:t.message?t.message:""}}),xe(!t.success||!e.success||Xe&&!Ce)}else{Ye.current&&clearTimeout(Ye.current);var a=function(){var t=Object(c.a)(o.a.mark((function t(){var a,n,s,r,c,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.a)(ue,Pe?Pe.symbol:null,j.unstoppableDomainsChain);case 2:return a=t.sent,n=Object(T.a)(Pe?Pe.symbol:null),t.next=6,Object(T.b)(ue,n);case 6:s=t.sent,Ye.current=null,r=!!a,i="",i=(c=!!s)?s:r?a:ue,d=Object(g.c)(i,u,ke,z,r,c),fe(a),he(s),Be({success:{amount:e.success,address:d.success},messages:{amount:e.message?e.message:"",address:d.message?d.message:""}}),xe(!d.success||!e.success||Xe&&!Ce);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Ye.current=setTimeout(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a().catch(console.error));case 1:case"end":return e.stop()}}),e)}))),300)}return function(){return clearTimeout(Ye.current)}}),[ue,te,u,Pe,ke,Xe,Ce,z,J,j,C,me,ye,ve]);var Ze=Object(N.jsxs)("div",{className:d.a.amountLabel,children:["Available Amount: ",Object(N.jsxs)("span",{children:[Ke," ",null===Pe||void 0===Pe?void 0:Pe.symbol]})]}),Qe=[].concat(Object(s.a)(Je.filter((function(e){return"wallet"===e.label.toLowerCase()}))),Object(s.a)(Je.filter((function(e){return"wallet"!==e.label.toLowerCase()})).sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1}))));return Object(N.jsxs)("div",{className:d.a.wrapper,style:{justifyContent:H?"center":""},children:[Object(N.jsx)(h.q,{title:"Send",className:d.a.panel,children:r.isCurrNetworkBalanceLoading?Object(N.jsx)(h.m,{}):Je.length?Object(N.jsxs)("div",{className:d.a.form,children:[Object(N.jsx)(h.u,{searchable:!0,defaultValue:Z,items:Qe,onChange:function(e){var t=e.value;return Q(t)}}),Ge?Object(N.jsxs)("p",{className:d.a.gasTankConvertMsg,children:[Object(N.jsx)(b.O,{})," ",Ge]}):Object(N.jsx)(N.Fragment,{}),Object(N.jsx)(h.p,{label:Ze,value:te,precision:null===Pe||void 0===Pe?void 0:Pe.decimals,onInput:qe,button:"MAX",onButtonClick:function(){return qe(He)}}),Re.messages.amount&&Object(N.jsxs)("div",{className:"validation-error",children:[Object(N.jsx)(l.k,{size:12}),"\xa0",Re.messages.amount]}),H?Object(N.jsxs)("p",{className:d.a.gasTankMsg,children:[Object(N.jsx)(b.O,{})," ",null===H||void 0===H?void 0:H.gasTankMsg]}):Object(N.jsxs)("div",{className:d.a.recipientField,children:[Object(N.jsx)(h.x,{placeholder:"Recipient",info:"Please double-check the recipient address, blockchain transactions are not reversible.",value:ue,onInput:de,className:d.a.recipientInput,inputContainerClass:d.a.textInputContainer}),Object(N.jsx)(h.z,{label:ve?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(N.jsx)("div",{className:R()(d.a.ensLogo,Object(n.a)({},d.a.ensLogoActive,ve))})}),Object(N.jsx)(h.z,{label:me?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(N.jsx)("div",{className:R()(d.a.udomainsLogo,Object(n.a)({},d.a.udomainsLogoActive,me))})}),Object(N.jsx)(h.a,{addresses:k.filter((function(e){return e.address!==u})),addAddress:C,removeAddress:D,newAddress:Fe,onClose:function(){return Ue(null)},onSelectAddress:function(e){return de(e)},selectedNetwork:j,className:d.a.dropdown})]}),Re.messages.address&&Object(N.jsxs)("div",{className:"validation-error",children:[Object(N.jsx)(l.k,{size:12}),"\xa0",Re.messages.address]}),Object(N.jsx)("div",{className:d.a.separator}),Object(N.jsx)(h.b,{address:ue,onAddNewAddress:function(){return Ue(ue)},onChange:function(e){return Ae(e)},isKnownAddress:z,uDAddress:me,ensAddress:ve}),Xe?Object(N.jsx)(h.g,{className:d.a.binanceAddressWarning,label:Object(N.jsxs)("span",{id:"binance-address-warning-label",children:["I confirm this address is not a ",E.join(" / ")," address: ",Object(N.jsx)("br",{}),"These platforms do not support $",null===Pe||void 0===Pe?void 0:Pe.symbol," deposits from smart wallets",Object(N.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415473743506-Statement-on-MATIC-BNB-deposits-to-Binance",target:"_blank",rel:"noreferrer",children:Object(N.jsx)(b.n,{size:20})})]}),checked:Ce,onChange:function(e){var t=e.target;return Le(t.checked)}}):null,Object(N.jsx)(h.e,{primaryGradient:!0,disabled:ye,onClick:function(){var e=me||(ve||ue);if(re)try{var t={to:Pe.address,value:"0",data:B.encodeFunctionData("transfer",[e,re])};0===Number(Pe.address)&&(t.to=e,t.value=re,t.data="0x");var a={id:"transfer_".concat(Date.now()),type:"eth_sendTransaction",chainId:j.chainId,account:u,txn:t,meta:null};me?a.meta={addressLabel:{addressLabel:ue,address:me}}:ve&&(a.meta={addressLabel:{addressLabel:ue,address:ve}}),x(a),ae(0)}catch(n){console.error(n),J("Error: ".concat(n.message||n),{error:!0})}},className:"transfer-button",children:"Send"})]}):Object(N.jsx)(h.o,{})}),!H&&Object(N.jsx)(L,{selectedAsset:Pe,selectedNetwork:j,addresses:k,addAddress:C,removeAddress:D,onSelectAddress:function(e){return de(e)}})]})}))},506:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},s="https://storage.googleapis.com/zapper-fi-assets/tokens";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t.toLowerCase(),r=e.toLowerCase();return n[a]||"".concat(s,"/").concat(r,"/").concat(a,".png")}},516:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},519:function(e,t,a){"use strict";function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var n=Math.min(2,a||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(n,a),minimumFractionDigits:n})}catch(s){return console.error(s),e}}a.d(t,"a",(function(){return n}))},628:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return u}));var n=a(21),s=a(100),r=a(146),o=function(e){return e&&e.length?e&&Object(s.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},c=function(e,t){var a=o(e);return a.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:a},i=function(e,t,a,n,c,i){var u=o(e);return u.success?e&&e===r.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(s.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||n(e)||a||c||i?!e||n(e)||a||!c&&!i?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(c?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:u},u=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var a=e.slice(0,e.indexOf(".")+t.decimals+1),s=Object(n.parseUnits)(a,t.decimals);if(s&&t.balanceRaw&&s.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(r){console.error(r)}return{success:!0}},d=function(e,t,a,n,s,r,o,c,u){var d,l=i(e,t,a,n,c,u);return l.success?s&&t&&(null===(d=s.owner)||void 0===d?void 0:d.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:r&&o&&r.id!==o?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:l}},767:function(e,t,a){"use strict";var n=a(8),s=a(21),r=a(2);function o(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var c=a(211),i=a(516),u=a(29),d=a(146),l=["txId","txns","submittedAt","gasTankFee","identity"],b=new s.Interface(i),m=b.getSighash(b.getFunction("transfer").format()),f=d.a.feeCollector;function p(e){return e[0]===f||!(!e[2].startsWith(m)||function(e){try{var t=b.decodeFunctionData("transfer",e);return Object(n.a)({value:u.a.from(t._value)},t)}catch(a){return console.error(a),{}}}(e[2])._to!==f)}var j=a(219);t.a=function(e){var t=e.relayerURL,a=e.selectedAcc,i=e.network,d=e.portfolio,v=e.useRelayerData,h=Object(j.a)().cacheBreak,g=d.tokens,O=t?"".concat(t,"/gas-tank/").concat(a,"/getBalance?cacheBreak=").concat(h):null,y=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(h):null,x=t?"".concat(t,"/identity/").concat(a,"/").concat(null===i||void 0===i?void 0:i.id,"/transactions"):null,w=v({url:O}),_=w.data,k=w.isLoading,A=v({url:y}).data,T=v({url:x}).data,N=Object(r.useMemo)((function(){return _&&_.length&&_.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0)}),[_]),C=Object(r.useMemo)((function(){return T&&T.txns.length&&T.txns.filter((function(e){return!!e.gasTankFee}))}),[T]),L=Object(r.useMemo)((function(){return A&&A.length&&A.filter((function(e){return e.network===(null===i||void 0===i?void 0:i.id)}))}),[A,null===i||void 0===i?void 0:i.id]),S=T&&T.txns.length&&T.txns,M=Object(r.useMemo)((function(){return S&&S.length&&function(e){var t=[];return e.forEach((function(e){var a=e.txId,s=e.txns,r=e.submittedAt,o=e.gasTankFee,i=e.identity,d=Object(c.a)(e,l),j=s.filter((function(e,t){return p(e)&&(o||t<s.length-1)})).map((function(e){return e[0]===f?Object(n.a)({submittedAt:r,address:"0x0000000000000000000000000000000000000000",value:u.a.from(e[1]),identity:i,txId:a},d):e[2].startsWith(m)&&b.decodeFunctionData("transfer",e[2])._to===f?Object(n.a)({submittedAt:r,address:e[0],value:u.a.from(b.decodeFunctionData("transfer",e[2])._value),identity:i,txId:a},d):null}));j.length&&t.push(j[0])})),t}(S)}),[S]),F=Object(r.useMemo)((function(){return null===L||void 0===L?void 0:L.map((function(e){var t=null===g||void 0===g?void 0:g.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));return t?Object(n.a)(Object(n.a)({},t),{},{tokenImageUrl:e.icon,decimals:e.decimals,symbol:e.symbol,balance:t.balance,disableGasTankDeposit:!!e.disableGasTankDeposit,balanceUSD:parseFloat(t.balance)*parseFloat(L.find((function(e){return e.address.toLowerCase()===t.address.toLowerCase()})).price||0)}):Object(n.a)(Object(n.a)({},e),{},{tokenImageUrl:e.icon,balance:0,balanceUSD:0,decimals:0,address:e.address.toLowerCase(),symbol:e.symbol.toUpperCase()})}))}),[L,g]),U=Object(r.useMemo)((function(){return C&&C.length&&C.map((function(e){var t=A?A.find((function(t){return t.symbol===e.feeToken})):null,a=t?o(t):null;return{saved:a?e.feeInUSDPerGas*a:0,cashback:e.gasTankFee&&e.gasTankFee.cashback?Object(s.formatUnits)(e.gasTankFee.cashback.toString(),null===t||void 0===t?void 0:t.decimals).toString()*(null===t||void 0===t?void 0:t.price):0}}))}),[A,C]);return{balancesRes:_,gasTankBalances:N,isLoading:k,gasTankTxns:C,feeAssetsRes:A,gasTankFilledTxns:M,totalSavedResult:U,availableFeeAssets:F}}}}]);
//# sourceMappingURL=19.a8af3286.chunk.js.map