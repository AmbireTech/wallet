(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[21],{1559:function(e,t,n){e.exports={transferButton:"Transfer_transferButton__1rMpZ",wrapper:"Transfer_wrapper__1zpDw",amountLabel:"Transfer_amountLabel__2FfXd",recipientField:"Transfer_recipientField__38BwH",recipientInput:"Transfer_recipientInput__1fRT1",dropdown:"Transfer_dropdown__1iOox",udomainsLogo:"Transfer_udomainsLogo__2kvpB",udomainsLogoActive:"Transfer_udomainsLogoActive__1yiB2",ensLogo:"Transfer_ensLogo__3Mty8",ensLogoActive:"Transfer_ensLogoActive__3lBQM",panel:"Transfer_panel__3xc_N",form:"Transfer_form__vDDvB",separator:"Transfer_separator__2LFW-",gasTankMsg:"Transfer_gasTankMsg__1e4vi",gasTankConvertMsg:"Transfer_gasTankConvertMsg__2WccI",binanceAddressWarning:"Transfer_binanceAddressWarning__2UP0i"}},1560:function(e,t,n){e.exports={"addresses-button":"Addresses_addresses-button__3nLP7",wrapper:"Addresses_wrapper__2fkD9",separator:"Addresses_separator__1OSZH",item:"Addresses_item__2G0-3",details:"Addresses_details__3NAv3",address:"Addresses_address__1RlKw",button:"Addresses_button__235kc"}},1561:function(e,t,n){},1642:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n(16),r=n(2),o=n.n(r),c=n(12),i=n(8),u=n(1559),d=n.n(u),l=n(540),b=n(50),m=n(35),f=n(3),p=n(57),j=n(17),v=n(48),O=n(87),g=n(626),h=n(225),y=n(102),x=n(1560),w=n.n(x),_=n(295),k=n(5),A=(n(1561),n(38)),T=n(226),S=n(4),C=function(e){var t=e.title,n=e.inputs,a=e.selectedNetwork,s=e.onClose,r=Object(A.f)().hideModal,u=Object(f.useState)(!0),d=Object(i.a)(u,2),l=d[0],m=d[1],p=Object(f.useState)(""),j=Object(i.a)(p,2),v=j[0],g=j[1],y=Object(f.useState)(""),x=Object(i.a)(y,2),w=x[0],_=x[1],C=Object(f.useRef)(null),N=Object(f.useMemo)((function(){return n.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{ref:Object(f.createRef)()})}))}),[n]),L=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(t,null,a.unstoppableDomainsChain);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){C.current&&clearTimeout(C.current);var e=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N.find((function(e){return"address"===e.inputType})),n=t&&t.ref&&t.ref.current.value){e.next=4;break}return e.abrupt("return");case 4:if(a=null,s=null,!t){e.next=15;break}return e.next=9,L(n);case 9:return a=e.sent,e.next=12,Object(T.b)(n);case 12:s=e.sent,C.current=null,a?g(a):s&&_(s);case 15:r=N.map((function(e){var t=e.ref,n=e.validate,r="address"===e.inputType,o=r&&a?a:r&&s?s:t.current.value;return n?n(o):!!o})).every((function(e){return!0===e})),m(!r);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C.current=setTimeout(Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().catch(console.error));case 1:case"end":return t.stop()}}),t)}))),500)},F=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.e,{clear:!0,small:!0,icon:Object(S.jsx)(b.f,{}),onClick:r,children:"Cancel"}),Object(S.jsx)(O.e,{small:!0,icon:Object(S.jsx)(b.d,{}),disabled:l,onClick:function(){var e=N.map((function(e){return e.ref.current.value}));v?e.push({type:"ud"}):w?e.push({type:"ens"}):e.push({type:"pub"}),s&&s(e),r()},children:"Confirm"})]});return Object(S.jsx)(O.o,{id:"input-modal",title:t,buttons:F,children:N.map((function(e){var t=e.id,n=e.label,a=e.placeholder,s=e.ref,r=e.type;return Object(S.jsxs)("div",{children:[Object(S.jsx)(O.z,{label:n,placeholder:a,onInput:M,ref:s,className:"address-input"}),"address"===r&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.B,{label:v?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(S.jsx)("span",{id:"udomains-logo",className:v?"ud-logo-active ":""})}),Object(S.jsx)(O.B,{label:w?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(S.jsx)("div",{id:"ens-logo",className:w?"ens-logo-active ":""})})]})]},t+n)}))})},N=function(e){var t=e.addresses,n=e.addAddress,a=e.removeAddress,s=e.onSelectAddress,r=e.selectedNetwork,o=Object(A.f)().showModal,c=[{inputType:"name",label:"Name",placeholder:"Address title"},{inputType:"address",label:"Address / Unstoppable domains\u24c7 / ENS\u24c7",placeholder:"Address / Unstoppable Domains / ENS",validate:function(e){return Object(y.b)(e)}}],u=Object(S.jsx)(C,{title:"Add New Address",selectedNetwork:r,inputs:c,onClose:function(e){var t=Object(i.a)(e,3),a=t[0],s=t[1],r=t[2];return n(a,s,r)}});return Object(S.jsxs)(O.s,{title:"Address Book",className:w.a.wrapper,children:[Object(S.jsx)(_.a,{noAccounts:!0,addresses:t,removeAddress:a,onSelectAddress:s}),Object(S.jsx)("div",{className:w.a.separator}),Object(S.jsx)(O.e,{onClick:function(){return o(u)},className:w.a["addresses-button"],children:"Add Address"})]})},L=n(59),M=n(512),F=n(527),D=n(88),U=n(922),I=n(767),B=n(32),R=n.n(B),E=new j.Interface(n(524)),P=["Binance","Huobi","KuCoin","Gate.io","FTX"],G=[{value:"Send"},{value:"Sell"}];t.default=Object(m.withRouter)((function(e){var t,n=e.history,r=e.portfolio,u=e.selectedAcc,j=e.selectedNetwork,x=e.addRequest,w=e.addressBook,_=e.relayerURL,k=w.addresses,C=w.addAddress,B=w.removeAddress,W=w.isKnownAddress,z=Object(I.a)({relayerURL:_,selectedAcc:u,network:j,portfolio:r,useRelayerData:A.j}).feeAssetsRes,Y=z&&z.length&&z.filter((function(e){return e.network===j.id&&!e.disableGasTankDeposit})),V=Object(m.useParams)().tokenAddressOrSymbol,J=Object(v.a)().addToast,H=Object(m.useLocation)().state,K=Object(f.useState)(H||null),X=Object(i.a)(K,1)[0],q=Object(y.b)(V)?V:(null===(t=r.tokens.find((function(e){return e.symbol===V})))||void 0===t?void 0:t.address)||null,Z=Object(f.useState)(q),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=Object(f.useState)(0),ne=Object(i.a)(te,2),ae=ne[0],se=ne[1],re=Object(f.useState)(""),oe=Object(i.a)(re,2),ce=oe[0],ie=oe[1],ue=Object(f.useState)(X?D.a.feeCollector:""),de=Object(i.a)(ue,2),le=de[0],be=de[1],me=Object(f.useState)(""),fe=Object(i.a)(me,2),pe=fe[0],je=fe[1],ve=Object(f.useState)(""),Oe=Object(i.a)(ve,2),ge=Oe[0],he=Oe[1],ye=Object(f.useState)(!0),xe=Object(i.a)(ye,2),we=xe[0],_e=xe[1],ke=Object(f.useState)(!1),Ae=Object(i.a)(ke,2),Te=Ae[0],Se=Ae[1],Ce=Object(f.useState)(!1),Ne=Object(i.a)(Ce,2),Le=Ne[0],Me=Ne[1],Fe=Object(f.useState)(""),De=Object(i.a)(Fe,2),Ue=De[0],Ie=De[1],Be=Object(f.useState)({success:{amount:!1,address:!1},messages:{amount:"",address:""}}),Re=Object(i.a)(Be,2),Ee=Re[0],Pe=Re[1],Ge=Object(f.useState)(""),We=Object(i.a)(Ge,2),ze=We[0],Ye=We[1],Ve=Object(f.useRef)(null),Je=((null===X||void 0===X?void 0:X.isTopUp)?r.tokens.filter((function(e){return Y&&(null===Y||void 0===Y?void 0:Y.some((function(t){return t.address.toLowerCase()===e.address.toLowerCase()})))})):r.tokens).map((function(e){var t=e.label,n=e.symbol,a=e.address,s=e.img,r=e.tokenImageUrl,o=e.network;return{label:t||n,value:a,icon:s||r,fallbackIcon:Object(M.a)(o,a)}})),He=r.tokens.find((function(e){return e.address===$})),Ke=Object(f.useMemo)((function(){if(!He)return{maxAmount:"0",maxAmountFormatted:"0.00"};var e=He.balanceRaw,t=He.decimals,n=He.balance;return{maxAmount:p.ethers.utils.formatUnits(e,t),maxAmountFormatted:Object(F.a)(n,!0,t)}}),[He]),Xe=Ke.maxAmount,qe=Ke.maxAmountFormatted,Ze=Object(f.useMemo)((function(){return!X&&0===Number(q)&&L.a.map((function(e){return e.id})).filter((function(e){return"ethereum"!==e})).includes(j.id)}),[X,q,j.id]),Qe=function(e){if(e){var t=He.decimals,n=p.ethers.utils.parseUnits(e,t).toHexString();ie(n)}se(e)};Object(f.useEffect)((function(){if(Ye(""),null===X||void 0===X?void 0:X.isTopUp){var e=Y&&Y.find((function(e){var t,n;return(null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.toLowerCase())===(null===He||void 0===He||null===(n=He.address)||void 0===n?void 0:n.toLowerCase())}));if(null===e||void 0===e?void 0:e.baseToken){var t=Y&&Y.find((function(t){return t.address.toLowerCase()===e.baseToken.toLowerCase()}));Ye("Token ".concat(e.symbol.toUpperCase()," will be converted to ").concat(t.symbol.toUpperCase()," without additional fees."))}}}),[Y,null===X||void 0===X?void 0:X.isTopUp,He]),Object(f.useEffect)((function(){se(0),ie(""),Me(!1)}),[$,j.id]),Object(f.useEffect)((function(){He&&n.replace({pathname:"/wallet/transfer/".concat(0!==Number($)?$:He.symbol)})}),[$,n,He]),Object(f.useEffect)((function(){var e=Object(g.d)(ae,He);if(le.startsWith("0x")&&-1===le.indexOf(".")){""!==pe&&je(""),""!==ge&&he("");var t=Object(g.c)(le,u,Te,W);Pe({success:{amount:e.success,address:t.success},messages:{amount:e.message?e.message:"",address:t.message?t.message:""}}),_e(!t.success||!e.success||Ze&&!Le)}else{Ve.current&&clearTimeout(Ve.current);var n=function(){var t=Object(c.a)(o.a.mark((function t(){var n,a,s,r,c,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.a)(le,He?He.symbol:null,j.unstoppableDomainsChain);case 2:return n=t.sent,a=Object(T.a)(He?He.symbol:null),t.next=6,Object(T.b)(le,a);case 6:s=t.sent,Ve.current=null,r=!!n,i="",i=(c=!!s)?s:r?n:le,d=Object(g.c)(i,u,Te,W,r,c),je(n),he(s),Pe({success:{amount:e.success,address:d.success},messages:{amount:e.message?e.message:"",address:d.message?d.message:""}}),_e(!d.success||!e.success||Ze&&!Le);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Ve.current=setTimeout(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n().catch(console.error));case 1:case"end":return e.stop()}}),e)}))),300)}return function(){return clearTimeout(Ve.current)}}),[le,ae,u,He,Te,Ze,Le,W,J,j,C,pe,we,ge]);var $e=Object(S.jsxs)("div",{className:d.a.amountLabel,children:["Available Amount: ",Object(S.jsxs)("span",{children:[qe," ",null===He||void 0===He?void 0:He.symbol]})]}),et=Object(f.useState)(G[0].value),tt=Object(i.a)(et,2),nt=tt[0],at=tt[1],st=[].concat(Object(s.a)(Je.filter((function(e){return"wallet"===e.label.toLowerCase()}))),Object(s.a)(Je.filter((function(e){return"wallet"!==e.label.toLowerCase()})).sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1}))));return Object(S.jsxs)("div",{className:d.a.wrapper,style:{justifyContent:X?"center":""},children:[Object(S.jsxs)(O.s,{title:"Send",className:d.a.panel,children:[Object(S.jsx)(O.v,{small:!0,defaultValue:nt,segments:G,onChange:function(e){return at(e)}}),nt===G[0].value?r.isCurrNetworkBalanceLoading?Object(S.jsx)(O.n,{}):Je.length?Object(S.jsxs)("div",{className:d.a.form,children:[Object(S.jsx)(O.w,{searchable:!0,defaultValue:$,items:st,onChange:function(e){var t=e.value;return ee(t)}}),ze?Object(S.jsxs)("p",{className:d.a.gasTankConvertMsg,children:[Object(S.jsx)(b.O,{})," ",ze]}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(O.q,{label:$e,value:ae,precision:null===He||void 0===He?void 0:He.decimals,onInput:Qe,button:"MAX",onButtonClick:function(){return Qe(Xe)}}),Ee.messages.amount&&Object(S.jsxs)("div",{className:"validation-error",children:[Object(S.jsx)(l.k,{size:12}),"\xa0",Ee.messages.amount]}),X?Object(S.jsxs)("p",{className:d.a.gasTankMsg,children:[Object(S.jsx)(b.O,{})," ",null===X||void 0===X?void 0:X.gasTankMsg]}):Object(S.jsxs)("div",{className:d.a.recipientField,children:[Object(S.jsx)(O.z,{placeholder:"Recipient",info:"Please double-check the recipient address, blockchain transactions are not reversible.",value:le,onInput:be,className:d.a.recipientInput,inputContainerClass:d.a.textInputContainer}),Object(S.jsx)(O.B,{label:ge?"Valid Ethereum Name Services\u24c7 domain":"You can use Ethereum Name Service\u24c7",children:Object(S.jsx)("div",{className:R()(d.a.ensLogo,Object(a.a)({},d.a.ensLogoActive,ge))})}),Object(S.jsx)(O.B,{label:pe?"Valid Unstoppable domains\u24c7 domain":"You can use Unstoppable domains\u24c7",children:Object(S.jsx)("div",{className:R()(d.a.udomainsLogo,Object(a.a)({},d.a.udomainsLogoActive,pe))})}),Object(S.jsx)(O.a,{addresses:k.filter((function(e){return e.address!==u})),addAddress:C,removeAddress:B,newAddress:Ue,onClose:function(){return Ie(null)},onSelectAddress:function(e){return be(e)},selectedNetwork:j,className:d.a.dropdown})]}),Ee.messages.address&&Object(S.jsxs)("div",{className:"validation-error",children:[Object(S.jsx)(l.k,{size:12}),"\xa0",Ee.messages.address]}),Object(S.jsx)("div",{className:d.a.separator}),Object(S.jsx)(O.b,{address:le,onAddNewAddress:function(){return Ie(le)},onChange:function(e){return Se(e)},isKnownAddress:W,uDAddress:pe,ensAddress:ge}),Ze?Object(S.jsx)(O.g,{className:d.a.binanceAddressWarning,label:Object(S.jsxs)("span",{id:"binance-address-warning-label",children:["I confirm this address is not a ",P.join(" / ")," address: ",Object(S.jsx)("br",{}),"These platforms do not support $",null===He||void 0===He?void 0:He.symbol," deposits from smart wallets",Object(S.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4415473743506-Statement-on-MATIC-BNB-deposits-to-Binance",target:"_blank",rel:"noreferrer",children:Object(S.jsx)(b.n,{size:20})})]}),checked:Le,onChange:function(e){var t=e.target;return Me(t.checked)}}):null,Object(S.jsx)(O.e,{primaryGradient:!0,disabled:we,onClick:function(){var e=pe||(ge||le);if(ce)try{var t={to:He.address,value:"0",data:E.encodeFunctionData("transfer",[e,ce])};0===Number(He.address)&&(t.to=e,t.value=ce,t.data="0x");var n={id:"transfer_".concat(Date.now()),dateAdded:(new Date).valueOf(),type:"eth_sendTransaction",chainId:j.chainId,account:u,txn:t,meta:null};pe?n.meta={addressLabel:{addressLabel:le,address:pe}}:ge&&(n.meta={addressLabel:{addressLabel:le,address:ge}}),x(n),se(0)}catch(a){console.error(a),J("Error: ".concat(a.message||a),{error:!0})}},className:"transfer-button",children:"Send"})]}):Object(S.jsx)(O.p,{}):Object(S.jsx)(U.a,{walletAddress:u,networkDetails:j,relayerURL:_,portfolio:r,sellMode:!0,selectedAsset:He||null})]}),!X&&Object(S.jsx)(N,{selectedAsset:He,selectedNetwork:j,addresses:k,addAddress:C,removeAddress:B,onSelectAddress:function(e){return be(e)}})]})}))},512:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},s="https://storage.googleapis.com/zapper-fi-assets/tokens";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase(),r=e.toLowerCase();return a[n]||"".concat(s,"/").concat(r,"/").concat(n,".png")}},517:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},524:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},527:function(e,t,n){"use strict";function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var a=Math.min(2,n||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(a,n),minimumFractionDigits:a})}catch(s){return console.error(s),e}}n.d(t,"a",(function(){return a}))},534:function(e,t,n){var a=n(517);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},626:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u}));var a=n(17),s=n(102),r=n(88),o=function(e){return e&&e.length?e&&Object(s.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},c=function(e,t){var n=o(e);return n.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:n},i=function(e,t,n,a,c,i){var u=o(e);return u.success?e&&e===r.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(s.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||a(e)||n||c||i?!e||a(e)||n||!c&&!i?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(c?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:u},u=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var n=e.slice(0,e.indexOf(".")+t.decimals+1),s=Object(a.parseUnits)(n,t.decimals);if(s&&t.balanceRaw&&s.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(r){console.error(r)}return{success:!0}},d=function(e,t,n,a,s,r,o,c,u){var d,l=i(e,t,n,a,c,u);return l.success?s&&t&&(null===(d=s.owner)||void 0===d?void 0:d.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:r&&o&&r.id!==o?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:l}},767:function(e,t,n){"use strict";var a=n(5),s=n(17),r=n(3);function o(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var c=n(112),i=n(524),u=n(30),d=n(88),l=["txId","txns","submittedAt","gasTankFee","identity"],b=new s.Interface(i),m=b.getSighash(b.getFunction("transfer").format()),f=d.a.feeCollector;function p(e){return e[0]===f||!(!e[2].startsWith(m)||function(e){try{var t=b.decodeFunctionData("transfer",e);return Object(a.a)({value:u.a.from(t._value)},t)}catch(n){return console.error(n),{}}}(e[2])._to!==f)}var j=n(229);t.a=function(e){var t=e.relayerURL,n=e.selectedAcc,i=e.network,d=e.portfolio,v=e.useRelayerData,O=Object(j.a)().cacheBreak,g=d.tokens,h=t?"".concat(t,"/gas-tank/").concat(n,"/getBalance?cacheBreak=").concat(O):null,y=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(O):null,x=t?"".concat(t,"/identity/").concat(n,"/").concat(null===i||void 0===i?void 0:i.id,"/transactions"):null,w=v({url:h}),_=w.data,k=w.isLoading,A=v({url:y}).data,T=v({url:x}).data,S=Object(r.useMemo)((function(){return _&&_.length&&_.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0)}),[_]),C=Object(r.useMemo)((function(){return T&&T.txns.length&&T.txns.filter((function(e){return!!e.gasTankFee}))}),[T]),N=Object(r.useMemo)((function(){return A&&A.length&&A.filter((function(e){return e.network===(null===i||void 0===i?void 0:i.id)}))}),[A,null===i||void 0===i?void 0:i.id]),L=T&&T.txns.length&&T.txns,M=Object(r.useMemo)((function(){return L&&L.length&&function(e){var t=[];return e.forEach((function(e){var n=e.txId,s=e.txns,r=e.submittedAt,o=e.gasTankFee,i=e.identity,d=Object(c.a)(e,l),j=s.filter((function(e,t){return p(e)&&(o||t<s.length-1)})).map((function(e){return e[0]===f?Object(a.a)({submittedAt:r,address:"0x0000000000000000000000000000000000000000",value:u.a.from(e[1]),identity:i,txId:n},d):e[2].startsWith(m)&&b.decodeFunctionData("transfer",e[2])._to===f?Object(a.a)({submittedAt:r,address:e[0],value:u.a.from(b.decodeFunctionData("transfer",e[2])._value),identity:i,txId:n},d):null}));j.length&&t.push(j[0])})),t}(L)}),[L]),F=Object(r.useMemo)((function(){return null===N||void 0===N?void 0:N.map((function(e){var t=null===g||void 0===g?void 0:g.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));return t?Object(a.a)(Object(a.a)({},t),{},{tokenImageUrl:e.icon,decimals:e.decimals,symbol:e.symbol,balance:t.balance,disableGasTankDeposit:!!e.disableGasTankDeposit,balanceUSD:parseFloat(t.balance)*parseFloat(N.find((function(e){return e.address.toLowerCase()===t.address.toLowerCase()})).price||0)}):Object(a.a)(Object(a.a)({},e),{},{tokenImageUrl:e.icon,balance:0,balanceUSD:0,decimals:0,address:e.address.toLowerCase(),symbol:e.symbol.toUpperCase()})}))}),[N,g]),D=Object(r.useMemo)((function(){return C&&C.length&&C.map((function(e){var t=A?A.find((function(t){return t.symbol===e.feeToken})):null,n=t?o(t):null;return{saved:n?e.feeInUSDPerGas*n:0,cashback:e.gasTankFee&&e.gasTankFee.cashback?Object(s.formatUnits)(e.gasTankFee.cashback.toString(),null===t||void 0===t?void 0:t.decimals).toString()*(null===t||void 0===t?void 0:t.price):0}}))}),[A,C]);return{balancesRes:_,gasTankBalances:S,isLoading:k,gasTankTxns:C,feeAssetsRes:A,gasTankFilledTxns:M,totalSavedResult:D,availableFeeAssets:F}}}}]);
//# sourceMappingURL=21.113d1b7b.chunk.js.map