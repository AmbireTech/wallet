(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[17],{1647:function(e,t,n){},1668:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(9),i=(n(1647),n(149)),s=n(552),c=n(52),o=n(37),l=n(794),u=n(86),d=n(57),f=n(151),h=n(546),b=n(2),p=n.n(b),m=n(358),j=n.n(m),x=n(46),g=n(668),v=n(182),y=n(762),O=n(510),w=n(20),_=n(536),k=n(150),S=n(4);var N=p.a.memo((function(e){var t=e.bundle,n=e.mined,r=void 0!==n&&n,a=e.feeAssets,i=Object(k.a)().constants,o=i.tokenList,h=i.humanizerInfo,b=d.a.find((function(e){return e.id===t.network}));if(!Array.isArray(t.txns))return Object(S.jsx)("h3",{className:"error",children:"Bundle has no transactions (should never happen)"});var p,m=t.txns[t.txns.length-1],j=Object(f.c)(h,o,m,t.network,t.identity),x=t.txns.length>1&&j.match(new RegExp("to Gas Tank","i")),g=x&&!t.gasTankFee?t.txns.slice(0,-1):t.txns,v=a?a.find((function(e){return e.symbol===t.feeToken})):null,y=v?Object(_.b)(v):null,N=j.split(" "),A=N.length?N[1]+" "+N[2]:[],P=t.gasTankFee&&t.gasTankFee.cashback&&v?Object(w.formatUnits)(t.gasTankFee.cashback.toString(),null===v||void 0===v?void 0:v.decimals).toString()*(null===v||void 0===v?void 0:v.price):0,T=y&&t.feeInUSDPerGas*y+P;return Object(S.jsxs)("div",{className:"bundlePreview bundle",children:[g.map((function(e,n){return Object(S.jsx)(l.a,{txn:e,network:t.network,account:t.identity,mined:r,addressLabel:!!t.meta&&t.meta.addressLabel,feeAssets:a},n)})),Object(S.jsxs)("ul",{className:"details",children:[x&&!t.gasTankFee?Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(s.f,{}),"Fee"]}),Object(S.jsx)("p",{children:A.split(" ").map((function(e,t){return 0===t?Object(O.a)(e,!0,8):e})).join(" ")})]}):null,t.executed&&!t.executed.success&&Object(S.jsxs)("li",{children:[Object(S.jsx)("label",{children:"Error"}),Object(S.jsx)("p",{children:t.executed.errorMsg||"unknown error"})]}),t.gasTankFee&&null!==v&&r&&Object(S.jsxs)(S.Fragment,{children:[y&&Object(S.jsx)(u.C,{label:"\n              You saved $ ".concat(Object(O.a)(t.feeInUSDPerGas*y,!0,6),", ").concat(P>0?"and got back $ ".concat(Object(O.a)(P,!0,6)," as cashback,"):""," ended up paying only $ ").concat(Object(O.a)(t.feeInUSDPerGas*t.gasLimit-P,!0,6),"\n            "),children:Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(s.f,{}),"Fee (Paid with Gas Tank)"]}),Object(S.jsxs)("p",{children:["$ ",Object(O.a)(t.feeInUSDPerGas*t.gasLimit-P,!0,6)]})]})}),y&&Object(S.jsx)(u.C,{label:"\n              Saved: $ ".concat(Object(O.a)(t.feeInUSDPerGas*y,!0,6),"\n              ").concat(P>0?"Cashback: $ ".concat(Object(O.a)(P,!0,6)):"","\n            "),children:Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(c.E,{}),"Total Saved"]}),"$ ",Object(O.a)(T,!0,6)]})})]}),Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(s.d,{}),"Submitted on"]}),Object(S.jsx)("p",{children:t.submittedAt&&(p=new Date(t.submittedAt),"".concat(p.toLocaleDateString()," ").concat(p.toLocaleTimeString())).toString()})]}),t.gasTankFee&&!r&&Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(c.E,{}),"Saved by Gas Tank"]}),"$ ",Object(O.a)(t.feeInUSDPerGas*y,!0,6),Object(S.jsx)("span",{style:{color:"#ebaf40"},children:"+ cashback is pending"})]}),t.replacesTxId?Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(c.J,{}),"Replaces transaction"]}),Object(S.jsx)("p",{children:t.replacesTxId})]}):null,t.txId?Object(S.jsxs)("li",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)(s.h,{}),"Block Explorer"]}),Object(S.jsx)("p",{children:Object(S.jsx)("a",{className:"explorer-url",href:b.explorerUrl+"/tx/"+t.txId,target:"_blank",rel:"noreferrer",children:b.explorerUrl.split("/")[2]})})]}):null]})]},t._id)}));t.default=function(e){var t=e.relayerURL,n=e.selectedAcc,d=e.selectedNetwork,f=e.showSendTxns,p=e.addRequest,m=e.eligibleRequests,O=e.setSendTxnState,w=Object(x.a)().addToast,_=Object(y.useHistory)(),k=Object(y.useParams)(),A=Object(b.useState)((function(){return Date.now()})),P=Object(a.a)(A,2),T=P[0],E=P[1];Object(b.useEffect)((function(){Date.now()-T>5e3&&E(Date.now());var e=setTimeout((function(){return E(Date.now())}),1e4);return function(){return clearTimeout(e)}}),[T]);var I=t?"".concat(t,"/identity/").concat(n,"/").concat(d.id,"/transactions?cacheBreak=").concat(T):null,R=Object(o.j)({url:I}),C=R.data,L=R.errMsg,D=R.isLoading,F=t?"".concat(t,"/gas-tank/assets?cacheBreak=").concat(T):null,U=Object(o.j)({url:F}).data,B=Object(b.useCallback)((function(e){e.txns.forEach((function(e,t){p({id:"replace_"+t,chainId:d.chainId,account:n,type:"eth_sendTransaction",txn:{to:e[0].toLowerCase(),value:"0x"===e[1]?"0x0":e[1],data:e[2]}})})),O({showing:!0,replaceByDefault:!0,mustReplaceNonce:e.nonce})}),[p,d,n,O]),G=C?C.txns.filter((function(e){return e.executed})):[],M=Math.ceil(G.length/10),H=Object(b.useMemo)((function(){return Math.min(Math.max(Number(k.page),1),M)||1}),[k.page,M]),q=Object(b.useState)(H),W=Object(a.a)(q,2),$=W[0],z=W[1],K=G.slice(10*($-1),10*$).map((function(e){return Object(S.jsx)(N,{bundle:e,mined:!0,feeAssets:U})}));if(Object(b.useEffect)((function(){return!D&&_.replace("/wallet/transactions/".concat($))}),[$,_,D]),Object(b.useEffect)((function(){return z(H)}),[n,d,H]),!t)return Object(S.jsx)("section",{id:"transactions",children:Object(S.jsx)("h3",{className:"validation-error",children:"Unsupported: not currently connected to a relayer."})});var J=function(e){return e.gasTankFee?e:Object(r.a)(Object(r.a)({},e),{},{txns:e.txns.slice(0,-1)})},V=C&&C.txns.filter((function(e){return!e.executed&&!e.replaced})),Q=V&&V[0],X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new h.Bundle(Object(r.a)(Object(r.a)({},e),{},{nonce:e.nonce.num,gasLimit:null,minFeeInUSDPerGas:1.14*e.feeInUSDPerGas},t))},Z=function(e){return O({showing:!0,replacementBundle:X(e,{txns:[[n,"0x0","0x"]]}),mustReplaceNonce:e.nonce.num})},Y=Object(S.jsxs)("div",{className:"pagination-controls",children:[Object(S.jsx)("div",{className:"pagination-title",children:"Page"}),Object(S.jsx)(u.f,{clear:!0,mini:!0,onClick:function(){return $>1&&z((function(e){return e-1}))},children:Object(S.jsx)(v.a,{})}),Object(S.jsxs)("div",{className:"pagination-current",children:[$," ",Object(S.jsxs)("span",{children:["/ ",M]})]}),Object(S.jsx)(u.f,{clear:!0,mini:!0,onClick:function(){return $<M&&z((function(e){return e+1}))},children:Object(S.jsx)(v.b,{})})]});return Object(S.jsxs)("section",{id:"transactions",children:[!!m.length&&Object(S.jsxs)("div",{className:"panel",id:"waiting-transactions",children:[Object(S.jsx)("div",{className:"panel-heading",children:Object(S.jsxs)("div",{className:"title",children:[Object(S.jsx)(i.h,{size:25}),"Waiting to be signed (current batch)"]})}),Object(S.jsx)("div",{className:"content",children:Object(S.jsxs)("div",{className:"bundle",children:[Object(S.jsx)("div",{className:"bundle-list",onClick:function(){return f(null)},children:m.map((function(e){return Object(S.jsx)(l.a,{network:d.id,account:n,disableExpand:!0,txn:Object(g.a)(e.txn,n)},e.id)}))}),Object(S.jsx)("div",{className:"actions",children:Object(S.jsx)(u.f,{small:!0,clear:!0,icon:Object(S.jsx)(c.d,{}),onClick:function(){return f(null)},children:"Sign or reject"})})]})})]}),!!Q&&Object(S.jsxs)("div",{className:"panel",id:"pending",children:[Object(S.jsx)("div",{className:"panel-heading",children:Object(S.jsxs)("div",{className:"title",children:[Object(S.jsx)(c.C,{}),"Pending transaction bundle"]})}),Object(S.jsx)("div",{className:"content",children:Object(S.jsxs)("div",{className:"bundle",children:[Object(S.jsx)(N,{bundle:Q,feeAssets:U}),Object(S.jsxs)("div",{className:"actions",children:[Object(S.jsx)(u.f,{small:!0,onClick:function(){return B(X(J(Q)))},children:"Replace or modify"}),Object(S.jsx)(u.f,{small:!0,className:"cancel",onClick:function(){var e;X(e=Q).cancel({relayerURL:t,fetch:j.a}).then((function(t){var n=t.success,r=t.message;n?w("Transaction cancelled successfully"):(r.includes("not possible to cancel")?w("Transaction already picked up by the network, you will need to pay a fee to replace it with a cancellation transaction."):w("Not possible to cancel: ".concat(r,", you will need to pay a fee to replace it with a cancellation transaction.")),Z(e))})).catch((function(t){console.error(t),Z(e)}))},children:"Cancel"}),Object(S.jsx)(u.f,{small:!0,onClick:function(){return O({showing:!0,replacementBundle:X(J(e=Q)),mustReplaceNonce:e.nonce.num});var e},children:"Speed up"})]})]})})]}),V&&V.length>1&&Object(S.jsxs)("h4",{children:["NOTE: There are a total of ",V.length," pending transaction bundles."]}),Object(S.jsxs)("div",{id:"confirmed",className:"panel",children:[Object(S.jsxs)("div",{className:"panel-heading",children:[Object(S.jsxs)("div",{className:"title",children:[Object(S.jsx)(s.e,{}),C&&0===C.txns.length?"No transactions yet.":"Confirmed transactions"]}),K.length?Y:null]}),Object(S.jsxs)("div",{className:"content",children:[!t&&Object(S.jsx)("h3",{className:"validation-error",children:"Unsupported: not currently connected to a relayer."}),L&&Object(S.jsxs)("h3",{className:"validation-error",children:["Error getting list of transactions: ",L]}),D&&!C?Object(S.jsx)(u.o,{}):K.length?Object(S.jsxs)(S.Fragment,{children:[K,Y]}):null]})]})]})}},183:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},a="https://storage.googleapis.com/zapper-fi-assets/tokens";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase(),i=e.toLowerCase();return r[n]||"".concat(a,"/").concat(i,"/").concat(n,".png")}},510:function(e,t,n){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var r=Math.min(2,n||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(r,n),minimumFractionDigits:r})}catch(a){return console.error(a),e}}n.d(t,"a",(function(){return r}))},517:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},532:function(e,t,n){var r=n(517);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},536:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return p}));var r=n(546),a=n(668);function i(e,t,n,r,a){if((null===n||void 0===n?void 0:n.relayerless)&&"0x0000000000000000000000000000000000000000"===(null===e||void 0===e?void 0:e.address))return!0;if(!e)return!1;var i=h(e,n,t,r,a).feeInFeeToken;return parseInt(e.balance)/Math.pow(10,e.decimals)>i}function s(e){return(null===e||void 0===e?void 0:e.address)&&"0x0000000000000000000000000000000000000000"!==(null===e||void 0===e?void 0:e.address)?3e4:12e3}var c=["caller is a contract","caller is another contract","contract not allowed","contract not supported","No contractz allowed","o contracts","contracts allowed","ontract is not allowed","aller must be user","aller must be a user","ontract call not allowed"];function o(e){if(e)return e.includes("Router: EXPIRED")?"Swap expired":e.includes("Router: INSUFFICIENT_OUTPUT_AMOUNT")?"Swap will suffer slippage higher than your requirements":e.includes("INSUFFICIENT_PRIVILEGE")?"Your signer address is not authorized.":c.find((function(t){return e.includes(t)}))?"This dApp does not support smart wallets.":e}function l(e){if(e)return e.includes("Router: EXPIRED")?"Try performing the swap again":e.includes("Router: INSUFFICIENT_OUTPUT_AMOUNT")?"Try performing the swap again or increase your slippage requirements":e.includes("INSUFFICIENT_PRIVILEGE")?"If you set a new signer for this account, try re-adding the account.":c.find((function(t){return e.includes(t)}))?"WARNING! We detected that this dApp intentionally blocks smart contract calls. This is a highly disruptive practice, as it breaks support for all smart wallets (Ambire, Gnosis Safe and others). We recommend you report this to the dApp ASAP and ask them to fix it.":"Sending this transaction batch would have resulted in an error, so we prevented it."}function u(e){return c.find((function(t){return e.includes(t)}))}function d(e,t){return"0x"+Math.round(e*Math.pow(10,t)).toString(16)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&e?1===t?e:e/(1-t)*t:0}function h(e,t,n,r,a){var i=function(e,t,n){if(!(null===t||void 0===t?void 0:t.feeInUSD)||!e)return{multiplier:1,addedGas:0};var r=s(e);return n?{addedGas:0,multiplier:1}:{multiplier:parseFloat(((t.gasLimit+r)/t.gasLimit).toFixed(4)),addedGas:r}}(e,t,r),c=i.addedGas,o=i.multiplier,l=s(e),u=1-((null===e||void 0===e?void 0:e.discount)||0),d=o*u,f=(null===e||void 0===e?void 0:e.nativeRate)||1,h=r&&"0x0000000000000000000000000000000000000000"===e.address&&a.id!==e.network,b=t.customFee?t.customFee*u/f:h?t.feeInNative[n]*d/f*t.nativeAssetPriceInUSD/e.price:t.feeInNative[n]*d;return{feeInNative:b,feeInUSD:isNaN(t.nativeAssetPriceInUSD)?void 0:h?b*e.price:b*t.nativeAssetPriceInUSD,feeInFeeToken:b*f,addedGas:c,savedGas:l}}var b=function(e,t,n,r,a){var s=["xWALLET","WALLET"];return(null===e||void 0===e?void 0:e.length)?e.sort((function(e,t){return s.indexOf(null===t||void 0===t?void 0:t.symbol)-s.indexOf(null===e||void 0===e?void 0:e.symbol)||((null===t||void 0===t?void 0:t.discount)||0)-((null===e||void 0===e?void 0:e.discount)||0)||(null===e||void 0===e?void 0:e.symbol.toUpperCase().localeCompare(null===t||void 0===t?void 0:t.symbol.toUpperCase()))})).find((function(e){return i(e,n,r,a,t)}))||e[0]:{symbol:t.nativeAssetSymbol,decimals:18,address:"0x0000000000000000000000000000000000000000"}};function p(e,t,n){var i=new r.Bundle({network:t,identity:e.id,txns:n.map((function(t){var n=t.txn;return Object(a.a)(Array.isArray(n)?n[0]:n,e.id)})),signer:e.signer});if(i.extraGas=n.map((function(e){return e.extraGas||0})).reduce((function(e,t){return e+t}),0),i.requestIds=n.map((function(e){return e.id})),n.some((function(e){return e.meta}))){i.meta={},n.some((function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.addressLabel}))&&(i.meta.addressLabel=n.map((function(e){var t;return(null===(t=e.meta)||void 0===t?void 0:t.addressLabel)?e.meta.addressLabel:{addressLabel:"",address:""}})));var s=n.find((function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.xWallet}));s&&(i.meta.xWallet=s.meta.xWallet)}return i}},546:function(e,t,n){var r=n(532),a=n(568),i=n(569),s=n(570),c=n(571),o=n(572),l=n(573),u=n(610);e.exports=r(r(r(r(r(r({},a),i),o),l),u),{},{MerkleTree:s,splitSig:c})},550:function(e,t,n){"use strict";(function(t){var r=n(619),a=n(719);function i(e){var t=e;if("string"!==typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function s(e){return"0x"+e.toString(16)}e.exports={arrayContainsArray:function(e,t,n){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(n)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var n=s(e);return new t(i(n.slice(2)),"hex")},getBinarySize:function(e){if("string"!==typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return t.byteLength(e,"utf8")},isHexPrefixed:r,stripHexPrefix:a,padToEven:i,intToHex:s,fromAscii:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16);t+=r.length<2?"0"+r:r}return"0x"+t},fromUtf8:function(e){return"0x"+i(new t(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",n=0,r=e.length;for("0x"===e.substring(0,2)&&(n=2);n<r;n+=2){var a=parseInt(e.substr(n,2),16);t+=String.fromCharCode(a)}return t},toUtf8:function(e){return new t(i(a(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,n){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!==typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var r=[],a=0;a<e.length;a++){var i=e[a][t];if(n&&!i)i="";else if("string"!==typeof i)throw new Error("invalid abi");r.push(i)}return r},isHexString:function(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this,n(29).Buffer)},568:function(e,t,n){(function(t){var r=n(541),a=n(96).keccak256,i=n(512);function s(e){return this.leader=i.Address(e.leader),this.follower=i.Address(e.follower),this.guardian=i.Address(e.guardian),this.tokenAddr=i.Address(e.tokenAddr),this.nonce=i.Bytes32(e.nonce),Object.freeze(this),this}s.prototype.hash=function(){return t.from(a.arrayBuffer(r.rawEncode(["address","address","address","address","bytes32"],[this.leader,this.follower,this.guardian,this.tokenAddr,this.nonce])))},s.prototype.hashHex=function(){return"0x".concat(this.hash().toString("hex"))},s.prototype.toSolidityTuple=function(){return[this.leader,this.follower,this.guardian,this.tokenAddr,this.nonce]},s.prototype.hashToSign=function(e,t){return s.getSignableStateRoot(e,this.hashHex(),t)},s.prototype.hashToSignHex=function(e,t){return"0x".concat(this.hashToSign(e,t).toString("hex"))},s.prototype.getResumeSignableMessage=function(e){return t.from(a.arrayBuffer(r.solidityPack(["string","bytes32","uint256"],["resume",this.hashHex(),e])))},s.prototype.getResumeSignableMessageHex=function(e){return"0x".concat(this.getResumeSignableMessage(e).toString("hex"))},s.getSignableStateRoot=function(e,n,i){return t.from(a.arrayBuffer(r.rawEncode(["address","bytes32","bytes32"],[e,n,i])))},s.getBalanceLeaf=function(e,n){return t.from(a.arrayBuffer(r.rawEncode(["address","uint256"],[e,n])))},s.getSpenderBalanceLeaf=function(e,n){return t.from(a.arrayBuffer(r.rawEncode(["address","string","uint256"],[e,"spender",n])))},e.exports={Channel:s,ChannelState:{Challenged:"115792089237316195423570985008687907853269984665640564039457584007913129639935",Active:"0"}}}).call(this,n(29).Buffer)},569:function(e,t,n){var r=n(512);function a(e){return this.channel=e.channel,this.balanceTreeAmount=r.Uint256(e.balanceTreeAmount),this.stateRoot=r.Bytes32(e.stateRoot),this.sigLeader=r.Bytes32Array(e.sigLeader,3),this.sigFollower=r.Bytes32Array(e.sigFollower,3),this.proof=r.Bytes32Array(e.proof,-1),Object.freeze(this),this}a.prototype.toSolidityTuple=function(){return[this.channel.toSolidityTuple(),"0x".concat(this.balanceTreeAmount.toString(16)),this.stateRoot,this.sigLeader,this.sigFollower,this.proof]},e.exports={Withdraw:a}},570:function(e,t,n){var r=n(87),a=n(130),i=n(29).Buffer,s=n(96).keccak256;function c(e,t){if(!t)return e;if(!e)return t;var n=i.concat([e,t].sort(i.compare));return i.from(s.arrayBuffer(n))}function o(e){if(0===e.length)return[[i.from("")]];var t=[];for(t.push(e);t[t.length-1].length>1;)t.push(l(t[t.length-1]));return t}function l(e){return e.reduce((function(e,t,n,r){return n%2===0&&e.push(c(t,r[n+1])),e}),[])}var u=function(){"use strict";function e(t){if(r(this,e),!t.every((function(e){return 32===e.length&&i.isBuffer(e)})))throw new Error("elements must be 32 byte buffers");var n,a={elements:(n=t,n.filter((function(e,t){return n.findIndex((function(t){return t.equals(e)}))===t})))};Object.assign(this,a),this.elements.sort(i.compare);var s={layers:o(this.elements)};Object.assign(this,s)}return a(e,[{key:"getRoot",value:function(){if(!this.root){var e={root:this.layers[this.layers.length-1][0]};Object.assign(this,e)}return this.root}},{key:"verify",value:function(e,t){return this.getRoot().equals(e.reduce((function(e,t){return c(e,t)}),t))}},{key:"proof",value:function(e){var t=this.elements.findIndex((function(t){return t.equals(e)}));if(-1===t)throw new Error("element not found in merkle tree");return this.layers.reduce((function(e,n){var r=function(e,t){var n=e%2?e-1:e+1;return n<t.length?t[n]:null}(t,n);return r&&e.push(r),t=Math.floor(t/2),e}),[])}}]),e}();e.exports=u},571:function(e,t){e.exports=function(e){var t=e.startsWith("0x")?e.slice(2):e,n="0x".concat(t.substring(0,64)),r="0x".concat(t.substring(64,128)),a=parseInt(t.substring(128,130),16);return a<27&&(a+=27),["0x02".concat(a.toString(16),"000000000000000000000000000000000000000000000000000000000000"),n,r]}},572:function(e,t,n){(function(t){var r=n(541),a=n(96).keccak256,i=n(512);function s(e){return this.owner=i.Address(e.owner),this.shares=i.Uint256(e.shares),this.unlocksAt=i.Uint256(e.unlocksAt),Object.freeze(this),this}s.prototype.hash=function(){var e=r.rawEncode(["address","uint256","uint256"],[this.owner,this.shares,this.unlocksAt]);return t.from(a.arrayBuffer(e))},s.prototype.hashHex=function(){return"0x".concat(this.hash().toString("hex"))},e.exports={UnbondCommitment:s}}).call(this,n(29).Buffer)},573:function(e,t,n){var r=n(62).utils,a=r.keccak256,i=r.defaultAbiCoder,s=r.toUtf8Bytes,c=r.solidityPack,o=a(s("Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)"));function l(e,t,n){return a(i.encode(["bytes32","bytes32","bytes32","uint256","address"],[a(s("EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)")),a(s(e)),a(s("1")),n,t]))}e.exports={getDomainSeparator:l,getApprovalDigest:function(e,t,n,r){var s=l(e.name,e.address,e.chainId);return a(c(["bytes1","bytes1","bytes32","bytes32"],["0x19","0x01",s,a(i.encode(["bytes32","address","address","uint256","uint256","uint256"],[o,t.owner,t.spender,t.value,n,r]))]))}}},601:function(e,t){},619:function(e,t){e.exports=function(e){if("string"!==typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},668:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(354),a=n(20),i=n(148),s=new a.Interface(r);function c(e,t){var n=e.to,r=e.value,a=e.data,c=e.deploySalt;if("0x"===n||!n){var o=c||"0x69420000000000".concat(Date.now().toString(16).slice(1,9),"00").concat(t.slice(2));return[i.a.identityFactoryAddr,r,s.encodeFunctionData("deploy",[a,o])]}return[n,r||"0x0",a||"0x"]}},719:function(e,t,n){var r=n(619);e.exports=function(e){return"string"!==typeof e?e:r(e)?e.slice(2):e}},756:function(e,t,n){e.exports={action:"ExtendedSummaryItem_action__1D6f0",unknown:"ExtendedSummaryItem_unknown__2rIqC",cancel:"ExtendedSummaryItem_cancel__2gQOq",word:"ExtendedSummaryItem_word__W9UcN",token:"ExtendedSummaryItem_token__1oq-Q",address:"ExtendedSummaryItem_address__2IuhQ",network:"ExtendedSummaryItem_network__33ccG",erc721:"ExtendedSummaryItem_erc721__3BdZr",icon:"ExtendedSummaryItem_icon__ToEaG",externalLink:"ExtendedSummaryItem_externalLink__4MQcr"}},757:function(e,t,n){e.exports={wrapper:"TxnPreview_wrapper__Jdnv1",heading:"TxnPreview_heading__3Ilmt",icon:"TxnPreview_icon__2QvFb",info:"TxnPreview_info__qy3y_",summaryContainer:"TxnPreview_summaryContainer__3jnDE",expandTxn:"TxnPreview_expandTxn__2yATF",reversedChevron:"TxnPreview_reversedChevron__R9jMN",summary:"TxnPreview_summary__3N-JS",warning:"TxnPreview_warning__2ZmXu",actionIcons:"TxnPreview_actionIcons__2-LYp",dismissTxn:"TxnPreview_dismissTxn__20m1D",disabled:"TxnPreview_disabled__3dEOv",advanced:"TxnPreview_advanced__1iOKF"}},762:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),i=r(n(2)),s=n(54);n(88),n(183);var c=r(n(59));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return i.createElement(a.Router,{history:this.history,children:this.props.children})},t}(i.Component),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return i.createElement(a.Router,{history:this.history,children:this.props.children})},t}(i.Component),b=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},m=function(e){return e},j=i.forwardRef;void 0===j&&(j=m);var x=j((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,s=d(e,["innerRef","navigate","onClick"]),c=s.target,l=o({},s,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=m!==j&&t||n,i.createElement("a",l)})),g=j((function(e,t){var n=e.component,r=void 0===n?x:n,l=e.replace,u=e.to,f=e.innerRef,h=d(e,["component","replace","to","innerRef"]);return i.createElement(a.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=e.history,a=p(b(u,e.location),e.location),d=a?n.createHref(a):"",x=o({},h,{href:d,navigate:function(){var t=b(u,e.location),r=s.createPath(e.location)===s.createPath(p(t));(l||r?n.replace:n.push)(t)}});return m!==j?x.ref=t||f:x.innerRef=f,i.createElement(r,x)}))})),v=function(e){return e},y=i.forwardRef;void 0===y&&(y=v);var O=y((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,u=e.activeStyle,f=e.className,h=e.exact,m=e.isActive,j=e.location,x=e.sensitive,O=e.strict,w=e.style,_=e.to,k=e.innerRef,S=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(a.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=j||e.location,s=p(b(_,n),n),d=s.pathname,N=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=N?a.matchPath(n.pathname,{path:N,exact:h,sensitive:x,strict:O}):null,P=!!(m?m(A,n):A),T="function"==typeof f?f(P):f,E="function"==typeof w?w(P):w;P&&(T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(T,l),E=o({},E,u));var I=o({"aria-current":P&&r||null,className:T,style:E,to:s},S);return v!==y?I.ref=t||k:I.innerRef=k,i.createElement(g,I)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return a.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return a.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return a.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return a.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return a.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return a.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return a.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return a.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return a.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return a.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return a.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return a.withRouter}}),t.BrowserRouter=f,t.HashRouter=h,t.Link=g,t.NavLink=O},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r,a,i=n(11),s=n(9),c=n(26),o=n.n(c),l=n(2),u=n(20),d=n(57),f=n(151),h=n(150),b=n(86),p=n(510),m=n(228),j=["title","titleId"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=e.title,i=e.titleId,s=g(e,j);return l.createElement("svg",x({id:"Open_icon","data-name":"Open icon",xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 40 40",ref:t,"aria-labelledby":i},s),n?l.createElement("title",{id:i},n):null,r||(r=l.createElement("rect",{id:"Boundary",width:40,height:40,fill:"none"})),a||(a=l.createElement("path",{id:"Path_134","data-name":"Path 134",d:"M2614.313,23.985A3.317,3.317,0,0,1,2611,20.671V6.314A3.318,3.318,0,0,1,2614.313,3h4.97a1.1,1.1,0,0,1,0,2.209h-4.97a1.107,1.107,0,0,0-1.1,1.1V20.671a1.106,1.106,0,0,0,1.1,1.1h14.359a1.1,1.1,0,0,0,1.1-1.1V15.7a1.1,1.1,0,1,1,2.208,0v4.969a3.317,3.317,0,0,1-3.313,3.314Zm3.085-6.4a1.1,1.1,0,0,1,0-1.562l10.816-10.815h-3.961a1.1,1.1,0,1,1,0-2.209h6.627a1.1,1.1,0,0,1,1.1,1.1v6.627a1.1,1.1,0,1,1-2.208,0V6.771l-10.815,10.815a1.1,1.1,0,0,1-1.562,0Z",transform:"translate(-2601.252 7)",fill:"#ebecff"})))}var y=l.forwardRef(v),O=(n.p,n(507)),w=n(756),_=n.n(w),k=n(4),S=function(e){var t=e.item,n=e.i,r=e.networkDetails,a=e.feeAssets;if(1===t.length)return t;if(0===n)return Object(k.jsx)("div",{className:o()(_.a.action,_.a[t.toLowerCase()]),children:t});if(!t.type)return Object(k.jsx)("div",{className:_.a.word,children:t});if("token"===t.type){var i=a&&a.find((function(e){return e.address===t.address&&(!t.symbol||e.symbol.toLowerCase()===t.symbol.toLowerCase())}));return Object(k.jsxs)("div",{className:_.a.token,children:[t.amount>0?Object(k.jsx)("span",{children:Object(p.a)(t.amount,!0,t.decimals)}):null,null!==t.decimals&&t.symbol?Object(k.jsxs)(k.Fragment,{children:[t.address?Object(k.jsx)("img",{className:_.a.icon,alt:"",src:i?i.icon:Object(O.a)(r.id,t.address)}):null,t.symbol]}):t.amount>0?"units of unknown token":null]})}if("address"===t.type)return Object(k.jsx)("a",{className:_.a.address,href:t.address?"".concat(r.explorerUrl,"/address/").concat(t.address):null,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:Object(k.jsxs)(m.a,{disabled:!t.address,label:t.address,children:[t.name?t.name:t.address,t.address?Object(k.jsx)(y,{className:_.a.externalLink}):null]})});if("network"===t.type)return Object(k.jsxs)("div",{className:_.a.network,children:[t.icon?Object(k.jsx)("img",{className:_.a.icon,alt:"",src:t.icon}):null,t.name]});if("erc721"===t.type){var s=t.network&&t.address&&t.id;return Object(k.jsxs)("a",{className:_.a.erc721,href:s?"#/wallet/nft/".concat(t.network,"/").concat(t.address,"/").concat(t.id):null,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:[t.name,s?Object(k.jsx)(y,{}):null]})}return null},N=n(163),A=n(223),P=n(757),T=n.n(P);function E(e){var t=d.a.find((function(t){return t.id===e}));return t?t.nativeAssetSymbol:"UNKNW"}function I(e){var t=this,n=e.txn,r=e.onDismiss,a=e.network,c=e.account,p=e.isFirstFailing,m=e.mined,j=e.disableExpand,x=e.disableDismiss,g=e.disableDismissLabel,v=e.addressLabel,y=void 0===v?null:v,O=e.feeAssets,w=Object(h.a)().constants,_=w.tokenList,P=w.humanizerInfo,I=Object(l.useState)(!1),R=Object(s.a)(I,2),C=R[0],L=R[1],D=Object(f.b)(P,n[0]),F=d.a.find((function(e){return e.id===a})),U=Object(f.c)(P,_,n,a,c,{mined:m,extended:!0});return Object(l.useEffect)((function(){return!!y&&Object(f.g)(y)}),[y]),Object(k.jsxs)("div",{className:o()(T.a.wrapper,Object(i.a)({},T.a.firstFailing,p)),children:[Object(k.jsxs)("div",{className:T.a.heading,children:[Object(k.jsxs)("div",{className:T.a.info,onClick:function(){return!j&&L((function(e){return!e}))},children:[Object(k.jsxs)("div",{className:T.a.summaryContainer,children:[!j&&Object(k.jsx)("div",{className:o()(T.a.expandTxn,Object(i.a)({},T.a.reversedChevron,C)),children:Object(k.jsx)(N.a,{className:T.a.icon})}),Object(k.jsx)("div",{className:T.a.summary,children:U.map((function(e){return Array.isArray(e)?e.map((function(e,t){return Object(k.jsx)(S,{item:e,i:t,networkDetails:F,feeAssets:O},"item-".concat(t))})):e}))})]}),p&&Object(k.jsx)("p",{className:T.a.warning,children:"This is the first failing transaction."}),!p&&!m&&!Object(f.d)(P,n,c)&&Object(k.jsx)("p",{className:T.a.warning,children:"Warning: interacting with an unknown contract or address."})]}),Object(k.jsx)("div",{className:T.a.actionIcons,children:r?Object(k.jsx)(b.C,{disabled:!x||!g,label:g,children:Object(k.jsx)("div",{className:o()(T.a.dismissTxn,Object(i.a)({},T.a.disabled,x)),onClick:function(e){e.stopPropagation(),!x&&r.apply(t,e)},children:Object(k.jsx)(A.a,{className:T.a.icon})})}):null})]}),C?Object(k.jsxs)("div",{className:T.a.advanced,children:[Object(k.jsxs)("p",{children:["Interacting with (",Object(k.jsx)("i",{children:"to"}),"): ",n[0],D?" (".concat(D,")"):""]}),Object(k.jsxs)("p",{children:["Value to be sent (",Object(k.jsx)("i",{children:"value"}),"): ",Object(u.formatUnits)(n[1]||"0x0",18)," ",E(a)]}),Object(k.jsxs)("p",{children:["Data: ",n[2]]})]}):null]})}}}]);
//# sourceMappingURL=17.8b5af8d0.chunk.js.map