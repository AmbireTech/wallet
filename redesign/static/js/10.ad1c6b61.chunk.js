/*! For license information please see 10.ad1c6b61.chunk.js.LICENSE.txt */
(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[10,4],{1586:function(e,t,n){},1587:function(e,t,n){},1588:function(e,t,n){},1589:function(e,t,n){},1590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1591),i=n(1592),a=n(1595),o=new a.HOTP({createDigest:r.createDigest}),s=new a.TOTP({createDigest:r.createDigest}),c=new a.Authenticator({createDigest:r.createDigest,createRandomBytes:r.createRandomBytes,keyDecoder:i.keyDecoder,keyEncoder:i.keyEncoder});t.authenticator=c,t.hotp=o,t.totp=s},1591:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(529))&&"object"===typeof r&&"default"in r?r.default:r;t.createDigest=function(t,n,r){return i.createHmac(t,e.from(n,"hex")).update(e.from(r,"hex")).digest().toString("hex")},t.createRandomBytes=function(e,t){return i.randomBytes(e).toString(t)}}).call(this,n(28).Buffer)},1592:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(1593))&&"object"===typeof r&&"default"in r?r.default:r;t.keyDecoder=function(e,t){return i.decode(e).toString(t)},t.keyEncoder=function(t,n){return i.encode(e.from(t,n).toString("ascii")).toString().replace(/=/g,"")}}).call(this,n(28).Buffer)},1593:function(e,t,n){var r=n(1594);t.encode=r.encode,t.decode=r.decode},1594:function(e,t,n){"use strict";(function(e){var n=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];t.encode=function(t){e.isBuffer(t)||(t=new e(t));for(var n=0,r=0,i=0,a=0,o=new e(8*function(e){var t=Math.floor(e.length/5);return e.length%5===0?t:t+1}(t));n<t.length;){var s=t[n];i>3?(a=(a=s&255>>i)<<(i=(i+5)%8)|(n+1<t.length?t[n+1]:0)>>8-i,n++):(a=s>>8-(i+5)&31,0===(i=(i+5)%8)&&n++),o[r]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(a),r++}for(n=r;n<o.length;n++)o[n]=61;return o},t.decode=function(t){var r,i=0,a=0,o=0;e.isBuffer(t)||(t=new e(t));for(var s=new e(Math.ceil(5*t.length/8)),c=0;c<t.length&&61!==t[c];c++){var u=t[c]-48;if(!(u<n.length))throw new Error("Invalid input - it is not base32 encoded string");a=n[u],i<=3?0===(i=(i+5)%8)?(r|=a,s[o]=r,o++,r=0):r|=255&a<<8-i:(r|=255&a>>>(i=(i+5)%8),s[o]=r,o++,r=255&a<<8-i)}return s.slice(0,o)}}).call(this,n(28).Buffer)},1595:function(e,t,n){"use strict";(function(e){var r,i=n(327),a=n(202),o=n(203),s=n(532),c=n(85),u=n(128);function l(e){return Object.keys(e).map((function(t){return e[t]}))}Object.defineProperty(t,"__esModule",{value:!0}),(r=t.HashAlgorithms||(t.HashAlgorithms={})).SHA1="sha1",r.SHA256="sha256",r.SHA512="sha512";var f,d=l(t.HashAlgorithms);(f=t.KeyEncodings||(t.KeyEncodings={})).ASCII="ascii",f.BASE64="base64",f.HEX="hex",f.LATIN1="latin1",f.UTF8="utf8";var p,h=l(t.KeyEncodings);(p=t.Strategy||(t.Strategy={})).HOTP="hotp",p.TOTP="totp";var g=l(t.Strategy),y=function(){throw new Error("Please provide an options.createDigest implementation.")};function m(e){return/^(\d+)$/.test(e)}function b(e,t,n){if(e.length>=t)return e;var r=Array(t+1).join(n);return"".concat(r).concat(e).slice(-1*t)}function v(e){var t="otpauth://".concat(e.type,"/{labelPrefix}:{accountName}?secret={secret}{query}"),n=[];if(g.indexOf(e.type)<0)throw new Error("Expecting options.type to be one of ".concat(g.join(", "),". Received ").concat(e.type,"."));if("hotp"===e.type){if(null==e.counter||"number"!==typeof e.counter)throw new Error('Expecting options.counter to be a number when options.type is "hotp".');n.push("&counter=".concat(e.counter))}return"totp"===e.type&&e.step&&n.push("&period=".concat(e.step)),e.digits&&n.push("&digits=".concat(e.digits)),e.algorithm&&n.push("&algorithm=".concat(e.algorithm.toUpperCase())),e.issuer&&n.push("&issuer=".concat(encodeURIComponent(e.issuer))),t.replace("{labelPrefix}",encodeURIComponent(e.issuer||e.accountName)).replace("{accountName}",encodeURIComponent(e.accountName)).replace("{secret}",e.secret).replace("{query}",n.join(""))}var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this._defaultOptions=Object.freeze(s({},t)),this._options=Object.freeze({})}return u(e,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.create(s(s({},this._defaultOptions),e));return t.options=this._options,t}},{key:"options",get:function(){return Object.freeze(s(s({},this._defaultOptions),this._options))},set:function(e){this._options=Object.freeze(s(s({},this._options),e))}},{key:"allOptions",value:function(){return this.options}},{key:"resetOptions",value:function(){this._options=Object.freeze({})}}]),e}();function x(e){if("function"!==typeof e.createDigest)throw new Error("Expecting options.createDigest to be a function.");if("function"!==typeof e.createHmacKey)throw new Error("Expecting options.createHmacKey to be a function.");if("number"!==typeof e.digits)throw new Error("Expecting options.digits to be a number.");if(!e.algorithm||d.indexOf(e.algorithm)<0)throw new Error("Expecting options.algorithm to be one of ".concat(d.join(", "),". Received ").concat(e.algorithm,"."));if(!e.encoding||h.indexOf(e.encoding)<0)throw new Error("Expecting options.encoding to be one of ".concat(h.join(", "),". Received ").concat(e.encoding,"."))}var j=function(t,n,r){return e.from(n,r).toString("hex")};function O(){return{algorithm:t.HashAlgorithms.SHA1,createHmacKey:j,createDigest:y,digits:6,encoding:t.KeyEncodings.ASCII}}function k(e){var t=s(s({},O()),e);return x(t),Object.freeze(t)}function A(e){return b(e.toString(16),16,"0")}function E(t,n){var r=e.from(t,"hex"),i=15&r[r.length-1],a=((127&r[i])<<24|(255&r[i+1])<<16|(255&r[i+2])<<8|255&r[i+3])%Math.pow(10,n);return b(String(a),n,"0")}function T(e,t,n){var r=n.digest||function(e,t,n){var r=A(t),i=n.createHmacKey(n.algorithm,e,n.encoding);return n.createDigest(n.algorithm,i,r)}(e,t,n);return E(r,n.digits)}function C(e,t,n,r){return!!m(e)&&e===T(t,n,r)}function S(e,n,r,i,a){return v({algorithm:a.algorithm,digits:a.digits,type:t.Strategy.HOTP,accountName:e,counter:i,issuer:n,secret:r})}var P=function(e){a(n,e);var t=o(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n(e)}},{key:"allOptions",value:function(){return k(this.options)}},{key:"generate",value:function(e,t){return T(e,t,this.allOptions())}},{key:"check",value:function(e,t,n){return C(e,t,n,this.allOptions())}},{key:"verify",value:function(e){if("object"!==typeof e)throw new Error("Expecting argument 0 of verify to be an object");return this.check(e.token,e.secret,e.counter)}},{key:"keyuri",value:function(e,t,n,r){return S(e,t,n,r,this.allOptions())}}]),n}(w);function N(e){if("number"===typeof e)return[Math.abs(e),Math.abs(e)];if(Array.isArray(e)){var t=i(e,2),n=t[0],r=t[1];if("number"===typeof n&&"number"===typeof r)return[Math.abs(n),Math.abs(r)]}throw new Error("Expecting options.window to be an number or [number, number].")}function I(e){if(x(e),N(e.window),"number"!==typeof e.epoch)throw new Error("Expecting options.epoch to be a number.");if("number"!==typeof e.step)throw new Error("Expecting options.step to be a number.")}var L=function(t,n,r){var i=t.length,a=e.from(t,n).toString("hex");if(i<r){var o=new Array(r-i+1).join(a);return e.from(o,"hex").slice(0,r).toString("hex")}return a},B=function(e,n,r){switch(e){case t.HashAlgorithms.SHA1:return L(n,r,20);case t.HashAlgorithms.SHA256:return L(n,r,32);case t.HashAlgorithms.SHA512:return L(n,r,64);default:throw new Error("Expecting algorithm to be one of ".concat(d.join(", "),". Received ").concat(e,"."))}};function M(){return{algorithm:t.HashAlgorithms.SHA1,createDigest:y,createHmacKey:B,digits:6,encoding:t.KeyEncodings.ASCII,epoch:Date.now(),step:30,window:0}}function D(e){var t=s(s({},M()),e);return I(t),Object.freeze(t)}function R(e,t){return Math.floor(e/t/1e3)}function K(e,t){return T(e,R(t.epoch,t.step),t)}function U(e,t,n,r){var i=[];if(0===r)return i;for(var a=1;a<=r;a++){var o=t*a*n;i.push(e+o)}return i}function _(e,t,n){var r=N(n),i=1e3*t;return{current:e,past:U(e,-1,i,r[0]),future:U(e,1,i,r[1])}}function z(e,t,n){return!!m(e)&&e===K(t,n)}function F(e,t,n,r){var i=null;return e.some((function(e,a){return!!z(t,n,s(s({},r),{},{epoch:e}))&&(i=a+1,!0)})),i}function H(e,t,n){if(z(e,t,n))return 0;var r=_(n.epoch,n.step,n.window),i=F(r.past,e,t,n);return null!==i?-1*i:F(r.future,e,t,n)}function W(e,t){return Math.floor(e/1e3)%t}function V(e,t){return t-W(e,t)}function q(e,n,r,i){return v({algorithm:i.algorithm,digits:i.digits,step:i.step,type:t.Strategy.TOTP,accountName:e,issuer:n,secret:r})}var J=function(e){a(n,e);var t=o(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n(e)}},{key:"allOptions",value:function(){return D(this.options)}},{key:"generate",value:function(e){return K(e,this.allOptions())}},{key:"checkDelta",value:function(e,t){return H(e,t,this.allOptions())}},{key:"check",value:function(e,t){return"number"===typeof this.checkDelta(e,t)}},{key:"verify",value:function(e){if("object"!==typeof e)throw new Error("Expecting argument 0 of verify to be an object");return this.check(e.token,e.secret)}},{key:"timeRemaining",value:function(){var e=this.allOptions();return V(e.epoch,e.step)}},{key:"timeUsed",value:function(){var e=this.allOptions();return W(e.epoch,e.step)}},{key:"keyuri",value:function(e,t,n){return q(e,t,n,this.allOptions())}}]),n}(P);function Y(e){if(I(e),"function"!==typeof e.keyDecoder)throw new Error("Expecting options.keyDecoder to be a function.");if(e.keyEncoder&&"function"!==typeof e.keyEncoder)throw new Error("Expecting options.keyEncoder to be a function.")}function G(){return{algorithm:t.HashAlgorithms.SHA1,createDigest:y,createHmacKey:B,digits:6,encoding:t.KeyEncodings.HEX,epoch:Date.now(),step:30,window:0}}function Q(e){var t=s(s({},G()),e);return Y(t),Object.freeze(t)}function $(e,t){return t.keyEncoder(e,t.encoding)}function Z(e,t){return t.keyDecoder(e,t.encoding)}function X(e,t){return $(t.createRandomBytes(e,t.encoding),t)}function ee(e,t){return K(Z(e,t),t)}function te(e,t,n){return H(e,Z(t,n),n)}var ne=function(e){a(n,e);var t=o(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n(e)}},{key:"allOptions",value:function(){return Q(this.options)}},{key:"generate",value:function(e){return ee(e,this.allOptions())}},{key:"checkDelta",value:function(e,t){return te(e,t,this.allOptions())}},{key:"encode",value:function(e){return $(e,this.allOptions())}},{key:"decode",value:function(e){return Z(e,this.allOptions())}},{key:"generateSecret",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return X(e,this.allOptions())}}]),n}(J);t.Authenticator=ne,t.HASH_ALGORITHMS=d,t.HOTP=P,t.KEY_ENCODINGS=h,t.OTP=w,t.STRATEGY=g,t.TOTP=J,t.authenticatorCheckWithWindow=te,t.authenticatorDecoder=Z,t.authenticatorDefaultOptions=G,t.authenticatorEncoder=$,t.authenticatorGenerateSecret=X,t.authenticatorOptionValidator=Y,t.authenticatorOptions=Q,t.authenticatorToken=ee,t.createDigestPlaceholder=y,t.hotpCheck=C,t.hotpCounter=A,t.hotpCreateHmacKey=j,t.hotpDefaultOptions=O,t.hotpDigestToToken=E,t.hotpKeyuri=S,t.hotpOptions=k,t.hotpOptionsValidator=x,t.hotpToken=T,t.isTokenValid=m,t.keyuri=v,t.objectValues=l,t.padStart=b,t.totpCheck=z,t.totpCheckByEpoch=F,t.totpCheckWithWindow=H,t.totpCounter=R,t.totpCreateHmacKey=B,t.totpDefaultOptions=M,t.totpEpochAvailable=_,t.totpKeyuri=q,t.totpOptions=D,t.totpOptionsValidator=I,t.totpPadSecret=L,t.totpTimeRemaining=V,t.totpTimeUsed=W,t.totpToken=K}).call(this,n(28).Buffer)},1596:function(e,t,n){},1597:function(e,t,n){},1629:function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),a=n(7),o=n(12),s=n(9),c=(n(1586),n(48)),u=n(741),l=n(2),f=n(86),d=n(21),p=n(146),h=n(197),g=n(37),y=(n(1587),n(106)),m=n(46),b=n(94),v=n(663),w=n(4),x=function(e){var t=e.account,n=e.selectedNetwork,r=e.relayerURL,u=e.onAddAccount,h=e.showSendTxns,x=Object(g.f)().hideModal,j=Object(m.a)().addToast,O=Object(l.useState)(!1),k=Object(s.a)(O,2),A=k[0],E=k[1],T=Object(l.useState)(null),C=Object(s.a)(T,2),S=C[0],P=C[1],N=Object(l.useState)(""),I=Object(s.a)(N,2),L=I[0],B=I[1],M=Object(l.useState)(""),D=Object(s.a)(M,2),R=D[0],K=D[1],U=Object(l.useState)(""),_=Object(s.a)(U,2),z=_[0],F=_[1],H=Object(l.useState)(!0),W=Object(s.a)(H,2),V=W[0],q=W[1],J=Object(l.useState)(!1),Y=Object(s.a)(J,2),G=Y[0],Q=Y[1],$=Object(l.useState)(!1),Z=Object(s.a)($,2),X=Z[0],ee=Z[1],te=Object(l.useMemo)((function(){return[{label:"Change the password on this device and Ambire Cloud. Best if you just want to routinely change the password.",value:"change",disabled:!t.primaryKeyBackup},{label:"Reset the key and password: takes 3 days. Chose this if you've forgotten the old password.",value:"reset"}]}),[t.primaryKeyBackup]),ne=Object(l.useMemo)((function(){return[[{label:Object(w.jsxs)(w.Fragment,{children:["I understand the following: the new password will be required for subsequent logins, but places where you're already logged in will work with the old password until you re-login.",Object(w.jsx)(f.z,{className:"tooltip",label:"This is because, for security reasons, the encrypted key is retrieved only when logging in, so we have no way of forcing every device to update it. If you want to disable access for other devices, consider the next option.",children:Object(w.jsx)(c.A,{})})]}),ref:Object(l.createRef)()}],[{label:Object(w.jsxs)(w.Fragment,{children:["I understand I am only changing the password on the ",n.name," network.",Object(w.jsx)(f.z,{className:"tooltip",label:"You will be able to trigger the change for other networks by switching the network",children:Object(w.jsx)(c.A,{})})]}),ref:Object(l.createRef)()},{label:"I understand I need to wait for 3 days for the change to be finalized.",ref:Object(l.createRef)()}]]}),[n.name]),re=function(){var e=Object(o.a)(i.a.mark((function e(){var n,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:return e.prev=3,e.next=6,y.Wallet.fromEncryptedJson(JSON.parse(t.primaryKeyBackup),L);case 6:return n=e.sent,e.t0=JSON,e.next=10,n.encrypt(R,p.a.encryptionOpts);case 10:return e.t1=e.sent,o=e.t0.stringify.call(e.t0,e.t1),e.next=14,n.signMessage(JSON.stringify({primaryKeyBackup:o}));case 14:return s=e.sent,e.next=17,Object(b.d)("".concat(r,"/identity/").concat(t.id,"/modify"),{primaryKeyBackup:o,sig:s});case 17:if(!(c=e.sent).success){e.next=25;break}u(Object(a.a)(Object(a.a)({},t),{},{primaryKeyBackup:o})),j("You password was successfully updated"),E(!1),x(),e.next=26;break;case 25:throw new Error("Unable to update account: ".concat(c.message||"unknown error"));case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(3),console.error(e.t2),j("Changing password error: "+(e.t2.message||e.t2),{error:!0});case 32:E(!1);case 33:case"end":return e.stop()}}),e,null,[[3,28]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(i.a.mark((function e(){var r,o,s,c,l,f,g,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:return e.prev=3,r=Object(d.id)(t.email+":"+Date.now()+":"+Math.random()+":"+("object"===typeof performance&&performance.now())),o=y.Wallet.createRandom({extraEntropy:r}),s=p.a.quickAccManager,c=p.a.quickAccTimelock,l=p.a.encryptionOpts,f={quickAccManager:s,timelock:c,one:o.address,two:t.signer.two,preRecovery:t.signer},e.t0=JSON,e.next=11,o.encrypt(R,l);case 11:e.t1=e.sent,g=e.t0.stringify.call(e.t0,e.t1),m=Object(v.a)(t.id,n.id,f.preRecovery,{signer:f,primaryKeyBackup:g}),x(),h(m,!0),u(Object(a.a)(Object(a.a)({},t),{},{primaryKeyBackup:g,signer:f,preRecoveryPrimaryKeyBackup:t.primaryKeyBackup}),{select:!0}),e.next=23;break;case 19:e.prev=19,e.t2=e.catch(3),console.error(e.t2),j("Reset password error: "+(e.t2.message||e.t2),{error:!0});case 23:E(!1);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),ae=Object(l.useCallback)((function(){var e=R===z,t=!1,n=!1,r=!1;"change"===S&&(t=L.length&&R.length&&z.length,n=L.length>=8&&R.length>=8&&z.length>=8,r=ne[0].every((function(e){var t=e.ref;return t.current&&t.current.checked}))),"reset"===S&&(t=R.length&&z.length,n=R.length>=8&&z.length>=8,r=ne[1].every((function(e){var t=e.ref;return t.current&&t.current.checked}))),q(!n||!e||!r),t?(ee(!n),Q(!e)):(ee(!1),Q(!1))}),[ne,S,L,R,z]);Object(l.useEffect)((function(){return ae()}),[A,ae,L,R,z]);var oe=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.e,{onClick:function(){return x()},children:"Cancel"}),Object(w.jsx)(f.e,{primaryGradient:!0,disabled:V,onClick:function(){return"change"===S?re():ie()},children:"Confirm"})]});return Object(w.jsxs)(f.n,{id:"reset-password-modal",title:"Reset Password",buttons:oe,children:[A?Object(w.jsx)("div",{id:"loading-overlay",children:Object(w.jsx)(f.m,{})}):null,Object(w.jsx)(f.s,{radios:te,onChange:function(e){P(e),B(""),K(""),F(""),Q(!1),ee(!1)},className:"radios-container"}),"change"===S?Object(w.jsxs)("form",{children:[Object(w.jsx)(f.r,{className:"password-input",autocomplete:"current-password",placeholder:"Old Password",onInput:function(e){return B(e)}}),Object(w.jsx)(f.r,{className:"password-input",peakPassword:!0,autocomplete:"new-password",placeholder:"New Password",onInput:function(e){return K(e)}}),Object(w.jsx)(f.r,{className:"password-input",autocomplete:"new-password",placeholder:"Confirm New Password",onInput:function(e){return F(e)}}),ne[0].map((function(e,t){var n=e.label,r=e.ref;return Object(w.jsx)(f.g,{labelClassName:"checkbox-label",ref:r,label:n,onChange:function(){return ae()}},"checkbox-".concat(t))}))]}):null,"reset"===S?Object(w.jsxs)("form",{children:[Object(w.jsx)(f.r,{className:"password-input",peakPassword:!0,autocomplete:"new-password",placeholder:"New Password",onInput:function(e){return K(e)}}),Object(w.jsx)(f.r,{className:"password-input",autocomplete:"new-password",placeholder:"Confirm New Password",onInput:function(e){return F(e)}}),ne[1].map((function(e,t){var n=e.label,r=e.ref;return Object(w.jsx)(f.g,{labelClassName:"checkbox-label",ref:r,label:n,onChange:function(){return ae()}},"checkbox-".concat(t))}))]}):null,Object(w.jsxs)("div",{id:"warnings",children:[G?Object(w.jsx)("div",{className:"warning",children:"Passwords must match"}):null,X?Object(w.jsx)("div",{className:"warning",children:"Password length must be greater than 8 characters"}):null]})]})},j=(n(1588),n(584)),O=n(605),k=n(625),A=n.n(k),E=n(573),T=n(717),C=n(149),S=n(540),P=n(628),N=n(534),I=n(729),L=n(531),B=function(e){var t=e.selectedNetwork,n=e.selectedAcc,r=e.onAddBtnClicked,u=Object(l.useState)({address:"",index:0}),d=Object(s.a)(u,2),p=d[0],h=d[1],y=Object(l.useState)(""),m=Object(s.a)(y,2),b=m[0],v=m[1],x=Object(l.useState)(!0),k=Object(s.a)(x,2),B=k[0],M=k[1],D=Object(l.useState)(!0),R=Object(s.a)(D,2),K=R[0],U=R[1],_=Object(l.useState)(null),z=Object(s.a)(_,2),F=z[0],H=z[1],W=Object(l.useState)(!1),V=Object(s.a)(W,2),q=V[0],J=V[1],Y=Object(l.useState)(""),G=Object(s.a)(Y,2),Q=G[0],$=G[1],Z=Object(g.f)().showModal,X=Object(l.useState)({success:!1,message:""}),ee=Object(s.a)(X,2),te=ee[0],ne=ee[1];function re(){return ie.apply(this,arguments)}function ie(){return(ie=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(C.a)()){e.next=5;break}return e.next=3,ae();case 3:e.next=7;break;case 5:return e.next=7,se();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return oe.apply(this,arguments)}function oe(){return(oe=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.LedgerSubprovider({networkId:0,ledgerEthereumClientFactoryAsync:O.ledgerEthereumBrowserClientFactoryAsync,baseDerivationPath:S.a}),e.next=3,t.getAccountsAsync(100);case 3:n=e.sent,H({addresses:n,signerName:"Ledger"}),U(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return ce.apply(this,arguments)}function ce(){return(ce=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,Object(S.b)();case 4:if(1!==(n=e.sent).length){e.next=9;break}return e.abrupt("return",me({address:n[0],index:0}));case 9:H({address:n,signerName:"Ledger"}),U(!0);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),t=e.t0.statusCode&&"InvalidChannel"===e.t0.id?"Invalid channel":e.t0.statusCode&&25873===e.t0.statusCode?"Please make sure your ledger is connected and the ethereum app is open":e.t0.message;case 17:t&&v("Ledger error: ".concat(t.message||t));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ue(){return le.apply(this,arguments)}function le(){return(le=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.a.manifest({email:"contactus@ambire.com",appUrl:"https://wallet.ambire.com"}),t=new E.TrezorSubprovider({trezorConnectClientApi:A.a}),e.next=4,t.getAccountsAsync(100);case 4:n=e.sent,H({addresses:n,signerName:"Trezor"}),U(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window.ethereum){e.next=2;break}throw new Error("MetaMask not available");case 2:return t=window.ethereum,e.next=5,t.request({method:"eth_requestAccounts"});case 5:if((n=e.sent).length){e.next=8;break}throw new Error("No accounts connected");case 8:if(1!==n.length){e.next=10;break}return e.abrupt("return",me({address:n[0],index:0}));case 10:H({addresses:n,signerName:"Web3"}),U(!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=function(e){var t=e.addresses,n=e.deviceId,r=e.commKey,i=e.isPaired;H({addresses:t,signerName:"Lattice",signerExtra:{type:"Lattice",deviceId:n,commKey:r,isPaired:i}}),U(!0)};function he(){return ge.apply(this,arguments)}function ge(){return(ge=Object(o.a)(i.a.mark((function e(){var t,r,a,o,s,c,u,l,f,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.signerExtra||"Lattice"!==n.signerExtra.type||!n.signerExtra.isPaired){e.next=30;break}return t=n.signerExtra,r=t.commKey,a=t.deviceId,o=Object(L.c)(r),J(!0),e.next=6,Object(L.a)(o,a);case 6:if(s=e.sent,c=s.isPaired,!(u=s.errConnect)){e.next=13;break}return J(!1),v(u.message||u),e.abrupt("return");case 13:if(c){e.next=18;break}return J(!1),o.pair(""),v("The Lattice device is not paired! Please re-add your account!.",{timeout:3e4}),e.abrupt("return");case 18:return e.next=20,Object(L.b)(o);case 20:if(l=e.sent,f=l.res,!(d=l.errGetAddresses)){e.next=27;break}return J(!1),v("Lattice: ".concat(d),{error:!0}),e.abrupt("return");case 27:f&&(J(!1),pe({addresses:f,deviceId:a,commKey:r,isPaired:!0})),e.next=31;break;case 30:Z(Object(w.jsx)(I.a,{addresses:pe}));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(""),e.prev=1,e.next=4,t();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),v("Unexpected error: ".concat(e.t0.message||e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),me=Object(l.useCallback)((function(e){h(e),U((function(e){return!e})),F&&$("".concat(F.signerName," address # ").concat(e.index+1)),H(null)}),[F]),be=Object(l.useCallback)((function(){return H(null)}),[]);Object(l.useEffect)((function(){K&&F&&Z(Object(w.jsx)(T.a,{signersToChoose:F.addresses,selectedNetwork:t,onSignerAddressClicked:me,description:"You will authorize the selected ".concat(F.signerName," address to sign transactions for your account."),onCloseBtnClicked:be}))}),[be,K,me,t,Z,F]);var ve=Object(w.jsxs)("div",{className:"wallet-btns-wrapper",children:[Object(w.jsxs)(f.e,{onClick:function(){return ye(ue)},className:"buttonComponent",children:[Object(w.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/trezor.png)"}}),"Trezor"]}),Object(w.jsxs)(f.e,{onClick:function(){return ye(re)},className:"buttonComponent",children:[Object(w.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/ledger.png)"}}),"Ledger"]}),Object(w.jsxs)(f.e,{onClick:function(){return ye(he)},className:"buttonComponent",children:[Object(w.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/grid-plus.png)"}}),"Grid+ Lattice1"]}),Object(w.jsxs)(f.e,{onClick:function(){return ye(fe)},className:"buttonComponent",children:[Object(w.jsx)("div",{className:"icon",style:{backgroundImage:"url(./resources/metamask.png)"}}),"Metamask / Browser"]})]});return Object(l.useEffect)((function(){var e=Object(P.a)(p.address,n.id);M(!e.success),ne({success:e.success,message:e.message?e.message:""})}),[n,p.address]),Object(w.jsxs)("div",{className:"content",children:[q&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"It may takes a while."}),Object(w.jsx)("h3",{children:"Please wait..."}),Object(w.jsx)(f.m,{})]}),!q&&Object(w.jsxs)("div",{className:"signer",children:[Object(w.jsxs)("div",{className:"signer-address-input",children:[Object(w.jsx)(f.x,{placeholder:"Enter signer address",className:"depositAddress",value:p.address,info:Q,onInput:function(e){Q.length&&$(""),h(Object(a.a)(Object(a.a)({},p),{},{address:e}))}}),Object(w.jsx)(f.j,{style:{height:"60px"},title:"Connect signer",className:"connect-signer-dropdown",closeOnClick:!0,children:ve})]}),Object(w.jsx)("div",{className:"btns-wrapper",children:Object(w.jsx)(f.e,{disabled:B,icon:Object(w.jsx)(c.s,{}),onClick:function(){return r(p)},small:!0,className:"buttonComponent",children:"Add"})})]}),te.message&&Object(w.jsxs)("div",{className:"validation-error",children:[Object(w.jsx)(N.k,{size:12}),"\xa0",te.message]}),b?Object(w.jsx)("h3",{className:"error",children:b}):Object(w.jsx)(w.Fragment,{})]})},M=n(33),D=n(768),R=n(728),K=(n(1589),n(1590)),U=n(744),_=n.n(U),z=n(56),F=function(e){var t=e.relayerURL,n=e.selectedAcc,r=e.setCacheBreak,a=Object(g.f)().hideModal,c=Object(m.a)().addToast,u=Object(l.useMemo)((function(){return K.authenticator.generateSecret(20)}),[]),d=Object(l.useState)(!1),p=Object(s.a)(d,2),h=p[0],y=p[1],v=Object(l.useState)(null),x=Object(s.a)(v,2),j=x[0],O=x[1],k=Object(l.useState)(""),A=Object(s.a)(k,2),E=A[0],T=A[1],C=Object(l.useState)(!1),S=Object(s.a)(C,2),P=S[0],N=S[1],I=Object(l.useState)(""),L=Object(s.a)(I,2),B=L[0],M=L[1],D=Object(l.useState)(!1),R=Object(s.a)(D,2),U=R[0],F=R[1],H=Object(l.useState)(),W=Object(s.a)(H,2),V=W[0],q=W[1];Object(l.useEffect)((function(){q(z.ethers.utils.hexlify(z.ethers.utils.toUtf8Bytes(JSON.stringify({otp:u,timestamp:(new Date).getTime()}))))}),[u]);var J=Object(l.useCallback)((function(){var e=K.authenticator.keyuri(n.email,"Ambire Wallet",u);_.a.toDataURL(e,{quality:1,margin:1},(function(e,t){e?(console.log(e),c(e.message,{error:!0})):O(t)}))}),[c,u,n.email]);Object(l.useEffect)(J,[J]);var Y=function(){var e=Object(o.a)(i.a.mark((function e(){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return c("Email/pass accounts not supported without a relayer connection",{error:!0}),e.abrupt("return");case 3:return e.next=5,Object(b.d)("".concat(t,"/second-key/").concat(n.id,"/ethereum/sign"),{toSign:V});case 5:r=e.sent,a=r.success,o=r.confCodeRequired,a||c("Unexpected error. This should never happen, please report this on help.ambire.com",{error:!0}),"email"!==o&&c("Expected email verification. This should never happen, please report this on help.ambire.com",{error:!0}),a&&"email"===o&&c("A confirmation code was sent to your email, please enter it along...");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(i.a.mark((function e(){var o,s,l,f,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K.authenticator.verify({token:E,secret:u})){e.next=5;break}return c("Invalid or outdated OTP code entered. If you keep seeing this, please ensure your system clock is synced correctly.",{error:!0}),y(!1),e.abrupt("return");case 5:if(e.prev=5,B.length){e.next=9;break}return c("Please enter the code from authenticator app."),e.abrupt("return");case 9:return e.next=11,Object(b.d)("".concat(t,"/second-key/").concat(n.id,"/ethereum/sign"),{toSign:V,code:B});case 11:if(o=e.sent,s=o.success,l=o.signatureEthers,f=o.message,s){e.next=17;break}throw new Error(f||"unknown error");case 17:return e.next=19,Object(b.d)("".concat(t,"/identity/").concat(n.id,"/modify"),{otp:V,sig:l});case 19:if(!(d=e.sent).success){e.next=28;break}c("You have successfully enabled two-factor authentication."),r(),Q(),y(!1),a(),e.next=29;break;case 28:throw new Error("".concat(d.message||"unknown error"));case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(5),console.error(e.t0),c("OTP: "+e.t0.message||!1,{error:!0}),y(!1);case 36:case"end":return e.stop()}}),e,null,[[5,31]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){M(""),T("")};return Object(w.jsx)(f.n,{title:"Two Factor Authentication",topLeft:Object(w.jsx)(f.h,{seconds:300,setTimeIsUp:function(e){F(e)}}),buttons:h?Object(w.jsx)(f.e,{disabled:!0,className:"button",children:Object(w.jsx)(f.m,{})}):Object(w.jsx)(f.e,{type:"submit",disabled:U,className:"button",children:"Enable 2FA"}),children:Object(w.jsxs)("div",{id:"otp-auth",children:[U&&Object(w.jsx)("div",{className:"timer-reset-msg",children:"Please reopen the modal to reset the session."}),Object(w.jsx)("div",{className:"img-wrapper",children:Object(w.jsx)("img",{alt:"qr-code",src:j})}),Object(w.jsxs)("div",{className:"img-msg",style:{marginBottom:P?"0px":"22px"},children:[!P&&Object(w.jsx)("span",{className:"click-here",onClick:function(){N((function(e){return!e}))},children:"Unable to scan code? Click here."}),P&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{children:"Enter this OTP in your app:"}),Object(w.jsx)("div",{children:u})]})]}),Object(w.jsx)("form",{onSubmit:function(e){e.preventDefault(),y(!0),G()},children:Object(w.jsxs)("div",{children:[Object(w.jsx)("h4",{children:"Confirmation code sent via Email"}),Object(w.jsxs)("div",{className:"input-wrapper",children:[Object(w.jsx)(f.x,{small:!0,pattern:"[0-9]+",title:"Confirmation code should be 6 digits",autoComplete:"nope",required:!0,minLength:6,maxLength:6,placeholder:"Confirmation code",value:B,onInput:function(e){return M(e)}}),Object(w.jsx)(f.e,{type:"button",small:!0,disabled:U,onClick:Y,children:"Send Email"})]}),Object(w.jsx)("h4",{children:"Authenticator app code"}),Object(w.jsx)(f.x,{placeholder:"Enter the code from authenticator app",onInput:T,value:E,pattern:"[0-9]{6}",required:!0})]})})]})})},H=(n(1596),function(e){var t=e.relayerURL,n=e.selectedAcc,r=e.setCacheBreak,a=Object(g.f)().hideModal,c=Object(m.a)().addToast,u=Object(l.useState)(!1),d=Object(s.a)(u,2),p=d[0],h=d[1],y=Object(l.useState)(""),v=Object(s.a)(y,2),x=v[0],j=v[1],O=Object(l.useState)(!1),k=Object(s.a)(O,2),A=k[0],E=k[1],T=Object(l.useState)(),C=Object(s.a)(T,2),S=C[0],P=C[1];Object(l.useEffect)((function(){P(z.ethers.utils.hexlify(z.ethers.utils.toUtf8Bytes(JSON.stringify({otp:null,timestamp:(new Date).getTime()}))))}),[]);var N=function(){var e=Object(o.a)(i.a.mark((function e(){var o,s,u,l,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.d)("".concat(t,"/second-key/").concat(n.id,"/ethereum/sign"),{toSign:S,code:x});case 3:if(o=e.sent,s=o.success,u=o.signatureEthers,l=o.message,s){e.next=9;break}throw new Error(l||"unknown error");case 9:return e.next=11,Object(b.d)("".concat(t,"/identity/").concat(n.id,"/modify"),{otp:S,sig:u});case 11:if(!(f=e.sent).success){e.next=20;break}c("You have successfully disabled two-factor authentication."),r(),I(),h(!1),a(),e.next=21;break;case 20:throw new Error("".concat(f.message||"unknown error"));case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),console.error(e.t0),c("OTP: "+e.t0.message||!1,{error:!0}),h(!1);case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),I=function(){j("")};return Object(w.jsx)(f.n,{id:"disable-otp-modal",title:"Disable Two Factor Authentication",topLeft:Object(w.jsx)(f.h,{seconds:300,setTimeIsUp:function(e){E(e)}}),buttons:p?Object(w.jsx)(f.e,{disabled:!0,className:"button",children:Object(w.jsx)(f.m,{})}):Object(w.jsx)(f.e,{type:"submit",disabled:A,className:"button",children:"Disable 2FA"}),children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(!0),N()},children:[A&&Object(w.jsx)("div",{className:"timer-reset-msg",children:"Please reopen the modal to reset the session."}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h4",{children:"Authenticator app code"}),Object(w.jsx)(f.x,{placeholder:"Enter the code from authenticator app",onInput:j,value:x,pattern:"[0-9]{6}",required:!0})]})]})})}),W=(n(1597),n(920)),V=function(e){var t=e.selectedAccount,n=e.onOpen,r=e.onAddAccount;return Object(w.jsxs)("div",{id:"backup",children:[Object(w.jsxs)("div",{className:"panel",children:[Object(w.jsx)("div",{className:"panel-title",children:"Backup current account"}),Object(w.jsxs)("div",{className:"content",id:"export",children:[Object(w.jsx)("a",{type:"button",href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t))),download:"".concat(t.id,".json"),children:Object(w.jsx)(f.e,{icon:Object(w.jsx)(W.a,{}),onClick:function(){r(Object(a.a)(Object(a.a)({},t),{},{downloadedBackup:!0}))},className:"buttonComponent",children:"Export"})}),Object(w.jsxs)("div",{style:{fontSize:"0.9em"},children:["Downloads a backup of your current account (",t.id.slice(0,5),"...",t.id.slice(-3),") encrypted with your password. It's safe to store in iCloud/Google Drive, but you cannot use it to restore your account if you forget the password.",Object(w.jsx)("b",{children:" You can only import this in Ambire"}),", it's not importable in other wallets."]})]})]}),Object(w.jsxs)("div",{className:"panel",children:[Object(w.jsx)("div",{className:"panel-title",children:"Import an account from backup"}),Object(w.jsxs)("div",{className:"content",id:"import",children:[Object(w.jsx)(f.e,{icon:Object(w.jsx)(W.b,{}),onClick:n,className:"buttonComponent",children:"Import"}),Object(w.jsx)("p",{children:"...or you can drop an account backup JSON file on this page"})]})]})]})},q=n(743),J=n(147),Y=n(148),G=new d.Interface(n(330));t.default=function(e){var t=e.relayerURL,n=e.selectedAcc,r=e.selectedNetwork,y=e.accounts,b=e.addRequest,v=e.showSendTxns,j=e.onAddAccount,O=Object(Y.a)().constants.humanizerInfo,k=Object(g.f)().showModal,A=Object(l.useState)((function(){return Date.now()})),E=Object(s.a)(A,2),T=E[0],C=E[1];Object(l.useEffect)((function(){Date.now()-T>3e4&&C(Date.now());var e=setTimeout((function(){return C(Date.now())}),4e4);return function(){return clearTimeout(e)}}),[T]);var S=t?"".concat(t,"/identity/").concat(n,"/").concat(r.id,"/privileges?cacheBreak=").concat(T):null,P=Object(g.j)({url:S}),N=P.data,I=P.errMsg,L=P.isLoading,K=N?N.privileges:{},U=N?N.otpEnabled:null,_=N&&N.recoveryLock,z=Object(m.a)().addToast,W=Object(M.useHistory)(),Q=y.find((function(e){return e.id===n})),$=function(e,t){return{to:n,data:G.encodeFunctionData("setAddrPrivilege",[e,t]),value:"0x00"}},Z=function(e){try{b({id:"setPriv_".concat(e.data),type:"eth_sendTransaction",txn:e,chainId:r.chainId,account:n})}catch(t){console.error(t),z("Error: ".concat(t.message||t),{error:!0})}},X=function(){var e=Object(o.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.abrupt("return",z(Object(w.jsxs)("span",{children:["To make this signer default, please ",Object(w.jsx)("a",{href:"#/email-login",children:"please login with the email"})]}),{url:"/#/email-login",error:!0}));case 4:j(Object(a.a)(Object(a.a)({},t),{},{signer:{address:n},signerExtra:null})),z("This signer is now the default. If it is a hardware wallet, you will have to re-add the account manually to connect it directly, otherwise you will have to add this signer address to your web3 wallet.",{timeout:3e4});case 6:W.push("/wallet/security");case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){t?k(Object(w.jsx)(x,{account:Q,selectedNetwork:r,relayerURL:t,onAddAccount:j,showSendTxns:v})):z("Unsupported without a connection to the relayer",{error:!0})},te=function(){if(!t)return z("Unsupported without a connection to the relayer",{error:!0});k(Object(w.jsx)(F,{relayerURL:t,selectedAcc:Q,setCacheBreak:function(){C(Date.now())}}))},ne=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",z("Unsupported without a connection to the relayer",{error:!0}));case 2:k(Object(w.jsx)(H,{relayerURL:t,selectedAcc:Q,setCacheBreak:function(){C(Date.now())}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=Object(l.useCallback)((function(e,t){var n=new FileReader;if(t.length&&z("".concat(t[0].file.path," - ").concat((t[0].file.size/1024).toFixed(2)," KB. ").concat(t[0].errors[0].message),{error:!0}),e.length){var r=e[0];n.readAsText(r,"UTF-8"),n.onload=function(e){var t=e.target.result,n=JSON.parse(t),r=Object(R.b)(n);r.success?j(n,{select:!0}):z(r.message,{error:!0})}}}),[z,j]),ie=Object(D.a)({onDrop:re,noClick:!0,noKeyboard:!0,accept:"application/json",maxFiles:1,validator:R.a}),ae=ie.getRootProps,oe=ie.getInputProps,se=ie.open,ce=ie.isDragActive,ue=ie.isDragAccept,le=ie.isDragReject,fe=K[Q.signer.quickAccManager]&&(_&&_.status&&!L||K&&Q.signer.quickAccManager&&Q.signer.preRecovery&&function(e){var t=new d.AbiCoder,n=e.timelock,r=e.one,i=e.two;return Object(d.keccak256)(t.encode(["tuple(uint, address, address)"],[[n,r,i]]))}(Q.signer)!==K[Q.signer.quickAccManager]),de=Object.entries(K).map((function(e){var t=Object(s.a)(e,2),n=t[0];if(!t[1])return null;var r=Object(J.b)(O,n)||null,i=n===p.a.quickAccManager,a=i?"Email/password signer (".concat(Q.email||"unknown email",")"):"".concat(n," ").concat(r&&r!==n?"(".concat(r,")"):""),o=(i?Q.signer.quickAccManager:Q.signer.address)===n,u=i&&!fe;return Object(w.jsxs)("li",{children:[Object(w.jsx)(f.x,{className:"depositAddress",value:a,disabled:!0}),Object(w.jsxs)("div",{className:"btns-wrapper",children:[i&&null!==U&&(U?Object(w.jsx)(f.e,{red:!0,onClick:ne,small:!0,className:"buttonComponent",children:"Disable 2FA"}):Object(w.jsx)(f.e,{onClick:te,small:!0,className:"buttonComponent",children:"Enable 2FA"})),i&&Object(w.jsx)(f.e,{disabled:!u,title:fe?"Account recovery already in progress":"",onClick:ee,small:!0,className:"buttonComponent",children:"Change password"}),Object(w.jsx)(f.e,{disabled:o,title:o?"Signer is already default":"",onClick:function(){return X(Q,n,i)},small:!0,className:"buttonComponent",children:"Make default"}),Object(w.jsx)(f.e,{onClick:function(){return function(e){var t=$(e,h.a.false);Z(t)}(n)},small:!0,red:!0,icon:Object(w.jsx)(c.G,{}),title:o?"Cannot remove the currently used signer":"",disabled:o,className:"buttonComponent",children:"Remove"})]})]},n)})).filter((function(e){return e})),pe=L&&!N,he=t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"panel",id:"signers",children:[fe&&!pe&&Object(w.jsx)(q.a,{recoveryLock:_,showSendTxns:v,selectedAccount:Q,selectedNetwork:r}),Object(w.jsxs)("div",{className:"network-warning",children:[Object(w.jsx)(c.o,{size:36}),Object(w.jsxs)("div",{children:["Please note: signer settings are network-specific. You are currently looking at and modifying the signers on ",r.name,". \xa0",Object(w.jsx)("a",{href:"https://help.ambire.com/hc/en-us/articles/4410885684242-Signers",target:"_blank",rel:"noreferrer",children:"Need help? Click here."})]})]}),Object(w.jsx)("div",{className:"panel-title",children:"Authorized signers"}),I&&Object(w.jsxs)("h3",{className:"error",children:["Error getting authorized signers: ",I]}),pe&&Object(w.jsx)(f.m,{}),Object(w.jsx)("ul",{className:"content",children:!pe&&de})]}),Object(w.jsxs)("div",{className:"panel",children:[Object(w.jsx)("div",{className:"panel-title",children:"Add new signer"}),Object(w.jsx)(B,{onAddBtnClicked:function(e){var t=$(e.address,h.a.true);Z(t)},selectedNetwork:r,selectedAcc:Q})]})]}):Object(w.jsxs)("div",{className:"panel",children:[Object(w.jsx)("div",{className:"panel-title",children:"Authorized signers"}),Object(w.jsx)("h3",{className:"error",children:"Unsupported: not connected to a relayer."})]});return Object(w.jsxs)("section",Object(a.a)(Object(a.a)({id:"security",className:(ce?"activeStyle ":"")+(ue?"acceptStyle ":"")+(le?"rejectStyle ":"")},ae()),{},{children:[(ue||le)&&Object(w.jsx)("div",{className:ue?"acceptStyleIcon":"rejectStyleIcon",children:Object(w.jsx)(u.a,{size:100})}),Object(w.jsx)("input",Object(a.a)({},oe())),he,Object(w.jsx)(V,{selectedAccount:Q,onOpen:se,onAddAccount:j})]}))}},501:function(e,t,n){(function(t){var r=n(500).BN;function i(e){if("string"!==typeof e||42!==e.length||!e.startsWith("0x"))throw new Error("invalid address: must start with a 0x and be 42 characters long");return e}function a(e){if("string"===typeof e&&e.startsWith("0x")&&66===e.length)return t.from(e.slice(2),"hex");if(32!==e.length||!t.isBuffer(e))throw new Error("32 byte Buffer expected");return e}e.exports={Uint256:function(e){var t=new r(e,10);if(t.isNeg())throw new Error("uint256 expected, negative number given");return t},Bytes32:a,Address:i,Bytes:function(e){if("string"===typeof e&&e.startsWith("0x"))return t.from(e.slice(2),"hex");if(!t.isBuffer(e))throw new Error("Buffer expected");return e},Bytes32Array:function(e,t){return(-1===t||void 0===t||e.length===t)&&e.map((function(e){return a(e)}))},Channel:function(e){return i(e.leader),i(e.follower),i(e.guardian),i(e.tokenAddr),a(e.nonce),e}}}).call(this,n(28).Buffer)},505:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.stripZeros=t.unpad=t.setLengthRight=t.setLength=t.setLengthLeft=t.zeros=void 0;var r=n(503),i=n(500);t.zeros=function(t){return e.allocUnsafe(t).fill(0)},t.setLengthLeft=function(e,n,r){void 0===r&&(r=!1);var i=t.zeros(n);return e=t.toBuffer(e),r?e.length<n?(e.copy(i),i):e.slice(0,n):e.length<n?(e.copy(i,n-e.length),i):e.slice(-n)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,n){return t.setLength(e,n,!0)},t.unpad=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(t){if(!e.isBuffer(t))if(Array.isArray(t))t=e.from(t);else if("string"===typeof t){if(!r.isHexString(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);t=e.from(r.padToEven(r.stripHexPrefix(t)),"hex")}else if("number"===typeof t)t=r.intToBuffer(t);else if(null===t||void 0===t)t=e.allocUnsafe(0);else if(i.isBN(t))t=t.toArrayLike(e);else{if(!t.toArray)throw new Error("invalid type");t=e.from(t.toArray())}return t},t.bufferToInt=function(e){return new i(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new i(e).fromTwos(256)},t.toUnsigned=function(t){return e.from(t.toTwos(256).toArray())},t.addHexPrefix=function(e){return"string"!==typeof e||r.isHexPrefixed(e)?e:"0x"+e},t.baToJSON=function(n){if(e.isBuffer(n))return"0x"+n.toString("hex");if(n instanceof Array){for(var r=[],i=0;i<n.length;i++)r.push(t.baToJSON(n[i]));return r}}}).call(this,n(28).Buffer)},508:function(e,t){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof n},t.toSJIS=function(e){return n(e)}},509:function(e,t,n){var r=n(631),i=n(632);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(r){return n}}},522:function(e,t,n){e.exports=n(615)},523:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhUnsafe=t.ecdh=t.recover=t.verify=t.sign=t.signatureImportLax=t.signatureImport=t.signatureExport=t.signatureNormalize=t.publicKeyCombine=t.publicKeyTweakMul=t.publicKeyTweakAdd=t.publicKeyVerify=t.publicKeyConvert=t.publicKeyCreate=t.privateKeyTweakMul=t.privateKeyTweakAdd=t.privateKeyModInverse=t.privateKeyNegate=t.privateKeyImport=t.privateKeyExport=t.privateKeyVerify=void 0;var r=n(206),i=n(617),a=n(618);t.privateKeyVerify=function(e){return 32===e.length&&r.privateKeyVerify(Uint8Array.from(e))},t.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var n=i.privateKeyExport(e,t);return a.privateKeyExport(e,n,t)},t.privateKeyImport=function(e){if(null!==(e=a.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},t.privateKeyNegate=function(t){return e.from(r.privateKeyNegate(Uint8Array.from(t)))},t.privateKeyModInverse=function(t){if(32!==t.length)throw new Error("private key length is invalid");return e.from(i.privateKeyModInverse(Uint8Array.from(t)))},t.privateKeyTweakAdd=function(t,n){return e.from(r.privateKeyTweakAdd(Uint8Array.from(t),n))},t.privateKeyTweakMul=function(t,n){return e.from(r.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(n)))},t.publicKeyCreate=function(t,n){return e.from(r.publicKeyCreate(Uint8Array.from(t),n))},t.publicKeyConvert=function(t,n){return e.from(r.publicKeyConvert(Uint8Array.from(t),n))},t.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&r.publicKeyVerify(Uint8Array.from(e))},t.publicKeyTweakAdd=function(t,n,i){return e.from(r.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(n),i))},t.publicKeyTweakMul=function(t,n,i){return e.from(r.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(n),i))},t.publicKeyCombine=function(t,n){var i=[];return t.forEach((function(e){i.push(Uint8Array.from(e))})),e.from(r.publicKeyCombine(i,n))},t.signatureNormalize=function(t){return e.from(r.signatureNormalize(Uint8Array.from(t)))},t.signatureExport=function(t){return e.from(r.signatureExport(Uint8Array.from(t)))},t.signatureImport=function(t){return e.from(r.signatureImport(Uint8Array.from(t)))},t.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=a.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return i.signatureImport(t)},t.sign=function(t,n,i){if(null===i)throw new TypeError("options should be an Object");var a=void 0;if(i){if(a={},null===i.data)throw new TypeError("options.data should be a Buffer");if(i.data){if(32!=i.data.length)throw new RangeError("options.data length is invalid");a.data=new Uint8Array(i.data)}if(null===i.noncefn)throw new TypeError("options.noncefn should be a Function");i.noncefn&&(a.noncefn=function(t,n,r,a,o){var s=null!=r?e.from(r):null,c=null!=a?e.from(a):null,u=e.from("");return i.noncefn&&(u=i.noncefn(e.from(t),e.from(n),s,c,o)),new Uint8Array(u)})}var o=r.ecdsaSign(Uint8Array.from(t),Uint8Array.from(n),a);return{signature:e.from(o.signature),recovery:o.recid}},t.verify=function(e,t,n){return r.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),n)},t.recover=function(t,n,i,a){return e.from(r.ecdsaRecover(Uint8Array.from(n),i,Uint8Array.from(t),a))},t.ecdh=function(t,n){return e.from(r.ecdh(Uint8Array.from(t),Uint8Array.from(n),{}))},t.ecdhUnsafe=function(t,n,r){if(33!==t.length&&65!==t.length)throw new RangeError("public key length is invalid");if(32!==n.length)throw new RangeError("private key length is invalid");return e.from(i.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(n),r))}}).call(this,n(28).Buffer)},524:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160=t.sha256=t.keccak256=t.keccak=void 0;var r=n(329),i=r.keccak224,a=r.keccak384,o=r.keccak256,s=r.keccak512,c=n(328),u=n(503),l=n(326),f=n(505);t.keccak=function(t,n){switch(void 0===n&&(n=256),t="string"!==typeof t||u.isHexString(t)?f.toBuffer(t):e.from(t,"utf8"),n||(n=256),n){case 224:return i(t);case 256:return o(t);case 384:return a(t);case 512:return s(t);default:throw new Error("Invald algorithm: keccak"+n)}},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=f.toBuffer(e),c("sha256").update(e).digest()},t.ripemd160=function(e,t){e=f.toBuffer(e);var n=c("rmd160").update(e).digest();return!0===t?f.setLength(n,32):n},t.rlphash=function(e){return t.keccak(l.encode(e))}}).call(this,n(28).Buffer)},531:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v}));var r=n(7),i=n(3),a=n.n(i),o=n(12),s=n(548),c=n(56),u=n(535),l=n(529),f=2147483648,d={startPath:[2147483692,2147483708,f,0,0],n:10},p=function(e){var t={name:"Ambire Wallet",crypto:l,privKey:e};return new s.Client(t)},h=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.connect(n,(function(t,n){t?r("Lattice connect: ".concat(t," Or check if the DeviceID is correct.")):e({isPaired:!!n,errConnect:!1})}))})).catch((function(e){return console.error(e),{isPaired:!1,errConnect:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.pair(n,(function(t,n){t?r("Lattice connect: ".concat(t)):e({hasActiveWallet:n,errPair:!1})}))})).catch((function(e){return console.error(e),{hasActiveWallet:!1,errPair:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.getAddresses(d,(function(t,r){if(t)n("Lattice get addresses: ".concat(t));else{if(!r)throw new Error("Lattice could not get the addresses.");e({res:r,errGetAddresses:!1})}}))})).catch((function(e){return console.error(e),{res:null,errGetAddresses:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={protocol:"signPersonal",payload:c.ethers.utils.hexlify(n),signerPath:[2147483692,2147483708,f,0,0]},i={currency:"ETH_MSG",data:r},e.next=4,new Promise((function(e,n){t.sign(i,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+r.sig.r+r.sig.s+r.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={currency:"ETH_MSG",data:{signerPath:[2147483692,2147483708,f,0,0],protocol:"eip712",payload:n}},e.next=3,new Promise((function(e,n){t.sign(r,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+r.sig.r+r.sig.s+r.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(a.a.mark((function e(t,n,i){var o,s,c,l,d,p,h,g,y,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.to,s=n.data,c=n.gas,l=n.gasPrice,d=n.nonce,p=n.value,h=void 0===p?0:p,delete(g=Object(r.a)(Object(r.a)({},n),{},{gasLimit:n.gasLimit||n.gas,chainId:i})).from,delete g.gas,y={nonce:d,gasLimit:c||n.gasLimit,gasPrice:l,to:o,value:h,data:s||"",signerPath:[2147483692,2147483708,f,0,0],chainId:i,useEIP155:!0},m={currency:"ETH",data:y},e.next=8,new Promise((function(e,n){t.sign(m,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");delete g.v;var i=Object(u.a)(g,{r:"0x"+r.sig.r,s:"0x"+r.sig.s,v:r.sig.v[0].toString(16)});e({serializedSigned:i,errSignTxn:!1})}}))})).catch((function(e){return console.error(e),{serializedSigned:null,errSignTxn:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},540:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return E}));var r=n(7),i=n(3),a=n.n(i),o=n(12),s=n(623),c=n(624),u=n(535),l=n(210),f=n(520),d=null,p="44'/60'/0'/0";function h(){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.list();case 2:if(!(d=e.sent).length){e.next=11;break}if(!d[0].opened){e.next=8;break}return e.abrupt("return",new s.a(d[0]));case 8:return e.abrupt("return",s.a.open(d[0]));case 9:e.next=22;break;case 11:return e.prev=11,e.next=14,s.a.request();case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(11),!e.t0.message.includes("reading 'open'")){e.next=21;break}throw new Error("ledger WebHID request denied");case 21:throw new Error("Could not request WebHID ledger: "+e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function y(){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,e.next=5,b(t);case 5:return n=e.sent,t.close(),e.abrupt("return",n.map((function(e){return e.address})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function t(n){var r,i,o,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="m/".concat(p),t.next=3,w(n,r).then((function(e){return e})).catch((function(e){throw 25871===e.statusCode||27404===e.statusCode?Error("Please make sure your ledger is unlocked and running the Ethereum app. "+e.message):Error("Could not get address from ledger : "+e)}));case 3:return i=t.sent,(o=new f).publicKey=e.from(i.publicKey,"hex"),o.chainCode=e.from(i.chainCode,"hex"),s=S(o),c={hdKey:o,address:s,derivationPath:r,baseDerivationPath:p},t.abrupt("return",C(c,1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(e,t){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.a(t),o=new Promise((function(e,t){r=setTimeout((function(){return t(new Error("Device took too long to respond..."))}),1e4)})),e.abrupt("return",Promise.race([i.getAddress(n,!1,!0),o]).then((function(e){return clearTimeout(r),e})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(a.a.mark((function e(t,n){var i,o,s,l,f,d,p,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return i=e.sent,o=t.from,delete(s=Object(r.a)(Object(r.a)({},t),{},{gasLimit:t.gasLimit||t.gas,chainId:n})).from,delete s.gas,l=Object(u.a)(s),e.next=10,b(i);case 10:if(f=e.sent,f[0].address.toLowerCase()!==o.toLowerCase()){e.next=30;break}return e.prev=13,e.next=16,new c.a(i).signTransaction(f[0].derivationPath,l.substr(2));case 16:p=e.sent,e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(13),new Error("Could not sign transaction "+e.t0);case 22:if(g=parseInt(p.v,16),Math.floor((g-35)/2)===n){e.next=26;break}throw new Error("Invalid returned V 0x"+p.v);case 26:delete s.v,d=Object(u.a)(s,{r:"0x"+p.r,s:"0x"+p.s,v:g}),e.next=31;break;case 30:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 31:return i.close(),e.abrupt("return",d);case 33:case"end":return e.stop()}}),e,null,[[13,19]])})))).apply(this,arguments)}function k(e,t){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(a.a.mark((function e(t,n){var r,i,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return r=e.sent,e.next=5,b(r);case 5:if(i=e.sent,(o=i[0]).address.toLowerCase()!==n.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new c.a(r).signPersonalMessage(o.derivationPath,t.substr(2));case 11:u=e.sent,s="0x"+u.r+u.s+u.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return r.close(),e.abrupt("return",s);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function E(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(a.a.mark((function e(t,n,r){var i,o,s,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return i=e.sent,e.next=5,b(i);case 5:if(o=e.sent,(s=o[0]).address.toLowerCase()!==r.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new c.a(i).signEIP712HashedMessage(s.derivationPath,t,n);case 11:l=e.sent,u="0x"+l.r+l.s+l.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return i.close(),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function C(e,t){for(var n=[],r=0;r<t;r++){var i="m/".concat(e.baseDerivationPath,"/").concat(r),a="m/".concat(r),o=e.hdKey.derive(a),s={address:S(o),hdKey:o,baseDerivationPath:e.baseDerivationPath,derivationPath:i};n.push(s)}return n}function S(e){var t=e.publicKey,n=l.publicToAddress(t,!0).toString("hex");return l.addHexPrefix(n).toLowerCase()}}).call(this,n(28).Buffer)},542:function(e,t,n){var r=n(327),i=n(3),a=n(177),o=n(56).utils,s=o.AbiCoder,c=o.hexlify,u=o.arrayify,l=o.keccak256,f=o.Interface,d=n(56),p=d.Contract,h=d.BigNumber,g=n(501),y=n(330),m=n(543),b=new f(y);function v(e){return this.identity=g.Address(e.identity),this.network=e.network,this.signer=e.signer,this.txns=e.txns,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.signature=e.signature,this.minFeeInUSDPerGas=e.minFeeInUSDPerGas,this.recoveryMode=e.recoveryMode,this.meta=e.meta,this.gasTankFee=e.gasTankFee,this}v.prototype.getNonce=function(){var e=a(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t,this);case 2:return this.nonce=e.sent,e.abrupt("return",this.nonce);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),v.prototype.estimate=function(){var e=a(i.mark((function e(t){var n,a,o,s,c,u,l;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,a=t.relayerURL,o=t.replacing,s=t.getNextNonce,c=t.gasTank,u=Object.fromEntries(Object.entries({getNextNonce:s,gasTank:c}).filter((function(e){var t=r(e,2);t[0];return t[1]}))),e.next=4,I(n,"".concat(a,"/identity/").concat(this.identity,"/").concat(this.network,"/estimate?").concat(new URLSearchParams(u).toString()),{txns:this.txns,signer:this.signer,replacing:o,minFeeInUSDPerGas:this.minFeeInUSDPerGas});case 4:return l=e.sent,this.gasLimit=l.gasLimit,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),v.prototype.sign=function(){var e=a(i.mark((function e(t,n){var r,a,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(this.nonce)){e.next=2;break}throw new Error("nonce is not set");case 2:if(!isNaN(this.gasLimit)){e.next=4;break}throw new Error("gasLimit is not set");case 4:return r=O(this,n),a=u(l(r)),e.next=8,E(t,a);case 8:return o=e.sent,this.signature=o,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),v.prototype.submit=function(){var e=a(i.mark((function e(t){var n,r,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,r=t.relayerURL,e.next=3,I(n,"".concat(r,"/identity/").concat(this.identity,"/").concat(this.network,"/submit"),{nonce:this.nonce,signer:this.signer,txns:this.txns,gasLimit:this.gasLimit,signature:this.signature,signatureTwo:this.signatureTwo,meta:this.meta,gasTankFee:this.gasTankFee});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),v.prototype.cancel=function(){var e=a(i.mark((function e(t){var n,r,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,r=t.relayerURL,e.next=3,I(n,"".concat(r,"/identity/").concat(this.identity,"/").concat(this.network,"/cancel"),{nonce:this.nonce,signer:this.signer});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var w=/gas required exceeds allowance|always failing transaction|execution reverted/;function x(){return(x=a(i.mark((function e(t,n,r,a,o){var c,u,l,f;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.address){e.next=2;break}return e.abrupt("return",E(t,a,!0));case 2:if(!r.quickAccManager){e.next=10;break}return e.next=5,E(t,a,!0);case 5:return c=e.sent,u=new s,l=u.encode(["uint","bytes","bytes"],[r.timelock,c,o]),f="".concat(l+u.encode(["address"],[r.quickAccManager]).slice(2),"02"),e.abrupt("return",f);case 10:throw new Error("invalid signer object");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=a(i.mark((function e(t,n,r,a,o,c,u){var l,f,d,p;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.address){e.next=2;break}return e.abrupt("return",C(t,a,o,c));case 2:if(!r.quickAccManager){e.next=10;break}return e.next=5,C(t,a,o,c);case 5:return l=e.sent,f=new s,d=f.encode(["uint","bytes","bytes"],[r.timelock,l,u]),p="".concat(d+f.encode(["address"],[r.quickAccManager]).slice(2),"02"),e.abrupt("return",p);case 10:throw new Error("invalid signer object");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){var n=new s,r=e.signer;if(r.address)return n.encode(["address","uint","uint","tuple(address, uint, bytes)[]"],[e.identity,k(e.network),e.nonce,e.txns]);if(r.quickAccManager){var i=l(n.encode(["tuple(uint, address, address)"],[[e.signer.timelock,e.signer.one,e.signer.two]]));return n.encode(["address","uint","address","bytes32","uint","tuple(address, uint, bytes)[]","bool"],[r.quickAccManager,k(e.network),e.identity,i,e.nonce,e.txns,!t])}throw new Error("invalid signer object")}function k(e){if("ethereum"===e)return 1;if("polygon"===e)return 137;if("binance-smart-chain"===e)return 56;if("bsc"===e)return 56;if("fantom"===e)return 250;if("avalanche"===e)return 43114;if("arbitrum"===e)return 42161;if("moonbeam"===e)return 1284;if("moonriver"===e)return 1285;if("gnosis"===e)return 100;if("kucoin"===e)return 321;if("andromeda"===e)return 1088;if("cronos"===e)return 25;if("aurora"===e)return 1313161554;if("rinkeby"===e)return 4;if("optimism"===e)return 10;throw new Error("unsupported network ".concat(e))}function A(e){var t=u(e);return t[64]<27&&(t[64]+=27),c(t)}function E(e,t){return T.apply(this,arguments)}function T(){return T=a(i.mark((function e(t,n){var r,a=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0="",e.t1=A,e.next=5,t.signMessage(n);case 5:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0.concat.call(e.t0,e.t3).concat(r?"00":"01"));case 8:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function C(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=a(i.mark((function e(t,n,r,a){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._signTypedData(n,r,a);case 2:return o=e.sent,e.abrupt("return","".concat(A(o),"00"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return N.apply(this,arguments)}function N(){return(N=a(i.mark((function e(t,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.signer.quickAccManager){e.next=7;break}return e.next=4,new p(n.signer.quickAccManager,m,t).nonces(n.identity);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,new p(n.identity,y,t).nonce();case 9:e.t0=e.sent;case 10:return e.abrupt("return",e.t0.toNumber());case 13:if(e.prev=13,e.t1=e.catch(0),e.t2="CALL_EXCEPTION"===e.t1.code,!e.t2){e.next=21;break}return e.next=19,t.getCode(n.identity);case 19:e.t3=e.sent,e.t2="0x"===e.t3;case 21:if(!e.t2){e.next=23;break}return e.abrupt("return",0);case 23:throw e.t1;case 24:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function I(e,t,n){return L.apply(this,arguments)}function L(){return(L=a(i.mark((function e(t,n,r){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v.prototype.estimateNoRelayer=function(){var e=a(i.mark((function e(t){var n,r,a,o,s,c,u,l,f,d,p;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider,r=t.replacing,a={from:this.signer.quickAccManager||this.signer.address,to:this.identity,data:b.encodeFunctionData("executeBySender",[this.txns])},o=r?"latest":"pending",e.next=5,R(n,o,a);case 5:if(s=e.sent,c=s.error,u=s.gasLimit,!c||!c.message.startsWith("execution reverted: ")){e.next=11;break}return l=c.message.slice(20),e.abrupt("return",{success:!1,message:l});case 11:if(!c){e.next=18;break}if("UNPREDICTABLE_GAS_LIMIT"===c.code||c.message.match(w)){e.next=14;break}throw c;case 14:return e.next=16,M(n,a,o);case 16:return e.t0=e.sent,e.abrupt("return",{success:!1,message:e.t0});case 18:return this.gasLimit=u.toNumber(),e.next=21,n.getFeeData();case 21:return f=e.sent,d=f.gasPrice.toNumber(),p=d*u/1e18,e.abrupt("return",{success:!0,gasLimit:this.gasLimit,gasPrice:d,feeInNative:{slow:.9*p,medium:1*p,fast:1.15*p,ape:1.4*p}});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var B="0x08c379a0";function M(e,t,n){return D.apply(this,arguments)}function D(){return(D=a(i.mark((function e(t,n,r){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.call(n,r);case 3:return a=e.sent,e.abrupt("return",a.startsWith(B)?(new s).decode(["string"],"0x".concat(a.slice(10)))[0]:a);case 7:if(e.prev=7,e.t0=e.catch(0),"UNPREDICTABLE_GAS_LIMIT"!==e.t0.code||!e.t0.error){e.next=11;break}return e.abrupt("return",e.t0.error.message.slice(20));case 11:if("CALL_EXCEPTION"!==e.t0.code){e.next=13;break}return e.abrupt("return","no error string, possibly insufficient amount");case 13:if("INVALID_ARGUMENT"!==e.t0.code){e.next=15;break}return e.abrupt("return","unable to deserialize: ".concat(c(e.t0.value)));case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(e,t,n){return K.apply(this,arguments)}function K(){return(K=a(i.mark((function e(t,n,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.send("eth_estimateGas",[r,n]).then((function(e){return{gasLimit:h.from(e)}})).catch((function(e){return"SERVER_ERROR"===e.code?{error:e.error}:{error:e}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports={Bundle:v,signMessage:function(e,t,n,r,i){return x.apply(this,arguments)},signMessage712:function(e,t,n,r,i,a,o){return j.apply(this,arguments)},getSignable:O,signMsg:E,signMsg712:C}},543:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txnHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"accHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"signer","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"LogCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txnHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"accHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"LogExecScheduled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txnHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"accHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"signer","type":"address"},{"indexed":false,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"indexed":false,"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"LogScheduled","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"sig","type":"bytes"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"cancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"internalType":"bytes32","name":"accHash","type":"bytes32"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"execScheduled","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"scheduled","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"components":[{"internalType":"bool","name":"isBothSigned","type":"bool"},{"internalType":"bytes","name":"one","type":"bytes"},{"internalType":"bytes","name":"two","type":"bytes"}],"internalType":"struct QuickAccManager.DualSig","name":"sigs","type":"tuple"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"send","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"components":[{"internalType":"bytes","name":"one","type":"bytes"},{"internalType":"bytes","name":"two","type":"bytes"}],"internalType":"struct QuickAccManager.DualSigAlwaysBoth","name":"sigs","type":"tuple"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}],"internalType":"struct QuickAccManager.Transfer","name":"t","type":"tuple"}],"name":"sendTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"components":[{"internalType":"bytes","name":"one","type":"bytes"},{"internalType":"bytes","name":"two","type":"bytes"}],"internalType":"struct QuickAccManager.DualSigAlwaysBoth","name":"sigs","type":"tuple"},{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct QuickAccManager.Txn[]","name":"txns","type":"tuple[]"}],"name":"sendTxns","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},563:function(e,t,n){var r=n(532),i=n(564),a=n(565),o=n(566),s=n(567),c=n(568),u=n(569),l=n(542);e.exports=r(r(r(r(r(r({},i),a),c),u),l),{},{MerkleTree:o,splitSig:s})},564:function(e,t,n){(function(t){var r=n(522),i=n(95).keccak256,a=n(501);function o(e){return this.leader=a.Address(e.leader),this.follower=a.Address(e.follower),this.guardian=a.Address(e.guardian),this.tokenAddr=a.Address(e.tokenAddr),this.nonce=a.Bytes32(e.nonce),Object.freeze(this),this}o.prototype.hash=function(){return t.from(i.arrayBuffer(r.rawEncode(["address","address","address","address","bytes32"],[this.leader,this.follower,this.guardian,this.tokenAddr,this.nonce])))},o.prototype.hashHex=function(){return"0x".concat(this.hash().toString("hex"))},o.prototype.toSolidityTuple=function(){return[this.leader,this.follower,this.guardian,this.tokenAddr,this.nonce]},o.prototype.hashToSign=function(e,t){return o.getSignableStateRoot(e,this.hashHex(),t)},o.prototype.hashToSignHex=function(e,t){return"0x".concat(this.hashToSign(e,t).toString("hex"))},o.prototype.getResumeSignableMessage=function(e){return t.from(i.arrayBuffer(r.solidityPack(["string","bytes32","uint256"],["resume",this.hashHex(),e])))},o.prototype.getResumeSignableMessageHex=function(e){return"0x".concat(this.getResumeSignableMessage(e).toString("hex"))},o.getSignableStateRoot=function(e,n,a){return t.from(i.arrayBuffer(r.rawEncode(["address","bytes32","bytes32"],[e,n,a])))},o.getBalanceLeaf=function(e,n){return t.from(i.arrayBuffer(r.rawEncode(["address","uint256"],[e,n])))},o.getSpenderBalanceLeaf=function(e,n){return t.from(i.arrayBuffer(r.rawEncode(["address","string","uint256"],[e,"spender",n])))},e.exports={Channel:o,ChannelState:{Challenged:"115792089237316195423570985008687907853269984665640564039457584007913129639935",Active:"0"}}}).call(this,n(28).Buffer)},565:function(e,t,n){var r=n(501);function i(e){return this.channel=e.channel,this.balanceTreeAmount=r.Uint256(e.balanceTreeAmount),this.stateRoot=r.Bytes32(e.stateRoot),this.sigLeader=r.Bytes32Array(e.sigLeader,3),this.sigFollower=r.Bytes32Array(e.sigFollower,3),this.proof=r.Bytes32Array(e.proof,-1),Object.freeze(this),this}i.prototype.toSolidityTuple=function(){return[this.channel.toSolidityTuple(),"0x".concat(this.balanceTreeAmount.toString(16)),this.stateRoot,this.sigLeader,this.sigFollower,this.proof]},e.exports={Withdraw:i}},566:function(e,t,n){var r=n(85),i=n(128),a=n(28).Buffer,o=n(95).keccak256;function s(e,t){if(!t)return e;if(!e)return t;var n=a.concat([e,t].sort(a.compare));return a.from(o.arrayBuffer(n))}function c(e){if(0===e.length)return[[a.from("")]];var t=[];for(t.push(e);t[t.length-1].length>1;)t.push(u(t[t.length-1]));return t}function u(e){return e.reduce((function(e,t,n,r){return n%2===0&&e.push(s(t,r[n+1])),e}),[])}var l=function(){"use strict";function e(t){if(r(this,e),!t.every((function(e){return 32===e.length&&a.isBuffer(e)})))throw new Error("elements must be 32 byte buffers");var n,i={elements:(n=t,n.filter((function(e,t){return n.findIndex((function(t){return t.equals(e)}))===t})))};Object.assign(this,i),this.elements.sort(a.compare);var o={layers:c(this.elements)};Object.assign(this,o)}return i(e,[{key:"getRoot",value:function(){if(!this.root){var e={root:this.layers[this.layers.length-1][0]};Object.assign(this,e)}return this.root}},{key:"verify",value:function(e,t){return this.getRoot().equals(e.reduce((function(e,t){return s(e,t)}),t))}},{key:"proof",value:function(e){var t=this.elements.findIndex((function(t){return t.equals(e)}));if(-1===t)throw new Error("element not found in merkle tree");return this.layers.reduce((function(e,n){var r=function(e,t){var n=e%2?e-1:e+1;return n<t.length?t[n]:null}(t,n);return r&&e.push(r),t=Math.floor(t/2),e}),[])}}]),e}();e.exports=l},567:function(e,t){e.exports=function(e){var t=e.startsWith("0x")?e.slice(2):e,n="0x".concat(t.substring(0,64)),r="0x".concat(t.substring(64,128)),i=parseInt(t.substring(128,130),16);return i<27&&(i+=27),["0x02".concat(i.toString(16),"000000000000000000000000000000000000000000000000000000000000"),n,r]}},568:function(e,t,n){(function(t){var r=n(522),i=n(95).keccak256,a=n(501);function o(e){return this.owner=a.Address(e.owner),this.shares=a.Uint256(e.shares),this.unlocksAt=a.Uint256(e.unlocksAt),Object.freeze(this),this}o.prototype.hash=function(){var e=r.rawEncode(["address","uint256","uint256"],[this.owner,this.shares,this.unlocksAt]);return t.from(i.arrayBuffer(e))},o.prototype.hashHex=function(){return"0x".concat(this.hash().toString("hex"))},e.exports={UnbondCommitment:o}}).call(this,n(28).Buffer)},569:function(e,t,n){var r=n(56).utils,i=r.keccak256,a=r.defaultAbiCoder,o=r.toUtf8Bytes,s=r.solidityPack,c=i(o("Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)"));function u(e,t,n){return i(a.encode(["bytes32","bytes32","bytes32","uint256","address"],[i(o("EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)")),i(o(e)),i(o("1")),n,t]))}e.exports={getDomainSeparator:u,getApprovalDigest:function(e,t,n,r){var o=u(e.name,e.address,e.chainId);return i(s(["bytes1","bytes1","bytes32","bytes32"],["0x19","0x01",o,i(a.encode(["bytes32","address","address","uint256","uint256","uint256"],[c,t.owner,t.spender,t.value,n,r]))]))}}},571:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(r){return n}}},587:function(e,t){},594:function(e,t){},595:function(e,t){},596:function(e,t){},597:function(e,t){},598:function(e,t){},600:function(e,t){},601:function(e,t){},602:function(e,t){},604:function(e,t){},611:function(e,t){},614:function(e,t){},615:function(e,t,n){(function(t){var r=n(616),i=n(500),a=function(){};function o(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function s(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function c(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function u(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){var t=typeof e;if("string"===t)return r.isHexPrefixed(e)?new i(r.stripHexPrefix(e),16):new i(e,10);if("number"===t)return new i(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function f(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var n=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==n&&3===n.length)return{method:t[1],args:n[1].split(","),retargs:n[2].split(",")};var r=t[2].split(",");return 1===r.length&&""===r[0]&&(r=[]),{method:t[1],args:r}}function d(e,n){var a,o,f,p;if("address"===e)return d("uint160",l(n));if("bool"===e)return d("uint8",n?1:0);if("string"===e)return d("bytes",t.from(n,"utf8"));if(y(e)){if("undefined"===typeof n.length)throw new Error("Not an array?");if("dynamic"!==(a=u(e))&&0!==a&&n.length>a)throw new Error("Elements exceed array size: "+a);for(p in f=[],e=e.slice(0,e.lastIndexOf("[")),"string"===typeof n&&(n=JSON.parse(n)),n)f.push(d(e,n[p]));if("dynamic"===a){var h=d("uint256",n.length);f.unshift(h)}return t.concat(f)}if("bytes"===e)return n=t.from(n),f=t.concat([d("uint256",n.length),n]),n.length%32!==0&&(f=t.concat([f,r.zeros(32-n.length%32)])),f;if(e.startsWith("bytes")){if((a=s(e))<1||a>32)throw new Error("Invalid bytes<N> width: "+a);return r.setLengthRight(n,32)}if(e.startsWith("uint")){if((a=s(e))%8||a<8||a>256)throw new Error("Invalid uint<N> width: "+a);if((o=l(n)).bitLength()>a)throw new Error("Supplied uint exceeds width: "+a+" vs "+o.bitLength());if(o<0)throw new Error("Supplied uint is negative");return o.toArrayLike(t,"be",32)}if(e.startsWith("int")){if((a=s(e))%8||a<8||a>256)throw new Error("Invalid int<N> width: "+a);if((o=l(n)).bitLength()>a)throw new Error("Supplied int exceeds width: "+a+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){if(a=c(e),(o=l(n))<0)throw new Error("Supplied ufixed is negative");return d("uint256",o.mul(new i(2).pow(new i(a[1]))))}if(e.startsWith("fixed"))return a=c(e),d("int256",l(n).mul(new i(2).pow(new i(a[1]))));throw new Error("Unsupported or invalid type: "+e)}function p(e,n,r){var a,o,s,c;if("string"===typeof e&&(e=h(e)),"address"===e.name)return p(e.rawType,n,r).toArrayLike(t,"be",20).toString("hex");if("bool"===e.name)return p(e.rawType,n,r).toString()===new i(1).toString();if("string"===e.name){var u=p(e.rawType,n,r);return t.from(u,"utf8").toString()}if(e.isArray){for(s=[],a=e.size,"dynamic"===e.size&&(r=p("uint256",n,r).toNumber(),a=p("uint256",n,r).toNumber(),r+=32),c=0;c<a;c++){var l=p(e.subArray,n,r);s.push(l),r+=e.subArray.memoryUsage}return s}if("bytes"===e.name)return r=p("uint256",n,r).toNumber(),a=p("uint256",n,r).toNumber(),n.slice(r+32,r+32+a);if(e.name.startsWith("bytes"))return n.slice(r,r+e.size);if(e.name.startsWith("uint")){if((o=new i(n.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+o.bitLength());return o}if(e.name.startsWith("int")){if((o=new i(n.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+o.bitLength());return o}if(e.name.startsWith("ufixed")){if(a=new i(2).pow(new i(e.size[1])),!(o=p("uint256",n,r)).mod(a).isZero())throw new Error("Decimals not supported yet");return o.div(a)}if(e.name.startsWith("fixed")){if(a=new i(2).pow(new i(e.size[1])),!(o=p("int256",n,r)).mod(a).isZero())throw new Error("Decimals not supported yet");return o.div(a)}throw new Error("Unsupported or invalid type: "+e.name)}function h(e){var t,n,r;if(y(e)){t=u(e);var i=e.slice(0,e.lastIndexOf("["));return i=h(i),n={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:i.memoryUsage*t,subArray:i}}switch(e){case"address":r="uint160";break;case"bool":r="uint8";break;case"string":r="bytes"}if(n={rawType:r,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?n.size=s(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(n.size=c(e)),e.startsWith("bytes")&&"bytes"!==e&&(n.size<1||n.size>32))throw new Error("Invalid bytes<N> width: "+n.size);if((e.startsWith("uint")||e.startsWith("int"))&&(n.size%8||n.size<8||n.size>256))throw new Error("Invalid int/uint<N> width: "+n.size);return n}function g(e){return"string"===e||"bytes"===e||"dynamic"===u(e)}function y(e){return e.lastIndexOf("]")===e.length-1}function m(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}a.eventID=function(e,n){var i=e+"("+n.map(o).join(",")+")";return r.keccak256(t.from(i))},a.methodID=function(e,t){return a.eventID(e,t).slice(0,4)},a.rawEncode=function(e,n){var r=[],i=[],a=0;e.forEach((function(e){if(y(e)){var t=u(e);a+="dynamic"!==t?32*t:32}else a+=32}));for(var s=0;s<e.length;s++){var c=o(e[s]),l=d(c,n[s]);g(c)?(r.push(d("uint256",a)),i.push(l),a+=l.length):r.push(l)}return t.concat(r.concat(i))},a.rawDecode=function(e,n){var r=[];n=t.from(n);for(var i=0,a=0;a<e.length;a++){var s=h(o(e[a])),c=p(s,n,i);i+=s.memoryUsage,r.push(c)}return r},a.simpleEncode=function(e){var n=Array.prototype.slice.call(arguments).slice(1),r=f(e);if(n.length!==r.args.length)throw new Error("Argument count mismatch");return t.concat([a.methodID(r.method,r.args),a.rawEncode(r.args,n)])},a.simpleDecode=function(e,t){var n=f(e);if(!n.retargs)throw new Error("No return values in method");return a.rawDecode(n.retargs,t)},a.stringify=function(e,t){var n=[];for(var r in e){var i=e[r],a=t[r];a=/^[^\[]+\[.*\]$/.test(i)?a.map((function(e){return m(i,e)})).join(", "):m(i,a),n.push(a)}return n},a.solidityHexValue=function(e,n,i){var o,c;if(y(e)){var f=e.replace(/\[.*?\]/,"");if(!y(f)){var d=u(e);if("dynamic"!==d&&0!==d&&n.length>d)throw new Error("Elements exceed array size: "+d)}var p=n.map((function(e){return a.solidityHexValue(f,e,256)}));return t.concat(p)}if("bytes"===e)return n;if("string"===e)return t.from(n,"utf8");if("bool"===e){i=i||8;var h=Array(i/4).join("0");return t.from(n?h+"1":h+"0","hex")}if("address"===e){var g=20;return i&&(g=i/8),r.setLengthLeft(n,g)}if(e.startsWith("bytes")){if((o=s(e))<1||o>32)throw new Error("Invalid bytes<N> width: "+o);return r.setLengthRight(n,o)}if(e.startsWith("uint")){if((o=s(e))%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);if((c=l(n)).bitLength()>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+c.bitLength());return i=i||o,c.toArrayLike(t,"be",i/8)}if(e.startsWith("int")){if((o=s(e))%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);if((c=l(n)).bitLength()>o)throw new Error("Supplied int exceeds width: "+o+" vs "+c.bitLength());return i=i||o,c.toTwos(o).toArrayLike(t,"be",i/8)}throw new Error("Unsupported or invalid type: "+e)},a.solidityPack=function(e,n){if(e.length!==n.length)throw new Error("Number of types are not matching the values");for(var r=[],i=0;i<e.length;i++){var s=o(e[i]),c=n[i];r.push(a.solidityHexValue(s,c,null))}return t.concat(r)},a.soliditySHA3=function(e,t){return r.keccak256(a.solidityPack(e,t))},a.soliditySHA256=function(e,t){return r.sha256(a.solidityPack(e,t))},a.solidityRIPEMD160=function(e,t){return r.ripemd160(a.solidityPack(e,t),!0)},a.fromSerpent=function(e){for(var t,n=[],r=0;r<e.length;r++){var i=e[r];if("s"===i)n.push("bytes");else if("b"===i){for(var a="bytes",o=r+1;o<e.length&&((t=e[o])>="0"&&t<="9");)a+=e[o]-"0",o++;r=o-1,n.push(a)}else if("i"===i)n.push("int256");else{if("a"!==i)throw new Error("Unsupported or invalid type: "+i);n.push("int256[]")}}return n},a.toSerpent=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if("bytes"===r)t.push("s");else if(r.startsWith("bytes"))t.push("b"+s(r));else if("int256"===r)t.push("i");else{if("int256[]"!==r)throw new Error("Unsupported or invalid type: "+r);t.push("a")}}return t.join("")},e.exports=a}).call(this,n(28).Buffer)},616:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=t.rlp=t.BN=void 0;var a=n(523);t.secp256k1=a;var o=n(503),s=n(500);t.BN=s;var c=n(326);t.rlp=c,Object.assign(t,o),i(n(619),t),i(n(620),t),i(n(524),t),i(n(621),t),i(n(505),t),i(n(622),t)},617:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(500),i=new(0,n(207).ec)("secp256k1"),a=i.curve;t.privateKeyExport=function(e,t){void 0===t&&(t=!0);var n=new r(e);if(n.ucmp(a.n)>=0)throw new Error("couldn't export to DER format");var s=i.g.mul(n);return o(s.getX(),s.getY(),t)},t.privateKeyModInverse=function(t){var n=new r(t);if(n.ucmp(a.n)>=0||n.isZero())throw new Error("private key range is invalid");return n.invm(a.n).toArrayLike(e,"be",32)},t.signatureImport=function(t){var n=new r(t.r);n.ucmp(a.n)>=0&&(n=new r(0));var i=new r(t.s);return i.ucmp(a.n)>=0&&(i=new r(0)),e.concat([n.toArrayLike(e,"be",32),i.toArrayLike(e,"be",32)])},t.ecdhUnsafe=function(e,t,n){void 0===n&&(n=!0);var s=i.keyFromPublic(e),c=new r(t);if(c.ucmp(a.n)>=0||c.isZero())throw new Error("scalar was invalid (zero or overflow)");var u=s.pub.mul(c);return o(u.getX(),u.getY(),n)};var o=function(t,n,r){var i;return r?((i=e.alloc(33))[0]=n.isOdd()?3:2,t.toArrayLike(e,"be",32).copy(i,1)):((i=e.alloc(65))[0]=4,t.toArrayLike(e,"be",32).copy(i,1),n.toArrayLike(e,"be",32).copy(i,33)),i}}).call(this,n(28).Buffer)},618:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(t,i,a){void 0===a&&(a=!0);var o=e.from(a?n:r);return t.copy(o,a?8:9),i.copy(o,a?181:214),o},t.privateKeyImport=function(e){var t=e.length,n=0;if(t<n+1||48!==e[n])return null;if(t<(n+=1)+1||!(128&e[n]))return null;var r=127&e[n];if(r<1||r>2)return null;if(t<(n+=1)+r)return null;var i=e[n+r-1]|(r>1?e[n+r-2]<<8:0);return t<(n+=r)+i||t<n+3||2!==e[n]||1!==e[n+1]||1!==e[n+2]||t<(n+=3)+2||4!==e[n]||e[n+1]>32||t<n+2+e[n+1]?null:e.slice(n+2,n+2+e[n+1])},t.signatureImportLax=function(t){var n=e.alloc(32,0),r=e.alloc(32,0),i=t.length,a=0;if(48!==t[a++])return null;var o=t[a++];if(128&o&&(a+=o-128)>i)return null;if(2!==t[a++])return null;var s=t[a++];if(128&s){if(a+(o=s-128)>i)return null;for(;o>0&&0===t[a];a+=1,o-=1);for(s=0;o>0;a+=1,o-=1)s=(s<<8)+t[a]}if(s>i-a)return null;var c=a;if(a+=s,2!==t[a++])return null;var u=t[a++];if(128&u){if(a+(o=u-128)>i)return null;for(;o>0&&0===t[a];a+=1,o-=1);for(u=0;o>0;a+=1,o-=1)u=(u<<8)+t[a]}if(u>i-a)return null;var l=a;for(a+=u;s>0&&0===t[c];s-=1,c+=1);if(s>32)return null;var f=t.slice(c,c+s);for(f.copy(n,32-f.length);u>0&&0===t[l];u-=1,l+=1);if(u>32)return null;var d=t.slice(l,l+u);return d.copy(r,32-d.length),{r:n,s:r}}}).call(this,n(28).Buffer)},619:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var r=n(500);t.MAX_INTEGER=new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new r("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.from(t.KECCAK256_RLP_S,"hex")}).call(this,n(28).Buffer)},620:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.isPrecompiled=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isZeroAddress=t.isValidAddress=t.zeroAddress=void 0;var r=n(176),i=n(503),a=n(523),o=n(500),s=n(505),c=n(524);t.zeroAddress=function(){var e=s.zeros(20);return s.bufferToHex(e)},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===s.addHexPrefix(e)},t.toChecksumAddress=function(e,t){e=i.stripHexPrefix(e).toLowerCase();for(var n=void 0!==t?t.toString()+"0x":"",r=c.keccak(n+e).toString("hex"),a="0x",o=0;o<e.length;o++)parseInt(r[o],16)>=8?a+=e[o].toUpperCase():a+=e[o];return a},t.isValidChecksumAddress=function(e,n){return t.isValidAddress(e)&&t.toChecksumAddress(e,n)===e},t.generateAddress=function(t,n){t=s.toBuffer(t);var r=new o(n);return r.isZero()?c.rlphash([t,null]).slice(-20):c.rlphash([t,e.from(r.toArray())]).slice(-20)},t.generateAddress2=function(t,n,i){var a=s.toBuffer(t),o=s.toBuffer(n),u=s.toBuffer(i);return r(20===a.length),r(32===o.length),c.keccak256(e.concat([e.from("ff","hex"),a,o,c.keccak256(u)])).slice(-20)},t.isPrecompiled=function(e){var t=s.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},t.isValidPrivate=function(e){return a.privateKeyVerify(e)},t.isValidPublic=function(t,n){return void 0===n&&(n=!1),64===t.length?a.publicKeyVerify(e.concat([e.from([4]),t])):!!n&&a.publicKeyVerify(t)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=s.toBuffer(e),t&&64!==e.length&&(e=a.publicKeyConvert(e,!1).slice(1)),r(64===e.length),c.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return e=s.toBuffer(e),a.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=s.toBuffer(e)).length&&(e=a.publicKeyConvert(e,!1).slice(1)),e}}).call(this,n(28).Buffer)},621:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;var r=n(523),i=n(500),a=n(505),o=n(524);function s(e,t){return t?e-(2*t+35):e-27}function c(e){return 0===e||1===e}t.ecsign=function(e,t,n){var i=r.sign(e,t),a=i.recovery;return{r:i.signature.slice(0,32),s:i.signature.slice(32,64),v:n?a+(2*n+35):a+27}},t.ecrecover=function(t,n,i,o,u){var l=e.concat([a.setLength(i,32),a.setLength(o,32)],64),f=s(n,u);if(!c(f))throw new Error("Invalid signature v value");var d=r.recover(t,l,f);return r.publicKeyConvert(d,!1).slice(1)},t.toRpcSig=function(t,n,r,i){if(!c(s(t,i)))throw new Error("Invalid signature v value");return a.bufferToHex(e.concat([a.setLengthLeft(n,32),a.setLengthLeft(r,32),a.toBuffer(t)]))},t.fromRpcSig=function(e){var t=a.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var n=t[64];return n<27&&(n+=27),{v:n,r:t.slice(0,32),s:t.slice(32,64)}},t.isValidSignature=function(e,t,n,r,a){void 0===r&&(r=!0);var o=new i("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),u=new i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==n.length)return!1;if(!c(s(e,a)))return!1;var l=new i(t),f=new i(n);return!(l.isZero()||l.gt(u)||f.isZero()||f.gt(u))&&(!r||1!==f.cmp(o))},t.hashPersonalMessage=function(t){var n=e.from("\x19Ethereum Signed Message:\n"+t.length.toString(),"utf-8");return o.keccak(e.concat([n,t]))}}).call(this,n(28).Buffer)},622:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.defineProperties=void 0;var r=n(176),i=n(503),a=n(326),o=n(505);t.defineProperties=function(t,n,s){if(t.raw=[],t._fields=[],t.toJSON=function(e){if(void 0===e&&(e=!1),e){var n={};return t._fields.forEach((function(e){n[e]="0x"+t[e].toString("hex")})),n}return o.baToJSON(t.raw)},t.serialize=function(){return a.encode(t.raw)},n.forEach((function(n,i){function a(){return t.raw[i]}function s(a){"00"!==(a=o.toBuffer(a)).toString("hex")||n.allowZero||(a=e.allocUnsafe(0)),n.allowLess&&n.length?(a=o.stripZeros(a),r(n.length>=a.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===a.length||!n.length||r(n.length===a.length,"The field "+n.name+" must have byte length of "+n.length),t.raw[i]=a}t._fields.push(n.name),Object.defineProperty(t,n.name,{enumerable:!0,configurable:!0,get:a,set:s}),n.default&&(t[n.name]=n.default),n.alias&&Object.defineProperty(t,n.alias,{enumerable:!1,configurable:!0,set:s,get:a})})),s)if("string"===typeof s&&(s=e.from(i.stripHexPrefix(s),"hex")),e.isBuffer(s)&&(s=a.decode(s)),Array.isArray(s)){if(s.length>t._fields.length)throw new Error("wrong number of fields in data");s.forEach((function(e,n){t[t._fields[n]]=o.toBuffer(e)}))}else{if("object"!==typeof s)throw new Error("invalid data");var c=Object.keys(s);n.forEach((function(e){-1!==c.indexOf(e.name)&&(t[e.name]=s[e.name]),-1!==c.indexOf(e.alias)&&(t[e.alias]=s[e.alias])}))}}}).call(this,n(28).Buffer)},628:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n(21),i=n(100),a=n(146),o=function(e){return e&&e.length?e&&Object(i.b)(e)?{success:!0}:{success:!1,message:"Invalid address."}:{success:!1,message:""}},s=function(e,t){var n=o(e);return n.success?e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:{success:!0}:n},c=function(e,t,n,r,s,c){var u=o(e);return u.success?e&&e===a.a.feeCollector?{success:!0}:e&&t&&e===t?{success:!1,message:"The entered address should be different than the your own account address."}:e&&Object(i.a)(e)?{success:!1,message:"You are trying to send tokens to a smart contract. Doing so would burn them."}:!e||r(e)||n||s||c?!e||r(e)||n||!s&&!c?{success:!0}:{success:!1,message:"You're trying to send to an ".concat(s?"Unstoppable domain":"Ethereum Name Service",". If you really trust to the person who gave you, confirm using the checkbox below.")}:{success:!1,message:"You're trying to send to an unknown address. If you're really sure, confirm using the checkbox below."}:u},u=function(e,t){if(!e||!e.length)return{success:!1,message:""};if(!(e&&e>0))return{success:!1,message:"The amount must be greater than 0."};try{if(e&&t&&t.decimals){var n=e.slice(0,e.indexOf(".")+t.decimals+1),i=Object(r.parseUnits)(n,t.decimals);if(i&&t.balanceRaw&&i.gt(t.balanceRaw))return{success:!1,message:"The amount is greater than the asset's balance: ".concat(null===t||void 0===t?void 0:t.balance," ").concat(null===t||void 0===t?void 0:t.symbol,".")}}}catch(a){console.error(a)}return{success:!0}},l=function(e,t,n,r,i,a,o,s,u){var l,f=c(e,t,n,r,s,u);return f.success?i&&t&&(null===(l=i.owner)||void 0===l?void 0:l.address.toLowerCase())!==t.toLowerCase()?{success:!1,message:"The NFT you're trying to send is not owned by you!"}:a&&o&&a.id!==o?{success:!1,message:"The selected network is not the correct one."}:{success:!0}:f}},630:function(e,t,n){var r=n(571),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}}},631:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},632:function(e,t){var n="[0-9]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var a=new RegExp("^"+r+"$"),o=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},633:function(e,t){function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var i=n.modules.size,a=n.modules.data,o=t.getScale(i,r),s=Math.floor((i+2*r.margin)*o),c=r.margin*o,u=[r.color.light,r.color.dark],l=0;l<s;l++)for(var f=0;f<s;f++){var d=4*(l*s+f),p=r.color.light;if(l>=c&&f>=c&&l<s-c&&f<s-c)p=u[a[Math.floor((l-c)/o)*i+Math.floor((f-c)/o)]?1:0];e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}},663:function(e,t,n){"use strict";var r=n(563),i=n(21),a=n(146),o=new i.Interface(n(330)),s=a.a.quickAccManager;t.a=function(e,t,n,a){var c=new i.AbiCoder,u=a.signer,l=u.timelock,f=u.one,d=u.two,p=Object(i.keccak256)(c.encode(["tuple(uint, address, address)"],[[l,f,d]]));return new r.Bundle({identity:e,network:t,signer:n,txns:[[e,"0x00",o.encodeFunctionData("setAddrPrivilege",[s,p])]],recoveryMode:a})}},717:function(e,t,n){"use strict";var r=n(9),i=(n(718),n(2)),a=n(37),o=n(86),s=n(547),c=n(48),u=n(4);t.a=function(e){var t,n=e.signersToChoose,l=e.onSignerAddressClicked,f=e.selectedNetwork,d=void 0===f?{explorerUrl:"https://etherscan.io"}:f,p=e.description,h=void 0===p?"":p,g=e.isCloseBtnShown,y=void 0===g||g,m=e.onCloseBtnClicked,b=Object(a.f)().hideModal,v=Object(i.useState)(0),w=Object(r.a)(v,2),x=w[0],j=w[1],O=[];t=5,O=n.reduce((function(e,n,r){var i=Math.floor(r/t);return(e[i]||(e[i]=[])).push(n),e}),[]);var k=function(e){return e.slice(0,5)+"..."+e.slice(e.length-4,e.length)},A=0===x,E=x===O.length-1;return Object(u.jsxs)(o.n,{id:"select-signer-modal",title:"Select a signer account",isCloseBtnShown:y,onClose:m,children:[Object(u.jsx)("div",{className:"intro",children:h}),Object(u.jsxs)("div",{className:"loginSignupWrapper chooseSigners",children:[Object(u.jsx)("ul",{id:"signersToChoose",children:n?O[x].map((function(e,t){return Object(u.jsxs)("li",{className:t%2?"":" odd-rows-bg",onClick:function(){return function(e,t){l({address:e,index:t}),b()}(e,5*x+t)},children:[Object(u.jsx)("span",{className:"index-row",children:5*x+t+1}),Object(u.jsx)("span",{children:k(e)}),Object(u.jsx)("a",{href:d.explorerUrl+"/address/"+e,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:Object(u.jsx)(s.c,{size:25})})]},e)})):null}),Object(u.jsxs)("div",{className:"pages",children:[x+1,"/",O.length]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(o.e,{disabled:A,icon:Object(u.jsx)(c.p,{}),small:!0,clear:!0,type:"button",onClick:function(){0!==x&&j((function(e){return e-1}))},children:"Previous page"}),Object(u.jsx)(o.e,{disabled:E,iconAfter:Object(u.jsx)(c.q,{}),small:!0,clear:!0,type:"button",onClick:function(){x!==O.length-1&&j((function(e){return e+1}))},children:"Next page"})]})]})]})}},718:function(e,t,n){},727:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},728:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return f}));var r=n(21),i=/^([0-9]+\.?[0-9]*)$/,a=["salt","identityFactoryAddr","baseIdentityAddr","bytecode","signer"],o=function(e){if(!e||!l(e))return{success:!1,message:"The imported file does not contain needed account data."};if(!e.id||!s(e.id))return{success:!1,message:"Failed to import JSON file: invalid id"};if(!e.signer||!s(e.signer.address||e.signer.quickAccManager))return{success:!1,message:"JSON file: invalid signer address"};if(e.signer.quickAccManager){if(!e.signer.timelock||!c(e.signer.timelock))return{success:!1,message:"Failed to import JSON file: invalid signer timelock"};if(!e.signer.one||!s(e.signer.one))return{success:!1,message:"Failed to import JSON file: invalid signer one"};if(!e.signer.two||!s(e.signer.two))return{success:!1,message:"Failed to import JSON file: invalid signer two"}}return e.salt&&u(e.salt)?e.identityFactoryAddr&&s(e.identityFactoryAddr)?e.baseIdentityAddr&&s(e.baseIdentityAddr)?{success:!0}:{success:!1,message:"JSON file: invalid base Identity Address"}:{success:!1,message:"JSON file: invalid identity Factory Address"}:{success:!1,message:"JSON file: invalid salt"}},s=function(e){try{return Object(r.getAddress)(e)===e}catch(t){return!1}},c=function(e){return i.test(e)&&6===e.toString().length},u=function(e){return 32===Object(r.hexDataLength)(e)},l=function(e){return a.every((function(t){return Object.keys(e).includes(t)}))},f=function(e){return e.size>3072?{code:"file-size-too-large",message:"The file size is larger than ".concat(3..toFixed(2)," KB.")}:null}},729:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(12),o=n(9),s=(n(730),n(86)),c=n(2),u=n(46),l=n(531),f=n(529),d=n.n(f),p=n(4),h=d.a.randomBytes(32).toString("hex");t.a=function(e){var t=e.addresses,n=Object(u.a)().addToast,r=Object(c.useState)(!1),f=Object(o.a)(r,2),d=f[0],g=f[1],y=Object(c.useState)(""),m=Object(o.a)(y,2),b=m[0],v=m[1],w=Object(c.useState)(!1),x=Object(o.a)(w,2),j=x[0],O=x[1],k=Object(c.useState)(null),A=Object(o.a)(k,2),E=A[0],T=A[1],C=Object(c.useRef)(null);Object(c.useEffect)((function(){j&&C.current.focus()}),[j]);var S=Object(l.c)(h),P=function(){var e=Object(a.a)(i.a.mark((function e(){var r,a,o,s,c,u,f,d,p,y,m,v,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g((function(e){return!e})),e.next=3,Object(l.a)(S,b);case 3:if(r=e.sent,a=r.isPaired,!(o=r.errConnect)){e.next=10;break}return g((function(e){return!e})),n("Lattice: ".concat(o," Or check if the Device ID is correct."),{error:!0}),e.abrupt("return");case 10:if(a){e.next=41;break}return O((function(e){return!e})),e.next=14,new Promise((function(e,t){T((function(){return e}))}));case 14:if(""===(s=e.sent)){e.next=39;break}return O((function(e){return!e})),e.next=19,Object(l.d)(S,s);case 19:if(c=e.sent,u=c.hasActiveWallet,!(f=c.errPair)){e.next=26;break}return g((function(e){return!e})),n(f,{error:!0}),e.abrupt("return");case 26:if(u){e.next=29;break}return n("Lattice has no active wallet!"),e.abrupt("return");case 29:return e.next=31,Object(l.b)(S);case 31:if(d=e.sent,p=d.res,!(y=d.errGetAddresses)){e.next=38;break}return g((function(e){return!e})),n(y,{error:!0}),e.abrupt("return");case 38:p&&(t({addresses:p,deviceId:b,commKey:h,isPaired:!0}),g(!1));case 39:e.next=51;break;case 41:return e.next=43,Object(l.b)(S);case 43:if(m=e.sent,v=m.res,!(w=m.errGetAddresses)){e.next=50;break}return g(!1),n("Lattice: ".concat(w),{error:!0}),e.abrupt("return");case 50:v&&(t({addresses:v,deviceId:b,commKey:h,isPaired:!0}),g(!1));case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(s.n,{title:"Connect to Lattice Device",children:Object(p.jsx)("div",{id:"grid-plus",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{children:["The device ID is listed on your Lattice under"," ",Object(p.jsx)("strong",{children:"Settings"}),"."]}),Object(p.jsx)("h4",{children:"Device ID"}),Object(p.jsx)(s.x,{disabled:j,placeholder:"Enter the device ID",onInput:function(e){var t;6===(t=e).length&&v(t)}}),j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h4",{children:"Secret"}),Object(p.jsx)(s.x,{ref:C,placeholder:"Enter secret",style:{textTransform:"uppercase"},onInput:function(e){return function(e){var t=e.toUpperCase();8===t.length&&E(t)}(e)}})]}),d&&!j?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{children:"It may takes a while."}),Object(p.jsx)("h3",{children:"Please wait..."})]}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)("div",{className:"buttons",children:d?Object(p.jsx)(s.e,{disabled:!0,children:Object(p.jsx)(s.m,{})}):Object(p.jsx)(s.e,{onClick:P,children:"Connect to Wallet"})})]})})})}},730:function(e,t,n){},741:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(0);function i(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fillRule:"nonzero",d:"M16 13l6.964 4.062-2.973.85 2.125 3.681-1.732 1-2.125-3.68-2.223 2.15L16 13zm-2-7h2v2h5a1 1 0 0 1 1 1v4h-2v-3H10v10h4v2H9a1 1 0 0 1-1-1v-5H6v-2h2V9a1 1 0 0 1 1-1h5V6zM4 14v2H2v-2h2zm0-4v2H2v-2h2zm0-4v2H2V6h2zm0-4v2H2V2h2zm4 0v2H6V2h2zm4 0v2h-2V2h2zm4 0v2h-2V2h2z"}}]}]})(e)}function a(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.382 5.968A8.962 8.962 0 0 1 12 4c2.125 0 4.078.736 5.618 1.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 1 1-14.064 0L3.515 5.93l1.414-1.414 1.453 1.453zM12 20a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm1-8h3l-5 6.5V14H8l5-6.505V12zM8 1h8v2H8V1z"}}]}]})(e)}},743:function(e,t,n){"use strict";var r=n(3),i=n.n(r),a=n(12),o=n(209),s=n(208),c=n(663),u=n(4);t.a=function(e){var t=e.recoveryLock,n=e.showSendTxns,r=e.selectedAccount,l=e.selectedNetwork,f=t&&"requestedButNotInitiated"!==t.status,d=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return");case 2:t=Object(c.a)(r.id,l.id,r.signer.preRecovery,{signer:r.signer,primaryKeyBackup:r.primaryKeyBackup}),n(t,!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=t?t.status:"requestedButNotInitiated",h=function(e){return e>86400?"".concat(Math.ceil(e/86400)," days"):"".concat(Math.ceil(e/1440)," hours")},g=f?"ready"===p?"success":"warning":"warning action";return Object(u.jsxs)("div",{className:"notification-banner notification-hollow ".concat(g),onClick:function(){return d()},children:["ready"===p?Object(u.jsx)(s.b,{}):Object(u.jsx)(o.b,{}),"requestedButNotInitiated"===p?Object(u.jsxs)(u.Fragment,{children:["Password reset requested but not initiated for ",l.name,". Click here to initiate it."]}):"initiationTxnPending"===p?Object(u.jsxs)(u.Fragment,{children:["Initiation transaction is currently pending. Once mined, you will need to wait ",h(t.timelock)," for the reset to be done on ",l.name,"."]}):"waitingTimelock"===p?Object(u.jsxs)(u.Fragment,{children:["Password reset on ",l.name," is currently pending. ",h(t.remaining)," remaining."]}):"ready"===p?Object(u.jsxs)(u.Fragment,{children:["Password reset on ",l.name," is now complete! You can start signing transactions with your new password!"]}):"failed"===p?Object(u.jsx)(u.Fragment,{children:"Something went wrong while resetting your password. Please contact support at help.ambire.com"}):null]})}},744:function(e,t,n){var r=n(745),i=n(746),a=n(764),o=n(765);function s(e,t,n,a,o){var s=[].slice.call(arguments,1),c=s.length,u="function"===typeof s[c-1];if(!u&&!r())throw new Error("Callback required as last argument");if(!u){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=a=void 0):2!==c||t.getContext||(a=n,n=t,t=void 0),new Promise((function(r,o){try{var s=i.create(n,a);r(e(s,t,a))}catch(c){o(c)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(o=n,n=t,t=a=void 0):3===c&&(t.getContext&&"undefined"===typeof o?(o=a,a=void 0):(o=a,a=n,n=t,t=void 0));try{var l=i.create(n,a);o(null,e(l,t,a))}catch(f){o(f)}}t.create=i.create,t.toCanvas=s.bind(null,a.render),t.toDataURL=s.bind(null,a.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return o.render(e,n)}))},745:function(e,t){e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},746:function(e,t,n){var r=n(508),i=n(571),a=n(747),o=n(748),s=n(749),c=n(750),u=n(751),l=n(630),f=n(752),d=n(755),p=n(756),h=n(509),g=n(757);function y(e,t,n){var r,i,a=e.size,o=p.getEncodedBits(t,n);for(r=0;r<15;r++)i=1===(o>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(a-15+r,8,i,!0),r<8?e.set(8,a-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(a-8,8,1,!0)}function m(e,t,n){var i=new a;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),h.getCharCountIndicator(t.mode,e)),t.write(i)}));var o=8*(r.getSymbolTotalCodewords(e)-l.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);for(var s=(o-i.getLengthInBits())/8,c=0;c<s;c++)i.put(c%2?17:236,8);return function(e,t,n){for(var i=r.getSymbolTotalCodewords(t),a=l.getTotalCodewordsCount(t,n),o=i-a,s=l.getBlocksCount(t,n),c=s-i%s,u=Math.floor(i/s),d=Math.floor(o/s),p=d+1,h=u-d,g=new f(h),y=0,m=new Array(s),b=new Array(s),v=0,w=new Uint8Array(e.buffer),x=0;x<s;x++){var j=x<c?d:p;m[x]=w.slice(y,y+j),b[x]=g.encode(m[x]),y+=j,v=Math.max(v,j)}var O,k,A=new Uint8Array(i),E=0;for(O=0;O<v;O++)for(k=0;k<s;k++)O<m[k].length&&(A[E++]=m[k][O]);for(O=0;O<h;O++)for(k=0;k<s;k++)A[E++]=b[k][O];return A}(i,e,t)}function b(e,t,n,i){var a;if(Array.isArray(e))a=g.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");var l=t;if(!l){var f=g.rawSplit(e);l=d.getBestVersionForData(f,n)}a=g.fromString(e,l||40)}var p=d.getBestVersionForData(a,n);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else t=p;var h=m(t,n,a),b=r.getSymbolSize(t),v=new o(b);return function(e,t){for(var n=e.size,r=c.getPositions(t),i=0;i<r.length;i++)for(var a=r[i][0],o=r[i][1],s=-1;s<=7;s++)if(!(a+s<=-1||n<=a+s))for(var u=-1;u<=7;u++)o+u<=-1||n<=o+u||(s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4?e.set(a+s,o+u,!0,!0):e.set(a+s,o+u,!1,!0))}(v,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(v),function(e,t){for(var n=s.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],a=n[r][1],o=-2;o<=2;o++)for(var c=-2;c<=2;c++)-2===o||2===o||-2===c||2===c||0===o&&0===c?e.set(i+o,a+c,!0,!0):e.set(i+o,a+c,!1,!0)}(v,t),y(v,n,0),t>=7&&function(e,t){for(var n,r,i,a=e.size,o=d.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+a-8-3,i=1===(o>>s&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(v,t),function(e,t){for(var n=e.size,r=-1,i=n-1,a=7,o=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var c=0;c<2;c++)if(!e.isReserved(i,s-c)){var u=!1;o<t.length&&(u=1===(t[o]>>>a&1)),e.set(i,s-c,u),-1===--a&&(o++,a=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(v,h),isNaN(i)&&(i=u.getBestMask(v,y.bind(null,v,n))),u.applyMask(i,v),y(v,n,i),{modules:v,version:t,errorCorrectionLevel:n,maskPattern:i,segments:a}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");var n,a,o=i.M;return"undefined"!==typeof t&&(o=i.from(t.errorCorrectionLevel,i.M),n=d.from(t.version),a=u.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),b(e,n,o,a)}},747:function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},748:function(e,t){function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}n.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=n},749:function(e,t,n){var r=n(508).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),a=[n-7],o=1;o<t-1;o++)a[o]=a[o-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),i=r.length,a=0;a<i;a++)for(var o=0;o<i;o++)0===a&&0===o||0===a&&o===i-1||a===i-1&&0===o||n.push([r[a],r[o]]);return n}},750:function(e,t,n){var r=n(508).getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},751:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,i=40,a=10;function o(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(n+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return n*r%2+n*r%3===0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,r=0,i=0,a=0,o=null,s=null,c=0;c<t;c++){i=a=0,o=s=null;for(var u=0;u<t;u++){var l=e.get(c,u);l===o?i++:(i>=5&&(r+=n+(i-5)),o=l,i=1),(l=e.get(u,c))===s?a++:(a>=5&&(r+=n+(a-5)),s=l,a=1)}i>=5&&(r+=n+(i-5)),a>=5&&(r+=n+(a-5))}return r},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var o=e.get(i,a)+e.get(i,a+1)+e.get(i+1,a)+e.get(i+1,a+1);4!==o&&0!==o||n++}return n*r},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,a=0,o=0;o<t;o++){r=a=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(o,s),s>=10&&(1488===r||93===r)&&n++,a=a<<1&2047|e.get(s,o),s>=10&&(1488===a||93===a)&&n++}return n*i},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*a},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,i=0,a=1/0,o=0;o<r;o++){n(o),t.applyMask(o,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),s<a&&(a=s,i=o)}return i}},752:function(e,t,n){var r=n(753);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){var a=new Uint8Array(this.degree);return a.set(n,i),a}return n},e.exports=i},753:function(e,t,n){var r=n(754);t.mul=function(e,t){for(var n=new Uint8Array(e.length+t.length-1),i=0;i<e.length;i++)for(var a=0;a<t.length;a++)n[i+a]^=r.mul(e[i],t[a]);return n},t.mod=function(e,t){for(var n=new Uint8Array(e);n.length-t.length>=0;){for(var i=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],i);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},t.generateECPolynomial=function(e){for(var n=new Uint8Array([1]),i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},754:function(e,t){var n=new Uint8Array(512),r=new Uint8Array(256);!function(){for(var e=1,t=0;t<255;t++)n[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(var i=255;i<512;i++)n[i]=n[i-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},755:function(e,t,n){var r=n(508),i=n(630),a=n(571),o=n(509),s=n(631),c=r.getBCHDigit(7973);function u(e,t){return o.getCharCountIndicator(e,t)+4}function l(e,t){var n=0;return e.forEach((function(e){var r=u(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=o.BYTE);var a=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return a;var c=a-u(n,e);switch(n){case o.NUMERIC:return Math.floor(c/10*3);case o.ALPHANUMERIC:return Math.floor(c/11*2);case o.KANJI:return Math.floor(c/13);case o.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){var r,i=a.from(n,a.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++)if(l(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;r.getBCHDigit(t)-c>=0;)t^=7973<<r.getBCHDigit(t)-c;return e<<12|t}},756:function(e,t,n){var r=n(508),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,a=n<<10;r.getBCHDigit(a)-i>=0;)a^=1335<<r.getBCHDigit(a)-i;return 21522^(n<<10|a)}},757:function(e,t,n){var r=n(509),i=n(758),a=n(759),o=n(760),s=n(762),c=n(632),u=n(508),l=n(763);function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function p(e){var t,n,i=d(c.NUMERIC,r.NUMERIC,e),a=d(c.ALPHANUMERIC,r.ALPHANUMERIC,e);return u.isKanjiModeEnabled()?(t=d(c.BYTE,r.BYTE,e),n=d(c.KANJI,r.KANJI,e)):(t=d(c.BYTE_KANJI,r.BYTE,e),n=[]),i.concat(a,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return a.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function g(e,t){var n,c=r.getBestModeForData(e);if((n=r.from(t,c))!==r.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||u.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new a(e);case r.KANJI:return new s(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"===typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e}),[])},t.fromString=function(e,n){for(var i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:f(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:f(i.data)}])}}return t}(p(e,u.isKanjiModeEnabled())),a=function(e,t){for(var n={},i={start:{}},a=["start"],o=0;o<e.length;o++){for(var s=e[o],c=[],u=0;u<s.length;u++){var l=s[u],f=""+o+u;c.push(f),n[f]={node:l,lastCount:0},i[f]={};for(var d=0;d<a.length;d++){var p=a[d];n[p]&&n[p].node.mode===l.mode?(i[p][f]=h(n[p].lastCount+l.length,l.mode)-h(n[p].lastCount,l.mode),n[p].lastCount+=l.length):(n[p]&&(n[p].lastCount=l.length),i[p][f]=h(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,t))}}a=c}for(var g=0;g<a.length;g++)i[a[g]].end=0;return{map:i,table:n}}(i,n),o=l.find_path(a.map,"start","end"),s=[],c=1;c<o.length-1;c++)s.push(a.table[o[c]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(s))},t.rawSplit=function(e){return t.fromArray(p(e,u.isKanjiModeEnabled()))}},758:function(e,t,n){var r=n(509);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},759:function(e,t,n){var r=n(509),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=r.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},760:function(e,t,n){var r=n(761),i=n(509);function a(e){this.mode=i.BYTE,this.data=new Uint8Array(r(e))}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=a},761:function(e,t,n){"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var a=e.charCodeAt(r+1);a>=56320&&a<=57343&&(i=1024*(i-55296)+a-56320+65536,r+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},762:function(e,t,n){var r=n(509),i=n(508);function a(e){this.mode=r.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=a},763:function(e,t,n){"use strict";var r={single_source_shortest_paths:function(e,t,n){var i={},a={};a[t]=0;var o,s,c,u,l,f,d,p=r.PriorityQueue.make();for(p.push(t,0);!p.empty();)for(c in s=(o=p.pop()).value,u=o.cost,l=e[s]||{})l.hasOwnProperty(c)&&(f=u+l[c],d=a[c],("undefined"===typeof a[c]||d>f)&&(a[c]=f,p.push(c,f),i[c]=s));if("undefined"!==typeof n&&"undefined"===typeof a[n]){var h=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var i=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,i={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r},764:function(e,t,n){var r=n(633);t.render=function(e,t,n){var i=n,a=t;"undefined"!==typeof i||t&&t.getContext||(i=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var o=r.getImageWidth(e.modules.size,i),s=a.getContext("2d"),c=s.createImageData(o,o);return r.qrToImageData(c.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,a,o),s.putImageData(c,0,0),a},t.renderToDataURL=function(e,n,r){var i=r;"undefined"!==typeof i||n&&n.getContext||(i=n,n=void 0),i||(i={});var a=t.render(e,n,i),o=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(o,s.quality)}},765:function(e,t,n){var r=n(633);function i(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function a(e,t,n){var r=e+t;return"undefined"!==typeof n&&(r+=" "+n),r}t.render=function(e,t,n){var o=r.getOptions(t),s=e.modules.size,c=e.modules.data,u=s+2*o.margin,l=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,s=0,c=0;c<e.length;c++){var u=Math.floor(c%t),l=Math.floor(c/t);u||o||(o=!0),e[c]?(s++,c>0&&u>0&&e[c-1]||(r+=o?a("M",u+n,.5+l+n):a("m",i,0),i=0,o=!1),u+1<t&&e[c+1]||(r+=a("h",s),s=0)):i++}return r}(c,s,o.margin)+'"/>',d='viewBox="0 0 '+u+" "+u+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+f+"</svg>\n";return"function"===typeof n&&n(null,p),p}},768:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var r=n(2),i=n.n(r),a=n(87),o=n.n(a),s=n(530),c=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function u(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=c.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var l=[".DS_Store","Thumbs.db"];function f(e){return(null!==e.target&&e.target.files?h(e.target.files):[]).map((function(e){return u(e)}))}function d(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.items?(n=h(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(g))]):[3,2];case 1:return[2,p(y(r.sent()))];case 2:return[2,p(h(e.files).map((function(e){return u(e)})))]}}))}))}function p(e){return e.filter((function(e){return-1===l.indexOf(e.name)}))}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function g(e){if("function"!==typeof e.webkitGetAsEntry)return m(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?v(t):m(e)}function y(e){return e.reduce((function(e,t){return Object(s.__spread)(e,Array.isArray(t)?y(t):[t])}),[])}function m(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=u(t);return Promise.resolve(n)}function b(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return[2,e.isDirectory?v(e):w(e)]}))}))}function v(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return Object(s.__awaiter)(a,void 0,void 0,(function(){var a,o,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=s.sent(),e(a),[3,4];case 3:return o=s.sent(),n(o),[3,4];case 4:return[3,6];case 5:c=Promise.all(t.map(b)),r.push(c),i(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function w(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=u(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var x=n(727),j=n.n(x);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A="file-invalid-type",E="file-too-large",T="file-too-small",C="too-many-files",S=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:A,message:"File type must be ".concat(t)}},P=function(e){return{code:E,message:"File is larger than ".concat(e," bytes")}},N=function(e){return{code:T,message:"File is smaller than ".concat(e," bytes")}},I={code:C,message:"Too many files"};function L(e,t){var n="application/x-moz-file"===e.type||j()(e,t);return[n,n?null:S(t)]}function B(e,t,n){if(M(e.size))if(M(t)&&M(n)){if(e.size>n)return[!1,P(n)];if(e.size<t)return[!1,N(t)]}else{if(M(t)&&e.size<t)return[!1,N(t)];if(M(n)&&e.size>n)return[!1,P(n)]}return[!0,null]}function M(e){return void 0!==e&&null!==e}function D(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=O(L(e,n),1)[0],a=O(B(e,r,i),1)[0];return t&&a}))}function R(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function K(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function U(e){e.preventDefault()}function _(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function z(e){return-1!==e.indexOf("Edge/")}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return _(e)||z(e)}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!R(e)&&t&&t.apply(void 0,[e].concat(r)),R(e)}))}}var W=["children"],V=["open"],q=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],J=["refKey","onChange","onClick"];function Y(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ne=Object(r.forwardRef)((function(e,t){var n=e.children,a=ae(te(e,W)),o=a.open,s=te(a,V);return Object(r.useImperativeHandle)(t,(function(){return{open:o}}),[o]),i.a.createElement(r.Fragment,null,n(X(X({},s),{},{open:o})))}));ne.displayName="Dropzone";var re={disabled:!1,getFilesFromEvent:function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?d(e.dataTransfer,e.type):f(e))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};ne.defaultProps=re,ne.propTypes={children:o.a.func,accept:o.a.oneOfType([o.a.string,o.a.arrayOf(o.a.string)]),multiple:o.a.bool,preventDropOnDocument:o.a.bool,noClick:o.a.bool,noKeyboard:o.a.bool,noDrag:o.a.bool,noDragEventsBubbling:o.a.bool,minSize:o.a.number,maxSize:o.a.number,maxFiles:o.a.number,disabled:o.a.bool,getFilesFromEvent:o.a.func,onFileDialogCancel:o.a.func,onDragEnter:o.a.func,onDragLeave:o.a.func,onDragOver:o.a.func,onDrop:o.a.func,onDropAccepted:o.a.func,onDropRejected:o.a.func,validator:o.a.func};var ie={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=X(X({},re),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,c=t.multiple,u=t.maxFiles,l=t.onDragEnter,f=t.onDragLeave,d=t.onDragOver,p=t.onDrop,h=t.onDropAccepted,g=t.onDropRejected,y=t.onFileDialogCancel,m=t.preventDropOnDocument,b=t.noClick,v=t.noKeyboard,w=t.noDrag,x=t.noDragEventsBubbling,j=t.validator,O=Object(r.useRef)(null),k=Object(r.useRef)(null),A=Object(r.useReducer)(oe,ie),E=G(A,2),T=E[0],C=E[1],S=T.isFocused,P=T.isFileDialogActive,N=T.draggedFiles,M=Object(r.useCallback)((function(){k.current&&(C({type:"openDialog"}),k.current.value=null,k.current.click())}),[C]),_=function(){P&&setTimeout((function(){k.current&&(k.current.files.length||(C({type:"closeDialog"}),"function"===typeof y&&y()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",_,!1),function(){window.removeEventListener("focus",_,!1)}}),[k,P,y]);var z=Object(r.useCallback)((function(e){O.current&&O.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),M()))}),[O,k]),W=Object(r.useCallback)((function(){C({type:"focus"})}),[]),V=Object(r.useCallback)((function(){C({type:"blur"})}),[]),Q=Object(r.useCallback)((function(){b||(F()?setTimeout(M,0):M())}),[k,b]),$=Object(r.useRef)([]),Z=function(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),$.current=[])};Object(r.useEffect)((function(){return m&&(document.addEventListener("dragover",U,!1),document.addEventListener("drop",Z,!1)),function(){m&&(document.removeEventListener("dragover",U),document.removeEventListener("drop",Z))}}),[O,m]);var ne=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),de(e),$.current=[].concat(Y($.current),[e.target]),K(e)&&Promise.resolve(a(e)).then((function(t){R(e)&&!x||(C({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e))}))}),[a,l,x]),ae=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),de(e);var t=K(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&d&&d(e),!1}),[d,x]),se=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),de(e);var t=$.current.filter((function(e){return O.current&&O.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),$.current=t,t.length>0||(C({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),K(e)&&f&&f(e))}),[O,f,x]),ce=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),de(e),$.current=[],K(e)&&Promise.resolve(a(e)).then((function(t){if(!R(e)||x){var r=[],i=[];t.forEach((function(e){var t=G(L(e,n),2),a=t[0],c=t[1],u=G(B(e,s,o),2),l=u[0],f=u[1],d=j?j(e):null;if(a&&l&&!d)r.push(e);else{var p=[c,f];d&&(p=p.concat(d)),i.push({file:e,errors:p.filter((function(e){return e}))})}})),(!c&&r.length>1||c&&u>=1&&r.length>u)&&(r.forEach((function(e){i.push({file:e,errors:[I]})})),r.splice(0)),C({acceptedFiles:r,fileRejections:i,type:"setFiles"}),p&&p(r,i,e),i.length>0&&g&&g(i,e),r.length>0&&h&&h(r,e)}})),C({type:"reset"})}),[c,n,s,o,u,a,p,h,g,x,j]),ue=function(e){return i?null:e},le=function(e){return v?null:ue(e)},fe=function(e){return w?null:ue(e)},de=function(e){x&&e.stopPropagation()},pe=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,a=e.onFocus,o=e.onBlur,s=e.onClick,c=e.onDragEnter,u=e.onDragOver,l=e.onDragLeave,f=e.onDrop,d=te(e,q);return X(X(ee({onKeyDown:le(H(r,z)),onFocus:le(H(a,W)),onBlur:le(H(o,V)),onClick:ue(H(s,Q)),onDragEnter:fe(H(c,ne)),onDragOver:fe(H(u,ae)),onDragLeave:fe(H(l,se)),onDrop:fe(H(f,ce))},n,O),i||v?{}:{tabIndex:0}),d)}}),[O,z,W,V,Q,ne,ae,se,ce,v,w,i]),he=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),ge=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,i=e.onChange,a=e.onClick,o=te(e,J),s=ee({accept:n,multiple:c,type:"file",style:{display:"none"},onChange:ue(H(i,ce)),onClick:ue(H(a,he)),autoComplete:"off",tabIndex:-1},r,k);return X(X({},s),o)}}),[k,n,c,ce,i]),ye=N.length,me=ye>0&&D({files:N,accept:n,minSize:s,maxSize:o,multiple:c,maxFiles:u}),be=ye>0&&!me;return X(X({},T),{},{isDragAccept:me,isDragReject:be,isFocused:S&&!i,getRootProps:pe,getInputProps:ge,rootRef:O,inputRef:k,open:ue(M)})}function oe(e,t){switch(t.type){case"focus":return X(X({},e),{},{isFocused:!0});case"blur":return X(X({},e),{},{isFocused:!1});case"openDialog":return X(X({},e),{},{isFileDialogActive:!0});case"closeDialog":return X(X({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return X(X({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return X(X({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return X({},ie);default:return e}}}}]);
//# sourceMappingURL=10.ad1c6b61.chunk.js.map