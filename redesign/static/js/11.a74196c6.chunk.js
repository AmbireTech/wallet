(this["webpackJsonpambire-wallet"]=this["webpackJsonpambire-wallet"]||[]).push([[11,5],{1553:function(e,t,n){e.exports={wrapper:"Balances_wrapper__2sLCW",greenHighlight:"Balances_greenHighlight__maVl4",purpleHighlight:"Balances_purpleHighlight__2rG4V",otherBalances:"Balances_otherBalances__ZYIVD",bottomOverflow:"Balances_bottomOverflow__38VnT",icon:"Balances_icon__pRVmv",iconSvg:"Balances_iconSvg__Zo2dB",noOtherBalancesWrapper:"Balances_noOtherBalancesWrapper__3fQU7",noOtherBalances:"Balances_noOtherBalances__2jmij"}},1554:function(e,t,n){e.exports={purpleHighlight:"BalanceItem_purpleHighlight__2YZFz",balanceContainer:"BalanceItem_balanceContainer__2UsxP",network:"BalanceItem_network__1bu1c"}},1555:function(e,t,n){e.exports={wrapper:"Protocols_wrapper__1XkX0",category:"Protocols_category__k1Yy-",title:"Protocols_title__1RwU2",sortHolder:"Protocols_sortHolder__3N77T",sortButtons:"Protocols_sortButtons__3Qzo5",wrapperBtns:"Protocols_wrapperBtns__Hrh_j",list:"Protocols_list__35znc",token:"Protocols_token__Ks0gq",dragHandle:"Protocols_dragHandle__2nYh4",separator:"Protocols_separator__pgQE6",icon:"Protocols_icon__2_cVe",name:"Protocols_name__35KBt",balance:"Protocols_balance__C3VRc",currency:"Protocols_currency__3e0ke",symbol:"Protocols_symbol__NfT-R",dollar:"Protocols_dollar__2i6RV",actions:"Protocols_actions__WBh39",value:"Protocols_value__12pQf"}},1556:function(e,t,n){e.exports={wrapper:"ProtocolsPlaceholder_wrapper__1sEGA",placeholderOverlay:"ProtocolsPlaceholder_placeholderOverlay__3IANd",category:"ProtocolsPlaceholder_category__3JU3r",title:"ProtocolsPlaceholder_title__32h5t",sortHolder:"ProtocolsPlaceholder_sortHolder__3QmfW",sortButtons:"ProtocolsPlaceholder_sortButtons__3mKDr",wrapperBtns:"ProtocolsPlaceholder_wrapperBtns__MObeB",list:"ProtocolsPlaceholder_list__34PAv",token:"ProtocolsPlaceholder_token__xDihk",dragHandle:"ProtocolsPlaceholder_dragHandle__2TE4r",separator:"ProtocolsPlaceholder_separator__2gfeR",icon:"ProtocolsPlaceholder_icon__2VHj8",name:"ProtocolsPlaceholder_name___ZgC3",balance:"ProtocolsPlaceholder_balance__-Uf3b",currency:"ProtocolsPlaceholder_currency__2xY1s",symbol:"ProtocolsPlaceholder_symbol__3Eu8-",dollar:"ProtocolsPlaceholder_dollar__2VAeU",actions:"ProtocolsPlaceholder_actions__21EEX",addToken:"ProtocolsPlaceholder_addToken__1hEAl",value:"ProtocolsPlaceholder_value__2vgPT"}},1557:function(e,t,n){},1558:function(e,t,n){},1559:function(e,t,n){e.exports={wrapper:"Collectibles_wrapper__2JlNE",greenHighlight:"Collectibles_greenHighlight__2NuzE",purpleHighlight:"Collectibles_purpleHighlight__1rNwl",paginationControls:"Collectibles_paginationControls__20eCX",paginationCurrent:"Collectibles_paginationCurrent__jMbgR",collectiblesWrapper:"Collectibles_collectiblesWrapper__27igk",collectible:"Collectibles_collectible__1hyJR",artwork:"Collectibles_artwork__2kJ5N",info:"Collectibles_info__oEi21",collection:"Collectibles_collection__3TGG0",collectionIcon:"Collectibles_collectionIcon__30Dr7",collectionName:"Collectibles_collectionName__2Q2JV",details:"Collectibles_details__28ZTT",name:"Collectibles_name__3pXhh",value:"Collectibles_value__2fX1e",collectibles:"Collectibles_collectibles__2fnQ_",panelHeading:"Collectibles_panelHeading__RwKAo",title:"Collectibles_title__2tnJQ"}},1560:function(e,t,n){e.exports={wrapper:"CollectiblesPlaceholder_wrapper__1Buhm",paginationControls:"CollectiblesPlaceholder_paginationControls__261Pt",paginationCurrent:"CollectiblesPlaceholder_paginationCurrent__3PLO1",collectiblesWrapper:"CollectiblesPlaceholder_collectiblesWrapper__37MM5",collectible:"CollectiblesPlaceholder_collectible__2KT0P",artwork:"CollectiblesPlaceholder_artwork__2-02K",info:"CollectiblesPlaceholder_info__2KmoR",collection:"CollectiblesPlaceholder_collection__sRc1D",collectionIcon:"CollectiblesPlaceholder_collectionIcon__bRdo-",collectionName:"CollectiblesPlaceholder_collectionName__2TsuG",details:"CollectiblesPlaceholder_details__3XMQs",name:"CollectiblesPlaceholder_name__30lD6",value:"CollectiblesPlaceholder_value__3YfwE",collectibles:"CollectiblesPlaceholder_collectibles__1BxGd",panelHeading:"CollectiblesPlaceholder_panelHeading__2P9S_",title:"CollectiblesPlaceholder_title__wP_EJ",placeholderText:"CollectiblesPlaceholder_placeholderText__2AV4T",placeholderOverlay:"CollectiblesPlaceholder_placeholderOverlay__wJEP-",collectiblesPlaceholder:"CollectiblesPlaceholder_collectiblesPlaceholder__2m7_x"}},1561:function(e,t,n){e.exports={notice:"Promotions_notice__2HNSv",minimized:"Promotions_minimized__3uLsV","close-btn":"Promotions_close-btn__2TV9R",title:"Promotions_title__34cvl",link:"Promotions_link__3yDFa",timer:"Promotions_timer__3moX1",emoji:"Promotions_emoji__9wxOk"}},1562:function(e,t,n){},1563:function(e,t,n){e.exports={wrapper:"OutdatedBalancesMsg_wrapper__1_-E3",shadow:"OutdatedBalancesMsg_shadow__2pNzn",alertWrapper:"OutdatedBalancesMsg_alertWrapper__22CpX",alert:"OutdatedBalancesMsg_alert__11jj3",body:"OutdatedBalancesMsg_body__1bzXa",title:"OutdatedBalancesMsg_title__162P7",text:"OutdatedBalancesMsg_text__1mwPI",link:"OutdatedBalancesMsg_link__5s-45",close:"OutdatedBalancesMsg_close__1Shnh"}},1564:function(e,t,n){e.exports={wrapper:"Dashboard_wrapper__9cB3R",panel:"Dashboard_panel__3A6_U",panelTitle:"Dashboard_panelTitle__1Hprs",topPanels:"Dashboard_topPanels__14BCf",overview:"Dashboard_overview__2YDvh",footer:"Dashboard_footer__27Wc8",missingTokenNotice:"Dashboard_missingTokenNotice__1Ortw",powered:"Dashboard_powered__3Iria",chart:"Dashboard_chart__1lo9p"}},1625:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ie}));var r,a,c=n(9),s=n(2),i=n(33),o=n(86),l=n(1553),u=n.n(l),d=n(37),f=["title","titleId"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){var n=e.title,c=e.titleId,i=b(e,f);return s.createElement("svg",p({id:"Gas_tank_icon","data-name":"Gas tank icon",xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":c},i),n?s.createElement("title",{id:c},n):null,r||(r=s.createElement("rect",{id:"Boundary",width:32,height:32,transform:"translate(0 32) rotate(-90)",fill:"none"})),a||(a=s.createElement("g",{id:"Group_136","data-name":"Group 136",transform:"translate(7.838 6.968)"},s.createElement("path",{id:"Path_3","data-name":"Path 3",d:"M.817,18.064A.817.817,0,0,1,0,17.247v-.524a.817.817,0,0,1,.817-.817H10.849a.817.817,0,0,1,.817.817v.524a.817.817,0,0,1-.817.817Zm.091-3.083V1.135a1.13,1.13,0,0,1,.333-.8A1.13,1.13,0,0,1,2.042,0H9.669a1.133,1.133,0,0,1,1.045.693,1.131,1.131,0,0,1,.089.441c-.023,8.543.052,9.31,0,13.846Zm2.1-11.935V6.269a.546.546,0,0,0,.545.545H8.045a.546.546,0,0,0,.545-.545V3.046A.546.546,0,0,0,8.045,2.5H3.553A.546.546,0,0,0,3.008,3.046Z",fill:"#ae60ff"}),s.createElement("path",{id:"Path_167","data-name":"Path 167",d:"M7.212,10.924h.307a1.7,1.7,0,0,1,1.2.5,1.68,1.68,0,0,1,.5,1.2v1.7A.894.894,0,0,0,11,14.311V10.446h-.966a.4.4,0,0,1-.4-.4V5.994a.406.406,0,0,1,.23-.365l2.486-1.163v-.9l-2.5-1.285a.4.4,0,0,1,.367-.716l2.718,1.4a.4.4,0,0,1,.218.356v6.729a.4.4,0,0,1-.4.4H11.9v3.865a1.776,1.776,0,0,1-.523,1.262,1.789,1.789,0,0,1-2.911-.567,1.8,1.8,0,0,1-.137-.562h0V12.712a.9.9,0,0,0-.894-.894H7.212Z",transform:"translate(3.592 -0.744)",fill:"#ae60ff"}))))}var h=s.forwardRef(m),g=(n.p,n(58)),j=n(1554),y=n.n(j),v=n(4),x=function(e){var t=e.onClick,n=e.icon,r=e.name,a=e.value,c=e.decimalValue;return Object(v.jsxs)("div",{className:y.a.balanceContainer,onClick:t,children:[Object(v.jsxs)("label",{className:y.a.network,children:[n,Object(v.jsx)("div",{className:y.a.name,children:r})]}),Object(v.jsxs)("label",{children:[Object(v.jsx)("span",{className:y.a.purpleHighlight,children:"$"}),a,".",c]})]})},O=n(293),w=function(e){var t=e.portfolio,n=e.selectedNetwork,r=e.setNetwork,a=e.hidePrivateValue,l=e.relayerURL,f=e.selectedAccount,p=(e.match,Object(s.useRef)()),b=Object(i.useHistory)(),m=function(e){return g.a.find((function(t){return t.id===e}))},j=t.otherBalances.filter((function(e){var t=e.network,r=e.total;return t!==n.id&&r.full>0})),y=Object.entries(t.balancesByNetworksLoading).find((function(e){return e[0]!==n.id&&e[1]})),w=l?"".concat(l,"/gas-tank/").concat(f,"/getBalance"):null,k=Object(d.j)({url:w}),_=k.data,T=k.isLoading,N=_&&_.length&&_.map((function(e){return e.balanceInUSD})).reduce((function(e,t){return e+t}),0),C=N?Number(N.toString()).toFixed(2).split("."):[0,0],P=Object(c.a)(C,2),A=P[0],S={label:"Gas Tank",total:{full:N||0,decimals:P[1],truncated:A}};return Object(s.useEffect)((function(){!y&&j&&function(e){if(e)if(e.scrollHeight>e.clientHeight){var t=e.scrollHeight<=e.clientHeight+e.scrollTop;e.classList.toggle(u.a.bottomOverflow,!t)}else e.classList.remove(u.a.bottomOverflow)}(p.current)}),[y,j]),Object(v.jsx)("div",{className:u.a.wrapper,children:t.isCurrNetworkBalanceLoading&&y?Object(v.jsx)(o.m,{}):Object(v.jsx)("div",{className:u.a.otherBalances,ref:p,children:j.length>0?Object(v.jsxs)(v.Fragment,{children:[j.filter((function(e){var t=e.network;return m(t)})).map((function(e,t){var n=e.network,c=e.total;return Object(v.jsx)(x,{onClick:function(){return r(n)},name:m(n).name,value:a(c.truncated),decimalValue:a(c.decimals),icon:Object(v.jsx)("div",{className:u.a.icon,style:{backgroundImage:"url(".concat(m(n).icon,")")}})},n)})),S&&S.total.full>0&&!T&&Object(v.jsx)(x,{onClick:function(){return b.push("/wallet/gas-tank")},name:S.label,value:a(S.total.truncated),decimalValue:a(S.total.decimals),icon:Object(v.jsx)("div",{className:u.a.iconSvg,children:Object(v.jsx)(h,{})})})]}):Object(v.jsx)("div",{className:u.a.noOtherBalancesWrapper,children:Object(v.jsxs)("div",{className:u.a.noOtherBalances,children:[Object(v.jsx)(O.a,{}),Object(v.jsx)("label",{children:"You don't have any tokens on the other networks."})]})})})})},k=n(15),_=n(11),T=n(7),N=n(1555),C=n.n(N),P=n(526),A=n(209),S=n(75),E=n(48),M=n(225),I=n(1556),B=n.n(I),L=function(e){var t=e.onClickAddToken,n=e.onClickShowToken,r=Object(d.e)({key:"hiddenTokens"}),a=0;return r&&null!==r[0]&&(a=r[0].length),Object(v.jsxs)("div",{className:B.a.wrapper,children:[Object(v.jsxs)("div",{className:B.a.placeholderOverlay,children:[Object(v.jsx)("label",{children:"Welcome! You don't have any funds on this account."}),Object(v.jsx)(S.c,{to:"/wallet/deposit",children:Object(v.jsx)(o.e,{small:!0,icon:Object(v.jsx)(M.a,{}),children:"Deposit"})}),Object(v.jsxs)("div",{className:B.a.addToken,children:[Object(v.jsx)("label",{children:"You have a token that's not displayed?"}),Object(v.jsx)(o.e,{mini:!0,clear:!0,icon:Object(v.jsx)(E.s,{}),onClick:t,children:"Click here to add it"}),a>0&&Object(v.jsxs)("label",{style:{cursor:"pointer"},onClick:n,children:["There are also ",a," hidden tokens. Click to configure"]})]})]}),Object(v.jsxs)("div",{className:B.a.category,children:[Object(v.jsx)("div",{className:B.a.title,children:"Tokens"}),Object(v.jsx)("div",{className:B.a.list,children:[{icon:"https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/0xade00c28244d5ce17d72e40330b1c318cd12b7c3.png",symbol:"ADX",balance:170027.26,balanceUSD:138880.64},{icon:"https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/0x0000000000000000000000000000000000000000.png",symbol:"ETH",balance:61.77,balanceUSD:283170.08},{icon:"https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599.png",symbol:"WBTC",balance:.03,balanceUSD:2227.24}].map((function(e){var t=e.icon,n=e.symbol,r=e.balance,a=e.balanceUSD;return Object(v.jsxs)("div",{className:B.a.token,children:[Object(v.jsx)("div",{className:B.a.icon,children:Object(v.jsx)("img",{src:t,alt:"Token Icon"})}),Object(v.jsx)("div",{className:B.a.name,children:n}),Object(v.jsx)("div",{className:B.a.separator}),Object(v.jsxs)("div",{className:B.a.balance,children:[Object(v.jsxs)("div",{className:B.a.currency,children:[r," ",Object(v.jsx)("span",{className:B.a.symbol,children:n})]}),Object(v.jsxs)("div",{className:B.a.dollar,children:[Object(v.jsx)("span",{className:B.a.symbol,children:"$"})," ",a]})]})]},n)}))})]})]})},D=n(3),R=n.n(D),F=n(12),U=(n(1557),n(101)),H=n(21),W=n(515),z=n(100),V=n(46),G=n(76),q=n(505),K=new H.Interface(W),J=function(e){var t=e.network,n=e.account,r=e.portfolio,a=Object(V.a)().addToast,i=Object(d.f)().hideModal,l=r.extraTokens,u=r.onAddExtraToken,f=r.onRemoveExtraToken,p=Object(s.useState)(!1),b=Object(c.a)(p,2),m=b[0],h=b[1],g=Object(s.useState)(null),j=Object(c.a)(g,2),y=j[0],x=j[1],O=Object(s.useState)(!1),w=Object(c.a)(O,2),k=w[0],_=w[1],T=!y||!(y.symbol&&y.decimals),N=function(){var e=Object(F.a)(R.a.mark((function e(r){var s,i,o,l,u,d,f,p,b;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(null),Object(z.b)(r)){e.next=3;break}return e.abrupt("return");case 3:return h(!0),_(!1),e.prev=5,s=Object(G.a)(t.id),i=new U.Contract(r,K,s),e.next=10,Promise.all([i.balanceOf(n),i.name(),i.symbol(),i.decimals()]);case 10:o=e.sent,l=Object(c.a)(o,4),u=l[0],d=l[1],f=l[2],p=l[3],b=Object(H.formatUnits)(u,p),x({account:n,address:r.toLowerCase(),network:t.id,balance:b,balanceRaw:u.toString(),tokenImageUrl:Object(q.a)(t.id,r),name:d,symbol:f,decimals:p}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),console.error(e.t0),a("Failed to load token info",{error:!0}),_(!0);case 25:h(!1);case 26:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.e,{clear:!0,icon:Object(v.jsx)(E.y,{}),onClick:function(){return i()},children:"Close"}),Object(v.jsx)(o.e,{icon:Object(v.jsx)(E.s,{}),disabled:T,onClick:function(){u(y),i()},children:"Add"})]}),P="binance-smart-chain"===t.id?"a BEP20":"ethereum"===t.id?"an ERC20":"a valid";return Object(v.jsxs)(o.n,{id:"add-token-modal",title:"Add Token",buttons:C,children:[Object(v.jsx)(o.x,{label:"Token Address",placeholder:"0x...",onInput:function(e){return N(e)}}),k?Object(v.jsxs)("div",{className:"validation-error",children:["The address you entered does not appear to correspond to ",P," token on ",t.name,"."]}):null,m?Object(v.jsx)(o.m,{}):!k&&y?Object(v.jsxs)("div",{className:"token-details",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(y.icon,")")}}),Object(v.jsxs)("div",{className:"name",children:[y.name," ",Object(v.jsxs)("span",{children:["(",y.symbol,") ",y.network.toUpperCase()]})]})]}),Object(v.jsxs)("div",{className:"balance",children:["Balance: ",Object(v.jsx)("span",{children:y.balance})," ",Object(v.jsx)("b",{children:y.symbol})]})]}):null,Object(v.jsx)("div",{className:"extra-tokens-list",children:l.map((function(e){var t=e.address,n=e.name,r=e.symbol,a=e.tokenImageUrl,c=e.network;return Object(v.jsxs)("div",{className:"extra-token",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(a,")")}}),Object(v.jsxs)("div",{className:"name",children:[n," ",Object(v.jsxs)("span",{children:["(",r,") ",c.toUpperCase()]})]})]}),Object(v.jsx)("div",{className:"actions",children:Object(v.jsx)(o.e,{mini:!0,clear:!0,onClick:function(){return function(e){f(e),i()}(t)},children:Object(v.jsx)(E.H,{})})})]},t)}))})]})},Y=(n(1558),function(e){var t=e.token,n=e.button;return Object(v.jsxs)("div",{className:"extra-token",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("div",{className:"icon",style:{backgroundImage:"url(".concat(t.tokenImageUrl,")")}}),Object(v.jsx)("div",{className:"name",children:Object(v.jsxs)("span",{children:[t.symbol," (",t.network.toUpperCase(),")"]})})]}),n]},t.address)}),Q=function(e){var t=e.portfolio,n=e.account,r=e.network,a=e.userSorting,c=e.sortType,i=e.setIsHideTokenModalOpen,l=Object(d.f)(),u=l.hideModal,f=l.setOnClose,p=t.hiddenTokens,b=t.onAddHiddenToken,m=t.onRemoveHiddenToken,h=t.tokens,g=Object(s.useMemo)((function(){var e=h.concat(p).sort((function(e,t){var s,i,o;if("custom"===c&&(null===(s=a.tokens)||void 0===s||null===(i=s.items)||void 0===i||null===(o=i["".concat(n,"-").concat(r.chainId)])||void 0===o?void 0:o.length))return a.tokens.items["".concat(n,"-").concat(r.chainId)].indexOf(e.address)-a.tokens.items["".concat(n,"-").concat(r.chainId)].indexOf(t.address);var l=t.balanceUSD-e.balanceUSD;return 0===l?e.symbol.localeCompare(t.symbol):l}));return Object(k.a)(new Map(e.map((function(e){return[e.address,e]}))).values())}),[h,p,a,c,n,r.chainId]);return Object(s.useEffect)((function(){f({close:function(){return i(!1)}})}),[f,i]),Object(v.jsxs)(o.n,{id:"hide-token-modal",title:"Hide Token",isCloseBtnShown:!1,children:[Object(v.jsx)("div",{className:"extra-tokens-list",children:g.map((function(e){return Object(v.jsx)(Y,{token:e,button:e.isHidden?Object(v.jsx)(E.P,{className:"extra-token-icon",color:"#f98689",onClick:function(){return function(e){return m(e.address)}(e)}}):Object(v.jsx)(E.M,{className:"extra-token-icon",color:"#27e8a7",onClick:function(){return function(e){return b(e)}(e)}})},e.address)}))}),Object(v.jsx)("div",{className:"modalBottom",children:Object(v.jsx)(o.e,{clear:!0,icon:Object(v.jsx)(E.y,{}),onClick:function(){i(!1),u()},className:"buttonComponent",children:"Close"})})]})},X=n(518),Z=function(e){var t,n=e.portfolio,r=e.network,a=e.account,i=e.hidePrivateValue,l=e.userSorting,u=e.setUserSorting,f=Object(d.f)().showModal,p=Object(s.useState)([]),b=Object(c.a)(p,2),m=b[0],h=b[1],g=Object(s.useState)(!1),j=Object(c.a)(g,2),y=j[0],x=j[1],O=n.isCurrNetworkBalanceLoading,w=n.isCurrNetworkProtocolsLoading,N=n.tokens,M=n.protocols,I=(null===(t=l.tokens)||void 0===t?void 0:t.sortType)||"decreasing",B=Object(d.c)(),D=Object(d.d)("address",(function(e){u((function(t){var n;return Object(T.a)(Object(T.a)({},t),{},{tokens:{sortType:"custom",items:Object(T.a)(Object(T.a)({},null===(n=t.tokens)||void 0===n?void 0:n.items),{},Object(_.a)({},"".concat(a,"-").concat(r.chainId),e))}})}))})),R=D.dragStart,F=D.dragEnter,U=D.target,H=D.handle,W=D.dragTarget,z=D.drop,V=N.sort((function(e,t){var n,c,s;if("custom"===I&&(null===(n=l.tokens)||void 0===n||null===(c=n.items)||void 0===c||null===(s=c["".concat(a,"-").concat(r.chainId)])||void 0===s?void 0:s.length))return l.tokens.items["".concat(a,"-").concat(r.chainId)].indexOf(e.address)-l.tokens.items["".concat(a,"-").concat(r.chainId)].indexOf(t.address);var i=t.balanceUSD-e.balanceUSD;return 0===i?e.symbol.localeCompare(t.symbol):i})),G=M.filter((function(e){return"Tokens"!==e.label})),K=!O&&!N.length&&!w&&!G.length,Y=function(e,t,n,r,a,c){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0,p=m.includes(t)?Object(q.a)(l,c):t;return Object(v.jsxs)("div",{className:C.a.token,draggable:"tokens"===d&&f>1&&"custom"===I&&!B,onDragStart:function(t){H.current===U.current||H.current.contains(U.current)?R(t,e):t.preventDefault()},onMouseDown:function(t){return W(t,e)},onDragEnter:function(t){return F(t,e)},onDragEnd:function(){return z(V)},onDragOver:function(e){return e.preventDefault()},children:[f>1&&"custom"===I&&!B&&Object(v.jsx)(E.i,{size:20,className:C.a.dragHandle,onClick:function(t){return R(t,e)},id:"".concat(e,"-handle")}),Object(v.jsx)("div",{className:C.a.icon,children:m.includes(p)?Object(v.jsx)(P.c,{size:20}):Object(v.jsx)("img",{src:p,draggable:"false",alt:"Token Icon",onError:function(){return h((function(e){return[].concat(Object(k.a)(e),[p])}))}})}),Object(v.jsx)("div",{className:C.a.name,children:n}),Object(v.jsx)("div",{className:C.a.separator}),Object(v.jsxs)("div",{className:C.a.balance,children:[Object(v.jsxs)("div",{className:C.a.currency,children:[Object(v.jsx)("span",{className:C.a.value,children:i(Object(X.a)(r,!0,u))}),Object(v.jsx)("span",{className:C.a.symbol,children:n})]}),Object(v.jsxs)("div",{className:C.a.dollar,children:[Object(v.jsx)("span",{className:C.a.symbol,children:"$"})," ",i(a.toFixed(2))]})]}),s?Object(v.jsx)("div",{className:C.a.actions,children:Object(v.jsx)(S.c,{to:"/wallet/transfer/".concat(c),children:Object(v.jsx)(o.e,{small:!0,icon:Object(v.jsx)(A.g,{}),children:"Send"})})}):null]},"token-".concat(c,"-").concat(e))},Z=Object(s.useCallback)((function(){return f(Object(v.jsx)(J,{network:r,account:a,portfolio:n}))}),[a,r,n,f]),$=Object(s.useCallback)((function(){return x(!0)}),[]);return Object(s.useEffect)((function(){y&&f(Object(v.jsx)(Q,{portfolio:n,account:a,userSorting:l,sortType:I,network:r,setIsHideTokenModalOpen:x}))}),[n,y,f,a,r,I,l]),Object(v.jsxs)("div",{className:C.a.wrapper,children:[K?Object(v.jsx)(L,{onClickAddToken:Z,onClickShowToken:$}):null,Object(v.jsxs)(v.Fragment,{children:[O?Object(v.jsx)(o.m,{}):!K&&V.length?Object(v.jsxs)("div",{className:C.a.category,children:[Object(v.jsxs)("div",{className:C.a.title,children:[Object(v.jsxs)("div",{className:C.a.sortHolder,children:["Tokens",V.length>1&&!B&&Object(v.jsxs)("div",{className:C.a.sortButtons,children:[Object(v.jsx)(o.z,{label:"Sorted tokens by drag and drop",children:Object(v.jsx)(E.i,{color:"custom"===I?"#80ffdb":"",cursor:"pointer",onClick:function(){return u((function(e){return Object(T.a)(Object(T.a)({},e),{},{tokens:Object(T.a)(Object(T.a)({},e.tokens),{},{sortType:"custom"})})}))}})}),Object(v.jsx)(o.z,{label:"Sorted tokens by DESC balance",children:Object(v.jsx)(E.J,{color:"decreasing"===I?"#80ffdb":"",cursor:"pointer",onClick:function(){return u((function(e){return Object(T.a)(Object(T.a)({},e),{},{tokens:Object(T.a)(Object(T.a)({},e.tokens),{},{sortType:"decreasing"})})}))}})})]})]}),Object(v.jsxs)("div",{className:C.a.wrapperBtns,children:[Object(v.jsx)(o.e,{mini:!0,clear:!0,icon:Object(v.jsx)(E.P,{}),onClick:function(){return $()},children:"Hide Token"}),Object(v.jsx)(o.e,{mini:!0,clear:!0,icon:Object(v.jsx)(E.s,{}),onClick:function(){return Z()},children:"Add Token"})]})]}),Object(v.jsx)("div",{className:C.a.list,children:V.map((function(e,t){var n=e.address,r=e.symbol,a=e.tokenImageUrl,c=e.balance,s=e.balanceUSD,i=e.network,o=e.decimals;return Y(t,a,r,c,s,n,!0,i,o,"tokens",V.length)}))})]},"category-tokens"):null,w?Object(v.jsx)(o.m,{}):G.map((function(e,t){var n=e.label,r=e.assets;return Object(v.jsxs)("div",{className:"category",children:[Object(v.jsx)("div",{className:"title",children:n}),Object(v.jsx)("div",{className:"list",children:r.map((function(e,t){var n=e.category,r=e.symbol,a=e.tokenImageUrl,c=e.balance,s=e.balanceUSD,i=e.address;return Y(t,a,r,c,s,i,"claimable"!==n,"protocols")}))})]},"category-".concat(t))}))]})]})},$=n(1559),ee=n.n($),te=n(1560),ne=n.n(te),re=function(e){var t=e.isPrivateMode,n=e.collectiblesLength;return Object(v.jsxs)("div",{className:ne.a.wrapper,children:[Object(v.jsx)("div",{className:ne.a.placeholderText,children:t&&n?"You can't see collectibles in private mode":"You don't have any collectibles (NFTs) yet"}),Object(v.jsx)("div",{className:ne.a.placeholderOverlay}),Object(v.jsx)("div",{className:ne.a.collectibles,children:Object(v.jsx)("div",{className:ne.a.collectiblesWrapper,children:[{collectionName:"Party Bone",collectionImg:"https://lh3.googleusercontent.com/ZNc-hDBHOxgioSltBcDvh5hBfWEj623dETJj2nrEC0cLbjuULbo4Ign7OnLDX9qf2XaALrkXsZCRylRqPPHqQgzJOabJg4TRq3MDhA=s2500",name:"Party Bone #7865",image:"https://lh3.googleusercontent.com/uznp2aNVNPEhVk4MhLG2Zn-JC2sVaF6PsUcpF_CpyQkgekmv4hh4zbyebsoLFLvkY8PSV6D-TR5OaMp15RhG9zQsYd_AvDCo9SEVF4Q",price:32.16},{collectionName:"Pudgy Penguins",collectionImg:"https://lh3.googleusercontent.com/L9PJp0pOXCscKsTpD1_6zoALxdjG5gIKHLykS_Wk5J_yk590drEqRhM1ElTEZCaWeTjFj2isfxFw2tcFKcbCPlu6-Eu5bUuxsL-x=s2500",name:"Pudgy Penguin #8675",image:"https://lh3.googleusercontent.com/J6gQQRnzsMLAOhYiN9qIhogxr2MKn17zfGf6nQFKr3WCZ34thm6H0w9izvnJysxJclsyr8c3yo0hshOaLU73aS-IgTm-CooJb1cw1S0",price:5675},{collectionName:"Art Blocks Factory",collectionImg:"https://lh3.googleusercontent.com/sr7Y19-bJwsQsxX6n8Pj5tIaNKdUEotNlfhBsYw8McKpIsYARglTORaNlGhDZ2PrH-tO1vU6tFbpamiWwIImbidhVSh4aoIh4d310Og=s2500",name:"Transitions #4267",image:"https://lh3.googleusercontent.com/9MzvH_PSYMvlJE8Cfm5d308ltY5fZx-dooEcQizKgtKZ8g05RvJvd_5LAbqVHIzaoZbM-HOBgNSV8RKvEe_1thkLcQtE4NMMx8Kp5g",price:263.46},{collectionName:"Sad Frogs District",collectionImg:"https://lh3.googleusercontent.com/3U8N73XLrQOQPhJBAMNi7IPR1y3GGJ2zxmyUlit4IHCJURmKFPWClgatjbYfyz9drMk6-XSQTjSFqn7tKL0ZNoRbgvUu8OdLVREA=s2500",name:"1882",image:"https://lh3.googleusercontent.com/3uwrfkdhHSfWm171BOjJHp3768tbLP9TeyTh2BnvgF6S1nIRI489SFq6EGjI9AISRUeyXXufEjB34Wj0bif_vl-y5h6GesEoJaaZcJg",price:1563.59},{collectionName:"GLUEWAVE",collectionImg:"https://lh3.googleusercontent.com/LheZMF6AyTLPpfwABwAGZqoC0gTWrDlYloDdT2VX2u_GZRZnP-ZpDC90huElm3RXE-eU1d1YluQi8G1uVdeDdysUNLZWJte4jXk3zeY=s2500",name:"000105040307070704",image:"https://lh3.googleusercontent.com/eP_F_6aa_BXuKfYq1w2aiS6UW3bp4-gByFoeKLMXYuWAkU6Xiyi7mkm31aoewCZ_eG9RAuhas8jxFwXTxAWuxq1E3ZxYg97cLUUE",price:7107.27}].map((function(e){var t=e.collectionName,n=e.collectionImg,r=e.name,a=e.image,c=e.price;return Object(v.jsxs)("div",{className:ne.a.collectible,children:[Object(v.jsx)("div",{className:ne.a.artwork,style:{backgroundImage:"url(".concat(a,")")}}),Object(v.jsxs)("div",{className:ne.a.info,children:[Object(v.jsxs)("div",{className:ne.a.collection,children:[Object(v.jsx)("div",{className:ne.a.collectionIcon,style:{backgroundImage:"url(".concat(n,")")}}),t]}),Object(v.jsxs)("div",{className:ne.a.details,children:[Object(v.jsx)("div",{className:ne.a.name,children:r}),Object(v.jsxs)("div",{className:ne.a.value,children:[Object(v.jsx)("span",{className:"purple-highlight",children:"$"})," ",c]})]})]})]},r)}))})})]})},ae=n(739),ce=n(546),se=function(e){var t=e.portfolio,n=e.isPrivateMode,r=Object(ae.useParams)(),a=Object(ae.useHistory)(),i=Math.ceil(t.collectibles.length/15),l=Object(s.useMemo)((function(){return Math.min(Math.max(Number(r.page),1),i)||1}),[r.page,i]),u=Object(s.useState)(l),d=Object(c.a)(u,2),f=d[0],p=d[1],b=t.collectibles.slice(15*(f-1),15*f),m=Object(v.jsxs)("div",{className:ee.a.paginationControls,children:[Object(v.jsx)("div",{className:ee.a.paginationTitle,children:"Page"}),Object(v.jsx)(o.e,{clear:!0,mini:!0,onClick:function(){return f>1&&p((function(e){return e-1}))},children:Object(v.jsx)(ce.a,{})}),Object(v.jsxs)("div",{className:ee.a.paginationCurrent,children:[f," ",Object(v.jsxs)("span",{children:["/ ",i]})]}),Object(v.jsx)(o.e,{clear:!0,mini:!0,onClick:function(){return f<i&&p((function(e){return e+1}))},children:Object(v.jsx)(ce.b,{})})]});Object(s.useEffect)((function(){return a.replace("/wallet/dashboard/collectibles/".concat(f))}),[f,a]),Object(s.useEffect)((function(){return p(l)}),[l]);return t.isCurrNetworkProtocolsLoading?Object(v.jsx)(o.m,{}):!t.collectibles.length||n?Object(v.jsx)(re,{isPrivateMode:n,collectiblesLength:t.collectibles.length}):Object(v.jsxs)("div",{className:ee.a.wrapper,children:[Object(v.jsx)("div",{className:ee.a.collectiblesWrapper,children:b.map((function(e){var t=e.network,n=e.address,r=e.collectionName,a=e.collectionImg;return(e.assets||[]).map((function(e){var c,s=e.tokenId,i=e.assetName,o=e.assetImg,l=e.balanceUSD;return Object(v.jsx)("div",{className:ee.a.collectible,children:Object(v.jsxs)(S.c,{to:"/wallet/nft/".concat(t,"/").concat(n,"/").concat(s),children:[Object(v.jsx)("div",{className:ee.a.artwork,style:{backgroundImage:"url(".concat((c=o,c?"data:image"===(c=c.startsWith("data:application/json")?c.replace("data:application/json;utf8,",""):c).split("/")[0]?c:c.startsWith("ipfs://")?c.replace(/ipfs:\/\/ipfs\/|ipfs:\/\//g,"https://ipfs.io/ipfs/"):c.split("/")[2].endsWith("mypinata.cloud")?"https://ipfs.io/ipfs/"+c.split("/").slice(4).join("/"):c:""),")")}}),Object(v.jsxs)("div",{className:ee.a.info,children:[Object(v.jsxs)("div",{className:ee.a.collection,children:[Object(v.jsx)("div",{className:ee.a.collectionIcon,style:{backgroundImage:"url(".concat(a,")")}}),Object(v.jsx)("span",{className:ee.a.collectionName,children:r})]}),Object(v.jsxs)("div",{className:ee.a.details,children:[Object(v.jsx)("div",{className:ee.a.name,children:i}),Object(v.jsxs)("div",{className:ee.a.value,children:[Object(v.jsx)("span",{className:ee.a.purpleHighlight,children:"$"})," ",l.toFixed(2)]})]})]})]})},s)}))}))}),m]})},ie=n(212),oe=n(1561),le=n.n(oe),ue=(n(1562),n(740));function de(e){return e<10?"0".concat(e):"".concat(e)}function fe(e){var t=e.endDateTime,n=e.label,r=Object(s.useState)(null),a=Object(c.a)(r,2),i=a[0],o=a[1];return Object(s.useLayoutEffect)((function(){if(t){var e=setInterval((function(){var n=new Date(t).getTime()-(new Date).getTime();o(function(e){return e<0?{days:"00",hours:"00",minutes:"00",seconds:"00"}:{days:de(Math.floor(e/864e5)),hours:de(Math.floor(e/36e5%24)),minutes:de(Math.floor(e/1e3/60%60)),seconds:de(Math.floor(e/1e3%60))}}(n)),n<0&&(clearInterval(e),e=null)}),1e3);return function(){clearInterval(e),e=null}}o(null)}),[t]),i?Object(v.jsxs)("div",{children:[n&&Object(v.jsx)("span",{children:n}),Object(v.jsxs)("div",{className:"final-countdown",children:[Object(v.jsx)(ue.b,{className:"timer-icon"}),Object(v.jsxs)("div",{className:"unit-box",children:[Object(v.jsx)("div",{className:"value",children:i.days}),Object(v.jsx)("div",{className:"unit",children:"days"})]}),Object(v.jsx)("div",{className:"value",children:":"}),Object(v.jsxs)("div",{className:"unit-box",children:[Object(v.jsx)("div",{className:"value",children:i.hours}),Object(v.jsx)("div",{className:"unit",children:"hours"})]}),Object(v.jsx)("div",{className:"value",children:":"}),Object(v.jsxs)("div",{className:"unit-box",children:[Object(v.jsx)("div",{className:"value",children:i.minutes}),Object(v.jsx)("div",{className:"unit",children:"minutes"})]}),Object(v.jsx)("div",{className:"value",children:":"}),Object(v.jsxs)("div",{className:"unit-box",children:[Object(v.jsx)("div",{className:"value",children:i.seconds}),Object(v.jsx)("div",{className:"unit",children:"seconds"})]})]})]}):null}var pe=n(219),be=["emojies","color","background"];function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.period,r=e.text,a=e.title,s=e.resources,i=void 0===s?{}:s,o=e.togglePromo,l=e.minimized;if(!r)return null;var u=new RegExp(/\${{(\w+)}}/,"gi"),d=r.split(u),f=i.emojies,p=i.color,b=i.background,m=Object(ie.a)(i,be),h=Object.entries(m).reduce((function(e,t){var n=Object(c.a)(t,2),r=n[0],a=n[1],s=(a=void 0===a?{}:a).label,i=a.href,o=Object(v.jsx)("a",{className:"link",href:i,target:"_blank",rel:"noreferrer noopener",children:s},r);return e[r]=o,e}),{}),g=Object.entries(Object(T.a)({},f)).reduce((function(e,t){var n=Object(c.a)(t,2),r=n[0],a=n[1],s=(a=void 0===a?{}:a).text,i=a.size,o=Object(v.jsx)("span",{className:le.a.emoji,style:{fontSize:i},children:s},r);return e[r]=o,e}),{});return Object(v.jsxs)("div",{className:"".concat(le.a.notice," ").concat(l?le.a.minimized:""),style:Object(T.a)(Object(T.a)({},b?{backgroundColor:b}:{}),p?{color:p}:{}),children:[!l&&Object(v.jsxs)("div",{children:[a&&Object(v.jsx)("div",{className:le.a.title,children:a}),Object(v.jsx)("div",{children:d.map((function(e){return h[e]||g[e]||e}))}),(null===n||void 0===n?void 0:n.to)&&(null===n||void 0===n?void 0:n.timer)&&Object(v.jsx)("div",{className:le.a.timer,children:Object(v.jsx)(fe,{endDateTime:n.to})})]}),t?l?Object(v.jsx)(E.C,{className:le.a.closeBtn,onClick:function(){return o(t)}}):Object(v.jsx)("div",{children:Object(v.jsx)(A.f,{className:le.a.closeBtn,onClick:function(){return o(t)}})}):null]})}function he(e){var t=e.rewardsData.rewards.promo,n=Object(pe.a)({key:"closedPromos",defaultValue:[]}),r=Object(c.a)(n,2),a=r[0],i=r[1],o=Object(s.useCallback)((function(e){var t=Object(k.a)(a),n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),i(t)}),[a,i]);return t?Object(v.jsx)(me,Object(T.a)(Object(T.a)({},t),{},{togglePromo:o,minimized:a.includes(t.id)})):null}var ge=n(764),je=n(741);var ye,ve,xe=n(1563),Oe=n.n(xe),we=["title","titleId"];function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Te(e,t){var n=e.title,r=e.titleId,a=_e(e,we);return s.createElement("svg",ke({id:"Alert_icon_2","data-name":"Alert icon 2",xmlns:"http://www.w3.org/2000/svg",width:34,height:30.6,viewBox:"0 0 34 30.6",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,ye||(ye=s.createElement("path",{id:"Path_60","data-name":"Path 60",d:"M14.512,7.194a6.185,6.185,0,0,1,10.612,0l10.91,18.838a5.885,5.885,0,0,1-5.306,8.754H8.909A5.885,5.885,0,0,1,3.6,26.032Z",transform:"translate(-2.819 -4.187)",fill:"#ffbc00"})),ve||(ve=s.createElement("path",{id:"Path_59","data-name":"Path 59",d:"M-3969.3,23.583a1.7,1.7,0,0,1-1.7-1.689,1.7,1.7,0,0,1,1.7-1.689,1.7,1.7,0,0,1,1.7,1.689A1.7,1.7,0,0,1-3969.3,23.583Zm0-6.758a1.7,1.7,0,0,1-1.7-1.689V6.689A1.7,1.7,0,0,1-3969.3,5a1.7,1.7,0,0,1,1.7,1.689v8.447A1.7,1.7,0,0,1-3969.3,16.825Z",transform:"translate(3986.298 3.093)",fill:"#fff"})))}var Ne=s.forwardRef(Te),Ce=(n.p,function(e){var t=e.selectedAccount,n=e.selectedNetwork;return Object(v.jsxs)("div",{className:Oe.a.wrapper,children:[Object(v.jsx)("div",{className:Oe.a.alertWrapper,children:Object(v.jsxs)("div",{className:Oe.a.alert,children:[Object(v.jsx)(Ne,{}),Object(v.jsxs)("div",{className:Oe.a.body,children:[Object(v.jsx)("h4",{className:Oe.a.title,children:"Dashboard balances could appear incomplete or outdated."}),Object(v.jsxs)("p",{className:Oe.a.text,children:["We are currently experiencing technical difficulties with our third party services, so what you see on the dashboard may be incomplete or outdated. You can check"," ",Object(v.jsx)("a",{href:n.explorerUrl+"/address/"+t,target:"_blank",rel:"noreferrer",className:Oe.a.link,children:n.explorerUrl.split("/")[2]})," ","to see your current balances. However, you can use Ambire normally with any connected dApp."]})]})]})}),Object(v.jsx)("div",{className:Oe.a.shadow})]})}),Pe=n(35),Ae=n.n(Pe),Se=n(1564),Ee=n.n(Se),Me=[{value:"tokens"},{value:"collectibles"}];function Ie(e){var t=e.portfolio,n=e.selectedNetwork,r=e.selectedAccount,a=e.setNetwork,l=e.privateMode,u=e.rewardsData,f=e.userSorting,p=e.setUserSorting,b=e.accounts,m=e.addRequest,h=e.relayerURL,g=e.useStorage,j=e.match,y=e.showSendTxns,x=Object(i.useHistory)(),O=Object(i.useParams)(),k=O.tabId,_=O.page,N=void 0===_?1:_,C=Object(s.useState)([]),P=Object(c.a)(C,2),A=P[0],S=P[1],E=Object(s.useState)(k||Me[0].value),M=Object(c.a)(E,2),I=M[0],B=M[1],L=b.find((function(e){return e.id.toLowerCase()===r.toLowerCase()})),D=function(e,t,n){var r=Object(s.useState)((function(){return Date.now()})),a=Object(c.a)(r,2),i=a[0],o=a[1],l=Object(s.useState)(null),u=Object(c.a)(l,2),f=u[0],p=u[1],b=Object(s.useState)(null),m=Object(c.a)(b,2),h=m[0],g=m[1],j=Object(s.useState)(null),y=Object(c.a)(j,2),v=y[0],x=y[1],O=Object(s.useState)(null),w=Object(c.a)(O,2),k=w[0],_=w[1];Object(s.useEffect)((function(){Date.now()-i>3e4&&o(Date.now());var e=setTimeout((function(){return o(Date.now())}),3e4);return function(){return clearTimeout(e)}}),[i,t,n]);var N=e?"".concat(e,"/identity/").concat(t.id,"/").concat(n.id,"/privileges?cacheBreak=").concat(i):null,C=Object(d.j)({url:N}),P=C.data,A=C.errMsg,S=C.isLoading;return Object(s.useEffect)((function(){var e=P?P.privileges:{},r=P&&P.recoveryLock,a=e[t.signer.quickAccManager]&&(r&&r.status&&!S||e&&t.signer.quickAccManager&&t.signer.preRecovery&&function(e){var t=new H.AbiCoder,n=e.timelock,r=e.one,a=e.two;return Object(H.keccak256)(t.encode(["tuple(uint, address, address)"],[[n,r,a]]))}(t.signer)!==e[t.signer.quickAccManager]);p({hasPendingReset:a,errMsg:A,recoveryLock:r}),S?x(!k&&S):h===(null===t||void 0===t?void 0:t.id)+n.id?(_(!0),x(!1)):(g((null===t||void 0===t?void 0:t.id)+n.id),_(!1))}),[P,A,S,t,h,n.id,k]),Object(T.a)({data:P,isPasswordRecoveryCheckLoading:v},f)}(h,L,n),R=D.hasPendingReset,F=D.recoveryLock,U=D.isPasswordRecoveryCheckLoading,W=!!t.cachedBalancesByNetworks.length&&t.cachedBalancesByNetworks.find((function(e){return e.network===n.id}));return Object(s.useEffect)((function(){if(!I||I===Me[0].value)return x.replace("/wallet/dashboard");x.replace("/wallet/dashboard/".concat(I).concat(I===Me[1].value?"/".concat(N):""))}),[I,x,N]),Object(s.useLayoutEffect)((function(){var e,n,r=t.tokens.map((function(e){var n=e.label,r=e.symbol,a=e.balanceUSD;return{label:n||r,value:Number((a/t.balance.total.full*100).toFixed(2)),balanceUSD:a}})).filter((function(e){return e.value>0}));(null===t||void 0===t||null===(e=t.balance)||void 0===e||null===(n=e.total)||void 0===n?void 0:n.full)&&r?S({empty:!1,data:null===r||void 0===r?void 0:r.sort((function(e,t){return t.value-e.value}))}):S({empty:!0,data:[{label:"You don't have any tokens",balanceUSD:1,value:0}]})}),[t.balance,t.tokens]),Object(s.useEffect)((function(){return t.requestOtherProtocolsRefresh()}),[t]),Object(v.jsxs)("section",{className:Ee.a.wrapper,children:[W&&Object(v.jsx)(Ce,{selectedNetwork:n,selectedAccount:r}),Object(v.jsx)(he,{rewardsData:u}),Object(v.jsx)(ge.a,{selectedNetwork:n,selectedAccount:r,accounts:b,addRequest:m,closeable:!0,relayerURL:h,portfolio:t,useStorage:g}),R&&!U&&Object(v.jsx)(je.a,{recoveryLock:F,showSendTxns:y,selectedAccount:L,selectedNetwork:n}),Object(v.jsxs)("div",{className:Ee.a.overview,children:[Object(v.jsx)(o.q,{className:Ae()(Ee.a.chart,Ee.a.panel,Ee.a.topPanels),children:t.isCurrNetworkBalanceLoading?Object(v.jsx)(o.m,{}):l.hidePrivateContent(Object(v.jsx)(o.f,{selectedNetwork:n,data:A,size:200,className:Ee.a.chart,hidePrivateValue:l.hidePrivateValue,portfolio:t}))}),Object(v.jsx)(o.q,{className:Ae()(Ee.a.balance,Ee.a.panel,Ee.a.topPanels),titleClassName:Ee.a.panelTitle,title:"You also have",children:Object(v.jsx)(w,{portfolio:t,selectedNetwork:n,setNetwork:a,hidePrivateValue:l.hidePrivateValue,relayerURL:h,selectedAccount:r,match:j})})]}),Object(v.jsxs)(o.q,{title:Object(v.jsxs)(v.Fragment,{children:["Assets ",Object(v.jsx)(o.t,{small:!0,defaultValue:I,segments:Me,onChange:B})]}),children:[I===Me[0].value?Object(v.jsx)(Z,{portfolio:t,network:n,account:r,hidePrivateValue:l.hidePrivateValue,userSorting:f,setUserSorting:p}):Object(v.jsx)(se,{portfolio:t,isPrivateMode:l.isPrivateMode}),Object(v.jsx)("div",{className:Ee.a.footer,children:Object(v.jsxs)("span",{className:Ee.a.missingTokenNotice,children:["If you don't see a specific token that you own, please check the ",Object(v.jsx)("a",{href:"".concat(n.explorerUrl,"/address/").concat(r),target:"_blank",rel:"noreferrer",children:"Block Explorer"})]})})]})]})}},178:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},500:function(e,t,n){(function(t){var r=n(499).BN;function a(e){if("string"!==typeof e||42!==e.length||!e.startsWith("0x"))throw new Error("invalid address: must start with a 0x and be 42 characters long");return e}function c(e){if("string"===typeof e&&e.startsWith("0x")&&66===e.length)return t.from(e.slice(2),"hex");if(32!==e.length||!t.isBuffer(e))throw new Error("32 byte Buffer expected");return e}e.exports={Uint256:function(e){var t=new r(e,10);if(t.isNeg())throw new Error("uint256 expected, negative number given");return t},Bytes32:c,Address:a,Bytes:function(e){if("string"===typeof e&&e.startsWith("0x"))return t.from(e.slice(2),"hex");if(!t.isBuffer(e))throw new Error("Buffer expected");return e},Bytes32Array:function(e,t){return(-1===t||void 0===t||e.length===t)&&e.map((function(e){return c(e)}))},Channel:function(e){return a(e.leader),a(e.follower),a(e.guardian),a(e.tokenAddr),c(e.nonce),e}}}).call(this,n(28).Buffer)},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r={"0xb468a1e5596cfbcdf561f21a10490d99b4bb7b68":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg/220px-Jeff_Sessions_with_Elmo_and_Rosita_%28cropped%29.jpg","0x88800092ff476844f74dc2fc427974bbee2794ae":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/ambire_logo_white_bg_250x250.png","0x47cd7e91c3cbaaf266369fe8518345fc4fc12935":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xb6456b57f03352be48bf101b46c1752a0813491a":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/vaporwave-adex-2.png","0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c":"https://raw.githubusercontent.com/AmbireTech/adex-brand/master/logos/ADX-loyalty%40256x256.png","0xec3b10ce9cabab5dbf49f946a623e294963fbb4e":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/xwallet_250x250.png","0xe9415e904143e42007865e6864f7f632bd054a08":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/logos/Ambire_logo_250x250.png","0xade00c28244d5ce17d72e40330b1c318cd12b7c3":"https://raw.githubusercontent.com/AmbireTech/ambire-brand/main/official-logos/Ambire-AdEx/Ambire_AdEx_Symbol_color_white_bg.png"},a="https://storage.googleapis.com/zapper-fi-assets/tokens";function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase(),c=e.toLowerCase();return r[n]||"".concat(a,"/").concat(c,"/").concat(n,".png")}},515:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},518:function(e,t,n){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(isNaN(e)||isNaN(parseFloat(e))||"number"!==typeof e&&"string"!==typeof e)return e;try{var r=Math.min(2,n||0);return("number"===typeof e?e:parseFloat(e)).toLocaleString(void 0,{useGrouping:t,maximumFractionDigits:Math.max(r,n),minimumFractionDigits:r})}catch(a){return console.error(a),e}}n.d(t,"a",(function(){return r}))},527:function(e,t,n){},530:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return y}));var r=n(7),a=n(3),c=n.n(a),s=n(12),i=n(547),o=n(56),l=n(534),u=n(528),d=2147483648,f={startPath:[2147483692,2147483708,d,0,0],n:10},p=function(e){var t={name:"Ambire Wallet",crypto:u,privKey:e};return new i.Client(t)},b=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.connect(n,(function(t,n){t?r("Lattice connect: ".concat(t," Or check if the DeviceID is correct.")):e({isPaired:!!n,errConnect:!1})}))})).catch((function(e){return console.error(e),{isPaired:!1,errConnect:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.pair(n,(function(t,n){t?r("Lattice connect: ".concat(t)):e({hasActiveWallet:n,errPair:!1})}))})).catch((function(e){return console.error(e),{hasActiveWallet:!1,errPair:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.getAddresses(f,(function(t,r){if(t)n("Lattice get addresses: ".concat(t));else{if(!r)throw new Error("Lattice could not get the addresses.");e({res:r,errGetAddresses:!1})}}))})).catch((function(e){return console.error(e),{res:null,errGetAddresses:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={protocol:"signPersonal",payload:o.ethers.utils.hexlify(n),signerPath:[2147483692,2147483708,d,0,0]},a={currency:"ETH_MSG",data:r},e.next=4,new Promise((function(e,n){t.sign(a,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+r.sig.r+r.sig.s+r.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={currency:"ETH_MSG",data:{signerPath:[2147483692,2147483708,d,0,0],protocol:"eip712",payload:n}},e.next=3,new Promise((function(e,n){t.sign(r,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");e({signedMsg:"0x"+r.sig.r+r.sig.s+r.sig.v[0].toString(16),errSignMessage:!1})}}))})).catch((function(e){return console.error(e),{signedMsg:null,errSignMessage:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){var s,i,o,u,f,p,b,m,h,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.to,i=n.data,o=n.gas,u=n.gasPrice,f=n.nonce,p=n.value,b=void 0===p?0:p,delete(m=Object(r.a)(Object(r.a)({},n),{},{gasLimit:n.gasLimit||n.gas,chainId:a})).from,delete m.gas,h={nonce:f,gasLimit:o||n.gasLimit,gasPrice:u,to:s,value:b,data:i||"",signerPath:[2147483692,2147483708,d,0,0],chainId:a,useEIP155:!0},g={currency:"ETH",data:h},e.next=8,new Promise((function(e,n){t.sign(g,(function(t,r){if(t)n(t);else{if(!r)throw new Error("Lattice could not sign the message.");delete m.v;var a=Object(l.a)(m,{r:"0x"+r.sig.r,s:"0x"+r.sig.s,v:r.sig.v[0].toString(16)});e({serializedSigned:a,errSignTxn:!1})}}))})).catch((function(e){return console.error(e),{serializedSigned:null,errSignTxn:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},532:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(3),a=n.n(r),c=n(12),s=n(7),i=n(572),o=n(624),l=n.n(o),u=n(56),d=n(519),f=n.n(d),p=n(583),b=n(604),m=n(539),h=n(530),g=n(21),j=n(76),y=n(58),v={};function x(e){var t=e.signer,n=e.signerExtra,r=e.chainId,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c="".concat(t.address||t.one).concat(r);return v[c]?v[c]:v[c]=O({signer:t,signerExtra:n,chainId:r},a)}function O(e,t){var n=e.chainId,r=e.signer,o=e.signerExtra;if(o&&"trezor"===o.type){l.a.manifest({email:"contactus@ambire.com",appUrl:"https://wallet.ambire.com"});var d=new i.TrezorSubprovider({trezorConnectClientApi:l.a,networkId:n});return d._initialDerivedKeyInfo=function(e){return{hdKey:f.a.fromExtendedKey(e.info.hdKey.xpub),derivationPath:e.info.derivationPath,baseDerivationPath:e.info.baseDerivationPath}}(o),{signMessage:function(e){return d.signPersonalMessageAsync(u.ethers.utils.hexlify(e),r.address)},signTransaction:function(e){return d.signTransactionAsync(Object(s.a)(Object(s.a)({},e),{},{from:r.address}))},sendTransaction:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.a.find((function(e){return e.chainId===t.chainId}))){e.next=3;break}throw Error("no network found for chainId : "+t.chainId);case 3:return e.next=5,Object(j.a)(n.id);case 5:if(r=e.sent){e.next=8;break}throw Error("no provider found for network : "+n.id);case 8:return e.t0=u.ethers.utils,e.next=11,r.getTransactionCount(t.from);case 11:return e.t1=e.sent,t.nonce=e.t0.hexlify.call(e.t0,e.t1),c=u.ethers.utils.hexlify(t.gas||t.gasLimit),t.gasPrice=u.ethers.utils.hexlify(t.gasPrice),t=Object(s.a)(Object(s.a)({},t),{},{gas:c}),e.next=18,d.signTransactionAsync(t);case 18:return i=e.sent,e.abrupt("return",r.sendTransaction(i));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isConnected:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getAccountsAsync(100);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.toLowerCase()})).includes(t.toLowerCase()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_signTypedData:function(){var e=Object(c.a)(a.a.mark((function e(t,n,c){var s,i,o,l,u,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=g._TypedDataEncoder.hashDomain(t),i=g._TypedDataEncoder.hashStruct(g._TypedDataEncoder.getPrimaryType(n),n,c),o=g._TypedDataEncoder.getPayload(t,n,c),e.next=5,d._initialDerivedKeyInfoAsync();case 5:return l=e.sent,u=d._findDerivedKeyInfoForAddress(l,r.address),f=u.derivationPath,e.next=10,d._trezorConnectClientApi.ethereumSignTypedData({path:f,data:o,metamask_v4_compat:!0,domain_separator_hash:s,message_hash:i});case 10:if(!(p=e.sent).success){e.next=15;break}return e.abrupt("return","".concat(p.payload.signature));case 15:throw new Error(p.payload.error);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}}if(o&&"ledger"===o.type){if("webHID"===o.transportProtocol)return{signMessage:function(e){return Object(m.c)(u.ethers.utils.hexlify(e),r.address)},signTransaction:function(e){return Object(m.e)(e,n)},sendTransaction:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.a.find((function(e){return e.chainId===t.chainId}))){e.next=3;break}throw Error("no network found for chainId : "+t.chainId);case 3:return e.next=5,Object(j.a)(n.id);case 5:if(r=e.sent){e.next=8;break}throw Error("no provider found for network : "+n.id);case 8:return e.t0=u.ethers.utils,e.next=11,r.getTransactionCount(t.from);case 11:return e.t1=e.sent,t.nonce=e.t0.hexlify.call(e.t0,e.t1),e.next=15,Object(m.e)(t,t.chainId);case 15:return c=e.sent,e.abrupt("return",r.sendTransaction(c));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isConnected:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)();case 2:if(!(n=e.sent)||!n[0]){e.next=7;break}if(!t){e.next=6;break}return e.abrupt("return",!!n.find((function(e){return e.toLowerCase()===t.toLowerCase()})));case 6:return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_signTypedData:function(e,t,n){var a=g._TypedDataEncoder.hashDomain(e),c=g._TypedDataEncoder.hashStruct(g._TypedDataEncoder.getPrimaryType(t),t,n);return Object(m.d)(a,c,r.address)}};var v=new p.LedgerSubprovider({networkId:n,ledgerEthereumClientFactoryAsync:b.ledgerEthereumBrowserClientFactoryAsync,baseDerivationPath:o.info.baseDerivationPath});return{signMessage:function(e){return v.signPersonalMessageAsync(u.ethers.utils.hexlify(e),r.address)},signTransaction:function(e){return v.signTransactionAsync(Object(s.a)(Object(s.a)({},e),{},{from:r.address}))},sendTransaction:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("Please use a chrome based browser to use Ledger");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isConnected:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAccountsAsync(1);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.toLowerCase()})).includes(t.toLowerCase()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_signTypedData:function(e,t,n){throw Error("Please, use a chrome based browser to use 721 Typed signatures")}}}if(o&&"Lattice"===o.type)return{signMessage:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,i,l,u,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.commKey,r=o.deviceId,c=Object(h.c)(n),e.next=4,Object(h.a)(c,r);case 4:if(s=e.sent,i=s.isPaired,!(l=s.errConnect)){e.next=9;break}throw new Error(l.message||l);case 9:if(i){e.next=12;break}throw c.pair(""),new Error("The Lattice device is not paired! Please re-add your account!");case 12:return e.next=14,Object(h.e)(c,t);case 14:if(u=e.sent,d=u.signedMsg,!(f=u.errSignMessage)){e.next=19;break}throw new Error(f);case 19:return e.abrupt("return",d);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signTransaction:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,s,i,l,u,d,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.commKey,c=o.deviceId,s=Object(h.c)(r),e.next=4,Object(h.a)(s,c);case 4:if(i=e.sent,l=i.isPaired,!(u=i.errConnect)){e.next=9;break}throw new Error(u.message||u);case 9:if(l){e.next=12;break}throw s.pair(""),new Error("The Lattice device is not paired! Please re-add your account!");case 12:return e.next=14,Object(h.g)(s,t,n);case 14:if(d=e.sent,f=d.serializedSigned,!(p=d.errSignTxn)){e.next=19;break}throw new Error(p);case 19:return e.abrupt("return",f);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,s,i,l,d,f,p,b,m,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.a.find((function(e){return e.chainId===t.chainId}))){e.next=3;break}throw Error("no network found for chainId : "+t.chainId);case 3:return e.next=5,Object(j.a)(r.id);case 5:if(c=e.sent){e.next=8;break}throw Error("no provider found for network : "+r.id);case 8:return e.t0=u.ethers.utils,e.next=11,c.getTransactionCount(t.from);case 11:return e.t1=e.sent,t.nonce=e.t0.hexlify.call(e.t0,e.t1),s=o.commKey,i=o.deviceId,l=Object(h.c)(s),e.next=17,Object(h.a)(l,i);case 17:if(d=e.sent,f=d.isPaired,!(p=d.errConnect)){e.next=22;break}throw new Error(p.message||p);case 22:if(f){e.next=25;break}throw l.pair(""),new Error("The Lattice device is not paired! Please re-add your account!");case 25:return e.next=27,Object(h.g)(l,t,n);case 27:if(b=e.sent,m=b.serializedSigned,!(g=b.errSignTxn)){e.next=32;break}throw new Error(g);case 32:return e.abrupt("return",c.sendTransaction(m));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isConnected:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,i,l,u,d,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=o.commKey,c=o.deviceId,s=Object(h.c)(r),e.next=5,Object(h.a)(s,c);case 5:if(i=e.sent,l=i.isPaired,!(u=i.errConnect)){e.next=10;break}throw new Error(u.message||u);case 10:if(l){e.next=13;break}throw s.pair(""),new Error("The Lattice device is not paired! Please re-add your account!");case 13:return e.next=15,Object(h.b)(s);case 15:if(d=e.sent,f=d.res,!(p=d.errGetAddresses)){e.next=20;break}throw new Error("Lattice: ".concat(p),{error:!0});case 20:return n=f,e.abrupt("return",n.map((function(e){return e.toLowerCase()})).includes(t.toLowerCase()));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_signTypedData:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,s,i,l,u,d,f,p,b,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=g._TypedDataEncoder.getPayload(t,n,r),s=o.commKey,i=o.deviceId,l=Object(h.c)(s),e.next=5,Object(h.a)(l,i);case 5:if(u=e.sent,d=u.isPaired,!(f=u.errConnect)){e.next=10;break}throw new Error(f.message||f);case 10:if(d){e.next=13;break}throw l.pair(""),new Error("The Lattice device is not paired! Please re-add your account!");case 13:return e.next=15,Object(h.f)(l,c);case 15:if(p=e.sent,b=p.signedMsg,!(m=p.errSignMessage)){e.next=20;break}throw new Error(m);case 20:return e.abrupt("return",b);case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n,r]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()};if(r.address){if(!window.ethereum)throw new Error("No web3 support detected in your browser: if you created this account through MetaMask, please install it.");var x=new u.ethers.providers.Web3Provider(window.ethereum,"any"),O=x.getSigner(r.address);return O.isConnected=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.listAccounts();case 2:if(r=e.sent,c=!0,!r.length){e.next=14;break}if(t&&(c=!!r.find((function(e){return e.toLowerCase()===t.toLowerCase()}))),!n){e.next=12;break}return e.next=9,x.getNetwork();case 9:s=e.sent,i=s.chainId,c=c&&i===n;case 12:e.next=15;break;case 14:c=!1;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O}throw r.one?new Error("getWallet not applicable for QuickAccounts: use primaryKeyBackup with the passphrase and /second-sig"):new Error("unknown signer type")}function w(e,t){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(this,n).catch((function(e){throw new Error("Lattice: ".concat(e.message))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},539:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return T}));var r=n(7),a=n(3),c=n.n(a),s=n(12),i=n(622),o=n(623),l=n(534),u=n(210),d=n(519),f=null,p="44'/60'/0'/0";function b(){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.list();case 2:if(!(f=e.sent).length){e.next=11;break}if(!f[0].opened){e.next=8;break}return e.abrupt("return",new i.a(f[0]));case 8:return e.abrupt("return",i.a.open(f[0]));case 9:e.next=22;break;case 11:return e.prev=11,e.next=14,i.a.request();case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(11),!e.t0.message.includes("reading 'open'")){e.next=21;break}throw new Error("ledger WebHID request denied");case 21:throw new Error("Could not request WebHID ledger: "+e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function h(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,e.next=5,j(t);case 5:return n=e.sent,t.close(),e.abrupt("return",n.map((function(e){return e.address})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(c.a.mark((function t(n){var r,a,s,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="m/".concat(p),t.next=3,v(n,r).then((function(e){return e})).catch((function(e){throw 25871===e.statusCode||27404===e.statusCode?Error("Please make sure your ledger is unlocked and running the Ethereum app. "+e.message):Error("Could not get address from ledger : "+e)}));case 3:return a=t.sent,(s=new d).publicKey=e.from(a.publicKey,"hex"),s.chainCode=e.from(a.chainCode,"hex"),i=P(s),o={hdKey:s,address:i,derivationPath:r,baseDerivationPath:p},t.abrupt("return",C(o,1));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(e,t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(c.a.mark((function e(t,n){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new o.a(t),s=new Promise((function(e,t){r=setTimeout((function(){return t(new Error("Device took too long to respond..."))}),1e4)})),e.abrupt("return",Promise.race([a.getAddress(n,!1,!0),s]).then((function(e){return clearTimeout(r),e})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(c.a.mark((function e(t,n){var a,s,i,u,d,f,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return a=e.sent,s=t.from,delete(i=Object(r.a)(Object(r.a)({},t),{},{gasLimit:t.gasLimit||t.gas,chainId:n})).from,delete i.gas,u=Object(l.a)(i),e.next=10,j(a);case 10:if(d=e.sent,d[0].address.toLowerCase()!==s.toLowerCase()){e.next=30;break}return e.prev=13,e.next=16,new o.a(a).signTransaction(d[0].derivationPath,u.substr(2));case 16:p=e.sent,e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(13),new Error("Could not sign transaction "+e.t0);case 22:if(m=parseInt(p.v,16),Math.floor((m-35)/2)===n){e.next=26;break}throw new Error("Invalid returned V 0x"+p.v);case 26:delete i.v,f=Object(l.a)(i,{r:"0x"+p.r,s:"0x"+p.s,v:m}),e.next=31;break;case 30:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 31:return a.close(),e.abrupt("return",f);case 33:case"end":return e.stop()}}),e,null,[[13,19]])})))).apply(this,arguments)}function k(e,t){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(c.a.mark((function e(t,n){var r,a,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return r=e.sent,e.next=5,j(r);case 5:if(a=e.sent,(s=a[0]).address.toLowerCase()!==n.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new o.a(r).signPersonalMessage(s.derivationPath,t.substr(2));case 11:l=e.sent,i="0x"+l.r+l.s+l.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return r.close(),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function T(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(c.a.mark((function e(t,n,r){var a,s,i,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return a=e.sent,e.next=5,j(a);case 5:if(s=e.sent,(i=s[0]).address.toLowerCase()!==r.toLowerCase()){e.next=20;break}return e.prev=8,e.next=11,new o.a(a).signEIP712HashedMessage(i.derivationPath,t,n);case 11:u=e.sent,l="0x"+u.r+u.s+u.v.toString(16),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(8),new Error("Signature denied "+e.t0.message);case 18:e.next=21;break;case 20:throw new Error("Incorrect address. Are you using the correct account/ledger?");case 21:return a.close(),e.abrupt("return",l);case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function C(e,t){for(var n=[],r=0;r<t;r++){var a="m/".concat(e.baseDerivationPath,"/").concat(r),c="m/".concat(r),s=e.hdKey.derive(c),i={address:P(s),hdKey:s,baseDerivationPath:e.baseDerivationPath,derivationPath:a};n.push(i)}return n}function P(e){var t=e.publicKey,n=u.publicToAddress(t,!0).toString("hex");return u.addHexPrefix(n).toLowerCase()}}).call(this,n(28).Buffer)},541:function(e,t,n){var r=n(326),a=n(3),c=n(177),s=n(56).utils,i=s.AbiCoder,o=s.hexlify,l=s.arrayify,u=s.keccak256,d=s.Interface,f=n(56),p=f.Contract,b=f.BigNumber,m=n(500),h=n(329),g=n(542),j=new d(h);function y(e){return this.identity=m.Address(e.identity),this.network=e.network,this.signer=e.signer,this.txns=e.txns,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.signature=e.signature,this.minFeeInUSDPerGas=e.minFeeInUSDPerGas,this.recoveryMode=e.recoveryMode,this.meta=e.meta,this.gasTankFee=e.gasTankFee,this}y.prototype.getNonce=function(){var e=c(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,this);case 2:return this.nonce=e.sent,e.abrupt("return",this.nonce);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.prototype.estimate=function(){var e=c(a.mark((function e(t){var n,c,s,i,o,l,u;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,c=t.relayerURL,s=t.replacing,i=t.getNextNonce,o=t.gasTank,l=Object.fromEntries(Object.entries({getNextNonce:i,gasTank:o}).filter((function(e){var t=r(e,2);t[0];return t[1]}))),e.next=4,E(n,"".concat(c,"/identity/").concat(this.identity,"/").concat(this.network,"/estimate?").concat(new URLSearchParams(l).toString()),{txns:this.txns,signer:this.signer,replacing:s,minFeeInUSDPerGas:this.minFeeInUSDPerGas});case 4:return u=e.sent,this.gasLimit=u.gasLimit,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.prototype.sign=function(){var e=c(a.mark((function e(t,n){var r,c,s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(this.nonce)){e.next=2;break}throw new Error("nonce is not set");case 2:if(!isNaN(this.gasLimit)){e.next=4;break}throw new Error("gasLimit is not set");case 4:return r=w(this,n),c=l(u(r)),e.next=8,T(t,c);case 8:return s=e.sent,this.signature=s,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),y.prototype.submit=function(){var e=c(a.mark((function e(t){var n,r,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,r=t.relayerURL,e.next=3,E(n,"".concat(r,"/identity/").concat(this.identity,"/").concat(this.network,"/submit"),{nonce:this.nonce,signer:this.signer,txns:this.txns,gasLimit:this.gasLimit,signature:this.signature,signatureTwo:this.signatureTwo,meta:this.meta,gasTankFee:this.gasTankFee});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),y.prototype.cancel=function(){var e=c(a.mark((function e(t){var n,r,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetch,r=t.relayerURL,e.next=3,E(n,"".concat(r,"/identity/").concat(this.identity,"/").concat(this.network,"/cancel"),{nonce:this.nonce,signer:this.signer});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var v=/gas required exceeds allowance|always failing transaction|execution reverted/;function x(){return(x=c(a.mark((function e(t,n,r,c,s){var o,l,u,d;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.address){e.next=2;break}return e.abrupt("return",T(t,c,!0));case 2:if(!r.quickAccManager){e.next=10;break}return e.next=5,T(t,c,!0);case 5:return o=e.sent,l=new i,u=l.encode(["uint","bytes","bytes"],[r.timelock,o,s]),d="".concat(u+l.encode(["address"],[r.quickAccManager]).slice(2),"02"),e.abrupt("return",d);case 10:throw new Error("invalid signer object");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=c(a.mark((function e(t,n,r,c,s,o,l){var u,d,f,p;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.address){e.next=2;break}return e.abrupt("return",C(t,c,s,o));case 2:if(!r.quickAccManager){e.next=10;break}return e.next=5,C(t,c,s,o);case 5:return u=e.sent,d=new i,f=d.encode(["uint","bytes","bytes"],[r.timelock,u,l]),p="".concat(f+d.encode(["address"],[r.quickAccManager]).slice(2),"02"),e.abrupt("return",p);case 10:throw new Error("invalid signer object");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){var n=new i,r=e.signer;if(r.address)return n.encode(["address","uint","uint","tuple(address, uint, bytes)[]"],[e.identity,k(e.network),e.nonce,e.txns]);if(r.quickAccManager){var a=u(n.encode(["tuple(uint, address, address)"],[[e.signer.timelock,e.signer.one,e.signer.two]]));return n.encode(["address","uint","address","bytes32","uint","tuple(address, uint, bytes)[]","bool"],[r.quickAccManager,k(e.network),e.identity,a,e.nonce,e.txns,!t])}throw new Error("invalid signer object")}function k(e){if("ethereum"===e)return 1;if("polygon"===e)return 137;if("binance-smart-chain"===e)return 56;if("bsc"===e)return 56;if("fantom"===e)return 250;if("avalanche"===e)return 43114;if("arbitrum"===e)return 42161;if("moonbeam"===e)return 1284;if("moonriver"===e)return 1285;if("gnosis"===e)return 100;if("kucoin"===e)return 321;if("andromeda"===e)return 1088;if("cronos"===e)return 25;if("aurora"===e)return 1313161554;if("rinkeby"===e)return 4;if("optimism"===e)return 10;throw new Error("unsupported network ".concat(e))}function _(e){var t=l(e);return t[64]<27&&(t[64]+=27),o(t)}function T(e,t){return N.apply(this,arguments)}function N(){return N=c(a.mark((function e(t,n){var r,c=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],e.t0="",e.t1=_,e.next=5,t.signMessage(n);case 5:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0.concat.call(e.t0,e.t3).concat(r?"00":"01"));case 8:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function C(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=c(a.mark((function e(t,n,r,c){var s;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._signTypedData(n,r,c);case 2:return s=e.sent,e.abrupt("return","".concat(_(s),"00"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return S.apply(this,arguments)}function S(){return(S=c(a.mark((function e(t,n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.signer.quickAccManager){e.next=7;break}return e.next=4,new p(n.signer.quickAccManager,g,t).nonces(n.identity);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,new p(n.identity,h,t).nonce();case 9:e.t0=e.sent;case 10:return e.abrupt("return",e.t0.toNumber());case 13:if(e.prev=13,e.t1=e.catch(0),e.t2="CALL_EXCEPTION"===e.t1.code,!e.t2){e.next=21;break}return e.next=19,t.getCode(n.identity);case 19:e.t3=e.sent,e.t2="0x"===e.t3;case 21:if(!e.t2){e.next=23;break}return e.abrupt("return",0);case 23:throw e.t1;case 24:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function E(e,t,n){return M.apply(this,arguments)}function M(){return(M=c(a.mark((function e(t,n,r){var c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(r)});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y.prototype.estimateNoRelayer=function(){var e=c(a.mark((function e(t){var n,r,c,s,i,o,l,u,d,f,p;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider,r=t.replacing,c={from:this.signer.quickAccManager||this.signer.address,to:this.identity,data:j.encodeFunctionData("executeBySender",[this.txns])},s=r?"latest":"pending",e.next=5,D(n,s,c);case 5:if(i=e.sent,o=i.error,l=i.gasLimit,!o||!o.message.startsWith("execution reverted: ")){e.next=11;break}return u=o.message.slice(20),e.abrupt("return",{success:!1,message:u});case 11:if(!o){e.next=18;break}if("UNPREDICTABLE_GAS_LIMIT"===o.code||o.message.match(v)){e.next=14;break}throw o;case 14:return e.next=16,B(n,c,s);case 16:return e.t0=e.sent,e.abrupt("return",{success:!1,message:e.t0});case 18:return this.gasLimit=l.toNumber(),e.next=21,n.getFeeData();case 21:return d=e.sent,f=d.gasPrice.toNumber(),p=f*l/1e18,e.abrupt("return",{success:!0,gasLimit:this.gasLimit,gasPrice:f,feeInNative:{slow:.9*p,medium:1*p,fast:1.15*p,ape:1.4*p}});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var I="0x08c379a0";function B(e,t,n){return L.apply(this,arguments)}function L(){return(L=c(a.mark((function e(t,n,r){var c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.call(n,r);case 3:return c=e.sent,e.abrupt("return",c.startsWith(I)?(new i).decode(["string"],"0x".concat(c.slice(10)))[0]:c);case 7:if(e.prev=7,e.t0=e.catch(0),"UNPREDICTABLE_GAS_LIMIT"!==e.t0.code||!e.t0.error){e.next=11;break}return e.abrupt("return",e.t0.error.message.slice(20));case 11:if("CALL_EXCEPTION"!==e.t0.code){e.next=13;break}return e.abrupt("return","no error string, possibly insufficient amount");case 13:if("INVALID_ARGUMENT"!==e.t0.code){e.next=15;break}return e.abrupt("return","unable to deserialize: ".concat(o(e.t0.value)));case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(e,t,n){return R.apply(this,arguments)}function R(){return(R=c(a.mark((function e(t,n,r){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.send("eth_estimateGas",[r,n]).then((function(e){return{gasLimit:b.from(e)}})).catch((function(e){return"SERVER_ERROR"===e.code?{error:e.error}:{error:e}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports={Bundle:y,signMessage:function(e,t,n,r,a){return x.apply(this,arguments)},signMessage712:function(e,t,n,r,a,c,s){return O.apply(this,arguments)},getSignable:w,signMsg:T,signMsg712:C}},542:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txnHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"accHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"signer","type":"address"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"LogCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txnHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"accHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"LogExecScheduled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txnHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"accHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"signer","type":"address"},{"indexed":false,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"indexed":false,"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"LogScheduled","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"sig","type":"bytes"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"cancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"internalType":"bytes32","name":"accHash","type":"bytes32"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"execScheduled","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"scheduled","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"components":[{"internalType":"bool","name":"isBothSigned","type":"bool"},{"internalType":"bytes","name":"one","type":"bytes"},{"internalType":"bytes","name":"two","type":"bytes"}],"internalType":"struct QuickAccManager.DualSig","name":"sigs","type":"tuple"},{"components":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct Identity.Transaction[]","name":"txns","type":"tuple[]"}],"name":"send","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"components":[{"internalType":"bytes","name":"one","type":"bytes"},{"internalType":"bytes","name":"two","type":"bytes"}],"internalType":"struct QuickAccManager.DualSigAlwaysBoth","name":"sigs","type":"tuple"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}],"internalType":"struct QuickAccManager.Transfer","name":"t","type":"tuple"}],"name":"sendTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract Identity","name":"identity","type":"address"},{"components":[{"internalType":"uint256","name":"timelock","type":"uint256"},{"internalType":"address","name":"one","type":"address"},{"internalType":"address","name":"two","type":"address"}],"internalType":"struct QuickAccManager.QuickAccount","name":"acc","type":"tuple"},{"components":[{"internalType":"bytes","name":"one","type":"bytes"},{"internalType":"bytes","name":"two","type":"bytes"}],"internalType":"struct QuickAccManager.DualSigAlwaysBoth","name":"sigs","type":"tuple"},{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"internalType":"struct QuickAccManager.Txn[]","name":"txns","type":"tuple[]"}],"name":"sendTxns","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},562:function(e,t,n){var r=n(531),a=n(563),c=n(564),s=n(565),i=n(566),o=n(567),l=n(568),u=n(541);e.exports=r(r(r(r(r(r({},a),c),o),l),u),{},{MerkleTree:s,splitSig:i})},563:function(e,t,n){(function(t){var r=n(521),a=n(95).keccak256,c=n(500);function s(e){return this.leader=c.Address(e.leader),this.follower=c.Address(e.follower),this.guardian=c.Address(e.guardian),this.tokenAddr=c.Address(e.tokenAddr),this.nonce=c.Bytes32(e.nonce),Object.freeze(this),this}s.prototype.hash=function(){return t.from(a.arrayBuffer(r.rawEncode(["address","address","address","address","bytes32"],[this.leader,this.follower,this.guardian,this.tokenAddr,this.nonce])))},s.prototype.hashHex=function(){return"0x".concat(this.hash().toString("hex"))},s.prototype.toSolidityTuple=function(){return[this.leader,this.follower,this.guardian,this.tokenAddr,this.nonce]},s.prototype.hashToSign=function(e,t){return s.getSignableStateRoot(e,this.hashHex(),t)},s.prototype.hashToSignHex=function(e,t){return"0x".concat(this.hashToSign(e,t).toString("hex"))},s.prototype.getResumeSignableMessage=function(e){return t.from(a.arrayBuffer(r.solidityPack(["string","bytes32","uint256"],["resume",this.hashHex(),e])))},s.prototype.getResumeSignableMessageHex=function(e){return"0x".concat(this.getResumeSignableMessage(e).toString("hex"))},s.getSignableStateRoot=function(e,n,c){return t.from(a.arrayBuffer(r.rawEncode(["address","bytes32","bytes32"],[e,n,c])))},s.getBalanceLeaf=function(e,n){return t.from(a.arrayBuffer(r.rawEncode(["address","uint256"],[e,n])))},s.getSpenderBalanceLeaf=function(e,n){return t.from(a.arrayBuffer(r.rawEncode(["address","string","uint256"],[e,"spender",n])))},e.exports={Channel:s,ChannelState:{Challenged:"115792089237316195423570985008687907853269984665640564039457584007913129639935",Active:"0"}}}).call(this,n(28).Buffer)},564:function(e,t,n){var r=n(500);function a(e){return this.channel=e.channel,this.balanceTreeAmount=r.Uint256(e.balanceTreeAmount),this.stateRoot=r.Bytes32(e.stateRoot),this.sigLeader=r.Bytes32Array(e.sigLeader,3),this.sigFollower=r.Bytes32Array(e.sigFollower,3),this.proof=r.Bytes32Array(e.proof,-1),Object.freeze(this),this}a.prototype.toSolidityTuple=function(){return[this.channel.toSolidityTuple(),"0x".concat(this.balanceTreeAmount.toString(16)),this.stateRoot,this.sigLeader,this.sigFollower,this.proof]},e.exports={Withdraw:a}},565:function(e,t,n){var r=n(85),a=n(128),c=n(28).Buffer,s=n(95).keccak256;function i(e,t){if(!t)return e;if(!e)return t;var n=c.concat([e,t].sort(c.compare));return c.from(s.arrayBuffer(n))}function o(e){if(0===e.length)return[[c.from("")]];var t=[];for(t.push(e);t[t.length-1].length>1;)t.push(l(t[t.length-1]));return t}function l(e){return e.reduce((function(e,t,n,r){return n%2===0&&e.push(i(t,r[n+1])),e}),[])}var u=function(){"use strict";function e(t){if(r(this,e),!t.every((function(e){return 32===e.length&&c.isBuffer(e)})))throw new Error("elements must be 32 byte buffers");var n,a={elements:(n=t,n.filter((function(e,t){return n.findIndex((function(t){return t.equals(e)}))===t})))};Object.assign(this,a),this.elements.sort(c.compare);var s={layers:o(this.elements)};Object.assign(this,s)}return a(e,[{key:"getRoot",value:function(){if(!this.root){var e={root:this.layers[this.layers.length-1][0]};Object.assign(this,e)}return this.root}},{key:"verify",value:function(e,t){return this.getRoot().equals(e.reduce((function(e,t){return i(e,t)}),t))}},{key:"proof",value:function(e){var t=this.elements.findIndex((function(t){return t.equals(e)}));if(-1===t)throw new Error("element not found in merkle tree");return this.layers.reduce((function(e,n){var r=function(e,t){var n=e%2?e-1:e+1;return n<t.length?t[n]:null}(t,n);return r&&e.push(r),t=Math.floor(t/2),e}),[])}}]),e}();e.exports=u},566:function(e,t){e.exports=function(e){var t=e.startsWith("0x")?e.slice(2):e,n="0x".concat(t.substring(0,64)),r="0x".concat(t.substring(64,128)),a=parseInt(t.substring(128,130),16);return a<27&&(a+=27),["0x02".concat(a.toString(16),"000000000000000000000000000000000000000000000000000000000000"),n,r]}},567:function(e,t,n){(function(t){var r=n(521),a=n(95).keccak256,c=n(500);function s(e){return this.owner=c.Address(e.owner),this.shares=c.Uint256(e.shares),this.unlocksAt=c.Uint256(e.unlocksAt),Object.freeze(this),this}s.prototype.hash=function(){var e=r.rawEncode(["address","uint256","uint256"],[this.owner,this.shares,this.unlocksAt]);return t.from(a.arrayBuffer(e))},s.prototype.hashHex=function(){return"0x".concat(this.hash().toString("hex"))},e.exports={UnbondCommitment:s}}).call(this,n(28).Buffer)},568:function(e,t,n){var r=n(56).utils,a=r.keccak256,c=r.defaultAbiCoder,s=r.toUtf8Bytes,i=r.solidityPack,o=a(s("Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)"));function l(e,t,n){return a(c.encode(["bytes32","bytes32","bytes32","uint256","address"],[a(s("EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)")),a(s(e)),a(s("1")),n,t]))}e.exports={getDomainSeparator:l,getApprovalDigest:function(e,t,n,r){var s=l(e.name,e.address,e.chainId);return a(i(["bytes1","bytes1","bytes32","bytes32"],["0x19","0x01",s,a(c.encode(["bytes32","address","address","uint256","uint256","uint256"],[o,t.owner,t.spender,t.value,n,r]))]))}}},569:function(e,t,n){var r;!function(a){"use strict";var c,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",d=1e14,f=14,p=9007199254740991,b=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,h=1e9;function g(e){var t=0|e;return e>0||e===t?t:t-1}function j(e){for(var t,n,r=1,a=e.length,c=e[0]+"";r<a;){for(t=e[r++]+"",n=f-t.length;n--;t="0"+t);c+=t}for(a=c.length;48===c.charCodeAt(--a););return c.slice(0,a+1||1)}function y(e,t){var n,r,a=e.c,c=t.c,s=e.s,i=t.s,o=e.e,l=t.e;if(!s||!i)return null;if(n=a&&!a[0],r=c&&!c[0],n||r)return n?r?0:-i:s;if(s!=i)return s;if(n=s<0,r=o==l,!a||!c)return r?0:!a^n?1:-1;if(!r)return o>l^n?1:-1;for(i=(o=a.length)<(l=c.length)?o:l,s=0;s<i;s++)if(a[s]!=c[s])return a[s]>c[s]^n?1:-1;return o==l?0:o>l^n?1:-1}function v(e,t,n,r){if(e<t||e>n||e!==(e<0?i(e):o(e)))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function x(e){return"[object Array]"==Object.prototype.toString.call(e)}function O(e){var t=e.c.length-1;return g(e.e/f)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function k(e,t,n){var r,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(++t>(r=e.length)){for(a=n,t-=r;--t;a+=n);e+=a}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}c=function e(t){var n,r,a,c=D.prototype={constructor:D,toString:null,valueOf:null},_=new D(1),T=20,N=4,C=-7,P=21,A=-1e7,S=1e7,E=!1,M=1,I=0,B={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"\xa0",fractionGroupSize:0},L="0123456789abcdefghijklmnopqrstuvwxyz";function D(e,t){var n,c,i,l,d,b,m,h,g=this;if(!(g instanceof D))return new D(e,t);if(null==t){if(e instanceof D)return g.s=e.s,g.e=e.e,void(g.c=(e=e.c)?e.slice():e);if((b="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,d=e;d>=10;d/=10,l++);return g.e=l,void(g.c=[e])}h=e+""}else{if(!s.test(h=e+""))return a(g,h,b);g.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(l=h.indexOf("."))>-1&&(h=h.replace(".","")),(d=h.search(/e/i))>0?(l<0&&(l=d),l+=+h.slice(d+1),h=h.substring(0,d)):l<0&&(l=h.length)}else{if(v(t,2,L.length,"Base"),h=e+"",10==t)return H(g=new D(e instanceof D?e:h),T+g.e+1,N);if(b="number"==typeof e){if(0*e!=0)return a(g,h,b,t);if(g.s=1/e<0?(h=h.slice(1),-1):1,D.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(u+e);b=!1}else g.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(n=L.slice(0,t),l=d=0,m=h.length;d<m;d++)if(n.indexOf(c=h.charAt(d))<0){if("."==c){if(d>l){l=m;continue}}else if(!i&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){i=!0,d=-1,l=0;continue}return a(g,e+"",b,t)}(l=(h=r(h,t,10,g.s)).indexOf("."))>-1?h=h.replace(".",""):l=h.length}for(d=0;48===h.charCodeAt(d);d++);for(m=h.length;48===h.charCodeAt(--m););if(h=h.slice(d,++m)){if(m-=d,b&&D.DEBUG&&m>15&&(e>p||e!==o(e)))throw Error(u+g.s*e);if((l=l-d-1)>S)g.c=g.e=null;else if(l<A)g.c=[g.e=0];else{if(g.e=l,g.c=[],d=(l+1)%f,l<0&&(d+=f),d<m){for(d&&g.c.push(+h.slice(0,d)),m-=f;d<m;)g.c.push(+h.slice(d,d+=f));h=h.slice(d),d=f-h.length}else d-=m;for(;d--;h+="0");g.c.push(+h)}}else g.c=[g.e=0]}function R(e,t,n,r){var a,c,s,i,o;if(null==n?n=N:v(n,0,8),!e.c)return e.toString();if(a=e.c[0],s=e.e,null==t)o=j(e.c),o=1==r||2==r&&s<=C?w(o,s):k(o,s,"0");else if(c=(e=H(new D(e),t,n)).e,i=(o=j(e.c)).length,1==r||2==r&&(t<=c||c<=C)){for(;i<t;o+="0",i++);o=w(o,c)}else if(t-=s,o=k(o,c,"0"),c+1>i){if(--t>0)for(o+=".";t--;o+="0");}else if((t+=c-i)>0)for(c+1==i&&(o+=".");t--;o+="0");return e.s<0&&a?"-"+o:o}function F(e,t){var n,r,a=0;for(x(e[0])&&(e=e[0]),n=new D(e[0]);++a<e.length;){if(!(r=new D(e[a])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function U(e,t,n){for(var r=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,r++);return(n=r+n*f-1)>S?e.c=e.e=null:n<A?e.c=[e.e=0]:(e.e=n,e.c=t),e}function H(e,t,n,r){var a,c,s,l,u,p,m,h=e.c,g=b;if(h){e:{for(a=1,l=h[0];l>=10;l/=10,a++);if((c=t-a)<0)c+=f,s=t,m=(u=h[p=0])/g[a-s-1]%10|0;else if((p=i((c+1)/f))>=h.length){if(!r)break e;for(;h.length<=p;h.push(0));u=m=0,a=1,s=(c%=f)-f+1}else{for(u=l=h[p],a=1;l>=10;l/=10,a++);m=(s=(c%=f)-f+a)<0?0:u/g[a-s-1]%10|0}if(r=r||t<0||null!=h[p+1]||(s<0?u:u%g[a-s-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(c>0?s>0?u/g[a-s]:0:h[p-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,r?(t-=e.e+1,h[0]=g[(f-t%f)%f],e.e=-t||0):h[0]=e.e=0,e;if(0==c?(h.length=p,l=1,p--):(h.length=p+1,l=g[f-c],h[p]=s>0?o(u/g[a-s]%g[s])*l:0),r)for(;;){if(0==p){for(c=1,s=h[0];s>=10;s/=10,c++);for(s=h[0]+=l,l=1;s>=10;s/=10,l++);c!=l&&(e.e++,h[0]==d&&(h[0]=1));break}if(h[p]+=l,h[p]!=d)break;h[p--]=0,l=1}for(c=h.length;0===h[--c];h.pop());}e.e>S?e.c=e.e=null:e.e<A&&(e.c=[e.e=0])}return e}return D.clone=e,D.ROUND_UP=0,D.ROUND_DOWN=1,D.ROUND_CEIL=2,D.ROUND_FLOOR=3,D.ROUND_HALF_UP=4,D.ROUND_HALF_DOWN=5,D.ROUND_HALF_EVEN=6,D.ROUND_HALF_CEIL=7,D.ROUND_HALF_FLOOR=8,D.EUCLID=9,D.config=D.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,h,t),T=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),N=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(x(n=e[t])?(v(n[0],-h,0,t),v(n[1],0,h,t),C=n[0],P=n[1]):(v(n,-h,h,t),C=-(P=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if(x(n=e[t]))v(n[0],-h,-1,t),v(n[1],1,h,t),A=n[0],S=n[1];else{if(v(n,-h,h,t),!n)throw Error(l+t+" cannot be zero: "+n);A=-(S=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw E=!n,Error(l+"crypto unavailable");E=n}else E=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),M=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,h,t),I=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(l+t+" not an object: "+n);B=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|\.|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);L=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:N,EXPONENTIAL_AT:[C,P],RANGE:[A,S],CRYPTO:E,MODULO_MODE:M,POW_PRECISION:I,FORMAT:B,ALPHABET:L}},D.isBigNumber=function(e){return e instanceof D||e&&!0===e._isBigNumber||!1},D.maximum=D.max=function(){return F(arguments,c.lt)},D.minimum=D.min=function(){return F(arguments,c.gt)},D.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return o(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,a,c,s,u=0,d=[],p=new D(_);if(null==e?e=T:v(e,0,h),c=i(e/f),E)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(c*=2));u<c;)(s=131072*n[u]+(n[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[u]=r[0],n[u+1]=r[1]):(d.push(s%1e14),u+=2);u=c/2}else{if(!crypto.randomBytes)throw E=!1,Error(l+"crypto unavailable");for(n=crypto.randomBytes(c*=7);u<c;)(s=281474976710656*(31&n[u])+1099511627776*n[u+1]+4294967296*n[u+2]+16777216*n[u+3]+(n[u+4]<<16)+(n[u+5]<<8)+n[u+6])>=9e15?crypto.randomBytes(7).copy(n,u):(d.push(s%1e14),u+=7);u=c/7}if(!E)for(;u<c;)(s=t())<9e15&&(d[u++]=s%1e14);for(c=d[--u],e%=f,c&&e&&(s=b[f-e],d[u]=o(c/s)*s);0===d[u];d.pop(),u--);if(u<0)d=[a=0];else{for(a=-1;0===d[0];d.splice(0,1),a-=f);for(u=1,s=d[0];s>=10;s/=10,u++);u<f&&(a-=f-u)}return p.e=a,p.c=d,p}}(),r=function(){var e="0123456789";function t(e,t,n,r){for(var a,c,s=[0],i=0,o=e.length;i<o;){for(c=s.length;c--;s[c]*=t);for(s[0]+=r.indexOf(e.charAt(i++)),a=0;a<s.length;a++)s[a]>n-1&&(null==s[a+1]&&(s[a+1]=0),s[a+1]+=s[a]/n|0,s[a]%=n)}return s.reverse()}return function(r,a,c,s,i){var o,l,u,d,f,p,b,m,h=r.indexOf("."),g=T,y=N;for(h>=0&&(d=I,I=0,r=r.replace(".",""),p=(m=new D(a)).pow(r.length-h),I=d,m.c=t(k(j(p.c),p.e,"0"),10,c,e),m.e=m.c.length),u=d=(b=t(r,a,c,i?(o=L,e):(o=e,L))).length;0==b[--d];b.pop());if(!b[0])return o.charAt(0);if(h<0?--u:(p.c=b,p.e=u,p.s=s,b=(p=n(p,m,g,y,c)).c,f=p.r,u=p.e),h=b[l=u+g+1],d=c/2,f=f||l<0||null!=b[l+1],f=y<4?(null!=h||f)&&(0==y||y==(p.s<0?3:2)):h>d||h==d&&(4==y||f||6==y&&1&b[l-1]||y==(p.s<0?8:7)),l<1||!b[0])r=f?k(o.charAt(1),-g,o.charAt(0)):o.charAt(0);else{if(b.length=l,f)for(--c;++b[--l]>c;)b[l]=0,l||(++u,b=[1].concat(b));for(d=b.length;!b[--d];);for(h=0,r="";h<=d;r+=o.charAt(b[h++]));r=k(r,u,o.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,a,c,s,i=0,o=e.length,l=t%m,u=t/m|0;for(e=e.slice();o--;)i=((a=l*(c=e[o]%m)+(r=u*c+(s=e[o]/m|0)*l)%m*m+i)/n|0)+(r/m|0)+u*s,e[o]=a%n;return i&&(e=[i].concat(e)),e}function t(e,t,n,r){var a,c;if(n!=r)c=n>r?1:-1;else for(a=c=0;a<n;a++)if(e[a]!=t[a]){c=e[a]>t[a]?1:-1;break}return c}function n(e,t,n,r){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,a,c,s,i){var l,u,p,b,m,h,j,y,v,x,O,w,k,_,T,N,C,P=r.s==a.s?1:-1,A=r.c,S=a.c;if(!A||!A[0]||!S||!S[0])return new D(r.s&&a.s&&(A?!S||A[0]!=S[0]:S)?A&&0==A[0]||!S?0*P:P/0:NaN);for(v=(y=new D(P)).c=[],P=c+(u=r.e-a.e)+1,i||(i=d,u=g(r.e/f)-g(a.e/f),P=P/f|0),p=0;S[p]==(A[p]||0);p++);if(S[p]>(A[p]||0)&&u--,P<0)v.push(1),b=!0;else{for(_=A.length,N=S.length,p=0,P+=2,(m=o(i/(S[0]+1)))>1&&(S=e(S,m,i),A=e(A,m,i),N=S.length,_=A.length),k=N,O=(x=A.slice(0,N)).length;O<N;x[O++]=0);C=S.slice(),C=[0].concat(C),T=S[0],S[1]>=i/2&&T++;do{if(m=0,(l=t(S,x,N,O))<0){if(w=x[0],N!=O&&(w=w*i+(x[1]||0)),(m=o(w/T))>1)for(m>=i&&(m=i-1),j=(h=e(S,m,i)).length,O=x.length;1==t(h,x,j,O);)m--,n(h,N<j?C:S,j,i),j=h.length,l=1;else 0==m&&(l=m=1),j=(h=S.slice()).length;if(j<O&&(h=[0].concat(h)),n(x,h,O,i),O=x.length,-1==l)for(;t(S,x,N,O)<1;)m++,n(x,N<O?C:S,O,i),O=x.length}else 0===l&&(m++,x=[0]);v[p++]=m,x[0]?x[O++]=A[k]||0:(x=[A[k]],O=1)}while((k++<_||null!=x[0])&&P--);b=null!=x[0],v[0]||v.splice(0,1)}if(i==d){for(p=1,P=v[0];P>=10;P/=10,p++);H(y,c+(y.e=p+u*f-1)+1,s,b)}else y.e=u,y.r=+b;return y}}(),a=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(c,s,i,o){var u,d=i?s:s.replace(a,"");if(r.test(d))c.s=isNaN(d)?null:d<0?-1:1,c.c=c.e=null;else{if(!i&&(d=d.replace(e,(function(e,t,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,o&&o!=u?e:t})),o&&(u=o,d=d.replace(t,"$1").replace(n,"0.$1")),s!=d))return new D(d,u);if(D.DEBUG)throw Error(l+"Not a"+(o?" base "+o:"")+" number: "+s);c.c=c.e=c.s=null}}}(),c.absoluteValue=c.abs=function(){var e=new D(this);return e.s<0&&(e.s=1),e},c.comparedTo=function(e,t){return y(this,new D(e,t))},c.decimalPlaces=c.dp=function(e,t){var n,r,a,c=this;if(null!=e)return v(e,0,h),null==t?t=N:v(t,0,8),H(new D(c),e+c.e+1,t);if(!(n=c.c))return null;if(r=((a=n.length-1)-g(this.e/f))*f,a=n[a])for(;a%10==0;a/=10,r--);return r<0&&(r=0),r},c.dividedBy=c.div=function(e,t){return n(this,new D(e,t),T,N)},c.dividedToIntegerBy=c.idiv=function(e,t){return n(this,new D(e,t),0,1)},c.exponentiatedBy=c.pow=function(e,t){var n,r,a,c,s,u,d,p=this;if((e=new D(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+e);if(null!=t&&(t=new D(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new D(Math.pow(+p.valueOf(),c?2-O(e):+e)),t?d.mod(t):d;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new D(NaN);(r=!s&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return a=p.s<0&&O(e)?-0:0,p.e>-1&&(a=1/a),new D(s?1/a:a);I&&(a=i(I/f+2))}for(c?(n=new D(.5),u=O(e)):u=e%2,s&&(e.s=1),d=new D(_);;){if(u){if(!(d=d.times(p)).c)break;a?d.c.length>a&&(d.c.length=a):r&&(d=d.mod(t))}if(c){if(H(e=e.times(n),e.e+1,1),!e.c[0])break;c=e.e>14,u=O(e)}else{if(!(e=o(e/2)))break;u=e%2}p=p.times(p),a?p.c&&p.c.length>a&&(p.c.length=a):r&&(p=p.mod(t))}return r?d:(s&&(d=_.div(d)),t?d.mod(t):a?H(d,I,N,undefined):d)},c.integerValue=function(e){var t=new D(this);return null==e?e=N:v(e,0,8),H(t,t.e+1,e)},c.isEqualTo=c.eq=function(e,t){return 0===y(this,new D(e,t))},c.isFinite=function(){return!!this.c},c.isGreaterThan=c.gt=function(e,t){return y(this,new D(e,t))>0},c.isGreaterThanOrEqualTo=c.gte=function(e,t){return 1===(t=y(this,new D(e,t)))||0===t},c.isInteger=function(){return!!this.c&&g(this.e/f)>this.c.length-2},c.isLessThan=c.lt=function(e,t){return y(this,new D(e,t))<0},c.isLessThanOrEqualTo=c.lte=function(e,t){return-1===(t=y(this,new D(e,t)))||0===t},c.isNaN=function(){return!this.s},c.isNegative=function(){return this.s<0},c.isPositive=function(){return this.s>0},c.isZero=function(){return!!this.c&&0==this.c[0]},c.minus=function(e,t){var n,r,a,c,s=this,i=s.s;if(t=(e=new D(e,t)).s,!i||!t)return new D(NaN);if(i!=t)return e.s=-t,s.plus(e);var o=s.e/f,l=e.e/f,u=s.c,p=e.c;if(!o||!l){if(!u||!p)return u?(e.s=-t,e):new D(p?s:NaN);if(!u[0]||!p[0])return p[0]?(e.s=-t,e):new D(u[0]?s:3==N?-0:0)}if(o=g(o),l=g(l),u=u.slice(),i=o-l){for((c=i<0)?(i=-i,a=u):(l=o,a=p),a.reverse(),t=i;t--;a.push(0));a.reverse()}else for(r=(c=(i=u.length)<(t=p.length))?i:t,i=t=0;t<r;t++)if(u[t]!=p[t]){c=u[t]<p[t];break}if(c&&(a=u,u=p,p=a,e.s=-e.s),(t=(r=p.length)-(n=u.length))>0)for(;t--;u[n++]=0);for(t=d-1;r>i;){if(u[--r]<p[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=d}u[r]-=p[r]}for(;0==u[0];u.splice(0,1),--l);return u[0]?U(e,u,l):(e.s=3==N?-1:1,e.c=[e.e=0],e)},c.modulo=c.mod=function(e,t){var r,a,c=this;return e=new D(e,t),!c.c||!e.s||e.c&&!e.c[0]?new D(NaN):!e.c||c.c&&!c.c[0]?new D(c):(9==M?(a=e.s,e.s=1,r=n(c,e,0,3),e.s=a,r.s*=a):r=n(c,e,0,M),(e=c.minus(r.times(e))).c[0]||1!=M||(e.s=c.s),e)},c.multipliedBy=c.times=function(e,t){var n,r,a,c,s,i,o,l,u,p,b,h,j,y,v,x=this,O=x.c,w=(e=new D(e,t)).c;if(!O||!w||!O[0]||!w[0])return!x.s||!e.s||O&&!O[0]&&!w||w&&!w[0]&&!O?e.c=e.e=e.s=null:(e.s*=x.s,O&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=g(x.e/f)+g(e.e/f),e.s*=x.s,(o=O.length)<(p=w.length)&&(j=O,O=w,w=j,a=o,o=p,p=a),a=o+p,j=[];a--;j.push(0));for(y=d,v=m,a=p;--a>=0;){for(n=0,b=w[a]%v,h=w[a]/v|0,c=a+(s=o);c>a;)n=((l=b*(l=O[--s]%v)+(i=h*l+(u=O[s]/v|0)*b)%v*v+j[c]+n)/y|0)+(i/v|0)+h*u,j[c--]=l%y;j[c]=n}return n?++r:j.splice(0,1),U(e,j,r)},c.negated=function(){var e=new D(this);return e.s=-e.s||null,e},c.plus=function(e,t){var n,r=this,a=r.s;if(t=(e=new D(e,t)).s,!a||!t)return new D(NaN);if(a!=t)return e.s=-t,r.minus(e);var c=r.e/f,s=e.e/f,i=r.c,o=e.c;if(!c||!s){if(!i||!o)return new D(a/0);if(!i[0]||!o[0])return o[0]?e:new D(i[0]?r:0*a)}if(c=g(c),s=g(s),i=i.slice(),a=c-s){for(a>0?(s=c,n=o):(a=-a,n=i),n.reverse();a--;n.push(0));n.reverse()}for((a=i.length)-(t=o.length)<0&&(n=o,o=i,i=n,t=a),a=0;t;)a=(i[--t]=i[t]+o[t]+a)/d|0,i[t]=d===i[t]?0:i[t]%d;return a&&(i=[a].concat(i),++s),U(e,i,s)},c.precision=c.sd=function(e,t){var n,r,a,c=this;if(null!=e&&e!==!!e)return v(e,1,h),null==t?t=N:v(t,0,8),H(new D(c),e,t);if(!(n=c.c))return null;if(r=(a=n.length-1)*f+1,a=n[a]){for(;a%10==0;a/=10,r--);for(a=n[0];a>=10;a/=10,r++);}return e&&c.e+1>r&&(r=c.e+1),r},c.shiftedBy=function(e){return v(e,-9007199254740991,p),this.times("1e"+e)},c.squareRoot=c.sqrt=function(){var e,t,r,a,c,s=this,i=s.c,o=s.s,l=s.e,u=T+4,d=new D("0.5");if(1!==o||!i||!i[0])return new D(!o||o<0&&(!i||i[0])?NaN:i?s:1/0);if(0==(o=Math.sqrt(+s))||o==1/0?(((t=j(i)).length+l)%2==0&&(t+="0"),o=Math.sqrt(t),l=g((l+1)/2)-(l<0||l%2),r=new D(t=o==1/0?"1e"+l:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new D(o+""),r.c[0])for((o=(l=r.e)+u)<3&&(o=0);;)if(c=r,r=d.times(c.plus(n(s,c,u,1))),j(c.c).slice(0,o)===(t=j(r.c)).slice(0,o)){if(r.e<l&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(r,r.e+T+2,1),e=!r.times(r).eq(s));break}if(!a&&(H(c,c.e+T+2,0),c.times(c).eq(s))){r=c;break}u+=4,o+=4,a=1}return H(r,r.e+T+1,N,e)},c.toExponential=function(e,t){return null!=e&&(v(e,0,h),e++),R(this,e,t,1)},c.toFixed=function(e,t){return null!=e&&(v(e,0,h),e=e+this.e+1),R(this,e,t)},c.toFormat=function(e,t){var n=this.toFixed(e,t);if(this.c){var r,a=n.split("."),c=+B.groupSize,s=+B.secondaryGroupSize,i=B.groupSeparator,o=a[0],l=a[1],u=this.s<0,d=u?o.slice(1):o,f=d.length;if(s&&(r=c,c=s,s=r,f-=r),c>0&&f>0){for(r=f%c||c,o=d.substr(0,r);r<f;r+=c)o+=i+d.substr(r,c);s>0&&(o+=i+d.slice(r)),u&&(o="-"+o)}n=l?o+B.decimalSeparator+((s=+B.fractionGroupSize)?l.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+B.fractionGroupSeparator):l):o}return n},c.toFraction=function(e){var t,r,a,c,s,i,o,u,d,p,m,h,g=this,y=g.c;if(null!=e&&(!(u=new D(e)).isInteger()&&(u.c||1!==u.s)||u.lt(_)))throw Error(l+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+e);if(!y)return g.toString();for(r=new D(_),p=a=new D(_),c=d=new D(_),h=j(y),i=r.e=h.length-g.e-1,r.c[0]=b[(o=i%f)<0?f+o:o],e=!e||u.comparedTo(r)>0?i>0?r:p:u,o=S,S=1/0,u=new D(h),d.c[0]=0;m=n(u,r,0,1),1!=(s=a.plus(m.times(c))).comparedTo(e);)a=c,c=s,p=d.plus(m.times(s=p)),d=s,r=u.minus(m.times(s=r)),u=s;return s=n(e.minus(a),c,0,1),d=d.plus(s.times(p)),a=a.plus(s.times(c)),d.s=p.s=g.s,t=n(p,c,i*=2,N).minus(g).abs().comparedTo(n(d,a,i,N).minus(g).abs())<1?[p.toString(),c.toString()]:[d.toString(),a.toString()],S=o,t},c.toNumber=function(){return+this},c.toPrecision=function(e,t){return null!=e&&v(e,1,h),R(this,e,t,2)},c.toString=function(e){var t,n=this,a=n.s,c=n.e;return null===c?a?(t="Infinity",a<0&&(t="-"+t)):t="NaN":(t=j(n.c),null==e?t=c<=C||c>=P?w(t,c):k(t,c,"0"):(v(e,2,L.length,"Base"),t=r(k(t,c,"0"),10,e,a,!0)),a<0&&n.c[0]&&(t="-"+t)),t},c.valueOf=c.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=j(t.c),e=n<=C||n>=P?w(e,n):k(e,n,"0"),t.s<0?"-"+e:e)},c._isBigNumber=!0,null!=t&&D.set(t),D}(),c.default=c.BigNumber=c,void 0===(r=function(){return c}.call(t,n,t,e))||(e.exports=r)}()},586:function(e,t){},593:function(e,t){},594:function(e,t){},595:function(e,t){},596:function(e,t){},597:function(e,t){},599:function(e,t){},600:function(e,t){},601:function(e,t){},603:function(e,t){},610:function(e,t){},613:function(e,t){},628:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["slow","medium","fast","ape"]},662:function(e,t,n){"use strict";var r=n(562),a=n(21),c=n(146),s=new a.Interface(n(329)),i=c.a.quickAccManager;t.a=function(e,t,n,c){var o=new a.AbiCoder,l=c.signer,u=l.timelock,d=l.one,f=l.two,p=Object(a.keccak256)(o.encode(["tuple(uint, address, address)"],[[u,d,f]]));return new r.Bundle({identity:e,network:t,signer:n,txns:[[e,"0x00",s.encodeFunctionData("setAddrPrivilege",[i,p])]],recoveryMode:c})}},739:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(33),c=r(n(2)),s=n(54);n(87),n(178);var i=r(n(60));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(a.Router,{history:this.history,children:this.props.children})},t}(c.Component),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return c.createElement(a.Router,{history:this.history,children:this.props.children})},t}(c.Component),b=function(e,t){return"function"==typeof e?e(t):e},m=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},h=function(e){return e},g=c.forwardRef;void 0===g&&(g=h);var j=g((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,s=d(e,["innerRef","navigate","onClick"]),i=s.target,l=o({},s,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=h!==g&&t||n,c.createElement("a",l)})),y=g((function(e,t){var n=e.component,r=void 0===n?j:n,l=e.replace,u=e.to,f=e.innerRef,p=d(e,["component","replace","to","innerRef"]);return c.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=e.history,a=m(b(u,e.location),e.location),d=a?n.createHref(a):"",j=o({},p,{href:d,navigate:function(){var t=b(u,e.location),r=s.createPath(e.location)===s.createPath(m(t));(l||r?n.replace:n.push)(t)}});return h!==g?j.ref=t||f:j.innerRef=f,c.createElement(r,j)}))})),v=function(e){return e},x=c.forwardRef;void 0===x&&(x=v);var O=x((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,u=e.activeStyle,f=e.className,p=e.exact,h=e.isActive,g=e.location,j=e.sensitive,O=e.strict,w=e.style,k=e.to,_=e.innerRef,T=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.createElement(a.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=g||e.location,s=m(b(k,n),n),d=s.pathname,N=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=N?a.matchPath(n.pathname,{path:N,exact:p,sensitive:j,strict:O}):null,P=!!(h?h(C,n):C),A="function"==typeof f?f(P):f,S="function"==typeof w?w(P):w;P&&(A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(A,l),S=o({},S,u));var E=o({"aria-current":P&&r||null,className:A,style:S,to:s},T);return v!==x?E.ref=t||_:E.innerRef=_,c.createElement(y,E)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return a.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return a.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return a.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return a.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return a.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return a.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return a.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return a.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return a.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return a.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return a.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return a.withRouter}}),t.BrowserRouter=f,t.HashRouter=p,t.Link=y,t.NavLink=O},740:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(0);function a(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fillRule:"nonzero",d:"M16 13l6.964 4.062-2.973.85 2.125 3.681-1.732 1-2.125-3.68-2.223 2.15L16 13zm-2-7h2v2h5a1 1 0 0 1 1 1v4h-2v-3H10v10h4v2H9a1 1 0 0 1-1-1v-5H6v-2h2V9a1 1 0 0 1 1-1h5V6zM4 14v2H2v-2h2zm0-4v2H2v-2h2zm0-4v2H2V6h2zm0-4v2H2V2h2zm4 0v2H6V2h2zm4 0v2h-2V2h2zm4 0v2h-2V2h2z"}}]}]})(e)}function c(e){return Object(r.a)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.382 5.968A8.962 8.962 0 0 1 12 4c2.125 0 4.078.736 5.618 1.968l1.453-1.453 1.414 1.414-1.453 1.453a9 9 0 1 1-14.064 0L3.515 5.93l1.414-1.414 1.453 1.453zM12 20a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm1-8h3l-5 6.5V14H8l5-6.505V12zM8 1h8v2H8V1z"}}]}]})(e)}},741:function(e,t,n){"use strict";var r=n(3),a=n.n(r),c=n(12),s=n(209),i=n(208),o=n(662),l=n(4);t.a=function(e){var t=e.recoveryLock,n=e.showSendTxns,r=e.selectedAccount,u=e.selectedNetwork,d=t&&"requestedButNotInitiated"!==t.status,f=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:t=Object(o.a)(r.id,u.id,r.signer.preRecovery,{signer:r.signer,primaryKeyBackup:r.primaryKeyBackup}),n(t,!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=t?t.status:"requestedButNotInitiated",b=function(e){return e>86400?"".concat(Math.ceil(e/86400)," days"):"".concat(Math.ceil(e/1440)," hours")},m=d?"ready"===p?"success":"warning":"warning action";return Object(l.jsxs)("div",{className:"notification-banner notification-hollow ".concat(m),onClick:function(){return f()},children:["ready"===p?Object(l.jsx)(i.b,{}):Object(l.jsx)(s.b,{}),"requestedButNotInitiated"===p?Object(l.jsxs)(l.Fragment,{children:["Password reset requested but not initiated for ",u.name,". Click here to initiate it."]}):"initiationTxnPending"===p?Object(l.jsxs)(l.Fragment,{children:["Initiation transaction is currently pending. Once mined, you will need to wait ",b(t.timelock)," for the reset to be done on ",u.name,"."]}):"waitingTimelock"===p?Object(l.jsxs)(l.Fragment,{children:["Password reset on ",u.name," is currently pending. ",b(t.remaining)," remaining."]}):"ready"===p?Object(l.jsxs)(l.Fragment,{children:["Password reset on ",u.name," is now complete! You can start signing transactions with your new password!"]}):"failed"===p?Object(l.jsx)(l.Fragment,{children:"Something went wrong while resetting your password. Please contact support at help.ambire.com"}):null]})}},764:function(e,t,n){"use strict";var r=n(9),a=(n(527),n(110)),c=n(94),s="0x0000000000000000000000000000000000000000",i=n(58);function o(e){var t,n=e.networkId,r=e.account;return(null===(t=i.a.find((function(e){return e.id===n})))||void 0===t?void 0:t.relayerlessOnly)?Promise.resolve([]):r?Object(c.c)("".concat(a.h,"/protocols/tokens/balances?addresses[]=").concat(r,"&network=").concat(n,"&api_key=").concat(a.j,"&newBalances=true&available_on_coingecko=true")).then((function(e){var t=r.toLowerCase();if(!e[t])return[];if(!e[t].products[0])return[];var i=e[t].products[0].assets.map((function(e){return{address:e.tokens[0].address,symbol:e.tokens[0].symbol,decimals:e.tokens[0].decimals}})),o="".concat(a.h,"/protocols/tokens/balances?addresses[]=").concat(r,"&network=").concat(n,"&api_key=").concat(a.j,"&customTokens=").concat(JSON.stringify(i),"&available_on_coingecko=true");return Object(c.c)(o).then((function(e){var n,r;return(null===(n=e[t])||void 0===n||null===(r=n.products[0])||void 0===r?void 0:r.assets).map((function(e){return{name:e.tokens[0].symbol,icon:e.tokens[0].tokenImageUrl,address:e.tokens[0].address.toLowerCase(),native:e.tokens[0].address===s,decimals:e.tokens[0].decimals,availableBalance:e.tokens[0].balanceRaw,balanceUSD:e.tokens[0].balanceUSD,rate:e.tokens[0].balanceUSD/e.tokens[0].balanceRaw}}))})).catch((function(e){throw Error("Could not get customToken assets from velcro")}))})).catch((function(e){throw Error("Could not get assets from velcro")})):Promise.resolve([])}var l=n(37),u=n(86),d=n(2),f=n(3),p=n.n(f),b=n(12),m=n(7),h=n(15),g=n(569),j=n.n(g),y=n(218),v=n(526),x=n(48),O=n(56),w=n(101),k=n(21),_=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],T=[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}],N=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],C=[{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],P=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],A=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"}],S={1:[{address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",name:"USD Coin",version:"2",domainType:N,permitType:_},{address:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984",name:"Uniswap",domainType:P,permitType:_},{address:"0xde30da39c46104798bb5aa3fe8b9e0e1f348163f",name:"Gitcoin",domainType:P,permitType:_},{address:"0x6b175474e89094c44da98b954eedeac495271d0f",name:"Dai Stablecoin",version:"1",domainType:N,permitType:T},{address:"0x090185f2135308bad17527004364ebcc2d37e5f6",domainType:C,permitType:_},{address:"0x99d8a9c45b2eca8864373a26d1459e3dff1e17f3",domainType:C,permitType:_},{address:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",name:"Aave Token",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"AdEx Loyalty",address:"0xd9a4cb9dc9296e111c66dfacab8be034ee2e1c2c",version:"1",domainType:N,permitType:_},{name:"Aave Token",address:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",version:"1",domainType:N,permitType:_},{name:"Ambire Wallet Staking Token",address:"0x47cd7e91c3cbaaf266369fe8518345fc4fc12935",version:"1",domainType:N,permitType:_},{name:"ConstitutionDAO",address:"0x7a58c0be72be218b41c608b7fe7c5bb630736c71",version:"1",domainType:N,permitType:_},{name:"Aragon Network Token",address:"0xa117000000f279d81a1d3cc75430faa017fa5a2e",version:"1",domainType:N,permitType:_},{name:"AdEx Staking Token",address:"0xb6456b57f03352be48bf101b46c1752a0813491a",version:"1",domainType:N,permitType:_},{name:"dYdX",address:"0x92d6c1e31e14520e676a687f0a93788b716beff5",version:"1",domainType:N,permitType:_},{name:"Ethereum Name Service",address:"0xc18360217d8f7ab5e7c516566761ea12ce7f9d72",version:"1",domainType:N,permitType:_},{name:"Olympus",address:"0x383518188c0c6d7730d91b2c03a03c837814a899",version:"1",domainType:N,permitType:_},{name:"1INCH Token",address:"0x111111111117dc0aa78b770fa6a738034120c302",version:"1",domainType:N,permitType:_},{name:"IceToken",address:"0xf16e81dce15b08f326220742020379b855b87df9",version:"1",domainType:N,permitType:_},{name:"Fei USD",address:"0x956f47f50a910163d8bf957cf5846d573e7f87ca",version:"1",domainType:N,permitType:_},{name:"LUSD Stablecoin",address:"0x5f98805a4e8be255a32880fdec7f6728c6568ba0",version:"1",domainType:N,permitType:_},{name:"Balancer",address:"0xba100000625a3754423978a60c9317c58a424e3d",version:"1",domainType:N,permitType:_},{name:"Aave interest bearing AAVE",address:"0xffc97d72e13e01096502cb8eb52dee56f74dad7b",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniBATWETH",address:"0xa1b0edf4460cc4d8bfaa18ed871bff15e5b57eb4",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniWBTCWETH",address:"0xc58f53a8adff2fb4eb16ed56635772075e2ee123",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniUSDCWETH",address:"0x391e86e2c002c70dee155eaceb88f7a3c38f5976",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing WETH",address:"0x030ba81f1c18d280636f32af80b9aad02cf0854e",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing DAI",address:"0x028171bca77440897b824ca71d1c56cac55b68a3",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniWBTCUSDC",address:"0x2365a4890ed8965e564b7e2d27c38ba67fec4c6f",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniCRVWETH",address:"0x0ea20e7ffb006d4cfe84df2f72d8c7bd89247db0",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniUNIWETH",address:"0x3d26dcd840fcc8e4b2193ace8a092e4a65832f9f",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing GUSD",address:"0xd37ee7e4f452c6638c96536e68090de8cbcdb583",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniMKRWETH",address:"0x370adc71f67f581158dc56f539df5f399128ddf9",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing CRV",address:"0x8dae6cb04688c62d939ed9b68d32bc62e49970b1",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market USDT",address:"0x17a79792fe6fe5c95dfe95fe3fcee3caf4fe4cb7",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market UniSNXWETH",address:"0x38e491a71291cd43e8de63b7253e482622184894",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing YFI",address:"0x5165d24277cd063f5ac44efd447b27025e888f37",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing SNX",address:"0x35f6b052c598d933d69a4eec4d04c73a191fe6c2",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market USDC",address:"0xd24946147829deaa935be2ad85a3291dbf109c80",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market DAI",address:"0x79be75ffc64dd58e66787e4eae470c8a1fd08ba4",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing USDT",address:"0x3ed3b47dd13ec9a98b44e6204a523e766b225811",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing RAI",address:"0xc9bc48c72154ef3e5425641a3c747242112a46af",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing BAL",address:"0x272f97b7a56a387ae942350bbc7df5700f8a4576",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing BAT",address:"0x05ec93c0365baaeabf7aeffb0972ea7ecdd39cf1",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing USDC",address:"0xbcca60bb61934080951369a648fb03df4f96263c",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave AMM Market BptBALWETH",address:"0xd109b2a304587569c84308c55465cd9ff0317bfb",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing KNC",address:"0x39c6b3e42d6a679d7d776778fe880bc9487c2eda",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing MANA",address:"0xa685a61171bb30d4072b338c80cb7b2c865c873e",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing XSUSHI",address:"0xf256cc7847e919fac9b808cc216cac87ccf2f47a",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing TUSD",address:"0x101cc05f4a51c0319f570d5e146a8c625198e636",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"},{name:"Aave interest bearing ENJ",address:"0xac6df26a590f08dcc95d5a4705ae8abbc88509ef",version:"1",domainType:N,permitType:_,nonceFunction:"_nonces"}],137:[{name:"Governance OHM",address:"0xd8ca34fd379d9ca3c6ee3b3905678320f5b45195",version:"1",domainType:N,permitType:_},{name:"Frax",address:"0x45c32fa6df82ead1e2ef74d17b76547eddfaff89",version:"1",domainType:N,permitType:_},{name:"Aave Matic Market WBTC",address:"0x5c2ed810328349100a66b82b78a1791b101c9d61",version:"1",domainType:N,permitType:_},{name:"Aave Matic Market WETH",address:"0x28424507fefb6f7f8e9d3860f56504e4e5f5f390",version:"1",domainType:N,permitType:_},{name:"Aave Matic Market USDC",address:"0x1a13f4ca1d028320a707d99520abfefca3998b7f",version:"1",domainType:N,permitType:_},{name:"Aave Matic Market AAVE",address:"0x1d2a0e5ec8e5bbdca5cb219e649b565d8e5c3360",version:"1",domainType:N,permitType:_},{name:"Synapse",address:"0xf8f9efc0db77d8881500bb06ff5d6abc3070e695",version:"1",domainType:N,permitType:_},{name:"Aave Matic Market WMATIC",address:"0x8df3aad3a84da6b69a4da8aec3ea40d9091b2ac4",version:"1",domainType:N,permitType:_},{name:"Aave Matic Market USDT",address:"0x60d55f02a771d515e077c9c2403a1ef324885cec",version:"1",domainType:N,permitType:_},{name:"Klima DAO",address:"0x4e78011ce80ee02d2c3e649fb657e45898257815",version:"1",domainType:N,permitType:_},{name:"Quickswap",address:"0xb5c064f955d8e7f38fe0460c556a72987494ee17",domainType:P,permitType:_},{name:"Route",address:"0x16eccfdbb4ee1a85a33f3a9b21175cd7ae753db4",domainType:P,permitType:_},{address:"0x8f3cf7ad23cd3cadbd9735aff958023239c6a063",name:"(PoS) Dai Stablecoin",version:"1",salt:"0x0000000000000000000000000000000000000000000000000000000000000089",domainType:A,permitType:T,nonceFunction:"getNonce"},{address:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",name:"USD Coin (PoS)",version:"1",salt:"0x0000000000000000000000000000000000000000000000000000000000000089",domainType:A,permitType:_}],56:[{name:"1INCH Token",address:"0x111111111117dc0aa78b770fa6a738034120c302",version:"1",domainType:N,permitType:_},{name:"Frax",address:"0x90c97f71e18723b0cf0dfa30ee176ab653e89f40",version:"1",domainType:N,permitType:_},{name:"JADE",address:"0x7ad7242a99f21aa543f9650a56d141c57e4f6081",version:"1",domainType:N,permitType:_},{name:"Templar Token",address:"0x19e6bfc1a6e4b042fb20531244d47e252445df01",version:"1",domainType:N,permitType:_}]},E=new k.Interface(["function nonces(address owner) external view returns (uint256)","function _nonces(address owner) external view returns (uint256)","function getNonce(address owner) external view returns (uint256)","function name() external view returns (string)","function symbol() external view returns (string)","function decimals() external view returns (uint)","function balanceOf(address) external view returns (uint)","function permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)","function permit(address holder, address spender, uint256 nonce, uint256 expiry, bool allowed, uint8 v, bytes32 r, bytes32 s)","function transferFrom(address from, address to, uint256 amount) view returns (bool)","function transfer(address to, uint256 amount) view returns (bool)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint)"]),M=n(76),I=n(628),B=n(4),L=function(e){var t=e.signerAccount,n=e.identityAccount,a=e.network,i=e.setIsSelectionConfirmed,l=e.setStep,f=e.portfolio,g=e.relayerURL,k=e.setModalButtons,_=e.hideModal,T=e.setSelectedTokensWithAllowance,N=e.setGasSpeed,C=e.setStepperSteps,P=e.hidden,A=Object(d.useState)([]),S=Object(r.a)(A,2),L=S[0],D=S[1],R=Object(d.useState)([]),F=Object(r.a)(R,2),U=F[0],H=F[1],W=Object(d.useState)(null),z=Object(r.a)(W,2),V=z[0],G=z[1],q=Object(d.useState)(!0),K=Object(r.a)(q,2),J=K[0],Y=K[1],Q=Object(d.useState)([]),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(d.useState)(null),te=Object(r.a)(ee,2),ne=te[0],re=te[1],ae=Object(d.useState)(null),ce=Object(r.a)(ae,2),se=ce[0],ie=ce[1],oe=Object(d.useState)("fast"),le=Object(r.a)(oe,2),ue=le[0],de=le[1],fe=Object(d.useState)([]),pe=Object(r.a)(fe,2),be=pe[0],me=pe[1],he=Object(d.useState)(!1),ge=Object(r.a)(he,2),je=ge[0],ye=ge[1],ve=Object(d.useState)(!1),xe=Object(r.a)(ve,2),Oe=xe[0],we=xe[1],ke=Object(d.useState)(""),_e=Object(r.a)(ke,2),Te=_e[0],Ne=_e[1],Ce=Object(d.useState)(""),Pe=Object(r.a)(Ce,2),Ae=Pe[0],Se=Pe[1],Ee=Object(d.useRef)(),Me=Object(d.useRef)({}),Ie=Object(d.useCallback)((function(e,t){var n=U.findIndex((function(t){return t.address===e}));if(-1!==n){var r=t(U[n]);H([].concat(Object(h.a)(U.slice(0,n)),[r],Object(h.a)(U.slice(n+1))))}}),[U]),Be=Object(d.useCallback)((function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=L.sort((function(e,t){return e.name<t.name?-1:1})).findIndex((function(t){return t.address===e}));null===(t=Me.current[r])||void 0===t||t.focus(),Ie(e,(function(t){var r=Object(m.a)(Object(m.a)({},t),{},{selected:!t.selected});if(n){var a,c=null===(a=U.find((function(t){return t.address===e})))||void 0===a?void 0:a.humanAmount;if(n>c){var s,i=null===(s=L.find((function(t){return t.address===e})))||void 0===s?void 0:s.decimals;r.amount=new j.a(n).multipliedBy(Math.pow(10,i)).toFixed(0),r.humanAmount=n}}return r}))}),[L,Ie,U]),Le=Object(d.useCallback)((function(){var e=Object(M.a)(a.id);if(O.ethers.utils.isAddress(Te)){if(L.find((function(e){return e.address.toLowerCase()===Te.toLowerCase()})))return Ne(""),void ye(!1);var c=new w.Contract(Te,E,e),s=c.symbol().catch((function(){return Se("Could not get symbol of token "+Te)})),i=c.decimals().catch((function(){return Se("Could not get decimals of token "+Te)})),o=c.allowance(t,n).catch((function(){return Se("Could not get allowance for token "+Te)})),l=c.balanceOf(t).catch((function(){return Se("Could not get balance for token "+Te)}));we(!0),Se(null),Promise.all([s,i,o,l]).then((function(e){var t=Object(r.a)(e,4),n=t[0],a=t[1],c=t[2],s=t[3];we(!1),n&&a&&null!==c&&null!==s&&(Ne(""),ye(!1),D((function(e){return[].concat(Object(h.a)(e),[{address:Te,name:n,decimals:a.toNumber(),icon:null,rate:0,native:!1,availableBalance:s.toString(),balanceUSD:0}])})),H((function(e){return[].concat(Object(h.a)(e),[{address:Te,selectedAmount:0,amount:s.toString(),humanAmount:new j.a(s.toString()).div(Math.pow(10,a.toString())).toFixed(),selected:s.gt(0)}])})),me((function(e){return[].concat(Object(h.a)(e),[{address:Te,allowance:0}])})))})).catch((function(e){console.log("err getting custom token data",e),we(!1)}))}else Se("invalid custom token address")}),[a,Te,t,n,Se,L]),De=Object(d.useCallback)((function(e){var t;if(!se)return!1;var n=(null===(t=U.find((function(e){return e.address===s&&e.selected})))||void 0===t?void 0:t.amount)||0;return new j.a(se.gasFees[e].signerTransactionsCost).plus(n).lte(V.availableBalance||0)}),[U,se,V]),Re=Object(d.useCallback)((function(e){return new j.a(V.availableBalance).minus(se.gasFees[e].signerTransactionsCost)}),[se,V]),Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map((function(e){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.find((function(t){return t.address===e.address}))),n.find((function(t){return t.address===e.address})))}))},Ue=Object(d.useCallback)(Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Fe(L,U,be).filter((function(e){return e.selected}))).length){e.next=3;break}return e.abrupt("return");case 3:T(t.map((function(e){return Object(m.a)({},e)}))),i(!0),t.find((function(e){return e.address===s}))?l(1):l(2),N(ue);case 7:case"end":return e.stop()}}),e)}))),[L,U,be,T,i,l,N,ue]);Object(d.useEffect)((function(){je&&Ee.current.focus()}),[je]),Object(d.useEffect)((function(){G(L.find((function(e){return e.native})))}),[L]),Object(d.useEffect)((function(){Y(!0),D([]),o({networkId:a.id,account:t}).then((function(e){D(e.map((function(e){return Object(m.a)({},e)}))),H(e.map((function(e){return{address:e.address,selectedAmount:0,amount:e.availableBalance,humanAmount:new j.a(e.availableBalance).div(Math.pow(10,e.decimals)).toFixed(),selected:!1}}))),Y(!1)})).catch((function(e){console.error(e)}))}),[t,Y,D,a]),Object(d.useEffect)((function(){if(ne){var e=Fe(L,U,be),t=e.filter((function(e){return e.selected&&!e.native})).length,n=e.filter((function(e){return e.selected&&e.native})).length,r=t*(77e3+("arbitrum"===a.id?2e5:0))+25e3*n,c=ne.gasFeeAssets.native/Math.pow(10,18),s={};I.a.forEach((function(e){var t=ne.gasPrice[e]+(ne.gasPrice.maxPriorityFeePerGas?1*ne.gasPrice.maxPriorityFeePerGas[e]:0),n=r*t,a=n*c;s[e]={speed:e,signerTransactionsCost:n,signerTransactionsCostUSD:a,signerTransactionsConsumption:r}})),ie({regularTransfersCount:t,nativeTransfersCount:n,gasFees:s})}}),[L,U,f,ne,ue,be,a]),Object(d.useEffect)((function(){Object(c.c)("".concat(g,"/gasPrice/").concat(a.id)).then((function(e){re(e.data)})).catch((function(e){console.log("fetch error",e)}))}),[g,a]),Object(d.useEffect)((function(){var e=L.map((function(e){var r=Object(M.a)(a.id),c=new w.Contract(e.address,E,r);return e.native?{address:e.address,allowance:0}:c.allowance(t,n).then((function(t){return{address:e.address,allowance:t.toString()}})).catch((function(e){console.log("err getting allowance",e)}))}));Promise.all(e).then((function(e){me(e)}))}),[n,a,L,t]),Object(d.useEffect)((function(){P||k(Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(u.e,{clear:!0,small:!0,icon:Object(B.jsx)(x.f,{}),onClick:_,children:"Close"}),U.filter((function(e){return e.selected})).length>0&&De(ue)?Object(B.jsxs)(u.e,{small:!0,icon:Object(B.jsx)(x.F,{}),className:"primary",onClick:function(){return Ue()},children:["Move ",U.filter((function(e){return e.selected})).length," assets"]}):Object(B.jsx)(u.e,{small:!0,icon:Object(B.jsx)(x.F,{}),className:"primary disabled",children:"Move assets"})]}))}),[U,ue,k,_,Ue,P,De]);var He=Object(d.useCallback)((function(e,t){return Ie(t.address,(function(n){if(""===e)return Object(m.a)(Object(m.a)({},n),{},{humanAmount:0,amount:0});if(e.endsWith(".")&&2===e.split(".").length||2===e.split(".").length&&e.endsWith("0")&&new j.a(e).isEqualTo(n.humanAmount))return Object(m.a)(Object(m.a)({},n),{},{humanAmount:e});if(!isNaN(e)){var r=new j.a(e).toFixed(t.decimals);return 1===new j.a(r).multipliedBy(Math.pow(10,t.decimals)).comparedTo(t.availableBalance)&&(r=new j.a(t.availableBalance).dividedBy(Math.pow(10,t.decimals)).toFixed(t.decimals)),r=r.replace(/\.?0+$/g,""),Object(m.a)(Object(m.a)({},n),{},{humanAmount:r,amount:new j.a(r).multipliedBy(Math.pow(10,t.decimals)).toFixed(0)})}return n}))}),[Ie]);return Object(d.useEffect)((function(){setTimeout((function(){var e;null===(e=Me.current[0])||void 0===e||e.focus()}),250)}),[L]),Object(d.useEffect)((function(){var e=["Selection"],t=U.find((function(e){return e.address.toLowerCase()===s&&e.selected}));if(t&&e.push("Send ".concat(L.find((function(e){return e.address===t.address})).name)),U.find((function(e){return e.address.toLowerCase()!==s&&e.selected}))){var n=[];U.find((function(e){return e.selected&&e.address.toLowerCase()!==s}))&&n.push("Send"),e.push(n.join(" and ")+" tokens")}1===e.length&&e.push("Send tokens"),C(e)}),[L,U,C,a]),P?Object(B.jsx)(B.Fragment,{}):Object(B.jsx)("div",{children:J?Object(B.jsxs)("div",{className:"content-center",children:[Object(B.jsx)("h3",{className:"mb-6",children:"Loading assets..."}),Object(B.jsx)(y.a,{})]}):Object(B.jsx)("div",{children:0===L.length?Object(B.jsx)("div",{children:"No assets to migrate have been found"}):Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"mb-4",children:"Please select the assets you would like to migrate from your signer wallet to your Ambire wallet"}),Fe(L,U).sort((function(e,t){return e.name<t.name?-1:1})).map((function(e,t){return Object(B.jsxs)("div",{className:"migration-asset-row",children:[Object(B.jsx)("div",{className:"migration-asset-select".concat(e.selected?" checked":""),onClick:function(){return!1},children:Object(B.jsx)(u.g,{labelClassName:"checkbox-label",id:"check-".concat(e.address),label:Object(B.jsxs)("span",{className:"migration-asset-select-label",children:[Object(B.jsx)("span",{className:"migration-asset-select-icon",children:Z.includes(e.icon)||!e.icon?Object(B.jsx)(v.c,{size:18}):Object(B.jsx)("img",{src:e.icon,draggable:"false",alt:"Token Icon",onError:function(t){$((function(t){return[].concat(Object(h.a)(t),[e.icon])}))}})}),Object(B.jsx)("span",{className:"migration-asset-select-name",children:e.name})]}),checked:e.selected,onChange:function(){return Be(e.address)}})}),Object(B.jsxs)("div",{className:"migration-asset-usd",children:["$",(e.amount*e.rate).toFixed(2)]}),Object(B.jsx)("div",{className:"migration-asset-amount",children:Object(B.jsx)(u.x,{ref:function(e){return Me.current[t]=e},className:"migrate-amount-input",value:e.humanAmount,onChange:function(t){return He(t,e)}})})]},t)})),Object(B.jsx)("div",{className:"custom-token-row mt-2",children:je?Object(B.jsx)("div",{children:Oe?Object(B.jsxs)("div",{className:"custom-token-message-fetching",children:[Object(B.jsx)(u.m,{}),"Fetching custom token data..."]}):Object(B.jsxs)(B.Fragment,{children:[Ae&&Object(B.jsx)("div",{className:"error",children:Ae}),Object(B.jsx)("div",{children:Object(B.jsx)(u.x,{className:"custom-token-input",placeholder:"Enter custom token address",value:Te,onChange:function(e){Ne(e)},ref:Ee})}),Object(B.jsxs)("div",{className:"flex-row mt-2",children:[Object(B.jsx)(u.e,{small:!0,icon:Object(B.jsx)(x.c,{}),className:"buttonHollow danger align-right",onClick:function(){ye(!1),Ne(""),Se(null)},children:"Cancel"}),Object(B.jsx)(u.e,{small:!0,icon:Object(B.jsx)(x.t,{}),className:"primary ms-4",onClick:function(){return Le()},children:"Add"})]})]})}):Object(B.jsx)(u.e,{small:!0,icon:Object(B.jsx)(x.t,{}),className:"clear align-right",onClick:function(){return ye(!0)},children:"Add custom token"})}),!De(ue)&&U.filter((function(e){return e.selected})).length>0&&Object(B.jsxs)("div",{className:"notification-hollow warning mt-3 mb-3",children:["Your Signer Wallet will not have enough fees to pay for the migration. Please transfer a maximum of ",Object(B.jsxs)("span",{className:"max-native-suggestion",onClick:function(){return He(new j.a(Re(ue)).dividedBy(Math.pow(10,V.decimals)).toFixed(6,j.a.ROUND_DOWN),V)},children:[new j.a(Re(ue)).dividedBy(Math.pow(10,V.decimals)).toFixed(6,j.a.ROUND_DOWN)," ",a.nativeAssetSymbol]})]}),se&&Object(B.jsxs)("div",{className:"gas-estimation-block mt-4",children:[Object(B.jsx)("div",{className:"gas-estimation-block-title",children:"Estimated gas fee"}),Object(B.jsx)("ul",{className:"gas-estimation-selector",children:Object.values(se.gasFees).map((function(e,t){return Object(B.jsx)("li",{className:e.speed===ue?"selected":"",onClick:function(){return de(e.speed)},children:e.speed},t)}))}),Object(B.jsx)("table",{className:"gas-estimation-details",children:Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{children:[Object(B.jsxs)("td",{children:["Signer fee",(!!se.nativeTransfersCount||!!se.regularTransfersCount)&&Object(B.jsx)("span",{className:"migration-actions",children:Object(B.jsxs)("span",{children:[se.nativeTransfersCount+se.regularTransfersCount," transfers"]})})]}),Object(B.jsxs)("td",{className:"gas-estimation-details-amount",children:["$",se.gasFees[ue].signerTransactionsCostUSD.toFixed(2)]})]})})})]})]})})})},D=n(532),R=n(208),F=n(217),U=function(e){e.addRequest;var t=e.identityAccount,n=e.signer,a=e.signerExtra,i=e.network,o=e.selectedTokensWithAllowance,l=e.setError,u=e.hideModal,f=e.setStep,g=e.setModalButtons,y=e.relayerURL,w=e.gasSpeed,k=e.hidden,_=Object(d.useState)([]),T=Object(r.a)(_,2),N=T[0],C=T[1],P=Object(d.useState)({}),A=Object(r.a)(P,2),S=A[0],M=A[1],I=Object(d.useState)({}),L=Object(r.a)(I,2),U=L[0],H=L[1],W=Object(d.useState)(!1),z=Object(r.a)(W,2),V=z[0],G=z[1],q=Object(d.useState)(null),K=Object(r.a)(q,2),J=K[0],Y=K[1],Q=Object(d.useState)([]),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(d.useState)(null),te=Object(r.a)(ee,2),ne=te[0],re=te[1],ae=Object(d.useState)(null),ce=Object(r.a)(ae,2),se=ce[0],ie=ce[1],oe=Object(d.useState)(null),le=Object(r.a)(oe,2),ue=le[0],de=le[1],fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.filter((function(e){return e.address!==s})).map((function(e){var a=Object(m.a)(Object(m.a)({},e),{},{signing:null,signature:null,sent:!1,pending:!1,allowance:0});return t[e.address]&&(a.signing=t[e.address].signing,a.signature=t[e.address].signature),n[e.address]&&(a.sent=!0),r[e.address]&&(a.pending=!0),a}))},pe=Object(d.useCallback)(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===ue||void 0===ue?void 0:ue.isConnected(n.address,i.chainId).then((function(e){return re(e),!!e||(l(Object(B.jsxs)(B.Fragment,{children:["Please make sure your signer wallet is unlocked, and connected with ",Object(B.jsx)("b",{children:n.address})," to the correct chain: ",Object(B.jsx)("b",{children:i.id})]})),!1)})).catch((function(e){return l("Could not check signer connection status: "+e.error),!1})));case 1:case"end":return e.stop()}}),e)}))),[i,l,n,ue]),be=Object(d.useCallback)((function(){var e=0;return fe(o,N,S,[]).forEach((function(t){t.sent&&e++})),e}),[o,N,S]),me=Object(d.useCallback)(function(){var e=Object(b.a)(p.a.mark((function e(r){var a,c,s,l,u=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]&&u[1],e.next=3,pe();case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(c=o.find((function(e){return e.address===r}))){e.next=8;break}return e.abrupt("return");case 8:return s=E.encodeFunctionData("transfer",[t,new j.a(c.amount).toFixed(0)]),H((function(e){return e[r]=!0,Object(m.a)({},e)})),Y(null),l=ue.sendTransaction({from:n.address,to:r,data:s,gasLimit:8e4,gasPrice:se,chainId:i.chainId}).then(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C((function(e){return e[r]=Object(m.a)(Object(m.a)({},e[r]),{},{signing:!0}),Object(m.a)({},e)})),!a){e.next=7;break}return e.next=4,t.wait();case 4:M((function(e){return e[r]=!0,Object(m.a)({},e)})),H((function(e){return e[r]=!1,Object(m.a)({},e)})),C((function(e){return e[r]=Object(m.a)(Object(m.a)({},e[r]),{},{signing:!1}),Object(m.a)({},e)}));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return H((function(e){return e[r]=!1,Object(m.a)({},e)})),e.message.includes("underpriced")?Y("Transaction fee underpriced"):Y(e.message),G(!0),(!N[r]||N[r]&&!1!==N[r].signing)&&C((function(e){return e[r]=Object(m.a)(Object(m.a)({},e[r]),{},{signing:!1}),Object(m.a)({},e)})),!1})),e.abrupt("return",!!l);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ue,t,N,o,se,i,n,pe]),he=Object(d.useCallback)((function(){l(null),M([]),C([]),G(!1),f(0)}),[l,C,M,f]),ge=Object(d.useCallback)((function(){he(),u()}),[he,u]);return Object(d.useEffect)((function(){de(Object(D.a)({signer:n,signerExtra:a,chainId:i.chainId}))}),[i,n,a]),Object(d.useEffect)((function(){pe()}),[pe]),Object(d.useEffect)((function(){var e="".concat(y,"/gasPrice/").concat(i.id);Object(c.c)(e).then((function(e){var t=e.data.gasPrice[w];e.data.gasPrice.maxPriorityFeePerGas&&(t+=e.data.gasPrice.maxPriorityFeePerGas[w]),ie(t)})).catch((function(t){l(t.message+" "+e)}))}),[i,y,l,w]),Object(d.useEffect)((function(){if(ne&&Object.values(S).length&&se){var e=fe(o,N,S,[]).map((function(e){return{address:e.address,signed:e.signing}})).find((function(e){return null===e.signed}));e&&setTimeout((function(){me(e.address,!0)}),150)}}),[o,me,N,S,ne,se]),Object(d.useEffect)((function(){if(o.length){var e={};o.forEach((function(t){e[t.address]=!1})),M(e)}}),[o,M]),Object(d.useEffect)((function(){V&&l("Every asset below needs to be sent to complete the migration"+(J?" ("+J+")":""))}),[V,l,J]),Object(d.useEffect)((function(){be()===o.length&&l(null)}),[be,o,l]),Object(d.useEffect)((function(){k||g(Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(F.a,{className:"clear",icon:Object(B.jsx)(x.E,{}),onClick:function(){return he()},children:"Back"}),be()===fe(o).length?Object(B.jsx)(F.a,{className:"primary",icon:Object(B.jsx)(x.F,{}),onClick:function(){return u()},children:"Close"}):Object(B.jsx)(F.a,{className:"primary disabled",icon:Object(B.jsx)(x.F,{}),children:"Complete"})]}))}),[he,ge,be,o,g,k,u]),k?Object(B.jsx)(B.Fragment,{}):Object(B.jsxs)("div",{children:[be()<fe(o).length?Object(B.jsx)("div",{className:"notification-hollow mb-3 warning",children:"".concat(fe(o).length-be()," actions left to complete the migration")}):Object(B.jsx)("div",{className:"notification-hollow mb-3 success",children:"Your tokens were migrated. You can close this window"}),fe(o,N,S,U).map((function(e,t){return Object(B.jsxs)("div",{className:"migration-asset-row",children:[Object(B.jsx)("span",{className:"migration-asset-select-icon migration-asset-select-icon-permit",children:!e.icon||Z.includes(e.icon)?Object(B.jsx)(v.c,{size:18}):Object(B.jsx)("img",{src:e.icon,draggable:"false",alt:"Token Icon",onError:function(t){$((function(t){return[].concat(Object(h.a)(t),[e.icon])}))}})}),Object(B.jsx)("div",{className:"migration-asset-name",children:e.name}),Object(B.jsxs)("div",{className:"migration-asset-amount",children:[new j.a(e.amount).div(Math.pow(10,e.decimals)).toFixed()," ",Object(B.jsxs)("span",{className:"migration-asset-amount-usd",children:["($",(e.amount*e.rate).toFixed(2),")"]})]}),Object(B.jsx)("div",{className:"separator"}),Object(B.jsx)("div",{children:e.allowance&&O.ethers.BigNumber.from(e.allowance).gte(e.amount)||e.sent?Object(B.jsxs)("div",{className:"migration-permitted",onClick:function(){return me(e.address)},children:[Object(B.jsx)(R.b,{})," Sent"]}):Object(B.jsx)(B.Fragment,{children:e.pending||e.signing?Object(B.jsxs)("div",{className:"migration-permitted warning",children:[Object(B.jsx)(R.d,{})," Sending..."]}):Object(B.jsx)(F.a,{className:"button-small secondary",onClick:function(){return me(e.address)},children:"Send"})})})]},t)}))]})},H=function(e){var t,n=e.identityAccount,a=e.signer,s=e.signerExtra,i=e.network,o=e.nativeTokenData,l=e.setSelectedTokensWithAllowance,f=e.selectedTokensWithAllowance,m=e.setError,g=e.setStep,y=e.hasERC20Tokens,O=e.hideModal,w=e.relayerURL,k=e.setModalButtons,_=e.setBeforeCloseModalHandler,T=e.gasSpeed,N=e.hidden,C=Object(d.useState)([]),P=Object(r.a)(C,2),A=P[0],S=P[1],E=Object(d.useState)(!1),M=Object(r.a)(E,2),I=M[0],L=M[1],R=Object(d.useState)(!1),F=Object(r.a)(R,2),U=F[0],H=F[1],W=Object(d.useState)("0"),z=Object(r.a)(W,2),V=z[0],G=z[1],q=Object(d.useState)(null),K=Object(r.a)(q,2),J=K[0],Y=K[1],Q=Object(d.useState)("0"),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(d.useState)("0"),te=Object(r.a)(ee,2),ne=te[0],re=te[1],ae=Object(d.useState)(!1),ce=Object(r.a)(ae,2),se=ce[0],ie=ce[1],oe=Object(d.useState)(null),le=Object(r.a)(oe,2),ue=le[0],de=le[1];try{t=Object(D.a)({signer:a,signerExtra:s,chainId:i.chainId})}catch(je){m("No Web3 wallet connected. Please connect a Web3 wallet and reload the page")}var fe=Object(d.useCallback)((function(){g(0),l([])}),[l,g]),pe=Object(d.useCallback)((function(){g(2)}),[g]),be=function(e){return e.filter((function(e){return e.selected&&!e.permittable&&!e.native})).length},me=Object(d.useCallback)(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return m(null),H(!0),y||_(null),e.next=7,t.isConnected(a.address,i.chainId).catch((function(e){m("Could not check signer connection status: "+e.error)}));case 7:e.sent?t.sendTransaction({from:a.address,to:n,gasLimit:25e3+("arbitrum"===i.id?2e5:0),gasPrice:ue,value:"0x"+new j.a(V).toString(16),chainId:i.chainId}).then(function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.wait();case 2:return L(!0),H(!1),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return L(!1),H(!1),e&&e.message.includes("must provide an Ethereum address")?m("Make sure your wallet is unlocked and connected with ".concat(a.address,".")):m("Native asset migration failed: "+e.message),!1})):(m(Object(B.jsxs)(B.Fragment,{children:["Please make sure your signer wallet is unlocked, and connected with ",Object(B.jsx)("b",{children:a.address})," to the correct chain: ",Object(B.jsx)("b",{children:i.id})]})),H(!1));case 9:case"end":return e.stop()}}),e)}))),[t,m,y,i,_,a,n,V,ue]),he=Object(d.useCallback)((function(e){var t=new j.a(e).dividedBy(Math.pow(10,o.decimals)).toFixed(o.decimals).replace(/\.?0+$/g,"");re(t),G(e),ie(!0)}),[o]);Object(d.useEffect)((function(){var e="".concat(w,"/gasPrice/").concat(i.id);Object(c.c)(e).then((function(e){var t=e.data.gasPrice[T];e.data.gasPrice.maxPriorityFeePerGas&&(t+=e.data.gasPrice.maxPriorityFeePerGas[T]);var n=25e3*t,r=be(f)*t*77e3;$(new j.a((n+r).toFixed(0)).toFixed(0));var a=new j.a(o.availableBalance).minus(n+r);Y(a.gte(0)?a.toFixed(0):0),de(t)})).catch((function(t){m(t.message+" "+e)}))}),[$,Y,o,i,w,m,T,f]);var ge=Object(d.useCallback)((function(e){if(ie(!0),""===e)return re(0),void G(0);if(e.endsWith(".")&&2===e.split(".").length||2===e.split(".").length&&e.endsWith("0"))re(e);else if(!isNaN(e)){var t=new j.a(e).toFixed(o.decimals);1===new j.a(t).multipliedBy(Math.pow(10,o.decimals)).comparedTo(o.availableBalance)&&(t=new j.a(o.availableBalance).dividedBy(Math.pow(10,o.decimals)).toFixed(o.decimals)),t=t.replace(/\.?0+$/g,""),re(t),G(new j.a(t).multipliedBy(Math.pow(10,o.decimals)).toFixed(0))}}),[o]);return Object(d.useEffect)((function(){var e=new j.a(o.amount).dividedBy(Math.pow(10,o.decimals)).toFixed(o.decimals).replace(/\.?0+$/g,"");re(e),G(o.amount)}),[o]),Object(d.useEffect)((function(){if(!N){k(function(){var e=[];return I?y?e.push(Object(B.jsx)(u.e,{icon:Object(B.jsx)(x.F,{}),className:"primary full",onClick:function(){return pe()},children:"Next"})):e.push(Object(B.jsx)(u.e,{icon:Object(B.jsx)(x.f,{}),className:"primary full",onClick:function(){return O()},children:"Close"})):t?(e.push(Object(B.jsx)(u.e,{icon:Object(B.jsx)(x.E,{}),className:"clear",onClick:function(){return fe()},children:"Back"},"0")),U?e.push(Object(B.jsxs)(u.e,{icon:Object(B.jsx)(u.m,{}),className:"primary disabled",children:["Moving ",o.name,"..."]},"1")):e.push(Object(B.jsxs)(u.e,{icon:Object(B.jsx)(x.F,{}),className:"primary",onClick:function(){return me()},children:["Move ",o.name]},"1"))):e.push(Object(B.jsx)(u.e,{icon:Object(B.jsx)(x.f,{}),className:"clear full",onClick:function(){return O()},children:"Close"})),e}())}}),[I,y,k,O,U,fe,me,pe,t,o,N]),N?Object(B.jsx)(B.Fragment,{}):Object(B.jsx)("div",{children:t&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"migration-native-title mb-4",children:[Object(B.jsx)("div",{className:"migration-native-asset-icon",children:A.includes(o.icon)?Object(B.jsx)(v.c,{size:64}):Object(B.jsx)("img",{src:o.icon,draggable:"false",alt:"Token Icon",onError:function(e){S((function(e){return[].concat(Object(h.a)(e),[o.icon])}))}})}),Object(B.jsxs)("div",{className:"migration-native-title-asset-name",children:["Migrate native asset ",Object(B.jsx)("b",{children:o.name})]})]}),I?Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:"small-asset-notification success",children:["Migration of your ",o.name," was successful"]})}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"migration-native-row",children:[Object(B.jsx)("span",{className:"migration-native-row-key",children:"Current balance"}),Object(B.jsxs)("span",{className:"migration-native-selection",onClick:function(){return he(o.availableBalance)},children:[new j.a(o.availableBalance).dividedBy(Math.pow(10,o.decimals)).toFixed(6)," ",o.name]})]}),Object(B.jsxs)("div",{className:"migration-native-row",children:[Object(B.jsx)("span",{className:"migration-native-row-key",children:"Amount to migrate"}),se||null!==J&&V>J?Object(B.jsx)(u.x,{className:"migrate-amount-input",value:ne,onChange:ge}):Object(B.jsx)("div",{children:ne})]}),null!==J&&new j.a(V).gt(J)&&Object(B.jsxs)("div",{className:"notification-hollow warning mt-4",children:[Object(B.jsxs)("div",{children:[be(f)?"Signer transactions cost":"Current Transaction cost",": ~",new j.a(Z).dividedBy(Math.pow(10,o.decimals)).toFixed(6)," ",o.name,Object(B.jsxs)("span",{className:"migration-native-usd",children:[" ($",new j.a(Z).multipliedBy(o.rate).toFixed(2),")"]})]}),Object(B.jsx)("div",{className:"mt-3 mb-3",children:J>0?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("span",{children:"You should migrate up to "}),Object(B.jsxs)("span",{className:"migration-native-selection",onClick:function(){return he(J)},children:[new j.a(J).dividedBy(Math.pow(10,o.decimals)).toFixed(6)," ",o.name]}),Object(B.jsx)("span",{children:" because will you need funds to pay the transaction costs."})]}):Object(B.jsx)("span",{children:"You do not have enough funds to pay the transaction fee."})})]}),U&&y&&Object(B.jsx)("div",{className:"notification-hollow info mt-4",children:"Waiting for the transaction to be mined before continuing migration..."}),U&&!y&&Object(B.jsxs)("div",{className:"notification-hollow info mt-4",children:["The amount of ",o.name," will be updated in your wallet, once the transaction has been confirmed and mined. If you confirmed your transaction, you can already close this window"]})]})]})})},W=function(e){var t=e.addRequest,n=e.selectedAccount,a=e.accounts,c=e.network,s=e.hideModal,i=e.relayerURL,o=e.portfolio,l=e.setModalButtons,f=e.setModalSteps,p=e.setBeforeCloseModalHandler,b=Object(d.useState)([]),m=Object(r.a)(b,2),h=m[0],g=m[1],j=Object(d.useState)(null),y=Object(r.a)(j,2),v=y[0],O=y[1],w=Object(d.useState)(!1),k=Object(r.a)(w,2),_=k[0],T=k[1],N=Object(d.useState)(!1),C=Object(r.a)(N,2),P=C[0],A=C[1],E=Object(d.useState)(0),M=Object(r.a)(E,2),I=M[0],D=M[1],R=Object(d.useState)([]),F=Object(r.a)(R,2),W=F[0],z=F[1],V=Object(d.useState)(null),G=Object(r.a)(V,2),q=G[0],K=G[1],J=Object(d.useState)(!1),Y=Object(r.a)(J,2),Q=Y[0],X=Y[1],Z=Object(d.useState)(null),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=a.find((function(e){return e.id===n}));return Object(d.useEffect)((function(){0===I&&(K(null),g([]),O(null),T(!1),te(null),p(null))}),[c,n,I,p]),Object(d.useEffect)((function(){P&&(A(!1),O(h.find((function(e){return e.native}))),T(!!h.find((function(e){return!e.native}))))}),[P,ne,h,c,n]),Object(d.useEffect)((function(){var e=I;I>0&&!v&&(e-=1),f({steps:W.map((function(e){return{name:e}})),stepIndex:e})}),[v,f,I,W]),Object(d.useEffect)((function(){var e=function(){X(!0),l([Object(B.jsx)(u.e,{icon:Object(B.jsx)(x.E,{}),className:"clear buttonComponent",onClick:function(){return X(!1)},children:"Back"},"0"),Object(B.jsx)(u.e,{icon:Object(B.jsx)(x.f,{}),className:"danger buttonComponent",onClick:function(){return s()},children:"Close"},"1")])};I>0&&p((function(){return e}))}),[I,p,l,s,Q]),Object(B.jsxs)("div",{children:[q&&Object(B.jsx)("div",{className:"mt-3 error",children:q}),Object(B.jsxs)("div",{id:"assets-migration",children:[Q&&Object(B.jsx)("div",{className:"notification-hollow warning mt-4",children:"By closing this window, your progress will be lost. Are you sure you want to close this window?"}),0===I&&Object(B.jsx)(L,{hidden:Q,signerAccount:ne.signer.address,identityAccount:n,network:c,PERMITTABLE_COINS:S,setIsSelectionConfirmed:A,setStep:D,portfolio:o,relayerURL:i,setModalButtons:l,hideModal:s,setError:K,setSelectedTokensWithAllowance:g,setStepperSteps:z,setGasSpeed:te}),1===I&&v&&Object(B.jsx)(H,{hidden:Q,signer:ne.signer,identityAccount:n,network:c,addRequest:t,signerExtra:ne.signerExtra,setError:K,nativeTokenData:v,hideModal:s,setStep:D,relayerURL:i,hasERC20Tokens:_,setModalButtons:l,setSelectedTokensWithAllowance:g,selectedTokensWithAllowance:h,setBeforeCloseModalHandler:p,gasSpeed:ee}),2===I&&Object(B.jsx)(U,{hidden:Q,signer:ne.signer,identityAccount:n,network:c,addRequest:t,PERMITTABLE_COINS:S,signerExtra:ne.signerExtra,setError:K,selectedTokensWithAllowance:h,hideModal:s,setStep:D,setModalButtons:l,gasSpeed:ee,relayerURL:i})]})]})},z=function(e){var t=e.addRequest,n=e.selectedAccount,a=e.selectedNetwork,c=e.accounts,s=e.relayerURL,i=e.portfolio,o=Object(l.f)(),f=o.hideModal,p=o.setBeforeCloseModalHandler,b=Object(d.useState)(null),m=Object(r.a)(b,2),h=m[0],g=m[1],j=Object(d.useState)({steps:[],stepIndex:0}),y=Object(r.a)(j,2),v=y[0],x=y[1];return Object(B.jsx)(u.n,{id:"asset-migration-modal",title:Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{children:"Migrate Assets"}),Object(B.jsx)(u.w,{steps:v.steps,currentStep:v.stepIndex,noLabels:!1})]}),buttons:h,children:Object(B.jsx)(W,{addRequest:t,selectedAccount:n,network:a,accounts:c,hideModal:f,relayerURL:s,portfolio:i,setModalButtons:g,setModalSteps:x,setBeforeCloseModalHandler:p})})};t.a=function(e){var t,n,a=e.addRequest,c=e.selectedAccount,s=e.accounts,i=e.selectedNetwork,u=e.relayerURL,f=e.portfolio,p=e.closeable,b=void 0!==p&&p,m=e.linkMargin,h=void 0!==m&&m,g=e.useStorage,j=Object(d.useState)(!1),y=Object(r.a)(j,2),v=y[0],x=y[1],O=Object(d.useState)(!1),w=Object(r.a)(O,2),k=w[0],_=w[1],T=Object(l.f)().showModal,N=g({key:"migrationSeen",defaultValue:{}}),C=Object(r.a)(N,2),P=C[0],A=C[1],S=s.find((function(e){return e.id===c}));try{n=Object(D.a)({signer:S.signer,signerExtra:S.signerExtra,chainId:i.chainId})}catch(M){}var E=Object(d.useCallback)((function(){_(!0),A((function(e){return e[c+i.id]=!0,e}))}),[c,i,A]);Object(d.useEffect)((function(){var e=!1;x(!1);return function(t){var n=t.networkId,r=t.identityAccount,a=t.accounts.find((function(e){return e.id===r}));a.signer&&o({networkId:n,account:a.signer.address}).then((function(t){if(!e){var n=t.filter((function(e){return e.balanceUSD>.001}));x(!!n.length)}})).catch((function(e){console.error(e)}))}({identityAccount:c,networkId:i.id,accounts:s}),function(){return e=!0}}),[c,i,s]),Object(d.useEffect)((function(){_(b&&!!P[c+i.id])}),[b,c,i,P]);return(null===(t=n)||void 0===t?void 0:t.provider)||S.signerExtra&&["ledger","trezor","Lattice"].includes(S.signerExtra.type)?v&&!k&&Object(B.jsxs)("div",{className:"migration-banner",children:[Object(B.jsxs)("div",{className:"migration-banner-message",children:[Object(B.jsx)("div",{children:"We detected that your signer account has tokens that can be transferred to your Ambire account. We recommend doing this in order to maximize your $WALLET rewards."}),Object(B.jsx)("span",{className:"link"+(h?" link-margin":""),onClick:function(){T(Object(B.jsx)(z,{addRequest:a,selectedNetwork:i,selectedAccount:c,accounts:s,relayerURL:u,portfolio:f}))},children:"Click here to migrate those tokens"})]}),b&&Object(B.jsx)("div",{className:"migration-banner-close",children:Object(B.jsx)(R.g,{onClick:function(){return E()}})})]}):Object(B.jsx)(B.Fragment,{})}}}]);
//# sourceMappingURL=11.a74196c6.chunk.js.map